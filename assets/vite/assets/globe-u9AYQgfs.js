import{y as Ib,r as Yr,j as tr}from"./index-BjMWrbR9.js";import{a as r9,V as Ce,G as d1,M as y0,S as p2,b as N1,F as wf,c as u0,d as H1,T as Sf,e as e5,B as pr,f as xi,g as Cr,I as pi,h as Ef,i as fi,j as Ob,k as iu,l as kb,m as i9,n as s9,o as D0,H as xn,N as cs,p as jt,P as Ub,q as o9,r as qt,R as wi,L as L1,s as wo,t as Er,u as Gb,v as En,w as hs,D as Pr,W as Oo,x as Vb,y as zb,z as Hb,A as a9,E as jb,J as $b,K as Wb,O as Qb,Q as Yb,U as Xb,X as Kb,Y as Zb,Z as Jb,_ as u4,$ as ko,a0 as W0,a1 as es,a2 as B3,a3 as So,a4 as su,a5 as P1,a6 as A9,a7 as e2,a8 as eT,a9 as tT,aa as Br,ab as Un,ac as mi,ad as M0,ae as gi,af as yi,ag as Eo,ah as M1,ai as oi,aj as Nf,ak as S6,al as nT,am as l9,an as u9,ao as E6,ap as c9,aq as Ps,ar as A2,as as rT,at as Mf,au as hn,av as t5,aw as h9,ax as n5,ay as t2,az as N6,aA as Uo,aB as Rf,aC as wr,aD as Cf,aE as Pf,aF as Bf,aG as Df,aH as Ff,aI as f9,aJ as Lf,aK as qf,aL as ou,aM as mt,aN as l2,aO as or,aP as If,aQ as Of,aR as kf,aS as Uf,aT as Gf,aU as Vf,aV as zf,aW as Hf,aX as jf,aY as $f,aZ as Wf,a_ as Qf,a$ as iT,b0 as sT,b1 as oT,b2 as Go,b3 as ea,b4 as ta,b5 as na,b6 as Yf,b7 as Xf,b8 as Kf,b9 as Zf,ba as Jf,bb as ed,bc as td,bd as nd,be as aT,bf as AT,bg as rd,bh as No,bi as Mo,bj as ts,bk as lT,bl as d9,bm as p9,bn as m9,bo as Yi,bp as g9,bq as y9,br as _8,bs as D3,bt as F3,bu as L3,bv as au,bw as Au,bx as lu,by as uu,bz as cu,bA as M6,bB as R6,bC as C6,bD as P6,bE as B6,bF as D6,bG as F6,bH as L6,bI as q6,bJ as I6,bK as O6,bL as k6,bM as U6,bN as G6,bO as V6,bP as z6,bQ as x8,bR as uT,bS as hu,bT as fu,bU as du,bV as cT,bW as id,bX as hT,bY as fT,bZ as dT,b_ as pT,b$ as mT,c0 as r5,c1 as gT,c2 as sd,c3 as yT,c4 as vT,c5 as od,c6 as ad,c7 as v9,c8 as ra,c9 as ia,ca as _T,cb as _9,cc as pu,cd as xT,ce as bT,cf as sa,cg as TT,ch as wT,ci as ST,cj as ET,ck as NT,cl as MT,cm as RT,cn as CT,co as PT,cp as BT,cq as DT,cr as FT,cs as LT,ct as qT,cu as IT,cv as OT,cw as kT,cx as UT,cy as GT,cz as VT,cA as zT,cB as HT,cC as jT,cD as Ad,cE as $T,cF as WT,cG as QT,cH as YT,cI as i5,cJ as XT,cK as x9,cL as KT,cM as ZT,cN as JT,cO as ew,cP as tw,cQ as b9,cR as s5,cS as q3,cT as ld,cU as I3,cV as nw,cW as rw,cX as iw,cY as T9,cZ as sw,c_ as ow,c$ as aw,d0 as ud,d1 as cd,d2 as Aw,d3 as js,d4 as mu,d5 as F2,d6 as L2,d7 as lw,d8 as T1,d9 as uw,da as cw,db as hw}from"./ContactUs-BY8bYjZp.js";function H6(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var fw=typeof global=="object"&&global&&global.Object===Object&&global,dw=typeof self=="object"&&self&&self.Object===Object&&self,hd=fw||dw||Function("return this")(),b8=function(){return hd.Date.now()},pw=/\s/;function mw(r){for(var e=r.length;e--&&pw.test(r.charAt(e)););return e}var gw=/^\s+/;function yw(r){return r&&r.slice(0,mw(r)+1).replace(gw,"")}var oa=hd.Symbol,fd=Object.prototype,vw=fd.hasOwnProperty,_w=fd.toString,$s=oa?oa.toStringTag:void 0;function xw(r){var e=vw.call(r,$s),t=r[$s];try{r[$s]=void 0;var n=!0}catch{}var i=_w.call(r);return n&&(e?r[$s]=t:delete r[$s]),i}var bw=Object.prototype,Tw=bw.toString;function ww(r){return Tw.call(r)}var Sw="[object Null]",Ew="[object Undefined]",gu=oa?oa.toStringTag:void 0;function Nw(r){return r==null?r===void 0?Ew:Sw:gu&&gu in Object(r)?xw(r):ww(r)}function Mw(r){return r!=null&&typeof r=="object"}var Rw="[object Symbol]";function Cw(r){return typeof r=="symbol"||Mw(r)&&Nw(r)==Rw}var yu=NaN,Pw=/^[-+]0x[0-9a-f]+$/i,Bw=/^0b[01]+$/i,Dw=/^0o[0-7]+$/i,Fw=parseInt;function vu(r){if(typeof r=="number")return r;if(Cw(r))return yu;if(H6(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=H6(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=yw(r);var t=Bw.test(r);return t||Dw.test(r)?Fw(r.slice(2),t?2:8):Pw.test(r)?yu:+r}var Lw="Expected a function",qw=Math.max,Iw=Math.min;function Ow(r,e,t){var n,i,s,o,u,h,d=0,m=!1,y=!1,x=!0;if(typeof r!="function")throw new TypeError(Lw);e=vu(e)||0,H6(t)&&(m=!!t.leading,y="maxWait"in t,s=y?qw(vu(t.maxWait)||0,e):s,x="trailing"in t?!!t.trailing:x);function b(I){var U=n,V=i;return n=i=void 0,d=I,o=r.apply(V,U),o}function w(I){return d=I,u=setTimeout(C,e),m?b(I):o}function S(I){var U=I-h,V=I-d,H=e-U;return y?Iw(H,s-V):H}function N(I){var U=I-h,V=I-d;return h===void 0||U>=e||U<0||y&&V>=s}function C(){var I=b8();if(N(I))return P(I);u=setTimeout(C,S(I))}function P(I){return u=void 0,x&&n?b(I):(n=i=void 0,o)}function B(){u!==void 0&&clearTimeout(u),d=0,n=h=i=u=void 0}function q(){return u===void 0?o:P(b8())}function D(){var I=b8(),U=N(I);if(n=arguments,i=this,h=I,U){if(u===void 0)return w(h);if(y)return clearTimeout(u),u=setTimeout(C,e),b(h)}return u===void 0&&(u=setTimeout(C,e)),o}return D.cancel=B,D.flush=q,D}function _u(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function kw(r){if(Array.isArray(r))return r}function Uw(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Gw(r,e,t){return Object.defineProperty(r,"prototype",{writable:!1}),r}function Vw(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,o,u=[],h=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(h=(n=s.call(t)).done)&&(u.push(n.value),u.length!==e);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hw(r,e){return kw(r)||Vw(r,e)||jw(r,e)||zw()}function jw(r,e){if(r){if(typeof r=="string")return _u(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_u(r,e):void 0}}var $w=Gw(function r(e,t){var n=t.default,i=n===void 0?null:n,s=t.triggerUpdate,o=s===void 0?!0:s,u=t.onChange,h=u===void 0?function(d,m){}:u;Uw(this,r),this.name=e,this.defaultVal=i,this.triggerUpdate=o,this.onChange=h});function an(r){var e=r.stateInit,t=e===void 0?function(){return{}}:e,n=r.props,i=n===void 0?{}:n,s=r.methods,o=s===void 0?{}:s,u=r.aliases,h=u===void 0?{}:u,d=r.init,m=d===void 0?function(){}:d,y=r.update,x=y===void 0?function(){}:y,b=Object.keys(i).map(function(w){return new $w(w,i[w])});return function w(){for(var S=arguments.length,N=new Array(S),C=0;C<S;C++)N[C]=arguments[C];var P=!!(this instanceof w&&this.constructor),B=P?N.shift():void 0,q=N[0],D=q===void 0?{}:q,I=Object.assign({},t instanceof Function?t(D):t,{initialised:!1}),U={};function V(k){return H(k,D),z(),V}var H=function(Y,X){m.call(V,Y,I,X),I.initialised=!0},z=Ow(function(){I.initialised&&(x.call(V,I,U),U={})},1);return b.forEach(function(k){V[k.name]=Y(k);function Y(X){var J=X.name,K=X.triggerUpdate,oe=K===void 0?!1:K,ce=X.onChange,de=ce===void 0?function(Be,Oe){}:ce,ve=X.defaultVal,Me=ve===void 0?null:ve;return function(Be){var Oe=I[J];if(!arguments.length)return Oe;var ke=Be===void 0?Me:Be;return I[J]=ke,de.call(V,ke,I,Oe),!U.hasOwnProperty(J)&&(U[J]=Oe),oe&&z(),V}}}),Object.keys(o).forEach(function(k){V[k]=function(){for(var Y,X=arguments.length,J=new Array(X),K=0;K<X;K++)J[K]=arguments[K];return(Y=o[k]).call.apply(Y,[V,I].concat(J))}}),Object.entries(h).forEach(function(k){var Y=Hw(k,2),X=Y[0],J=Y[1];return V[X]=V[J]}),V.resetProps=function(){return b.forEach(function(k){V[k.name](k.defaultVal)}),V},V.resetProps(),I._rerender=z,P&&B&&V(B),V}}var Q0=Object.freeze({Linear:Object.freeze({None:function(r){return r},In:function(r){return r},Out:function(r){return r},InOut:function(r){return r}}),Quadratic:Object.freeze({In:function(r){return r*r},Out:function(r){return r*(2-r)},InOut:function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)}}),Cubic:Object.freeze({In:function(r){return r*r*r},Out:function(r){return--r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)}}),Quartic:Object.freeze({In:function(r){return r*r*r*r},Out:function(r){return 1- --r*r*r*r},InOut:function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)}}),Quintic:Object.freeze({In:function(r){return r*r*r*r*r},Out:function(r){return--r*r*r*r*r+1},InOut:function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)}}),Sinusoidal:Object.freeze({In:function(r){return 1-Math.sin((1-r)*Math.PI/2)},Out:function(r){return Math.sin(r*Math.PI/2)},InOut:function(r){return .5*(1-Math.sin(Math.PI*(.5-r)))}}),Exponential:Object.freeze({In:function(r){return r===0?0:Math.pow(1024,r-1)},Out:function(r){return r===1?1:1-Math.pow(2,-10*r)},InOut:function(r){return r===0?0:r===1?1:(r*=2)<1?.5*Math.pow(1024,r-1):.5*(-Math.pow(2,-10*(r-1))+2)}}),Circular:Object.freeze({In:function(r){return 1-Math.sqrt(1-r*r)},Out:function(r){return Math.sqrt(1- --r*r)},InOut:function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)}}),Elastic:Object.freeze({In:function(r){return r===0?0:r===1?1:-Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI)},Out:function(r){return r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r-.1)*5*Math.PI)+1},InOut:function(r){return r===0?0:r===1?1:(r*=2,r<1?-.5*Math.pow(2,10*(r-1))*Math.sin((r-1.1)*5*Math.PI):.5*Math.pow(2,-10*(r-1))*Math.sin((r-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(r){var e=1.70158;return r===1?1:r*r*((e+1)*r-e)},Out:function(r){var e=1.70158;return r===0?0:--r*r*((e+1)*r+e)+1},InOut:function(r){var e=2.5949095;return(r*=2)<1?.5*(r*r*((e+1)*r-e)):.5*((r-=2)*r*((e+1)*r+e)+2)}}),Bounce:Object.freeze({In:function(r){return 1-Q0.Bounce.Out(1-r)},Out:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},InOut:function(r){return r<.5?Q0.Bounce.In(r*2)*.5:Q0.Bounce.Out(r*2-1)*.5+.5}}),generatePow:function(r){return r===void 0&&(r=4),r=r<Number.EPSILON?Number.EPSILON:r,r=r>1e4?1e4:r,{In:function(e){return Math.pow(e,r)},Out:function(e){return 1-Math.pow(1-e,r)},InOut:function(e){return e<.5?Math.pow(e*2,r)/2:(1-Math.pow(2-e*2,r))/2+.5}}}}),mo=function(){return performance.now()},dd=function(){function r(){this._tweens={},this._tweensAddedDuringUpdate={}}return r.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},r.prototype.removeAll=function(){this._tweens={}},r.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},r.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},r.prototype.update=function(e,t){e===void 0&&(e=mo()),t===void 0&&(t=!1);var n=Object.keys(this._tweens);if(n.length===0)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var s=this._tweens[n[i]],o=!t;s&&s.update(e,o)===!1&&!t&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},r}(),j6={Linear:function(r,e){var t=r.length-1,n=t*e,i=Math.floor(n),s=j6.Utils.Linear;return e<0?s(r[0],r[1],n):e>1?s(r[t],r[t-1],t-n):s(r[i],r[i+1>t?t:i+1],n-i)},Utils:{Linear:function(r,e,t){return(e-r)*t+r}}},pd=function(){function r(){}return r.nextId=function(){return r._nextId++},r._nextId=0,r}(),$6=new dd,Gn=function(){function r(e,t){t===void 0&&(t=$6),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Q0.Linear.None,this._interpolationFunction=j6.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=pd.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return r.prototype.getId=function(){return this._id},r.prototype.isPlaying=function(){return this._isPlaying},r.prototype.isPaused=function(){return this._isPaused},r.prototype.getDuration=function(){return this._duration},r.prototype.to=function(e,t){if(t===void 0&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},r.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},r.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},r.prototype.start=function(e,t){if(e===void 0&&(e=mo()),t===void 0&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var s in this._valuesEnd)i[s]=this._valuesEnd[s];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},r.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},r.prototype._setupProperties=function(e,t,n,i,s){for(var o in n){var u=e[o],h=Array.isArray(u),d=h?"array":typeof u,m=!h&&Array.isArray(n[o]);if(!(d==="undefined"||d==="function")){if(m){var y=n[o];if(y.length===0)continue;for(var x=[u],b=0,w=y.length;b<w;b+=1){var S=this._handleRelativeValue(u,y[b]);if(isNaN(S)){m=!1,console.warn("Found invalid interpolation list. Skipping.");break}x.push(S)}m&&(n[o]=x)}if((d==="object"||h)&&u&&!m){t[o]=h?[]:{};var N=u;for(var C in N)t[o][C]=N[C];i[o]=h?[]:{};var y=n[o];if(!this._isDynamic){var P={};for(var C in y)P[C]=y[C];n[o]=y=P}this._setupProperties(N,t[o],y,i[o],s)}else(typeof t[o]>"u"||s)&&(t[o]=u),h||(t[o]*=1),m?i[o]=n[o].slice().reverse():i[o]=t[o]||0}}},r.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},r.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},r.prototype.pause=function(e){return e===void 0&&(e=mo()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},r.prototype.resume=function(e){return e===void 0&&(e=mo()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},r.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},r.prototype.group=function(e){return e===void 0&&(e=$6),this._group=e,this},r.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},r.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},r.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},r.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},r.prototype.easing=function(e){return e===void 0&&(e=Q0.Linear.None),this._easingFunction=e,this},r.prototype.interpolation=function(e){return e===void 0&&(e=j6.Linear),this._interpolationFunction=e,this},r.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},r.prototype.onStart=function(e){return this._onStartCallback=e,this},r.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},r.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},r.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},r.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},r.prototype.onStop=function(e){return this._onStopCallback=e,this},r.prototype.update=function(e,t){var n=this,i;if(e===void 0&&(e=mo()),t===void 0&&(t=!0),this._isPaused)return!0;var s,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var u=e-this._startTime,h=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),d=this._duration+this._repeat*h,m=function(){if(n._duration===0||u>d)return 1;var N=Math.trunc(u/h),C=u-N*h,P=Math.min(C/n._duration,1);return P===0&&u===n._duration?1:P},y=m(),x=this._easingFunction(y);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,x),this._onUpdateCallback&&this._onUpdateCallback(this._object,y),this._duration===0||u>=this._duration)if(this._repeat>0){var b=Math.min(Math.trunc((u-this._duration)/h)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=b);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=h*b,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var w=0,S=this._chainedTweens.length;w<S;w++)this._chainedTweens[w].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},r.prototype._updateProperties=function(e,t,n,i){for(var s in n)if(t[s]!==void 0){var o=t[s]||0,u=n[s],h=Array.isArray(e[s]),d=Array.isArray(u),m=!h&&d;m?e[s]=this._interpolationFunction(u,i):typeof u=="object"&&u?this._updateProperties(e[s],o,u,i):(u=this._handleRelativeValue(o,u),typeof u=="number"&&(e[s]=o+(u-o)*i))}},r.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},r.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];typeof n=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(n):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},r}();pd.nextId;var o1=$6;o1.getAll.bind(o1);o1.removeAll.bind(o1);o1.add.bind(o1);o1.remove.bind(o1);o1.update.bind(o1);function Ww(r){const e=+this._x.call(null,r),t=+this._y.call(null,r),n=+this._z.call(null,r);return md(this.cover(e,t,n),e,t,n,r)}function md(r,e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n))return r;var s,o=r._root,u={data:i},h=r._x0,d=r._y0,m=r._z0,y=r._x1,x=r._y1,b=r._z1,w,S,N,C,P,B,q,D,I,U,V;if(!o)return r._root=u,r;for(;o.length;)if((q=e>=(w=(h+y)/2))?h=w:y=w,(D=t>=(S=(d+x)/2))?d=S:x=S,(I=n>=(N=(m+b)/2))?m=N:b=N,s=o,!(o=o[U=I<<2|D<<1|q]))return s[U]=u,r;if(C=+r._x.call(null,o.data),P=+r._y.call(null,o.data),B=+r._z.call(null,o.data),e===C&&t===P&&n===B)return u.next=o,s?s[U]=u:r._root=u,r;do s=s?s[U]=new Array(8):r._root=new Array(8),(q=e>=(w=(h+y)/2))?h=w:y=w,(D=t>=(S=(d+x)/2))?d=S:x=S,(I=n>=(N=(m+b)/2))?m=N:b=N;while((U=I<<2|D<<1|q)===(V=(B>=N)<<2|(P>=S)<<1|C>=w));return s[V]=o,s[U]=u,r}function Qw(r){Array.isArray(r)||(r=Array.from(r));const e=r.length,t=new Float64Array(e),n=new Float64Array(e),i=new Float64Array(e);let s=1/0,o=1/0,u=1/0,h=-1/0,d=-1/0,m=-1/0;for(let y=0,x,b,w,S;y<e;++y)isNaN(b=+this._x.call(null,x=r[y]))||isNaN(w=+this._y.call(null,x))||isNaN(S=+this._z.call(null,x))||(t[y]=b,n[y]=w,i[y]=S,b<s&&(s=b),b>h&&(h=b),w<o&&(o=w),w>d&&(d=w),S<u&&(u=S),S>m&&(m=S));if(s>h||o>d||u>m)return this;this.cover(s,o,u).cover(h,d,m);for(let y=0;y<e;++y)md(this,t[y],n[y],i[y],r[y]);return this}function Yw(r,e,t){if(isNaN(r=+r)||isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,s=this._z0,o=this._x1,u=this._y1,h=this._z1;if(isNaN(n))o=(n=Math.floor(r))+1,u=(i=Math.floor(e))+1,h=(s=Math.floor(t))+1;else{for(var d=o-n||1,m=this._root,y,x;n>r||r>=o||i>e||e>=u||s>t||t>=h;)switch(x=(t<s)<<2|(e<i)<<1|r<n,y=new Array(8),y[x]=m,m=y,d*=2,x){case 0:o=n+d,u=i+d,h=s+d;break;case 1:n=o-d,u=i+d,h=s+d;break;case 2:o=n+d,i=u-d,h=s+d;break;case 3:n=o-d,i=u-d,h=s+d;break;case 4:o=n+d,u=i+d,s=h-d;break;case 5:n=o-d,u=i+d,s=h-d;break;case 6:o=n+d,i=u-d,s=h-d;break;case 7:n=o-d,i=u-d,s=h-d;break}this._root&&this._root.length&&(this._root=m)}return this._x0=n,this._y0=i,this._z0=s,this._x1=o,this._y1=u,this._z1=h,this}function Xw(){var r=[];return this.visit(function(e){if(!e.length)do r.push(e.data);while(e=e.next)}),r}function Kw(r){return arguments.length?this.cover(+r[0][0],+r[0][1],+r[0][2]).cover(+r[1][0],+r[1][1],+r[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Kt(r,e,t,n,i,s,o){this.node=r,this.x0=e,this.y0=t,this.z0=n,this.x1=i,this.y1=s,this.z1=o}function Zw(r,e,t,n){var i,s=this._x0,o=this._y0,u=this._z0,h,d,m,y,x,b,w=this._x1,S=this._y1,N=this._z1,C=[],P=this._root,B,q;for(P&&C.push(new Kt(P,s,o,u,w,S,N)),n==null?n=1/0:(s=r-n,o=e-n,u=t-n,w=r+n,S=e+n,N=t+n,n*=n);B=C.pop();)if(!(!(P=B.node)||(h=B.x0)>w||(d=B.y0)>S||(m=B.z0)>N||(y=B.x1)<s||(x=B.y1)<o||(b=B.z1)<u))if(P.length){var D=(h+y)/2,I=(d+x)/2,U=(m+b)/2;C.push(new Kt(P[7],D,I,U,y,x,b),new Kt(P[6],h,I,U,D,x,b),new Kt(P[5],D,d,U,y,I,b),new Kt(P[4],h,d,U,D,I,b),new Kt(P[3],D,I,m,y,x,U),new Kt(P[2],h,I,m,D,x,U),new Kt(P[1],D,d,m,y,I,U),new Kt(P[0],h,d,m,D,I,U)),(q=(t>=U)<<2|(e>=I)<<1|r>=D)&&(B=C[C.length-1],C[C.length-1]=C[C.length-1-q],C[C.length-1-q]=B)}else{var V=r-+this._x.call(null,P.data),H=e-+this._y.call(null,P.data),z=t-+this._z.call(null,P.data),k=V*V+H*H+z*z;if(k<n){var Y=Math.sqrt(n=k);s=r-Y,o=e-Y,u=t-Y,w=r+Y,S=e+Y,N=t+Y,i=P.data}}return i}const Jw=(r,e,t,n,i,s)=>Math.sqrt((r-n)**2+(e-i)**2+(t-s)**2);function eS(r,e,t,n){const i=[],s=r-n,o=e-n,u=t-n,h=r+n,d=e+n,m=t+n;return this.visit((y,x,b,w,S,N,C)=>{if(!y.length)do{const P=y.data;Jw(r,e,t,this._x(P),this._y(P),this._z(P))<=n&&i.push(P)}while(y=y.next);return x>h||b>d||w>m||S<s||N<o||C<u}),i}function tS(r){if(isNaN(x=+this._x.call(null,r))||isNaN(b=+this._y.call(null,r))||isNaN(w=+this._z.call(null,r)))return this;var e,t=this._root,n,i,s,o=this._x0,u=this._y0,h=this._z0,d=this._x1,m=this._y1,y=this._z1,x,b,w,S,N,C,P,B,q,D,I;if(!t)return this;if(t.length)for(;;){if((P=x>=(S=(o+d)/2))?o=S:d=S,(B=b>=(N=(u+m)/2))?u=N:m=N,(q=w>=(C=(h+y)/2))?h=C:y=C,e=t,!(t=t[D=q<<2|B<<1|P]))return this;if(!t.length)break;(e[D+1&7]||e[D+2&7]||e[D+3&7]||e[D+4&7]||e[D+5&7]||e[D+6&7]||e[D+7&7])&&(n=e,I=D)}for(;t.data!==r;)if(i=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,i?(s?i.next=s:delete i.next,this):e?(s?e[D]=s:delete e[D],(t=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&t===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!t.length&&(n?n[I]=t:this._root=t),this):(this._root=s,this)}function nS(r){for(var e=0,t=r.length;e<t;++e)this.remove(r[e]);return this}function rS(){return this._root}function iS(){var r=0;return this.visit(function(e){if(!e.length)do++r;while(e=e.next)}),r}function sS(r){var e=[],t,n=this._root,i,s,o,u,h,d,m;for(n&&e.push(new Kt(n,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=e.pop();)if(!r(n=t.node,s=t.x0,o=t.y0,u=t.z0,h=t.x1,d=t.y1,m=t.z1)&&n.length){var y=(s+h)/2,x=(o+d)/2,b=(u+m)/2;(i=n[7])&&e.push(new Kt(i,y,x,b,h,d,m)),(i=n[6])&&e.push(new Kt(i,s,x,b,y,d,m)),(i=n[5])&&e.push(new Kt(i,y,o,b,h,x,m)),(i=n[4])&&e.push(new Kt(i,s,o,b,y,x,m)),(i=n[3])&&e.push(new Kt(i,y,x,u,h,d,b)),(i=n[2])&&e.push(new Kt(i,s,x,u,y,d,b)),(i=n[1])&&e.push(new Kt(i,y,o,u,h,x,b)),(i=n[0])&&e.push(new Kt(i,s,o,u,y,x,b))}return this}function oS(r){var e=[],t=[],n;for(this._root&&e.push(new Kt(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=e.pop();){var i=n.node;if(i.length){var s,o=n.x0,u=n.y0,h=n.z0,d=n.x1,m=n.y1,y=n.z1,x=(o+d)/2,b=(u+m)/2,w=(h+y)/2;(s=i[0])&&e.push(new Kt(s,o,u,h,x,b,w)),(s=i[1])&&e.push(new Kt(s,x,u,h,d,b,w)),(s=i[2])&&e.push(new Kt(s,o,b,h,x,m,w)),(s=i[3])&&e.push(new Kt(s,x,b,h,d,m,w)),(s=i[4])&&e.push(new Kt(s,o,u,w,x,b,y)),(s=i[5])&&e.push(new Kt(s,x,u,w,d,b,y)),(s=i[6])&&e.push(new Kt(s,o,b,w,x,m,y)),(s=i[7])&&e.push(new Kt(s,x,b,w,d,m,y))}t.push(n)}for(;n=t.pop();)r(n.node,n.x0,n.y0,n.z0,n.x1,n.y1,n.z1);return this}function aS(r){return r[0]}function AS(r){return arguments.length?(this._x=r,this):this._x}function lS(r){return r[1]}function uS(r){return arguments.length?(this._y=r,this):this._y}function cS(r){return r[2]}function hS(r){return arguments.length?(this._z=r,this):this._z}function gd(r,e,t,n){var i=new w9(e??aS,t??lS,n??cS,NaN,NaN,NaN,NaN,NaN,NaN);return r==null?i:i.addAll(r)}function w9(r,e,t,n,i,s,o,u,h){this._x=r,this._y=e,this._z=t,this._x0=n,this._y0=i,this._z0=s,this._x1=o,this._y1=u,this._z1=h,this._root=void 0}function xu(r){for(var e={data:r.data},t=e;r=r.next;)t=t.next={data:r.data};return e}var Y0=gd.prototype=w9.prototype;Y0.copy=function(){var r=new w9(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,t,n;if(!e)return r;if(!e.length)return r._root=xu(e),r;for(t=[{source:e,target:r._root=new Array(8)}];e=t.pop();)for(var i=0;i<8;++i)(n=e.source[i])&&(n.length?t.push({source:n,target:e.target[i]=new Array(8)}):e.target[i]=xu(n));return r};Y0.add=Ww;Y0.addAll=Qw;Y0.cover=Yw;Y0.data=Xw;Y0.extent=Kw;Y0.find=Zw;Y0.findAllWithinRadius=eS;Y0.remove=tS;Y0.removeAll=nS;Y0.root=rS;Y0.size=iS;Y0.visit=sS;Y0.visitAfter=oS;Y0.x=AS;Y0.y=uS;Y0.z=hS;function O3(r,e){return r==null||e==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function fS(r,e){return r==null||e==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function yd(r){let e,t,n;r.length!==2?(e=O3,t=(u,h)=>O3(r(u),h),n=(u,h)=>r(u)-h):(e=r===O3||r===fS?r:dS,t=r,n=r);function i(u,h,d=0,m=u.length){if(d<m){if(e(h,h)!==0)return m;do{const y=d+m>>>1;t(u[y],h)<0?d=y+1:m=y}while(d<m)}return d}function s(u,h,d=0,m=u.length){if(d<m){if(e(h,h)!==0)return m;do{const y=d+m>>>1;t(u[y],h)<=0?d=y+1:m=y}while(d<m)}return d}function o(u,h,d=0,m=u.length){const y=i(u,h,d,m-1);return y>d&&n(u[y-1],h)>-n(u[y],h)?y-1:y}return{left:i,center:o,right:s}}function dS(){return 0}function pS(r){return r===null?NaN:+r}const mS=yd(O3),vd=mS.right;yd(pS).center;function aa(r,e){let t,n;if(e===void 0)for(const i of r)i!=null&&(t===void 0?i>=i&&(t=n=i):(t>i&&(t=i),n<i&&(n=i)));else{let i=-1;for(let s of r)(s=e(s,++i,r))!=null&&(t===void 0?s>=s&&(t=n=s):(t>s&&(t=s),n<s&&(n=s)))}return[t,n]}class B1{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const s=t[i],o=e+s,u=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);u&&(t[n++]=u),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t=this._n,n,i,s,o=0;if(t>0){for(o=e[--t];t>0&&(n=o,i=e[--t],o=n+i,s=i-(o-n),!s););t>0&&(s<0&&e[t-1]<0||s>0&&e[t-1]>0)&&(i=s*2,n=o+i,i==n-o&&(o=n))}return o}}const gS=Math.sqrt(50),yS=Math.sqrt(10),vS=Math.sqrt(2);function Aa(r,e,t){const n=(e-r)/Math.max(0,t),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=gS?10:s>=yS?5:s>=vS?2:1;let u,h,d;return i<0?(d=Math.pow(10,-i)/o,u=Math.round(r*d),h=Math.round(e*d),u/d<r&&++u,h/d>e&&--h,d=-d):(d=Math.pow(10,i)*o,u=Math.round(r/d),h=Math.round(e/d),u*d<r&&++u,h*d>e&&--h),h<u&&.5<=t&&t<2?Aa(r,e,t*2):[u,h,d]}function _S(r,e,t){if(e=+e,r=+r,t=+t,!(t>0))return[];if(r===e)return[r];const n=e<r,[i,s,o]=n?Aa(e,r,t):Aa(r,e,t);if(!(s>=i))return[];const u=s-i+1,h=new Array(u);if(n)if(o<0)for(let d=0;d<u;++d)h[d]=(s-d)/-o;else for(let d=0;d<u;++d)h[d]=(s-d)*o;else if(o<0)for(let d=0;d<u;++d)h[d]=(i+d)/-o;else for(let d=0;d<u;++d)h[d]=(i+d)*o;return h}function W6(r,e,t){return e=+e,r=+r,t=+t,Aa(r,e,t)[2]}function xS(r,e,t){e=+e,r=+r,t=+t;const n=e<r,i=n?W6(e,r,t):W6(r,e,t);return(n?-1:1)*(i<0?1/-i:i)}function bS(r,e){let t;for(const n of r)n!=null&&(t<n||t===void 0&&n>=n)&&(t=n);return t}function TS(r,e){let t=0,n=0;if(e===void 0)for(let i of r)i!=null&&(i=+i)>=i&&(++t,n+=i);else{let i=-1;for(let s of r)(s=e(s,++i,r))!=null&&(s=+s)>=s&&(++t,n+=s)}if(t)return n/t}function*wS(r){for(const e of r)yield*e}function Vo(r){return Array.from(wS(r))}function ns(r,e,t){r=+r,e=+e,t=(i=arguments.length)<2?(e=r,r=0,1):i<3?1:+t;for(var n=-1,i=Math.max(0,Math.ceil((e-r)/t))|0,s=new Array(i);++n<i;)s[n]=r+n*t;return s}function SS(r,e){let t=0;for(let n of r)(n=+n)&&(t+=n);return t}function _d(r,e){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(e).domain(r);break}return this}function S9(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function xd(r,e){var t=Object.create(r.prototype);for(var n in e)t[n]=e[n];return t}function c4(){}var zo=.7,la=1/zo,fs="\\s*([+-]?\\d+)\\s*",Ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",e1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ES=/^#([0-9a-f]{3,8})$/,NS=new RegExp(`^rgb\\(${fs},${fs},${fs}\\)$`),MS=new RegExp(`^rgb\\(${e1},${e1},${e1}\\)$`),RS=new RegExp(`^rgba\\(${fs},${fs},${fs},${Ho}\\)$`),CS=new RegExp(`^rgba\\(${e1},${e1},${e1},${Ho}\\)$`),PS=new RegExp(`^hsl\\(${Ho},${e1},${e1}\\)$`),BS=new RegExp(`^hsla\\(${Ho},${e1},${e1},${Ho}\\)$`),bu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S9(c4,u2,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:Tu,formatHex:Tu,formatHex8:DS,formatHsl:FS,formatRgb:wu,toString:wu});function Tu(){return this.rgb().formatHex()}function DS(){return this.rgb().formatHex8()}function FS(){return bd(this).formatHsl()}function wu(){return this.rgb().formatRgb()}function u2(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=ES.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?Su(e):t===3?new bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?V4(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?V4(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=NS.exec(r))?new bn(e[1],e[2],e[3],1):(e=MS.exec(r))?new bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RS.exec(r))?V4(e[1],e[2],e[3],e[4]):(e=CS.exec(r))?V4(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PS.exec(r))?Mu(e[1],e[2]/100,e[3]/100,1):(e=BS.exec(r))?Mu(e[1],e[2]/100,e[3]/100,e[4]):bu.hasOwnProperty(r)?Su(bu[r]):r==="transparent"?new bn(NaN,NaN,NaN,0):null}function Su(r){return new bn(r>>16&255,r>>8&255,r&255,1)}function V4(r,e,t,n){return n<=0&&(r=e=t=NaN),new bn(r,e,t,n)}function LS(r){return r instanceof c4||(r=u2(r)),r?(r=r.rgb(),new bn(r.r,r.g,r.b,r.opacity)):new bn}function Q6(r,e,t,n){return arguments.length===1?LS(r):new bn(r,e,t,n??1)}function bn(r,e,t,n){this.r=+r,this.g=+e,this.b=+t,this.opacity=+n}S9(bn,Q6,xd(c4,{brighter(r){return r=r==null?la:Math.pow(la,r),new bn(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?zo:Math.pow(zo,r),new bn(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new bn(n2(this.r),n2(this.g),n2(this.b),ua(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Eu,formatHex:Eu,formatHex8:qS,formatRgb:Nu,toString:Nu}));function Eu(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function qS(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nu(){const r=ua(this.opacity);return`${r===1?"rgb(":"rgba("}${n2(this.r)}, ${n2(this.g)}, ${n2(this.b)}${r===1?")":`, ${r})`}`}function ua(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function n2(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function Xi(r){return r=n2(r),(r<16?"0":"")+r.toString(16)}function Mu(r,e,t,n){return n<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Sr(r,e,t,n)}function bd(r){if(r instanceof Sr)return new Sr(r.h,r.s,r.l,r.opacity);if(r instanceof c4||(r=u2(r)),!r)return new Sr;if(r instanceof Sr)return r;r=r.rgb();var e=r.r/255,t=r.g/255,n=r.b/255,i=Math.min(e,t,n),s=Math.max(e,t,n),o=NaN,u=s-i,h=(s+i)/2;return u?(e===s?o=(t-n)/u+(t<n)*6:t===s?o=(n-e)/u+2:o=(e-t)/u+4,u/=h<.5?s+i:2-s-i,o*=60):u=h>0&&h<1?0:o,new Sr(o,u,h,r.opacity)}function IS(r,e,t,n){return arguments.length===1?bd(r):new Sr(r,e,t,n??1)}function Sr(r,e,t,n){this.h=+r,this.s=+e,this.l=+t,this.opacity=+n}S9(Sr,IS,xd(c4,{brighter(r){return r=r==null?la:Math.pow(la,r),new Sr(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?zo:Math.pow(zo,r),new Sr(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*e,i=2*t-n;return new bn(T8(r>=240?r-240:r+120,i,n),T8(r,i,n),T8(r<120?r+240:r-120,i,n),this.opacity)},clamp(){return new Sr(Ru(this.h),z4(this.s),z4(this.l),ua(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=ua(this.opacity);return`${r===1?"hsl(":"hsla("}${Ru(this.h)}, ${z4(this.s)*100}%, ${z4(this.l)*100}%${r===1?")":`, ${r})`}`}}));function Ru(r){return r=(r||0)%360,r<0?r+360:r}function z4(r){return Math.max(0,Math.min(1,r||0))}function T8(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}const E9=r=>()=>r;function OS(r,e){return function(t){return r+t*e}}function kS(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(n){return Math.pow(r+n*e,t)}}function US(r){return(r=+r)==1?Td:function(e,t){return t-e?kS(e,t,r):E9(isNaN(e)?t:e)}}function Td(r,e){var t=e-r;return t?OS(r,t):E9(isNaN(r)?e:r)}const Cu=function r(e){var t=US(e);function n(i,s){var o=t((i=Q6(i)).r,(s=Q6(s)).r),u=t(i.g,s.g),h=t(i.b,s.b),d=Td(i.opacity,s.opacity);return function(m){return i.r=o(m),i.g=u(m),i.b=h(m),i.opacity=d(m),i+""}}return n.gamma=r,n}(1);function wd(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,n=e.slice(),i;return function(s){for(i=0;i<t;++i)n[i]=r[i]*(1-s)+e[i]*s;return n}}function Sd(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function GS(r,e){return(Sd(e)?wd:Ed)(r,e)}function Ed(r,e){var t=e?e.length:0,n=r?Math.min(t,r.length):0,i=new Array(n),s=new Array(t),o;for(o=0;o<n;++o)i[o]=N9(r[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(u){for(o=0;o<n;++o)s[o]=i[o](u);return s}}function VS(r,e){var t=new Date;return r=+r,e=+e,function(n){return t.setTime(r*(1-n)+e*n),t}}function jo(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function zS(r,e){var t={},n={},i;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in r?t[i]=N9(r[i],e[i]):n[i]=e[i];return function(s){for(i in t)n[i]=t[i](s);return n}}var Y6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w8=new RegExp(Y6.source,"g");function HS(r){return function(){return r}}function jS(r){return function(e){return r(e)+""}}function $S(r,e){var t=Y6.lastIndex=w8.lastIndex=0,n,i,s,o=-1,u=[],h=[];for(r=r+"",e=e+"";(n=Y6.exec(r))&&(i=w8.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,h.push({i:o,x:jo(n,i)})),t=w8.lastIndex;return t<e.length&&(s=e.slice(t),u[o]?u[o]+=s:u[++o]=s),u.length<2?h[0]?jS(h[0].x):HS(e):(e=h.length,function(d){for(var m=0,y;m<e;++m)u[(y=h[m]).i]=y.x(d);return u.join("")})}function N9(r,e){var t=typeof e,n;return e==null||t==="boolean"?E9(e):(t==="number"?jo:t==="string"?(n=u2(e))?(e=n,Cu):$S:e instanceof u2?Cu:e instanceof Date?VS:Sd(e)?wd:Array.isArray(e)?Ed:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zS:jo)(r,e)}function WS(r,e){return r=+r,e=+e,function(t){return Math.round(r*(1-t)+e*t)}}function QS(r){return function(){return r}}function YS(r){return+r}var Pu=[0,1];function rs(r){return r}function X6(r,e){return(e-=r=+r)?function(t){return(t-r)/e}:QS(isNaN(e)?NaN:.5)}function XS(r,e){var t;return r>e&&(t=r,r=e,e=t),function(n){return Math.max(r,Math.min(e,n))}}function KS(r,e,t){var n=r[0],i=r[1],s=e[0],o=e[1];return i<n?(n=X6(i,n),s=t(o,s)):(n=X6(n,i),s=t(s,o)),function(u){return s(n(u))}}function ZS(r,e,t){var n=Math.min(r.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(r[n]<r[0]&&(r=r.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=X6(r[o],r[o+1]),s[o]=t(e[o],e[o+1]);return function(u){var h=vd(r,u,1,n)-1;return s[h](i[h](u))}}function JS(r,e){return e.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function eE(){var r=Pu,e=Pu,t=N9,n,i,s,o=rs,u,h,d;function m(){var x=Math.min(r.length,e.length);return o!==rs&&(o=XS(r[0],r[x-1])),u=x>2?ZS:KS,h=d=null,y}function y(x){return x==null||isNaN(x=+x)?s:(h||(h=u(r.map(n),e,t)))(n(o(x)))}return y.invert=function(x){return o(i((d||(d=u(e,r.map(n),jo)))(x)))},y.domain=function(x){return arguments.length?(r=Array.from(x,YS),m()):r.slice()},y.range=function(x){return arguments.length?(e=Array.from(x),m()):e.slice()},y.rangeRound=function(x){return e=Array.from(x),t=WS,m()},y.clamp=function(x){return arguments.length?(o=x?!0:rs,m()):o!==rs},y.interpolate=function(x){return arguments.length?(t=x,m()):t},y.unknown=function(x){return arguments.length?(s=x,y):s},function(x,b){return n=x,i=b,m()}}function tE(){return eE()(rs,rs)}function nE(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)}function ca(r,e){if((t=(r=e?r.toExponential(e-1):r.toExponential()).indexOf("e"))<0)return null;var t,n=r.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+r.slice(t+1)]}function vs(r){return r=ca(Math.abs(r)),r?r[1]:NaN}function rE(r,e){return function(t,n){for(var i=t.length,s=[],o=0,u=r[0],h=0;i>0&&u>0&&(h+u+1>n&&(u=Math.max(1,n-h)),s.push(t.substring(i-=u,i+u)),!((h+=u+1)>n));)u=r[o=(o+1)%r.length];return s.reverse().join(e)}}function iE(r){return function(e){return e.replace(/[0-9]/g,function(t){return r[+t]})}}var sE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ha(r){if(!(e=sE.exec(r)))throw new Error("invalid format: "+r);var e;return new M9({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ha.prototype=M9.prototype;function M9(r){this.fill=r.fill===void 0?" ":r.fill+"",this.align=r.align===void 0?">":r.align+"",this.sign=r.sign===void 0?"-":r.sign+"",this.symbol=r.symbol===void 0?"":r.symbol+"",this.zero=!!r.zero,this.width=r.width===void 0?void 0:+r.width,this.comma=!!r.comma,this.precision=r.precision===void 0?void 0:+r.precision,this.trim=!!r.trim,this.type=r.type===void 0?"":r.type+""}M9.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oE(r){e:for(var e=r.length,t=1,n=-1,i;t<e;++t)switch(r[t]){case".":n=i=t;break;case"0":n===0&&(n=t),i=t;break;default:if(!+r[t])break e;n>0&&(n=0);break}return n>0?r.slice(0,n)+r.slice(i+1):r}var Nd;function aE(r,e){var t=ca(r,e);if(!t)return r+"";var n=t[0],i=t[1],s=i-(Nd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ca(r,Math.max(0,e+s-1))[0]}function Bu(r,e){var t=ca(r,e);if(!t)return r+"";var n=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Du={"%":(r,e)=>(r*100).toFixed(e),b:r=>Math.round(r).toString(2),c:r=>r+"",d:nE,e:(r,e)=>r.toExponential(e),f:(r,e)=>r.toFixed(e),g:(r,e)=>r.toPrecision(e),o:r=>Math.round(r).toString(8),p:(r,e)=>Bu(r*100,e),r:Bu,s:aE,X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function Fu(r){return r}var Lu=Array.prototype.map,qu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function AE(r){var e=r.grouping===void 0||r.thousands===void 0?Fu:rE(Lu.call(r.grouping,Number),r.thousands+""),t=r.currency===void 0?"":r.currency[0]+"",n=r.currency===void 0?"":r.currency[1]+"",i=r.decimal===void 0?".":r.decimal+"",s=r.numerals===void 0?Fu:iE(Lu.call(r.numerals,String)),o=r.percent===void 0?"%":r.percent+"",u=r.minus===void 0?"−":r.minus+"",h=r.nan===void 0?"NaN":r.nan+"";function d(y){y=ha(y);var x=y.fill,b=y.align,w=y.sign,S=y.symbol,N=y.zero,C=y.width,P=y.comma,B=y.precision,q=y.trim,D=y.type;D==="n"?(P=!0,D="g"):Du[D]||(B===void 0&&(B=12),q=!0,D="g"),(N||x==="0"&&b==="=")&&(N=!0,x="0",b="=");var I=S==="$"?t:S==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",U=S==="$"?n:/[%p]/.test(D)?o:"",V=Du[D],H=/[defgprs%]/.test(D);B=B===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,B)):Math.max(0,Math.min(20,B));function z(k){var Y=I,X=U,J,K,oe;if(D==="c")X=V(k)+X,k="";else{k=+k;var ce=k<0||1/k<0;if(k=isNaN(k)?h:V(Math.abs(k),B),q&&(k=oE(k)),ce&&+k==0&&w!=="+"&&(ce=!1),Y=(ce?w==="("?w:u:w==="-"||w==="("?"":w)+Y,X=(D==="s"?qu[8+Nd/3]:"")+X+(ce&&w==="("?")":""),H){for(J=-1,K=k.length;++J<K;)if(oe=k.charCodeAt(J),48>oe||oe>57){X=(oe===46?i+k.slice(J+1):k.slice(J))+X,k=k.slice(0,J);break}}}P&&!N&&(k=e(k,1/0));var de=Y.length+k.length+X.length,ve=de<C?new Array(C-de+1).join(x):"";switch(P&&N&&(k=e(ve+k,ve.length?C-X.length:1/0),ve=""),b){case"<":k=Y+k+X+ve;break;case"=":k=Y+ve+k+X;break;case"^":k=ve.slice(0,de=ve.length>>1)+Y+k+X+ve.slice(de);break;default:k=ve+Y+k+X;break}return s(k)}return z.toString=function(){return y+""},z}function m(y,x){var b=d((y=ha(y),y.type="f",y)),w=Math.max(-8,Math.min(8,Math.floor(vs(x)/3)))*3,S=Math.pow(10,-w),N=qu[8+w/3];return function(C){return b(S*C)+N}}return{format:d,formatPrefix:m}}var H4,Md,Rd;lE({thousands:",",grouping:[3],currency:["$",""]});function lE(r){return H4=AE(r),Md=H4.format,Rd=H4.formatPrefix,H4}function uE(r){return Math.max(0,-vs(Math.abs(r)))}function cE(r,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vs(e)/3)))*3-vs(Math.abs(r)))}function hE(r,e){return r=Math.abs(r),e=Math.abs(e)-r,Math.max(0,vs(e)-vs(r))+1}function fE(r,e,t,n){var i=xS(r,e,t),s;switch(n=ha(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(r),Math.abs(e));return n.precision==null&&!isNaN(s=cE(i,o))&&(n.precision=s),Rd(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=hE(i,Math.max(Math.abs(r),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=uE(i))&&(n.precision=s-(n.type==="%")*2);break}}return Md(n)}function Cd(r){var e=r.domain;return r.ticks=function(t){var n=e();return _S(n[0],n[n.length-1],t??10)},r.tickFormat=function(t,n){var i=e();return fE(i[0],i[i.length-1],t??10,n)},r.nice=function(t){t==null&&(t=10);var n=e(),i=0,s=n.length-1,o=n[i],u=n[s],h,d,m=10;for(u<o&&(d=o,o=u,u=d,d=i,i=s,s=d);m-- >0;){if(d=W6(o,u,t),d===h)return n[i]=o,n[s]=u,e(n);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;h=d}return r},r}function q1(){var r=tE();return r.copy=function(){return JS(r,q1())},_d.apply(r,arguments),Cd(r)}function Pd(){var r=0,e=1,t=1,n=[.5],i=[0,1],s;function o(h){return h!=null&&h<=h?i[vd(n,h,0,t)]:s}function u(){var h=-1;for(n=new Array(t);++h<t;)n[h]=((h+1)*e-(h-t)*r)/(t+1);return o}return o.domain=function(h){return arguments.length?([r,e]=h,r=+r,e=+e,u()):[r,e]},o.range=function(h){return arguments.length?(t=(i=Array.from(h)).length-1,u()):i.slice()},o.invertExtent=function(h){var d=i.indexOf(h);return d<0?[NaN,NaN]:d<1?[r,n[0]]:d>=t?[n[t-1],e]:[n[d-1],n[d]]},o.unknown=function(h){return arguments.length&&(s=h),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Pd().domain([r,e]).range(i).unknown(s)},_d.apply(Cd(o),arguments)}var Et=1e-6,K6=1e-12,Pt=Math.PI,Tn=Pt/2,fa=Pt/4,Vn=Pt*2,p0=180/Pt,at=Pt/180,Xt=Math.abs,R9=Math.atan,cr=Math.atan2,ft=Math.cos,j4=Math.ceil,dE=Math.exp,Z6=Math.hypot,pE=Math.log,et=Math.sin,mE=Math.sign||function(r){return r>0?1:r<0?-1:0},I1=Math.sqrt,gE=Math.tan;function yE(r){return r>1?0:r<-1?Pt:Math.acos(r)}function O1(r){return r>1?Tn:r<-1?-Tn:Math.asin(r)}function Iu(r){return(r=et(r/2))*r}function nn(){}function da(r,e){r&&ku.hasOwnProperty(r.type)&&ku[r.type](r,e)}var Ou={Feature:function(r,e){da(r.geometry,e)},FeatureCollection:function(r,e){for(var t=r.features,n=-1,i=t.length;++n<i;)da(t[n].geometry,e)}},ku={Sphere:function(r,e){e.sphere()},Point:function(r,e){r=r.coordinates,e.point(r[0],r[1],r[2])},MultiPoint:function(r,e){for(var t=r.coordinates,n=-1,i=t.length;++n<i;)r=t[n],e.point(r[0],r[1],r[2])},LineString:function(r,e){J6(r.coordinates,e,0)},MultiLineString:function(r,e){for(var t=r.coordinates,n=-1,i=t.length;++n<i;)J6(t[n],e,0)},Polygon:function(r,e){Uu(r.coordinates,e)},MultiPolygon:function(r,e){for(var t=r.coordinates,n=-1,i=t.length;++n<i;)Uu(t[n],e)},GeometryCollection:function(r,e){for(var t=r.geometries,n=-1,i=t.length;++n<i;)da(t[n],e)}};function J6(r,e,t){var n=-1,i=r.length-t,s;for(e.lineStart();++n<i;)s=r[n],e.point(s[0],s[1],s[2]);e.lineEnd()}function Uu(r,e){var t=-1,n=r.length;for(e.polygonStart();++t<n;)J6(r[t],e,1);e.polygonEnd()}function o5(r,e){r&&Ou.hasOwnProperty(r.type)?Ou[r.type](r,e):da(r,e)}var pa=new B1,Gu=new B1,Bd,Dd,e7,t7,n7,k1={point:nn,lineStart:nn,lineEnd:nn,polygonStart:function(){pa=new B1,k1.lineStart=vE,k1.lineEnd=_E},polygonEnd:function(){var r=+pa;Gu.add(r<0?Vn+r:r),this.lineStart=this.lineEnd=this.point=nn},sphere:function(){Gu.add(Vn)}};function vE(){k1.point=xE}function _E(){Fd(Bd,Dd)}function xE(r,e){k1.point=Fd,Bd=r,Dd=e,r*=at,e*=at,e7=r,t7=ft(e=e/2+fa),n7=et(e)}function Fd(r,e){r*=at,e*=at,e=e/2+fa;var t=r-e7,n=t>=0?1:-1,i=n*t,s=ft(e),o=et(e),u=n7*o,h=t7*s+u*ft(i),d=u*n*et(i);pa.add(cr(d,h)),e7=r,t7=s,n7=o}function ma(r){return[cr(r[1],r[0]),O1(r[2])]}function c2(r){var e=r[0],t=r[1],n=ft(t);return[n*ft(e),n*et(e),et(t)]}function $4(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function _s(r,e){return[r[1]*e[2]-r[2]*e[1],r[2]*e[0]-r[0]*e[2],r[0]*e[1]-r[1]*e[0]]}function S8(r,e){r[0]+=e[0],r[1]+=e[1],r[2]+=e[2]}function W4(r,e){return[r[0]*e,r[1]*e,r[2]*e]}function ga(r){var e=I1(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=e,r[1]/=e,r[2]/=e}var l0,_n,f0,On,Hi,Ld,qd,ds,Ro,ai,U1,w1={point:r7,lineStart:Vu,lineEnd:zu,polygonStart:function(){w1.point=Od,w1.lineStart=bE,w1.lineEnd=TE,Ro=new B1,k1.polygonStart()},polygonEnd:function(){k1.polygonEnd(),w1.point=r7,w1.lineStart=Vu,w1.lineEnd=zu,pa<0?(l0=-(f0=180),_n=-(On=90)):Ro>Et?On=90:Ro<-1e-6&&(_n=-90),U1[0]=l0,U1[1]=f0},sphere:function(){l0=-(f0=180),_n=-(On=90)}};function r7(r,e){ai.push(U1=[l0=r,f0=r]),e<_n&&(_n=e),e>On&&(On=e)}function Id(r,e){var t=c2([r*at,e*at]);if(ds){var n=_s(ds,t),i=[n[1],-n[0],0],s=_s(i,n);ga(s),s=ma(s);var o=r-Hi,u=o>0?1:-1,h=s[0]*p0*u,d,m=Xt(o)>180;m^(u*Hi<h&&h<u*r)?(d=s[1]*p0,d>On&&(On=d)):(h=(h+360)%360-180,m^(u*Hi<h&&h<u*r)?(d=-s[1]*p0,d<_n&&(_n=d)):(e<_n&&(_n=e),e>On&&(On=e))),m?r<Hi?Ln(l0,r)>Ln(l0,f0)&&(f0=r):Ln(r,f0)>Ln(l0,f0)&&(l0=r):f0>=l0?(r<l0&&(l0=r),r>f0&&(f0=r)):r>Hi?Ln(l0,r)>Ln(l0,f0)&&(f0=r):Ln(r,f0)>Ln(l0,f0)&&(l0=r)}else ai.push(U1=[l0=r,f0=r]);e<_n&&(_n=e),e>On&&(On=e),ds=t,Hi=r}function Vu(){w1.point=Id}function zu(){U1[0]=l0,U1[1]=f0,w1.point=r7,ds=null}function Od(r,e){if(ds){var t=r-Hi;Ro.add(Xt(t)>180?t+(t>0?360:-360):t)}else Ld=r,qd=e;k1.point(r,e),Id(r,e)}function bE(){k1.lineStart()}function TE(){Od(Ld,qd),k1.lineEnd(),Xt(Ro)>Et&&(l0=-(f0=180)),U1[0]=l0,U1[1]=f0,ds=null}function Ln(r,e){return(e-=r)<0?e+360:e}function wE(r,e){return r[0]-e[0]}function Hu(r,e){return r[0]<=r[1]?r[0]<=e&&e<=r[1]:e<r[0]||r[1]<e}function kd(r){var e,t,n,i,s,o,u;if(On=f0=-(l0=_n=1/0),ai=[],o5(r,w1),t=ai.length){for(ai.sort(wE),e=1,n=ai[0],s=[n];e<t;++e)i=ai[e],Hu(n,i[0])||Hu(n,i[1])?(Ln(n[0],i[1])>Ln(n[0],n[1])&&(n[1]=i[1]),Ln(i[0],n[1])>Ln(n[0],n[1])&&(n[0]=i[0])):s.push(n=i);for(o=-1/0,t=s.length-1,e=0,n=s[t];e<=t;n=i,++e)i=s[e],(u=Ln(n[1],i[0]))>o&&(o=u,l0=i[0],f0=n[1])}return ai=U1=null,l0===1/0||_n===1/0?[[NaN,NaN],[NaN,NaN]]:[[l0,_n],[f0,On]]}var go,ya,va,_a,xa,ba,Ta,wa,i7,s7,o7,Ud,Gd,fn,dn,pn,Nr={sphere:nn,point:C9,lineStart:ju,lineEnd:$u,polygonStart:function(){Nr.lineStart=NE,Nr.lineEnd=ME},polygonEnd:function(){Nr.lineStart=ju,Nr.lineEnd=$u}};function C9(r,e){r*=at,e*=at;var t=ft(e);h4(t*ft(r),t*et(r),et(e))}function h4(r,e,t){++go,va+=(r-va)/go,_a+=(e-_a)/go,xa+=(t-xa)/go}function ju(){Nr.point=SE}function SE(r,e){r*=at,e*=at;var t=ft(e);fn=t*ft(r),dn=t*et(r),pn=et(e),Nr.point=EE,h4(fn,dn,pn)}function EE(r,e){r*=at,e*=at;var t=ft(e),n=t*ft(r),i=t*et(r),s=et(e),o=cr(I1((o=dn*s-pn*i)*o+(o=pn*n-fn*s)*o+(o=fn*i-dn*n)*o),fn*n+dn*i+pn*s);ya+=o,ba+=o*(fn+(fn=n)),Ta+=o*(dn+(dn=i)),wa+=o*(pn+(pn=s)),h4(fn,dn,pn)}function $u(){Nr.point=C9}function NE(){Nr.point=RE}function ME(){Vd(Ud,Gd),Nr.point=C9}function RE(r,e){Ud=r,Gd=e,r*=at,e*=at,Nr.point=Vd;var t=ft(e);fn=t*ft(r),dn=t*et(r),pn=et(e),h4(fn,dn,pn)}function Vd(r,e){r*=at,e*=at;var t=ft(e),n=t*ft(r),i=t*et(r),s=et(e),o=dn*s-pn*i,u=pn*n-fn*s,h=fn*i-dn*n,d=Z6(o,u,h),m=O1(d),y=d&&-m/d;i7.add(y*o),s7.add(y*u),o7.add(y*h),ya+=m,ba+=m*(fn+(fn=n)),Ta+=m*(dn+(dn=i)),wa+=m*(pn+(pn=s)),h4(fn,dn,pn)}function Wu(r){go=ya=va=_a=xa=ba=Ta=wa=0,i7=new B1,s7=new B1,o7=new B1,o5(r,Nr);var e=+i7,t=+s7,n=+o7,i=Z6(e,t,n);return i<K6&&(e=ba,t=Ta,n=wa,ya<Et&&(e=va,t=_a,n=xa),i=Z6(e,t,n),i<K6)?[NaN,NaN]:[cr(t,e)*p0,O1(n/i)*p0]}function a7(r,e){function t(n,i){return n=r(n,i),e(n[0],n[1])}return r.invert&&e.invert&&(t.invert=function(n,i){return n=e.invert(n,i),n&&r.invert(n[0],n[1])}),t}function A7(r,e){return Xt(r)>Pt&&(r-=Math.round(r/Vn)*Vn),[r,e]}A7.invert=A7;function zd(r,e,t){return(r%=Vn)?e||t?a7(Yu(r),Xu(e,t)):Yu(r):e||t?Xu(e,t):A7}function Qu(r){return function(e,t){return e+=r,Xt(e)>Pt&&(e-=Math.round(e/Vn)*Vn),[e,t]}}function Yu(r){var e=Qu(r);return e.invert=Qu(-r),e}function Xu(r,e){var t=ft(r),n=et(r),i=ft(e),s=et(e);function o(u,h){var d=ft(h),m=ft(u)*d,y=et(u)*d,x=et(h),b=x*t+m*n;return[cr(y*i-b*s,m*t-x*n),O1(b*i+y*s)]}return o.invert=function(u,h){var d=ft(h),m=ft(u)*d,y=et(u)*d,x=et(h),b=x*i-y*s;return[cr(y*i+x*s,m*t+b*n),O1(b*t-m*n)]},o}function CE(r){r=zd(r[0]*at,r[1]*at,r.length>2?r[2]*at:0);function e(t){return t=r(t[0]*at,t[1]*at),t[0]*=p0,t[1]*=p0,t}return e.invert=function(t){return t=r.invert(t[0]*at,t[1]*at),t[0]*=p0,t[1]*=p0,t},e}function PE(r,e,t,n,i,s){if(t){var o=ft(e),u=et(e),h=n*t;i==null?(i=e+n*Vn,s=e-h/2):(i=Ku(o,i),s=Ku(o,s),(n>0?i<s:i>s)&&(i+=n*Vn));for(var d,m=i;n>0?m>s:m<s;m-=h)d=ma([o,-u*ft(m),-u*et(m)]),r.point(d[0],d[1])}}function Ku(r,e){e=c2(e),e[0]-=r,ga(e);var t=yE(-e[1]);return((-e[2]<0?-t:t)+Vn-Et)%Vn}function Hd(){var r=[],e;return{point:function(t,n,i){e.push([t,n,i])},lineStart:function(){r.push(e=[])},lineEnd:nn,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var t=r;return r=[],e=null,t}}}function k3(r,e){return Xt(r[0]-e[0])<Et&&Xt(r[1]-e[1])<Et}function Q4(r,e,t,n){this.x=r,this.z=e,this.o=t,this.e=n,this.v=!1,this.n=this.p=null}function jd(r,e,t,n,i){var s=[],o=[],u,h;if(r.forEach(function(w){if(!((S=w.length-1)<=0)){var S,N=w[0],C=w[S],P;if(k3(N,C)){if(!N[2]&&!C[2]){for(i.lineStart(),u=0;u<S;++u)i.point((N=w[u])[0],N[1]);i.lineEnd();return}C[0]+=2*Et}s.push(P=new Q4(N,w,null,!0)),o.push(P.o=new Q4(N,null,P,!1)),s.push(P=new Q4(C,w,null,!1)),o.push(P.o=new Q4(C,null,P,!0))}}),!!s.length){for(o.sort(e),Zu(s),Zu(o),u=0,h=o.length;u<h;++u)o[u].e=t=!t;for(var d=s[0],m,y;;){for(var x=d,b=!0;x.v;)if((x=x.n)===d)return;m=x.z,i.lineStart();do{if(x.v=x.o.v=!0,x.e){if(b)for(u=0,h=m.length;u<h;++u)i.point((y=m[u])[0],y[1]);else n(x.x,x.n.x,1,i);x=x.n}else{if(b)for(m=x.p.z,u=m.length-1;u>=0;--u)i.point((y=m[u])[0],y[1]);else n(x.x,x.p.x,-1,i);x=x.p}x=x.o,m=x.z,b=!b}while(!x.v);i.lineEnd()}}}function Zu(r){if(e=r.length){for(var e,t=0,n=r[0],i;++t<e;)n.n=i=r[t],i.p=n,n=i;n.n=i=r[0],i.p=n}}function E8(r){return Xt(r[0])<=Pt?r[0]:mE(r[0])*((Xt(r[0])+Pt)%Vn-Pt)}function $d(r,e){var t=E8(e),n=e[1],i=et(n),s=[et(t),-ft(t),0],o=0,u=0,h=new B1;i===1?n=Tn+Et:i===-1&&(n=-Tn-Et);for(var d=0,m=r.length;d<m;++d)if(x=(y=r[d]).length)for(var y,x,b=y[x-1],w=E8(b),S=b[1]/2+fa,N=et(S),C=ft(S),P=0;P<x;++P,w=q,N=I,C=U,b=B){var B=y[P],q=E8(B),D=B[1]/2+fa,I=et(D),U=ft(D),V=q-w,H=V>=0?1:-1,z=H*V,k=z>Pt,Y=N*I;if(h.add(cr(Y*H*et(z),C*U+Y*ft(z))),o+=k?V+H*Vn:V,k^w>=t^q>=t){var X=_s(c2(b),c2(B));ga(X);var J=_s(s,X);ga(J);var K=(k^V>=0?-1:1)*O1(J[2]);(n>K||n===K&&(X[0]||X[1]))&&(u+=k^V>=0?1:-1)}}return(o<-1e-6||o<Et&&h<-1e-12)^u&1}function Wd(r,e,t,n){return function(i){var s=e(i),o=Hd(),u=e(o),h=!1,d,m,y,x={point:b,lineStart:S,lineEnd:N,polygonStart:function(){x.point=C,x.lineStart=P,x.lineEnd=B,m=[],d=[]},polygonEnd:function(){x.point=b,x.lineStart=S,x.lineEnd=N,m=Vo(m);var q=$d(d,n);m.length?(h||(i.polygonStart(),h=!0),jd(m,DE,q,t,i)):q&&(h||(i.polygonStart(),h=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),m=d=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function b(q,D){r(q,D)&&i.point(q,D)}function w(q,D){s.point(q,D)}function S(){x.point=w,s.lineStart()}function N(){x.point=b,s.lineEnd()}function C(q,D){y.push([q,D]),u.point(q,D)}function P(){u.lineStart(),y=[]}function B(){C(y[0][0],y[0][1]),u.lineEnd();var q=u.clean(),D=o.result(),I,U=D.length,V,H,z;if(y.pop(),d.push(y),y=null,!!U){if(q&1){if(H=D[0],(V=H.length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),I=0;I<V;++I)i.point((z=H[I])[0],z[1]);i.lineEnd()}return}U>1&&q&2&&D.push(D.pop().concat(D.shift())),m.push(D.filter(BE))}}return x}}function BE(r){return r.length>1}function DE(r,e){return((r=r.x)[0]<0?r[1]-Tn-Et:Tn-r[1])-((e=e.x)[0]<0?e[1]-Tn-Et:Tn-e[1])}const Ju=Wd(function(){return!0},FE,qE,[-Pt,-Tn]);function FE(r){var e=NaN,t=NaN,n=NaN,i;return{lineStart:function(){r.lineStart(),i=1},point:function(s,o){var u=s>0?Pt:-Pt,h=Xt(s-e);Xt(h-Pt)<Et?(r.point(e,t=(t+o)/2>0?Tn:-Tn),r.point(n,t),r.lineEnd(),r.lineStart(),r.point(u,t),r.point(s,t),i=0):n!==u&&h>=Pt&&(Xt(e-n)<Et&&(e-=n*Et),Xt(s-u)<Et&&(s-=u*Et),t=LE(e,t,s,o),r.point(n,t),r.lineEnd(),r.lineStart(),r.point(u,t),i=0),r.point(e=s,t=o),n=u},lineEnd:function(){r.lineEnd(),e=t=NaN},clean:function(){return 2-i}}}function LE(r,e,t,n){var i,s,o=et(r-t);return Xt(o)>Et?R9((et(e)*(s=ft(n))*et(t)-et(n)*(i=ft(e))*et(r))/(i*s*o)):(e+n)/2}function qE(r,e,t,n){var i;if(r==null)i=t*Tn,n.point(-Pt,i),n.point(0,i),n.point(Pt,i),n.point(Pt,0),n.point(Pt,-i),n.point(0,-i),n.point(-Pt,-i),n.point(-Pt,0),n.point(-Pt,i);else if(Xt(r[0]-e[0])>Et){var s=r[0]<e[0]?Pt:-Pt;i=t*s/2,n.point(-s,i),n.point(0,i),n.point(s,i)}else n.point(e[0],e[1])}function IE(r){var e=ft(r),t=2*at,n=e>0,i=Xt(e)>Et;function s(m,y,x,b){PE(b,r,t,x,m,y)}function o(m,y){return ft(m)*ft(y)>e}function u(m){var y,x,b,w,S;return{lineStart:function(){w=b=!1,S=1},point:function(N,C){var P=[N,C],B,q=o(N,C),D=n?q?0:d(N,C):q?d(N+(N<0?Pt:-Pt),C):0;if(!y&&(w=b=q)&&m.lineStart(),q!==b&&(B=h(y,P),(!B||k3(y,B)||k3(P,B))&&(P[2]=1)),q!==b)S=0,q?(m.lineStart(),B=h(P,y),m.point(B[0],B[1])):(B=h(y,P),m.point(B[0],B[1],2),m.lineEnd()),y=B;else if(i&&y&&n^q){var I;!(D&x)&&(I=h(P,y,!0))&&(S=0,n?(m.lineStart(),m.point(I[0][0],I[0][1]),m.point(I[1][0],I[1][1]),m.lineEnd()):(m.point(I[1][0],I[1][1]),m.lineEnd(),m.lineStart(),m.point(I[0][0],I[0][1],3)))}q&&(!y||!k3(y,P))&&m.point(P[0],P[1]),y=P,b=q,x=D},lineEnd:function(){b&&m.lineEnd(),y=null},clean:function(){return S|(w&&b)<<1}}}function h(m,y,x){var b=c2(m),w=c2(y),S=[1,0,0],N=_s(b,w),C=$4(N,N),P=N[0],B=C-P*P;if(!B)return!x&&m;var q=e*C/B,D=-e*P/B,I=_s(S,N),U=W4(S,q),V=W4(N,D);S8(U,V);var H=I,z=$4(U,H),k=$4(H,H),Y=z*z-k*($4(U,U)-1);if(!(Y<0)){var X=I1(Y),J=W4(H,(-z-X)/k);if(S8(J,U),J=ma(J),!x)return J;var K=m[0],oe=y[0],ce=m[1],de=y[1],ve;oe<K&&(ve=K,K=oe,oe=ve);var Me=oe-K,Be=Xt(Me-Pt)<Et,Oe=Be||Me<Et;if(!Be&&de<ce&&(ve=ce,ce=de,de=ve),Oe?Be?ce+de>0^J[1]<(Xt(J[0]-K)<Et?ce:de):ce<=J[1]&&J[1]<=de:Me>Pt^(K<=J[0]&&J[0]<=oe)){var ke=W4(H,(-z+X)/k);return S8(ke,U),[J,ma(ke)]}}}function d(m,y){var x=n?r:Pt-r,b=0;return m<-x?b|=1:m>x&&(b|=2),y<-x?b|=4:y>x&&(b|=8),b}return Wd(o,u,s,n?[0,-r]:[-Pt,r-Pt])}function OE(r,e,t,n,i,s){var o=r[0],u=r[1],h=e[0],d=e[1],m=0,y=1,x=h-o,b=d-u,w;if(w=t-o,!(!x&&w>0)){if(w/=x,x<0){if(w<m)return;w<y&&(y=w)}else if(x>0){if(w>y)return;w>m&&(m=w)}if(w=i-o,!(!x&&w<0)){if(w/=x,x<0){if(w>y)return;w>m&&(m=w)}else if(x>0){if(w<m)return;w<y&&(y=w)}if(w=n-u,!(!b&&w>0)){if(w/=b,b<0){if(w<m)return;w<y&&(y=w)}else if(b>0){if(w>y)return;w>m&&(m=w)}if(w=s-u,!(!b&&w<0)){if(w/=b,b<0){if(w>y)return;w>m&&(m=w)}else if(b>0){if(w<m)return;w<y&&(y=w)}return m>0&&(r[0]=o+m*x,r[1]=u+m*b),y<1&&(e[0]=o+y*x,e[1]=u+y*b),!0}}}}}var Y4=1e9,X4=-1e9;function kE(r,e,t,n){function i(d,m){return r<=d&&d<=t&&e<=m&&m<=n}function s(d,m,y,x){var b=0,w=0;if(d==null||(b=o(d,y))!==(w=o(m,y))||h(d,m)<0^y>0)do x.point(b===0||b===3?r:t,b>1?n:e);while((b=(b+y+4)%4)!==w);else x.point(m[0],m[1])}function o(d,m){return Xt(d[0]-r)<Et?m>0?0:3:Xt(d[0]-t)<Et?m>0?2:1:Xt(d[1]-e)<Et?m>0?1:0:m>0?3:2}function u(d,m){return h(d.x,m.x)}function h(d,m){var y=o(d,1),x=o(m,1);return y!==x?y-x:y===0?m[1]-d[1]:y===1?d[0]-m[0]:y===2?d[1]-m[1]:m[0]-d[0]}return function(d){var m=d,y=Hd(),x,b,w,S,N,C,P,B,q,D,I,U={point:V,lineStart:Y,lineEnd:X,polygonStart:z,polygonEnd:k};function V(K,oe){i(K,oe)&&m.point(K,oe)}function H(){for(var K=0,oe=0,ce=b.length;oe<ce;++oe)for(var de=b[oe],ve=1,Me=de.length,Be=de[0],Oe,ke,dt=Be[0],vt=Be[1];ve<Me;++ve)Oe=dt,ke=vt,Be=de[ve],dt=Be[0],vt=Be[1],ke<=n?vt>n&&(dt-Oe)*(n-ke)>(vt-ke)*(r-Oe)&&++K:vt<=n&&(dt-Oe)*(n-ke)<(vt-ke)*(r-Oe)&&--K;return K}function z(){m=y,x=[],b=[],I=!0}function k(){var K=H(),oe=I&&K,ce=(x=Vo(x)).length;(oe||ce)&&(d.polygonStart(),oe&&(d.lineStart(),s(null,null,1,d),d.lineEnd()),ce&&jd(x,u,K,s,d),d.polygonEnd()),m=d,x=b=w=null}function Y(){U.point=J,b&&b.push(w=[]),D=!0,q=!1,P=B=NaN}function X(){x&&(J(S,N),C&&q&&y.rejoin(),x.push(y.result())),U.point=V,q&&m.lineEnd()}function J(K,oe){var ce=i(K,oe);if(b&&w.push([K,oe]),D)S=K,N=oe,C=ce,D=!1,ce&&(m.lineStart(),m.point(K,oe));else if(ce&&q)m.point(K,oe);else{var de=[P=Math.max(X4,Math.min(Y4,P)),B=Math.max(X4,Math.min(Y4,B))],ve=[K=Math.max(X4,Math.min(Y4,K)),oe=Math.max(X4,Math.min(Y4,oe))];OE(de,ve,r,e,t,n)?(q||(m.lineStart(),m.point(de[0],de[1])),m.point(ve[0],ve[1]),ce||m.lineEnd(),I=!1):ce&&(m.lineStart(),m.point(K,oe),I=!1)}P=K,B=oe,q=ce}return U}}var l7,u7,U3,G3,xs={sphere:nn,point:nn,lineStart:UE,lineEnd:nn,polygonStart:nn,polygonEnd:nn};function UE(){xs.point=VE,xs.lineEnd=GE}function GE(){xs.point=xs.lineEnd=nn}function VE(r,e){r*=at,e*=at,u7=r,U3=et(e),G3=ft(e),xs.point=zE}function zE(r,e){r*=at,e*=at;var t=et(e),n=ft(e),i=Xt(r-u7),s=ft(i),o=et(i),u=n*o,h=G3*t-U3*n*s,d=U3*t+G3*n*s;l7.add(cr(I1(u*u+h*h),d)),u7=r,U3=t,G3=n}function HE(r){return l7=new B1,o5(r,xs),+l7}var c7=[null,null],jE={type:"LineString",coordinates:c7};function bi(r,e){return c7[0]=r,c7[1]=e,HE(jE)}var ec={Feature:function(r,e){return Sa(r.geometry,e)},FeatureCollection:function(r,e){for(var t=r.features,n=-1,i=t.length;++n<i;)if(Sa(t[n].geometry,e))return!0;return!1}},tc={Sphere:function(){return!0},Point:function(r,e){return nc(r.coordinates,e)},MultiPoint:function(r,e){for(var t=r.coordinates,n=-1,i=t.length;++n<i;)if(nc(t[n],e))return!0;return!1},LineString:function(r,e){return rc(r.coordinates,e)},MultiLineString:function(r,e){for(var t=r.coordinates,n=-1,i=t.length;++n<i;)if(rc(t[n],e))return!0;return!1},Polygon:function(r,e){return ic(r.coordinates,e)},MultiPolygon:function(r,e){for(var t=r.coordinates,n=-1,i=t.length;++n<i;)if(ic(t[n],e))return!0;return!1},GeometryCollection:function(r,e){for(var t=r.geometries,n=-1,i=t.length;++n<i;)if(Sa(t[n],e))return!0;return!1}};function Sa(r,e){return r&&tc.hasOwnProperty(r.type)?tc[r.type](r,e):!1}function nc(r,e){return bi(r,e)===0}function rc(r,e){for(var t,n,i,s=0,o=r.length;s<o;s++){if(n=bi(r[s],e),n===0||s>0&&(i=bi(r[s],r[s-1]),i>0&&t<=i&&n<=i&&(t+n-i)*(1-Math.pow((t-n)/i,2))<K6*i))return!0;t=n}return!1}function ic(r,e){return!!$d(r.map($E),Qd(e))}function $E(r){return r=r.map(Qd),r.pop(),r}function Qd(r){return[r[0]*at,r[1]*at]}function WE(r,e){return(r&&ec.hasOwnProperty(r.type)?ec[r.type]:Sa)(r,e)}function sc(r,e,t){var n=ns(r,e-Et,t).concat(e);return function(i){return n.map(function(s){return[i,s]})}}function oc(r,e,t){var n=ns(r,e-Et,t).concat(e);return function(i){return n.map(function(s){return[s,i]})}}function QE(){var r,e,t,n,i,s,o,u,h=10,d=h,m=90,y=360,x,b,w,S,N=2.5;function C(){return{type:"MultiLineString",coordinates:P()}}function P(){return ns(j4(n/m)*m,t,m).map(w).concat(ns(j4(u/y)*y,o,y).map(S)).concat(ns(j4(e/h)*h,r,h).filter(function(B){return Xt(B%m)>Et}).map(x)).concat(ns(j4(s/d)*d,i,d).filter(function(B){return Xt(B%y)>Et}).map(b))}return C.lines=function(){return P().map(function(B){return{type:"LineString",coordinates:B}})},C.outline=function(){return{type:"Polygon",coordinates:[w(n).concat(S(o).slice(1),w(t).reverse().slice(1),S(u).reverse().slice(1))]}},C.extent=function(B){return arguments.length?C.extentMajor(B).extentMinor(B):C.extentMinor()},C.extentMajor=function(B){return arguments.length?(n=+B[0][0],t=+B[1][0],u=+B[0][1],o=+B[1][1],n>t&&(B=n,n=t,t=B),u>o&&(B=u,u=o,o=B),C.precision(N)):[[n,u],[t,o]]},C.extentMinor=function(B){return arguments.length?(e=+B[0][0],r=+B[1][0],s=+B[0][1],i=+B[1][1],e>r&&(B=e,e=r,r=B),s>i&&(B=s,s=i,i=B),C.precision(N)):[[e,s],[r,i]]},C.step=function(B){return arguments.length?C.stepMajor(B).stepMinor(B):C.stepMinor()},C.stepMajor=function(B){return arguments.length?(m=+B[0],y=+B[1],C):[m,y]},C.stepMinor=function(B){return arguments.length?(h=+B[0],d=+B[1],C):[h,d]},C.precision=function(B){return arguments.length?(N=+B,x=sc(s,i,90),b=oc(e,r,N),w=sc(u,o,90),S=oc(n,t,N),C):N},C.extentMajor([[-180,-90+Et],[180,90-Et]]).extentMinor([[-180,-80-Et],[180,80+Et]])}function YE(){return QE()()}function P9(r,e){var t=r[0]*at,n=r[1]*at,i=e[0]*at,s=e[1]*at,o=ft(n),u=et(n),h=ft(s),d=et(s),m=o*ft(t),y=o*et(t),x=h*ft(i),b=h*et(i),w=2*O1(I1(Iu(s-n)+o*h*Iu(i-t))),S=et(w),N=w?function(C){var P=et(C*=w)/S,B=et(w-C)/S,q=B*m+P*x,D=B*y+P*b,I=B*u+P*d;return[cr(D,q)*p0,cr(I,I1(q*q+D*D))*p0]}:function(){return[t*p0,n*p0]};return N.distance=w,N}const ac=r=>r;var bs=1/0,Ea=bs,$o=-bs,Na=$o,Ac={point:XE,lineStart:nn,lineEnd:nn,polygonStart:nn,polygonEnd:nn,result:function(){var r=[[bs,Ea],[$o,Na]];return $o=Na=-(Ea=bs=1/0),r}};function XE(r,e){r<bs&&(bs=r),r>$o&&($o=r),e<Ea&&(Ea=e),e>Na&&(Na=e)}function B9(r){return function(e){var t=new h7;for(var n in r)t[n]=r[n];return t.stream=e,t}}function h7(){}h7.prototype={constructor:h7,point:function(r,e){this.stream.point(r,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function D9(r,e,t){var n=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),n!=null&&r.clipExtent(null),o5(t,r.stream(Ac)),e(Ac.result()),n!=null&&r.clipExtent(n),r}function Yd(r,e,t){return D9(r,function(n){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),s/(n[1][1]-n[0][1])),u=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,h=+e[0][1]+(s-o*(n[1][1]+n[0][1]))/2;r.scale(150*o).translate([u,h])},t)}function KE(r,e,t){return Yd(r,[[0,0],e],t)}function ZE(r,e,t){return D9(r,function(n){var i=+e,s=i/(n[1][0]-n[0][0]),o=(i-s*(n[1][0]+n[0][0]))/2,u=-s*n[0][1];r.scale(150*s).translate([o,u])},t)}function JE(r,e,t){return D9(r,function(n){var i=+e,s=i/(n[1][1]-n[0][1]),o=-s*n[0][0],u=(i-s*(n[1][1]+n[0][1]))/2;r.scale(150*s).translate([o,u])},t)}var lc=16,eN=ft(30*at);function uc(r,e){return+e?nN(r,e):tN(r)}function tN(r){return B9({point:function(e,t){e=r(e,t),this.stream.point(e[0],e[1])}})}function nN(r,e){function t(n,i,s,o,u,h,d,m,y,x,b,w,S,N){var C=d-n,P=m-i,B=C*C+P*P;if(B>4*e&&S--){var q=o+x,D=u+b,I=h+w,U=I1(q*q+D*D+I*I),V=O1(I/=U),H=Xt(Xt(I)-1)<Et||Xt(s-y)<Et?(s+y)/2:cr(D,q),z=r(H,V),k=z[0],Y=z[1],X=k-n,J=Y-i,K=P*X-C*J;(K*K/B>e||Xt((C*X+P*J)/B-.5)>.3||o*x+u*b+h*w<eN)&&(t(n,i,s,o,u,h,k,Y,H,q/=U,D/=U,I,S,N),N.point(k,Y),t(k,Y,H,q,D,I,d,m,y,x,b,w,S,N))}}return function(n){var i,s,o,u,h,d,m,y,x,b,w,S,N={point:C,lineStart:P,lineEnd:q,polygonStart:function(){n.polygonStart(),N.lineStart=D},polygonEnd:function(){n.polygonEnd(),N.lineStart=P}};function C(V,H){V=r(V,H),n.point(V[0],V[1])}function P(){y=NaN,N.point=B,n.lineStart()}function B(V,H){var z=c2([V,H]),k=r(V,H);t(y,x,m,b,w,S,y=k[0],x=k[1],m=V,b=z[0],w=z[1],S=z[2],lc,n),n.point(y,x)}function q(){N.point=C,n.lineEnd()}function D(){P(),N.point=I,N.lineEnd=U}function I(V,H){B(i=V,H),s=y,o=x,u=b,h=w,d=S,N.point=B}function U(){t(y,x,m,b,w,S,s,o,i,u,h,d,lc,n),N.lineEnd=q,q()}return N}}var rN=B9({point:function(r,e){this.stream.point(r*at,e*at)}});function iN(r){return B9({point:function(e,t){var n=r(e,t);return this.stream.point(n[0],n[1])}})}function sN(r,e,t,n,i){function s(o,u){return o*=n,u*=i,[e+r*o,t-r*u]}return s.invert=function(o,u){return[(o-e)/r*n,(t-u)/r*i]},s}function cc(r,e,t,n,i,s){if(!s)return sN(r,e,t,n,i);var o=ft(s),u=et(s),h=o*r,d=u*r,m=o/r,y=u/r,x=(u*t-o*e)/r,b=(u*e+o*t)/r;function w(S,N){return S*=n,N*=i,[h*S-d*N+e,t-d*S-h*N]}return w.invert=function(S,N){return[n*(m*S-y*N+x),i*(b-y*S-m*N)]},w}function oN(r){return aN(function(){return r})()}function aN(r){var e,t=150,n=480,i=250,s=0,o=0,u=0,h=0,d=0,m,y=0,x=1,b=1,w=null,S=Ju,N=null,C,P,B,q=ac,D=.5,I,U,V,H,z;function k(K){return V(K[0]*at,K[1]*at)}function Y(K){return K=V.invert(K[0],K[1]),K&&[K[0]*p0,K[1]*p0]}k.stream=function(K){return H&&z===K?H:H=rN(iN(m)(S(I(q(z=K)))))},k.preclip=function(K){return arguments.length?(S=K,w=void 0,J()):S},k.postclip=function(K){return arguments.length?(q=K,N=C=P=B=null,J()):q},k.clipAngle=function(K){return arguments.length?(S=+K?IE(w=K*at):(w=null,Ju),J()):w*p0},k.clipExtent=function(K){return arguments.length?(q=K==null?(N=C=P=B=null,ac):kE(N=+K[0][0],C=+K[0][1],P=+K[1][0],B=+K[1][1]),J()):N==null?null:[[N,C],[P,B]]},k.scale=function(K){return arguments.length?(t=+K,X()):t},k.translate=function(K){return arguments.length?(n=+K[0],i=+K[1],X()):[n,i]},k.center=function(K){return arguments.length?(s=K[0]%360*at,o=K[1]%360*at,X()):[s*p0,o*p0]},k.rotate=function(K){return arguments.length?(u=K[0]%360*at,h=K[1]%360*at,d=K.length>2?K[2]%360*at:0,X()):[u*p0,h*p0,d*p0]},k.angle=function(K){return arguments.length?(y=K%360*at,X()):y*p0},k.reflectX=function(K){return arguments.length?(x=K?-1:1,X()):x<0},k.reflectY=function(K){return arguments.length?(b=K?-1:1,X()):b<0},k.precision=function(K){return arguments.length?(I=uc(U,D=K*K),J()):I1(D)},k.fitExtent=function(K,oe){return Yd(k,K,oe)},k.fitSize=function(K,oe){return KE(k,K,oe)},k.fitWidth=function(K,oe){return ZE(k,K,oe)},k.fitHeight=function(K,oe){return JE(k,K,oe)};function X(){var K=cc(t,0,0,x,b,y).apply(null,e(s,o)),oe=cc(t,n-K[0],i-K[1],x,b,y);return m=zd(u,h,d),U=a7(e,oe),V=a7(m,U),I=uc(U,D),J()}function J(){return H=z=null,k}return function(){return e=r.apply(this,arguments),k.invert=e.invert&&Y,X()}}function AN(r){return function(e,t){var n=I1(e*e+t*t),i=r(n),s=et(i),o=ft(i);return[cr(e*s,n*o),O1(n&&t*s/n)]}}function F9(r,e){return[r,pE(gE((Tn+e)/2))]}F9.invert=function(r,e){return[r,2*R9(dE(e))-Tn]};function Xd(r,e){var t=ft(e),n=1+ft(r)*t;return[t*et(r)/n,et(e)/n]}Xd.invert=AN(function(r){return 2*R9(r)});function lN(){return oN(Xd).scale(250).clipAngle(142)}function f7(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function uN(r){if(Array.isArray(r))return r}function cN(r){if(Array.isArray(r))return f7(r)}function Co(r,e,t){if(typeof r=="function"?r===e:r.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function hN(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function fN(r,e,t){return e=Ma(e),TN(r,Zd()?Reflect.construct(e,[],Ma(r).constructor):e.apply(r,t))}function Kd(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dN(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function bt(r,e){return r.get(Co(r,e))}function ei(r,e,t){Kd(r,e),e.set(r,t)}function ti(r,e,t){return r.set(Co(r,e),t),t}function pN(r,e){Kd(r,e),e.add(r)}function mN(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,ep(n.key),n)}}function gN(r,e,t){return mN(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function q2(r,e,t){return(e=ep(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ma(r){return Ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ma(r)}function yN(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&d7(r,e)}function Zd(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zd=function(){return!!r})()}function vN(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function _N(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,o,u=[],h=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(h=(n=s.call(t)).done)&&(u.push(n.value),u.length!==e);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function xN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TN(r,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hN(r)}function d7(r,e){return d7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},d7(r,e)}function V3(r,e){return uN(r)||_N(r,e)||tp(r,e)||xN()}function Jd(r){return cN(r)||vN(r)||tp(r)||bN()}function wN(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function ep(r){var e=wN(r,"string");return typeof e=="symbol"?e:e+""}function tp(r,e){if(r){if(typeof r=="string")return f7(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f7(r,e):void 0}}var np=function(e){e instanceof Array?e.forEach(np):(e.map&&e.map.dispose(),e.dispose())},rp=function(e){e.geometry&&e.geometry.dispose(),e.material&&np(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(rp)},hc=function(e){if(e&&e.children)for(;e.children.length;){var t=e.children[0];e.remove(t),rp(t)}};function ip(r,e,t){var n=(90-r)*Math.PI/180,i=(90-e)*Math.PI/180;return{x:t*Math.sin(n)*Math.cos(i),y:t*Math.cos(n),z:t*Math.sin(n)*Math.sin(i)}}function SN(r){var e=r.x,t=r.y,n=r.z,i=Math.sqrt(e*e+t*t+n*n),s=Math.acos(t/i),o=Math.atan2(n,e);return{lat:90-s*180/Math.PI,lng:90-o*180/Math.PI-(o<-Math.PI/2?360:0),r:i}}function Fi(r){return r*Math.PI/180}var sp=function(e){return 1-(F9(0,(.5-e)*Math.PI)[1]/Math.PI+1)/2},N8=function(e){return Math.max(0,Math.min(1,sp(e)))},fc=function(e){return .5-F9.invert(0,(2*(1-e)-1)*Math.PI)[1]/Math.PI},EN=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=q1().domain([1,0]).range([t,n]).clamp(!0),s=q1().domain([N8(t),N8(n)]).range([1,0]).clamp(!0),o=function(y){return s(N8(i(y)))},u=e.array,h=0,d=u.length;h<d;h+=2)u[h+1]=o(u[h+1]);e.needsUpdate=!0},dc=function(e,t,n,i){var s=Math.pow(2,e),o=Math.max(0,Math.min(s-1,Math.floor((n+180)*s/360))),u=(90-i)/180;t&&(u=Math.max(0,Math.min(1,sp(u))));var h=Math.floor(u*s);return[o,h]},p7=function(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,u=[],h=Math.pow(2,e),d=360/h,m=180/h,y=s===void 0?h-1:s,x=o===void 0?h-1:o,b=n,w=Math.min(h-1,y);b<=w;b++)for(var S=i,N=Math.min(h-1,x);S<=N;S++){var C=S,P=m;if(t){C=S===0?S:fc(S/h)*h;var B=S+1===h?S+1:fc((S+1)/h)*h;P=(B-C)*180/h}var q=-180+(b+.5)*d,D=90-(C*180/h+P/2),I=P;u.push({x:b,y:S,lng:q,lat:D,latLen:I})}return u},NN=6,MN=7,RN=3,CN=90,Xr=new WeakMap,li=new WeakMap,M8=new WeakMap,K4=new WeakMap,nr=new WeakMap,Ra=new WeakMap,ps=new WeakMap,Li=new WeakMap,Z4=new WeakSet,PN=function(r){function e(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.tileUrl,o=i.minLevel,u=o===void 0?0:o,h=i.maxLevel,d=h===void 0?17:h,m=i.mercatorProjection,y=m===void 0?!0:m;return dN(this,e),n=fN(this,e),pN(n,Z4),ei(n,Xr,void 0),ei(n,li,void 0),ei(n,M8,void 0),ei(n,K4,void 0),ei(n,nr,{}),ei(n,Ra,void 0),ei(n,ps,void 0),ei(n,Li,void 0),q2(n,"minLevel",void 0),q2(n,"maxLevel",void 0),q2(n,"thresholds",Jd(new Array(30)).map(function(x,b){return 8/Math.pow(2,b)})),q2(n,"curvatureResolution",5),q2(n,"tileMargin",0),q2(n,"clearTiles",function(){Object.values(bt(nr,n)).forEach(function(x){x.forEach(function(b){b.obj&&(n.remove(b.obj),hc(b.obj),delete b.obj)})}),ti(nr,n,{})}),ti(Xr,n,t),n.tileUrl=s,ti(li,n,y),n.minLevel=u,n.maxLevel=d,n.level=0,n.add(ti(Li,n,new y0(new p2(bt(Xr,n)*.99,180,90),new N1({color:0})))),bt(Li,n).visible=!1,bt(Li,n).material.polygonOffset=!0,bt(Li,n).material.polygonOffsetUnits=3,bt(Li,n).material.polygonOffsetFactor=1,n}return yN(e,r),gN(e,[{key:"tileUrl",get:function(){return bt(M8,this)},set:function(n){ti(M8,this,n),this.updatePov(bt(ps,this))}},{key:"level",get:function(){return bt(K4,this)},set:function(n){var i=this;bt(nr,this)[n]||Co(Z4,this,BN).call(this,n);var s=bt(K4,this);if(ti(K4,this,n),!(n===s||s===void 0)){if(bt(Li,this).visible=n>0,bt(nr,this)[n].forEach(function(u){return u.obj&&(u.obj.material.depthWrite=!0)}),s<n&&bt(nr,this)[s].forEach(function(u){return u.obj&&(u.obj.material.depthWrite=!1)}),s>n)for(var o=n+1;o<=s;o++)bt(nr,this)[o]&&bt(nr,this)[o].forEach(function(u){u.obj&&(i.remove(u.obj),hc(u.obj),delete u.obj)});Co(Z4,this,pc).call(this)}}},{key:"updatePov",value:function(n){var i=this;if(!(!n||!(n instanceof r9))){ti(ps,this,n);var s;if(ti(Ra,this,function(m){if(!m.hullPnts){var y=360/Math.pow(2,i.level),x=m.lng,b=m.lat,w=m.latLen,S=x-y/2,N=x+y/2,C=b-w/2,P=b+w/2;m.hullPnts=[[b,x],[C,S],[P,S],[C,N],[P,N]].map(function(B){var q=V3(B,2),D=q[0],I=q[1];return ip(D,I,bt(Xr,i))}).map(function(B){var q=B.x,D=B.y,I=B.z;return new Ce(q,D,I)})}return s||(s=new wf,n.updateMatrix(),n.updateMatrixWorld(),s.setFromProjectionMatrix(new u0().multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse))),m.hullPnts.some(function(B){return s.containsPoint(B.clone().applyMatrix4(i.matrixWorld))})}),this.tileUrl){var o=n.position.clone(),u=o.distanceTo(this.getWorldPosition(new Ce)),h=(u-bt(Xr,this))/bt(Xr,this),d=this.thresholds.findIndex(function(m){return m&&m<=h});this.level=Math.min(this.maxLevel,Math.max(this.minLevel,d<0?this.thresholds.length:d)),Co(Z4,this,pc).call(this)}}}}])}(d1);function BN(r){var e=this;if(r>MN){bt(nr,this)[r]=[];return}var t=bt(nr,this)[r]=p7(r,bt(li,this));t.forEach(function(n){return n.centroid=ip(n.lat,n.lng,bt(Xr,e))}),t.octree=gd().x(function(n){return n.centroid.x}).y(function(n){return n.centroid.y}).z(function(n){return n.centroid.z}).addAll(t)}function pc(){var r=this;if(!(!this.tileUrl||this.level===void 0||!bt(nr,this).hasOwnProperty(this.level))&&!(!bt(Ra,this)&&this.level>NN)){var e=bt(nr,this)[this.level];if(bt(ps,this)){var t=this.worldToLocal(bt(ps,this).position.clone());if(e.octree){var n,i=this.worldToLocal(bt(ps,this).position.clone()),s=(i.length()-bt(Xr,this))*RN;e=(n=e.octree).findAllWithinRadius.apply(n,Jd(i).concat([s]))}else{var o=SN(t),u=(o.r/bt(Xr,this)-1)*CN,h=u/Math.cos(Fi(o.lat)),d=[o.lng-h,o.lng+h],m=[o.lat+u,o.lat-u],y=dc(this.level,bt(li,this),d[0],m[0]),x=V3(y,2),b=x[0],w=x[1],S=dc(this.level,bt(li,this),d[1],m[1]),N=V3(S,2),C=N[0],P=N[1];!e.record&&(e.record={});var B=e.record;if(!B.hasOwnProperty("".concat(Math.round((b+C)/2),"_").concat(Math.round((w+P)/2))))e=p7(this.level,bt(li,this),b,w,C,P).map(function(V){var H="".concat(V.x,"_").concat(V.y);return B.hasOwnProperty(H)?B[H]:(B[H]=V,e.push(V),V)});else{for(var q=[],D=b;D<=C;D++)for(var I=w;I<=P;I++){var U="".concat(D,"_").concat(I);B.hasOwnProperty(U)||(B[U]=p7(this.level,bt(li,this),D,I,D,I)[0],e.push(B[U])),q.push(B[U])}e=q}}}e.filter(function(V){return!V.obj}).filter(bt(Ra,this)||function(){return!0}).forEach(function(V){var H=V.x,z=V.y,k=V.lng,Y=V.lat,X=V.latLen,J=360/Math.pow(2,r.level);if(!V.obj){var K=J*(1-r.tileMargin),oe=X*(1-r.tileMargin),ce=Fi(k),de=Fi(-Y),ve=new y0(new p2(bt(Xr,r),Math.ceil(K/r.curvatureResolution),Math.ceil(oe/r.curvatureResolution),Fi(90-K/2)+ce,Fi(K),Fi(90-oe/2)+de,Fi(oe)),new H1);if(bt(li,r)){var Me=[Y+X/2,Y-X/2].map(function(dt){return .5-dt/180}),Be=V3(Me,2),Oe=Be[0],ke=Be[1];EN(ve.geometry.attributes.uv,Oe,ke)}V.obj=ve}V.loading||(V.loading=!0,new Sf().load(r.tileUrl(H,z,r.level),function(dt){var vt=V.obj;vt&&(dt.colorSpace=e5,vt.material.map=dt,vt.material.color=null,vt.material.needsUpdate=!0,r.add(vt)),V.loading=!1}))})}}function DN(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let s=op(r,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let u,h,d;if(n&&(s=ON(r,e,s,t)),r.length>80*t){u=1/0,h=1/0;let m=-1/0,y=-1/0;for(let x=t;x<i;x+=t){const b=r[x],w=r[x+1];b<u&&(u=b),w<h&&(h=w),b>m&&(m=b),w>y&&(y=w)}d=Math.max(m-u,y-h),d=d!==0?32767/d:0}return Wo(s,o,t,u,h,d,0),o}function op(r,e,t,n,i){let s;if(i===YN(r,e,t,n)>0)for(let o=e;o<t;o+=n)s=mc(o/n|0,r[o],r[o+1],s);else for(let o=t-n;o>=e;o-=n)s=mc(o/n|0,r[o],r[o+1],s);return s&&Ts(s,s.next)&&(Yo(s),s=s.next),s}function h2(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(Ts(t,t.next)||c0(t.prev,t,t.next)===0)){if(Yo(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Wo(r,e,t,n,i,s,o){if(!r)return;!o&&s&&zN(r,n,i,s);let u=r;for(;r.prev!==r.next;){const h=r.prev,d=r.next;if(s?LN(r,n,i,s):FN(r)){e.push(h.i,r.i,d.i),Yo(r),r=d.next,u=d.next;continue}if(r=d,r===u){o?o===1?(r=qN(h2(r),e),Wo(r,e,t,n,i,s,2)):o===2&&IN(r,e,t,n,i,s):Wo(h2(r),e,t,n,i,s,1);break}}}function FN(r){const e=r.prev,t=r,n=r.next;if(c0(e,t,n)>=0)return!1;const i=e.x,s=t.x,o=n.x,u=e.y,h=t.y,d=n.y,m=Math.min(i,s,o),y=Math.min(u,h,d),x=Math.max(i,s,o),b=Math.max(u,h,d);let w=n.next;for(;w!==e;){if(w.x>=m&&w.x<=x&&w.y>=y&&w.y<=b&&yo(i,u,s,h,o,d,w.x,w.y)&&c0(w.prev,w,w.next)>=0)return!1;w=w.next}return!0}function LN(r,e,t,n){const i=r.prev,s=r,o=r.next;if(c0(i,s,o)>=0)return!1;const u=i.x,h=s.x,d=o.x,m=i.y,y=s.y,x=o.y,b=Math.min(u,h,d),w=Math.min(m,y,x),S=Math.max(u,h,d),N=Math.max(m,y,x),C=m7(b,w,e,t,n),P=m7(S,N,e,t,n);let B=r.prevZ,q=r.nextZ;for(;B&&B.z>=C&&q&&q.z<=P;){if(B.x>=b&&B.x<=S&&B.y>=w&&B.y<=N&&B!==i&&B!==o&&yo(u,m,h,y,d,x,B.x,B.y)&&c0(B.prev,B,B.next)>=0||(B=B.prevZ,q.x>=b&&q.x<=S&&q.y>=w&&q.y<=N&&q!==i&&q!==o&&yo(u,m,h,y,d,x,q.x,q.y)&&c0(q.prev,q,q.next)>=0))return!1;q=q.nextZ}for(;B&&B.z>=C;){if(B.x>=b&&B.x<=S&&B.y>=w&&B.y<=N&&B!==i&&B!==o&&yo(u,m,h,y,d,x,B.x,B.y)&&c0(B.prev,B,B.next)>=0)return!1;B=B.prevZ}for(;q&&q.z<=P;){if(q.x>=b&&q.x<=S&&q.y>=w&&q.y<=N&&q!==i&&q!==o&&yo(u,m,h,y,d,x,q.x,q.y)&&c0(q.prev,q,q.next)>=0)return!1;q=q.nextZ}return!0}function qN(r,e){let t=r;do{const n=t.prev,i=t.next.next;!Ts(n,i)&&Ap(n,t,t.next,i)&&Qo(n,i)&&Qo(i,n)&&(e.push(n.i,t.i,i.i),Yo(t),Yo(t.next),t=r=i),t=t.next}while(t!==r);return h2(t)}function IN(r,e,t,n,i,s){let o=r;do{let u=o.next.next;for(;u!==o.prev;){if(o.i!==u.i&&$N(o,u)){let h=lp(o,u);o=h2(o,o.next),h=h2(h,h.next),Wo(o,e,t,n,i,s,0),Wo(h,e,t,n,i,s,0);return}u=u.next}o=o.next}while(o!==r)}function ON(r,e,t,n){const i=[];for(let s=0,o=e.length;s<o;s++){const u=e[s]*n,h=s<o-1?e[s+1]*n:r.length,d=op(r,u,h,n,!1);d===d.next&&(d.steiner=!0),i.push(jN(d))}i.sort(kN);for(let s=0;s<i.length;s++)t=UN(i[s],t);return t}function kN(r,e){let t=r.x-e.x;if(t===0&&(t=r.y-e.y,t===0)){const n=(r.next.y-r.y)/(r.next.x-r.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=n-i}return t}function UN(r,e){const t=GN(r,e);if(!t)return e;const n=lp(t,r);return h2(n,n.next),h2(t,t.next)}function GN(r,e){let t=e;const n=r.x,i=r.y;let s=-1/0,o;if(Ts(r,t))return t;do{if(Ts(r,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const y=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=n&&y>s&&(s=y,o=t.x<t.next.x?t:t.next,y===n))return o}t=t.next}while(t!==e);if(!o)return null;const u=o,h=o.x,d=o.y;let m=1/0;t=o;do{if(n>=t.x&&t.x>=h&&n!==t.x&&ap(i<d?n:s,i,h,d,i<d?s:n,i,t.x,t.y)){const y=Math.abs(i-t.y)/(n-t.x);Qo(t,r)&&(y<m||y===m&&(t.x>o.x||t.x===o.x&&VN(o,t)))&&(o=t,m=y)}t=t.next}while(t!==u);return o}function VN(r,e){return c0(r.prev,r,e.prev)<0&&c0(e.next,r,r.next)<0}function zN(r,e,t,n){let i=r;do i.z===0&&(i.z=m7(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,HN(i)}function HN(r){let e,t=1;do{let n=r,i;r=null;let s=null;for(e=0;n;){e++;let o=n,u=0;for(let d=0;d<t&&(u++,o=o.nextZ,!!o);d++);let h=t;for(;u>0||h>0&&o;)u!==0&&(h===0||!o||n.z<=o.z)?(i=n,n=n.nextZ,u--):(i=o,o=o.nextZ,h--),s?s.nextZ=i:r=i,i.prevZ=s,s=i;n=o}s.nextZ=null,t*=2}while(e>1);return r}function m7(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function jN(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function ap(r,e,t,n,i,s,o,u){return(i-o)*(e-u)>=(r-o)*(s-u)&&(r-o)*(n-u)>=(t-o)*(e-u)&&(t-o)*(s-u)>=(i-o)*(n-u)}function yo(r,e,t,n,i,s,o,u){return!(r===o&&e===u)&&ap(r,e,t,n,i,s,o,u)}function $N(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!WN(r,e)&&(Qo(r,e)&&Qo(e,r)&&QN(r,e)&&(c0(r.prev,r,e.prev)||c0(r,e.prev,e))||Ts(r,e)&&c0(r.prev,r,r.next)>0&&c0(e.prev,e,e.next)>0)}function c0(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function Ts(r,e){return r.x===e.x&&r.y===e.y}function Ap(r,e,t,n){const i=e3(c0(r,e,t)),s=e3(c0(r,e,n)),o=e3(c0(t,n,r)),u=e3(c0(t,n,e));return!!(i!==s&&o!==u||i===0&&J4(r,t,e)||s===0&&J4(r,n,e)||o===0&&J4(t,r,n)||u===0&&J4(t,e,n))}function J4(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function e3(r){return r>0?1:r<0?-1:0}function WN(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&Ap(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function Qo(r,e){return c0(r.prev,r,r.next)<0?c0(r,e,r.next)>=0&&c0(r,r.prev,e)>=0:c0(r,e,r.prev)<0||c0(r,r.next,e)<0}function QN(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,s=(r.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function lp(r,e){const t=g7(r.i,r.x,r.y),n=g7(e.i,e.x,e.y),i=r.next,s=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function mc(r,e,t,n){const i=g7(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Yo(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function g7(r,e,t){return{i:r,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function YN(r,e,t,n){let i=0;for(let s=e,o=t-n;s<t;s+=n)i+=(r[o]-r[s])*(r[s+1]+r[o+1]),o=s;return i}function Ca(r){const e=[],t=[],n=r[0][0].length;let i=0,s=0;for(const o of r){for(const u of o)for(let h=0;h<n;h++)e.push(u[h]);s&&(i+=s,t.push(i)),s=o.length}return{vertices:e,holes:t,dimensions:n}}function y7(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function XN(r){if(Array.isArray(r))return r}function KN(r){if(Array.isArray(r))return y7(r)}function ZN(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function JN(r,e,t){return e=Pa(e),AM(r,up()?Reflect.construct(e,[],Pa(r).constructor):e.apply(r,t))}function eM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function tM(r,e,t){return Object.defineProperty(r,"prototype",{writable:!1}),r}function nM(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=L9(r))||e){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(h){throw h},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var h=t.next();return o=h.done,h},e:function(h){u=!0,s=h},f:function(){try{o||t.return==null||t.return()}finally{if(u)throw s}}}}function Pa(r){return Pa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pa(r)}function rM(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&v7(r,e)}function up(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(up=function(){return!!r})()}function iM(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function sM(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,o,u=[],h=!0,d=!1;try{if(s=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(n=s.call(t)).done)&&(u.push(n.value),u.length!==e);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function oM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AM(r,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZN(r)}function v7(r,e){return v7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},v7(r,e)}function Ws(r,e){return XN(r)||sM(r,e)||L9(r,e)||oM()}function lM(r){return KN(r)||iM(r)||L9(r)||aM()}function L9(r,e){if(r){if(typeof r=="string")return y7(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y7(r,e):void 0}}var gc=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,n=[],i=null;return e.forEach(function(s){if(i){var o=bi(s,i)*180/Math.PI;if(o>t)for(var u=P9(i,s),h=i.length>2||s.length>2?jo(i[2]||0,s[2]||0):null,d=h?function(x){return[].concat(lM(u(x)),[h(x)])}:u,m=1/Math.ceil(o/t),y=m;y<1;)n.push(d(y)),y+=m}n.push(i=s)}),n},_7=typeof window<"u"&&window.THREE?window.THREE:{BufferGeometry:pr,Float32BufferAttribute:xi},uM=new _7.BufferGeometry().setAttribute?"setAttribute":"addAttribute",cp=function(r){function e(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;eM(this,e),n=JN(this,e),n.type="GeoJsonGeometry",n.parameters={geoJson:t,radius:i,resolution:s};var o=({Point:m,MultiPoint:y,LineString:x,MultiLineString:b,Polygon:w,MultiPolygon:S}[t.type]||function(){return[]})(t.coordinates,i),u=[],h=[],d=0;o.forEach(function(N){var C=u.length;Qs({indices:u,vertices:h},N),n.addGroup(C,u.length-C,d++)}),u.length&&n.setIndex(u),h.length&&n[uM]("position",new _7.Float32BufferAttribute(h,3));function m(N,C){var P=R8(N[1],N[0],C+(N[2]||0)),B=[];return[{vertices:P,indices:B}]}function y(N,C){var P={vertices:[],indices:[]};return N.map(function(B){return m(B,C)}).forEach(function(B){var q=Ws(B,1),D=q[0];Qs(P,D)}),[P]}function x(N,C){for(var P=gc(N,s).map(function(V){var H=Ws(V,3),z=H[0],k=H[1],Y=H[2],X=Y===void 0?0:Y;return R8(k,z,C+X)}),B=Ca([P]),q=B.vertices,D=Math.round(q.length/3),I=[],U=1;U<D;U++)I.push(U-1,U);return[{vertices:q,indices:I}]}function b(N,C){var P={vertices:[],indices:[]};return N.map(function(B){return x(B,C)}).forEach(function(B){var q=Ws(B,1),D=q[0];Qs(P,D)}),[P]}function w(N,C){for(var P=N.map(function(K){return gc(K,s).map(function(oe){var ce=Ws(oe,3),de=ce[0],ve=ce[1],Me=ce[2],Be=Me===void 0?0:Me;return R8(ve,de,C+Be)})}),B=Ca(P),q=B.vertices,D=B.holes,I=D[0]||1/0,U=q.slice(0,I*3),V=q.slice(I*3),H=new Set(D),z=Math.round(q.length/3),k=[],Y=[],X=1;X<z;X++)H.has(X)||(X<I?k.push(X-1,X):Y.push(X-1-I,X-I));var J=[{indices:k,vertices:U}];return D.length&&J.push({indices:Y,vertices:V}),J}function S(N,C){var P={vertices:[],indices:[]},B={vertices:[],indices:[]};N.map(function(D){return w(D,C)}).forEach(function(D){var I=Ws(D,2),U=I[0],V=I[1];Qs(P,U),V&&Qs(B,V)});var q=[P];return B.vertices.length&&q.push(B),q}return n}return rM(e,r),tM(e)}(_7.BufferGeometry);function Qs(r,e){var t=Math.round(r.vertices.length/3);yc(r.vertices,e.vertices),yc(r.indices,e.indices.map(function(n){return n+t}))}function yc(r,e){var t=nM(e),n;try{for(t.s();!(n=t.n()).done;){var i=n.value;r.push(i)}}catch(s){t.e(s)}finally{t.f()}}function R8(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=(90-r)*Math.PI/180,i=(90-e)*Math.PI/180;return[t*Math.sin(n)*Math.cos(i),t*Math.cos(n),t*Math.sin(n)*Math.sin(i)]}function cM(r,e,t=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!r.hasAttribute("position")||!r.hasAttribute("normal")||!r.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function n(o){if(o.normalized||o.isInterleavedBufferAttribute){const u=new Float32Array(o.count*o.itemSize);for(let h=0,d=0;h<o.count;h++)u[d++]=o.getX(h),u[d++]=o.getY(h),o.itemSize>2&&(u[d++]=o.getZ(h));return u}return o.array instanceof Float32Array?o.array:new Float32Array(o.array)}const i=r.index?r.toNonIndexed():r,s=e.generateTangents(n(i.attributes.position),n(i.attributes.normal),n(i.attributes.uv));if(t)for(let o=3;o<s.length;o+=4)s[o]*=-1;return i.setAttribute("tangent",new Cr(s,4)),r!==i&&r.copy(i),r}function hM(r,e=!1){const t=r[0].index!==null,n=new Set(Object.keys(r[0].attributes)),i=new Set(Object.keys(r[0].morphAttributes)),s={},o={},u=r[0].morphTargetsRelative,h=new pr;let d=0;for(let m=0;m<r.length;++m){const y=r[m];let x=0;if(t!==(y.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+m+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const b in y.attributes){if(!n.has(b))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+m+'. All geometries must have compatible attributes; make sure "'+b+'" attribute exists among all geometries, or in none of them.'),null;s[b]===void 0&&(s[b]=[]),s[b].push(y.attributes[b]),x++}if(x!==n.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+m+". Make sure all geometries have the same number of attributes."),null;if(u!==y.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+m+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const b in y.morphAttributes){if(!i.has(b))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+m+".  .morphAttributes must be consistent throughout all geometries."),null;o[b]===void 0&&(o[b]=[]),o[b].push(y.morphAttributes[b])}if(e){let b;if(t)b=y.index.count;else if(y.attributes.position!==void 0)b=y.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+m+". The geometry must have either an index or a position attribute"),null;h.addGroup(d,b,m),d+=b}}if(t){let m=0;const y=[];for(let x=0;x<r.length;++x){const b=r[x].index;for(let w=0;w<b.count;++w)y.push(b.getX(w)+m);m+=r[x].attributes.position.count}h.setIndex(y)}for(const m in s){const y=x7(s[m]);if(!y)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+m+" attribute."),null;h.setAttribute(m,y)}for(const m in o){const y=o[m][0].length;if(y===0)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[m]=[];for(let x=0;x<y;++x){const b=[];for(let S=0;S<o[m].length;++S)b.push(o[m][S][x]);const w=x7(b);if(!w)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+m+" morphAttribute."),null;h.morphAttributes[m].push(w)}}return h}function x7(r){let e,t,n,i=-1,s=0;for(let d=0;d<r.length;++d){const m=r[d];if(e===void 0&&(e=m.array.constructor),e!==m.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=m.itemSize),t!==m.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(n===void 0&&(n=m.normalized),n!==m.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(i===-1&&(i=m.gpuType),i!==m.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;s+=m.count*t}const o=new e(s),u=new Cr(o,t,n);let h=0;for(let d=0;d<r.length;++d){const m=r[d];if(m.isInterleavedBufferAttribute){const y=h/t;for(let x=0,b=m.count;x<b;x++)for(let w=0;w<t;w++){const S=m.getComponent(x,w);u.setComponent(x+y,w,S)}}else o.set(m.array,h);h+=m.count*t}return i!==void 0&&(u.gpuType=i),u}function fM(r){return r.isInstancedInterleavedBufferAttribute||r.isInterleavedBufferAttribute?Ba(r):r.isInstancedBufferAttribute?new pi().copy(r):new Cr().copy(r)}function dM(r){let e,t=0,n=0;for(let d=0,m=r.length;d<m;++d){const y=r[d];if(e===void 0&&(e=y.array.constructor),e!==y.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;t+=y.array.length,n+=y.itemSize}const i=new Ef(new e(t),n);let s=0;const o=[],u=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"];for(let d=0,m=r.length;d<m;d++){const y=r[d],x=y.itemSize,b=y.count,w=new fi(i,x,s,y.normalized);o.push(w),s+=x;for(let S=0;S<b;S++)for(let N=0;N<x;N++)w[h[N]](S,y[u[N]](S))}return o}function Ba(r){const e=r.data.array.constructor,t=r.count,n=r.itemSize,i=r.normalized,s=new e(t*n);let o;r.isInstancedInterleavedBufferAttribute?o=new pi(s,n,i,r.meshPerAttribute):o=new Cr(s,n,i);for(let u=0;u<t;u++)o.setX(u,r.getX(u)),n>=2&&o.setY(u,r.getY(u)),n>=3&&o.setZ(u,r.getZ(u)),n>=4&&o.setW(u,r.getW(u));return o}function pM(r){const e=r.attributes,t=r.morphTargets,n=new Map;for(const i in e){const s=e[i];s.isInterleavedBufferAttribute&&(n.has(s)||n.set(s,Ba(s)),e[i]=n.get(s))}for(const i in t){const s=t[i];s.isInterleavedBufferAttribute&&(n.has(s)||n.set(s,Ba(s)),t[i]=n.get(s))}}function mM(r){let e=0;for(const n in r.attributes){const i=r.getAttribute(n);e+=i.count*i.itemSize*i.array.BYTES_PER_ELEMENT}const t=r.getIndex();return e+=t?t.count*t.itemSize*t.array.BYTES_PER_ELEMENT:0,e}function gM(r,e=1e-4){e=Math.max(e,Number.EPSILON);const t={},n=r.getIndex(),i=r.getAttribute("position"),s=n?n.count:i.count;let o=0;const u=Object.keys(r.attributes),h={},d={},m=[],y=["getX","getY","getZ","getW"],x=["setX","setY","setZ","setW"];for(let P=0,B=u.length;P<B;P++){const q=u[P],D=r.attributes[q];h[q]=new D.constructor(new D.array.constructor(D.count*D.itemSize),D.itemSize,D.normalized);const I=r.morphAttributes[q];I&&(d[q]||(d[q]=[]),I.forEach((U,V)=>{const H=new U.array.constructor(U.count*U.itemSize);d[q][V]=new U.constructor(H,U.itemSize,U.normalized)}))}const b=e*.5,w=Math.log10(1/e),S=Math.pow(10,w),N=b*S;for(let P=0;P<s;P++){const B=n?n.getX(P):P;let q="";for(let D=0,I=u.length;D<I;D++){const U=u[D],V=r.getAttribute(U),H=V.itemSize;for(let z=0;z<H;z++)q+=`${~~(V[y[z]](B)*S+N)},`}if(q in t)m.push(t[q]);else{for(let D=0,I=u.length;D<I;D++){const U=u[D],V=r.getAttribute(U),H=r.morphAttributes[U],z=V.itemSize,k=h[U],Y=d[U];for(let X=0;X<z;X++){const J=y[X],K=x[X];if(k[K](o,V[J](B)),H)for(let oe=0,ce=H.length;oe<ce;oe++)Y[oe][K](o,H[oe][J](B))}}t[q]=o,m.push(o),o++}}const C=r.clone();for(const P in r.attributes){const B=h[P];if(C.setAttribute(P,new B.constructor(B.array.slice(0,o*B.itemSize),B.itemSize,B.normalized)),P in d)for(let q=0;q<d[P].length;q++){const D=d[P][q];C.morphAttributes[P][q]=new D.constructor(D.array.slice(0,o*D.itemSize),D.itemSize,D.normalized)}}return C.setIndex(m),C}function yM(r,e){if(e===Ob)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(e===iu||e===kb){let t=r.getIndex();if(t===null){const o=[],u=r.getAttribute("position");if(u!==void 0){for(let h=0;h<u.count;h++)o.push(h);r.setIndex(o),t=r.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r}const n=t.count-2,i=[];if(e===iu)for(let o=1;o<=n;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<n;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==n&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=r.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),r}function vM(r){const e=new Ce,t=new Ce,n=new Ce,i=new Ce,s=new Ce,o=new Ce,u=new Ce,h=new Ce,d=new Ce;function m(ve,Me,Be,Oe,ke,dt,vt,Ft){e.fromBufferAttribute(Me,ke),t.fromBufferAttribute(Me,dt),n.fromBufferAttribute(Me,vt);const w0=ve.morphTargetInfluences;if(Be&&w0){u.set(0,0,0),h.set(0,0,0),d.set(0,0,0);for(let L0=0,Nt=Be.length;L0<Nt;L0++){const Ct=w0[L0],Jt=Be[L0];Ct!==0&&(i.fromBufferAttribute(Jt,ke),s.fromBufferAttribute(Jt,dt),o.fromBufferAttribute(Jt,vt),Oe?(u.addScaledVector(i,Ct),h.addScaledVector(s,Ct),d.addScaledVector(o,Ct)):(u.addScaledVector(i.sub(e),Ct),h.addScaledVector(s.sub(t),Ct),d.addScaledVector(o.sub(n),Ct)))}e.add(u),t.add(h),n.add(d)}ve.isSkinnedMesh&&(ve.applyBoneTransform(ke,e),ve.applyBoneTransform(dt,t),ve.applyBoneTransform(vt,n)),Ft[ke*3+0]=e.x,Ft[ke*3+1]=e.y,Ft[ke*3+2]=e.z,Ft[dt*3+0]=t.x,Ft[dt*3+1]=t.y,Ft[dt*3+2]=t.z,Ft[vt*3+0]=n.x,Ft[vt*3+1]=n.y,Ft[vt*3+2]=n.z}const y=r.geometry,x=r.material;let b,w,S;const N=y.index,C=y.attributes.position,P=y.morphAttributes.position,B=y.morphTargetsRelative,q=y.attributes.normal,D=y.morphAttributes.position,I=y.groups,U=y.drawRange;let V,H,z,k,Y,X,J;const K=new Float32Array(C.count*C.itemSize),oe=new Float32Array(q.count*q.itemSize);if(N!==null)if(Array.isArray(x))for(V=0,z=I.length;V<z;V++)for(Y=I[V],X=Math.max(Y.start,U.start),J=Math.min(Y.start+Y.count,U.start+U.count),H=X,k=J;H<k;H+=3)b=N.getX(H),w=N.getX(H+1),S=N.getX(H+2),m(r,C,P,B,b,w,S,K),m(r,q,D,B,b,w,S,oe);else for(X=Math.max(0,U.start),J=Math.min(N.count,U.start+U.count),V=X,z=J;V<z;V+=3)b=N.getX(V),w=N.getX(V+1),S=N.getX(V+2),m(r,C,P,B,b,w,S,K),m(r,q,D,B,b,w,S,oe);else if(Array.isArray(x))for(V=0,z=I.length;V<z;V++)for(Y=I[V],X=Math.max(Y.start,U.start),J=Math.min(Y.start+Y.count,U.start+U.count),H=X,k=J;H<k;H+=3)b=H,w=H+1,S=H+2,m(r,C,P,B,b,w,S,K),m(r,q,D,B,b,w,S,oe);else for(X=Math.max(0,U.start),J=Math.min(C.count,U.start+U.count),V=X,z=J;V<z;V+=3)b=V,w=V+1,S=V+2,m(r,C,P,B,b,w,S,K),m(r,q,D,B,b,w,S,oe);const ce=new xi(K,3),de=new xi(oe,3);return{positionAttribute:C,normalAttribute:q,morphedPositionAttribute:ce,morphedNormalAttribute:de}}function _M(r){if(r.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),r;let e=r.groups;if(e=e.sort((o,u)=>o.materialIndex!==u.materialIndex?o.materialIndex-u.materialIndex:o.start-u.start),r.getIndex()===null){const o=r.getAttribute("position"),u=[];for(let h=0;h<o.count;h+=3)u.push(h,h+1,h+2);r.setIndex(u)}const t=r.getIndex(),n=[];for(let o=0;o<e.length;o++){const u=e[o],h=u.start,d=h+u.count;for(let m=h;m<d;m++)n.push(t.getX(m))}r.dispose(),r.setIndex(n);let i=0;for(let o=0;o<e.length;o++){const u=e[o];u.start=i,i+=u.count}let s=e[0];r.groups=[s];for(let o=1;o<e.length;o++){const u=e[o];s.materialIndex===u.materialIndex?s.count+=u.count:(s=u,r.groups.push(s))}return r}function xM(r,e=Math.PI/3){const t=Math.cos(e),n=(1+1e-10)*100,i=[new Ce,new Ce,new Ce],s=new Ce,o=new Ce,u=new Ce,h=new Ce;function d(S){const N=~~(S.x*n),C=~~(S.y*n),P=~~(S.z*n);return`${N},${C},${P}`}const m=r.index?r.toNonIndexed():r,y=m.attributes.position,x={};for(let S=0,N=y.count/3;S<N;S++){const C=3*S,P=i[0].fromBufferAttribute(y,C+0),B=i[1].fromBufferAttribute(y,C+1),q=i[2].fromBufferAttribute(y,C+2);s.subVectors(q,B),o.subVectors(P,B);const D=new Ce().crossVectors(s,o).normalize();for(let I=0;I<3;I++){const U=i[I],V=d(U);V in x||(x[V]=[]),x[V].push(D)}}const b=new Float32Array(y.count*3),w=new Cr(b,3,!1);for(let S=0,N=y.count/3;S<N;S++){const C=3*S,P=i[0].fromBufferAttribute(y,C+0),B=i[1].fromBufferAttribute(y,C+1),q=i[2].fromBufferAttribute(y,C+2);s.subVectors(q,B),o.subVectors(P,B),u.crossVectors(s,o).normalize();for(let D=0;D<3;D++){const I=i[D],U=d(I),V=x[U];h.set(0,0,0);for(let H=0,z=V.length;H<z;H++){const k=V[H];u.dot(k)>t&&h.add(k)}h.normalize(),w.setXYZ(C+D,h.x,h.y,h.z)}}return m.setAttribute("normal",w),m}const q9=Object.freeze(Object.defineProperty({__proto__:null,computeMikkTSpaceTangents:cM,computeMorphedAttributes:vM,deepCloneAttribute:fM,deinterleaveAttribute:Ba,deinterleaveGeometry:pM,estimateBytesUsed:mM,interleaveAttributes:dM,mergeAttributes:x7,mergeGeometries:hM,mergeGroups:_M,mergeVertices:gM,toCreasedNormals:xM,toTrianglesDrawMode:yM},Symbol.toStringTag,{value:"Module"}));var Se=function(r){return typeof r=="function"?r:typeof r=="string"?function(e){return e[r]}:function(e){return r}};function Da(r){"@babel/helpers - typeof";return Da=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(r)}var bM=/^\s+/,TM=/\s+$/;function je(r,e){if(r=r||"",e=e||{},r instanceof je)return r;if(!(this instanceof je))return new je(r,e);var t=wM(r);this._originalInput=r,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}je.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,n,i,s,o,u;return t=e.r/255,n=e.g/255,i=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?u=i/12.92:u=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*u},setAlpha:function(e){return this._a=hp(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=_c(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=_c(this._r,this._g,this._b),t=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=vc(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=vc(this._r,this._g,this._b),t=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return xc(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return MM(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(a0(this._r,255)*100)+"%",g:Math.round(a0(this._g,255)*100)+"%",b:Math.round(a0(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(a0(this._r,255)*100)+"%, "+Math.round(a0(this._g,255)*100)+"%, "+Math.round(a0(this._b,255)*100)+"%)":"rgba("+Math.round(a0(this._r,255)*100)+"%, "+Math.round(a0(this._g,255)*100)+"%, "+Math.round(a0(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:UM[xc(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+bc(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=je(e);n="#"+bc(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,s=!t&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return je(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(BM,arguments)},brighten:function(){return this._applyModification(DM,arguments)},darken:function(){return this._applyModification(FM,arguments)},desaturate:function(){return this._applyModification(RM,arguments)},saturate:function(){return this._applyModification(CM,arguments)},greyscale:function(){return this._applyModification(PM,arguments)},spin:function(){return this._applyModification(LM,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(OM,arguments)},complement:function(){return this._applyCombination(qM,arguments)},monochromatic:function(){return this._applyCombination(kM,arguments)},splitcomplement:function(){return this._applyCombination(IM,arguments)},triad:function(){return this._applyCombination(Tc,[3])},tetrad:function(){return this._applyCombination(Tc,[4])}};je.fromRatio=function(r,e){if(Da(r)=="object"){var t={};for(var n in r)r.hasOwnProperty(n)&&(n==="a"?t[n]=r[n]:t[n]=vo(r[n]));r=t}return je(r,e)};function wM(r){var e={r:0,g:0,b:0},t=1,n=null,i=null,s=null,o=!1,u=!1;return typeof r=="string"&&(r=HM(r)),Da(r)=="object"&&(b1(r.r)&&b1(r.g)&&b1(r.b)?(e=SM(r.r,r.g,r.b),o=!0,u=String(r.r).substr(-1)==="%"?"prgb":"rgb"):b1(r.h)&&b1(r.s)&&b1(r.v)?(n=vo(r.s),i=vo(r.v),e=NM(r.h,n,i),o=!0,u="hsv"):b1(r.h)&&b1(r.s)&&b1(r.l)&&(n=vo(r.s),s=vo(r.l),e=EM(r.h,n,s),o=!0,u="hsl"),r.hasOwnProperty("a")&&(t=r.a)),t=hp(t),{ok:o,format:r.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function SM(r,e,t){return{r:a0(r,255)*255,g:a0(e,255)*255,b:a0(t,255)*255}}function vc(r,e,t){r=a0(r,255),e=a0(e,255),t=a0(t,255);var n=Math.max(r,e,t),i=Math.min(r,e,t),s,o,u=(n+i)/2;if(n==i)s=o=0;else{var h=n-i;switch(o=u>.5?h/(2-n-i):h/(n+i),n){case r:s=(e-t)/h+(e<t?6:0);break;case e:s=(t-r)/h+2;break;case t:s=(r-e)/h+4;break}s/=6}return{h:s,s:o,l:u}}function EM(r,e,t){var n,i,s;r=a0(r,360),e=a0(e,100),t=a0(t,100);function o(d,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?d+(m-d)*6*y:y<1/2?m:y<2/3?d+(m-d)*(2/3-y)*6:d}if(e===0)n=i=s=t;else{var u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;n=o(h,u,r+1/3),i=o(h,u,r),s=o(h,u,r-1/3)}return{r:n*255,g:i*255,b:s*255}}function _c(r,e,t){r=a0(r,255),e=a0(e,255),t=a0(t,255);var n=Math.max(r,e,t),i=Math.min(r,e,t),s,o,u=n,h=n-i;if(o=n===0?0:h/n,n==i)s=0;else{switch(n){case r:s=(e-t)/h+(e<t?6:0);break;case e:s=(t-r)/h+2;break;case t:s=(r-e)/h+4;break}s/=6}return{h:s,s:o,v:u}}function NM(r,e,t){r=a0(r,360)*6,e=a0(e,100),t=a0(t,100);var n=Math.floor(r),i=r-n,s=t*(1-e),o=t*(1-i*e),u=t*(1-(1-i)*e),h=n%6,d=[t,o,s,s,u,t][h],m=[u,t,t,o,s,s][h],y=[s,s,u,t,t,o][h];return{r:d*255,g:m*255,b:y*255}}function xc(r,e,t,n){var i=[Mr(Math.round(r).toString(16)),Mr(Math.round(e).toString(16)),Mr(Math.round(t).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function MM(r,e,t,n,i){var s=[Mr(Math.round(r).toString(16)),Mr(Math.round(e).toString(16)),Mr(Math.round(t).toString(16)),Mr(fp(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function bc(r,e,t,n){var i=[Mr(fp(n)),Mr(Math.round(r).toString(16)),Mr(Math.round(e).toString(16)),Mr(Math.round(t).toString(16))];return i.join("")}je.equals=function(r,e){return!r||!e?!1:je(r).toRgbString()==je(e).toRgbString()};je.random=function(){return je.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function RM(r,e){e=e===0?0:e||10;var t=je(r).toHsl();return t.s-=e/100,t.s=a5(t.s),je(t)}function CM(r,e){e=e===0?0:e||10;var t=je(r).toHsl();return t.s+=e/100,t.s=a5(t.s),je(t)}function PM(r){return je(r).desaturate(100)}function BM(r,e){e=e===0?0:e||10;var t=je(r).toHsl();return t.l+=e/100,t.l=a5(t.l),je(t)}function DM(r,e){e=e===0?0:e||10;var t=je(r).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),je(t)}function FM(r,e){e=e===0?0:e||10;var t=je(r).toHsl();return t.l-=e/100,t.l=a5(t.l),je(t)}function LM(r,e){var t=je(r).toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,je(t)}function qM(r){var e=je(r).toHsl();return e.h=(e.h+180)%360,je(e)}function Tc(r,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=je(r).toHsl(),n=[je(r)],i=360/e,s=1;s<e;s++)n.push(je({h:(t.h+s*i)%360,s:t.s,l:t.l}));return n}function IM(r){var e=je(r).toHsl(),t=e.h;return[je(r),je({h:(t+72)%360,s:e.s,l:e.l}),je({h:(t+216)%360,s:e.s,l:e.l})]}function OM(r,e,t){e=e||6,t=t||30;var n=je(r).toHsl(),i=360/t,s=[je(r)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(je(n));return s}function kM(r,e){e=e||6;for(var t=je(r).toHsv(),n=t.h,i=t.s,s=t.v,o=[],u=1/e;e--;)o.push(je({h:n,s:i,v:s})),s=(s+u)%1;return o}je.mix=function(r,e,t){t=t===0?0:t||50;var n=je(r).toRgb(),i=je(e).toRgb(),s=t/100,o={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return je(o)};je.readability=function(r,e){var t=je(r),n=je(e);return(Math.max(t.getLuminance(),n.getLuminance())+.05)/(Math.min(t.getLuminance(),n.getLuminance())+.05)};je.isReadable=function(r,e,t){var n=je.readability(r,e),i,s;switch(s=!1,i=jM(t),i.level+i.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};je.mostReadable=function(r,e,t){var n=null,i=0,s,o,u,h;t=t||{},o=t.includeFallbackColors,u=t.level,h=t.size;for(var d=0;d<e.length;d++)s=je.readability(r,e[d]),s>i&&(i=s,n=je(e[d]));return je.isReadable(r,n,{level:u,size:h})||!o?n:(t.includeFallbackColors=!1,je.mostReadable(r,["#fff","#000"],t))};var b7=je.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},UM=je.hexNames=GM(b7);function GM(r){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[r[t]]=t);return e}function hp(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function a0(r,e){VM(r)&&(r="100%");var t=zM(r);return r=Math.min(e,Math.max(0,parseFloat(r))),t&&(r=parseInt(r*e,10)/100),Math.abs(r-e)<1e-6?1:r%e/parseFloat(e)}function a5(r){return Math.min(1,Math.max(0,r))}function Fn(r){return parseInt(r,16)}function VM(r){return typeof r=="string"&&r.indexOf(".")!=-1&&parseFloat(r)===1}function zM(r){return typeof r=="string"&&r.indexOf("%")!=-1}function Mr(r){return r.length==1?"0"+r:""+r}function vo(r){return r<=1&&(r=r*100+"%"),r}function fp(r){return Math.round(parseFloat(r)*255).toString(16)}function wc(r){return Fn(r)/255}var br=function(){var r="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+r+")",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function b1(r){return!!br.CSS_UNIT.exec(r)}function HM(r){r=r.replace(bM,"").replace(TM,"").toLowerCase();var e=!1;if(b7[r])r=b7[r],e=!0;else if(r=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=br.rgb.exec(r))?{r:t[1],g:t[2],b:t[3]}:(t=br.rgba.exec(r))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=br.hsl.exec(r))?{h:t[1],s:t[2],l:t[3]}:(t=br.hsla.exec(r))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=br.hsv.exec(r))?{h:t[1],s:t[2],v:t[3]}:(t=br.hsva.exec(r))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=br.hex8.exec(r))?{r:Fn(t[1]),g:Fn(t[2]),b:Fn(t[3]),a:wc(t[4]),format:e?"name":"hex8"}:(t=br.hex6.exec(r))?{r:Fn(t[1]),g:Fn(t[2]),b:Fn(t[3]),format:e?"name":"hex"}:(t=br.hex4.exec(r))?{r:Fn(t[1]+""+t[1]),g:Fn(t[2]+""+t[2]),b:Fn(t[3]+""+t[3]),a:wc(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=br.hex3.exec(r))?{r:Fn(t[1]+""+t[1]),g:Fn(t[2]+""+t[2]),b:Fn(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function jM(r){var e,t;return r=r||{level:"AA",size:"small"},e=(r.level||"AA").toUpperCase(),t=(r.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}function T7(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function $M(r){if(Array.isArray(r))return r}function WM(r){if(Array.isArray(r))return T7(r)}function dp(r,e,t){if(typeof r=="function"?r===e:r.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function QM(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function YM(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function en(r,e){return r.get(dp(r,e))}function I2(r,e,t){QM(r,e),e.set(r,t)}function t3(r,e,t){return r.set(dp(r,e),t),t}function XM(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,sR(n.key),n)}}function KM(r,e,t){return e&&XM(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function ZM(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function JM(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,o,u=[],h=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(h=(n=s.call(t)).done)&&(u.push(n.value),u.length!==e);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function eR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tR(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nR(r,e){return $M(r)||JM(r,e)||pp(r,e)||eR()}function rR(r){return WM(r)||ZM(r)||pp(r)||tR()}function iR(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function sR(r){var e=iR(r,"string");return typeof e=="symbol"?e:e+""}function pp(r,e){if(r){if(typeof r=="string")return T7(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T7(r,e):void 0}}var O2=new WeakMap,Ys=new WeakMap,k2=new WeakMap,C8=new WeakMap,P8=new WeakMap,B8=new WeakMap,oR=function(){function r(){YM(this,r),I2(this,O2,new Map),I2(this,Ys,new Map),I2(this,k2,function(e){return e}),I2(this,C8,function(){return{}}),I2(this,P8,function(){}),I2(this,B8,function(){})}return KM(r,[{key:"getObj",value:function(t){return en(O2,this).get(en(k2,this).call(this,t))}},{key:"getData",value:function(t){return en(Ys,this).get(t)}},{key:"entries",value:function(){return rR(en(Ys,this).entries()).map(function(t){var n=nR(t,2),i=n[0],s=n[1];return[s,i]})}},{key:"id",value:function(t){return t3(k2,this,Se(t)),this}},{key:"onCreateObj",value:function(t){return t3(C8,this,t),this}},{key:"onUpdateObj",value:function(t){return t3(P8,this,t),this}},{key:"onRemoveObj",value:function(t){return t3(B8,this,t),this}},{key:"digest",value:function(t){var n=this;t.filter(function(s){return!en(O2,n).has(en(k2,n).call(n,s))}).forEach(function(s){var o=en(C8,n).call(n,s);en(O2,n).set(en(k2,n).call(n,s),o),en(Ys,n).set(o,s)});var i=new Map(t.map(function(s){return[en(k2,n).call(n,s),s]}));return en(O2,this).forEach(function(s,o){i.has(o)?en(P8,n).call(n,s,i.get(o)):(en(B8,n).call(n,s,o),en(O2,n).delete(o),en(Ys,n).delete(s))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}(),z3={exports:{}},aR=z3.exports,Sc;function AR(){return Sc||(Sc=1,function(r,e){(function(t,n){r.exports=n()})(aR,function(){return function(t){function n(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var i={};return n.m=t,n.c=i,n.p="",n(0)}([function(t,n,i){var s=i(1),o=function(){function u(h,d,m){h===void 0&&(h=NaN),d===void 0&&(d=NaN),m===void 0&&(m=!1),this._minFPS=d,this._maxFPS=h,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new s.default,this._onPause=new s.default,this._onTick=new s.default,this._onTickOncePerFrame=new s.default,m||this.resume()}return u.prototype.updateOnce=function(h){h(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},u.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},u.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},u.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(u.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"timeScale",{get:function(){return this._timeScale},set:function(h){this._timeScale!==h&&(this._timeScale=h)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),u.prototype.animateOnce=function(){var h=this;this._animationFrameHandle=window.requestAnimationFrame(function(){return h.onFrame()})},u.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval)if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval;this._isRunning&&this.animateOnce()},u.prototype.update=function(h,d){d===void 0&&(d=!0),this._currentTick++,this._currentTime+=h,this._tickDeltaTime=h,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),d&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},u.prototype.getTimer=function(){return Date.now()},u}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},function(t,n,i){(function(s,o){t.exports=o()})(this,function(){return function(s){function o(h){if(u[h])return u[h].exports;var d=u[h]={exports:{},id:h,loaded:!1};return s[h].call(d.exports,d,d.exports,o),d.loaded=!0,d.exports}var u={};return o.m=s,o.c=u,o.p="",o(0)}([function(s,o){var u=function(){function h(){this.functions=[]}return h.prototype.add=function(d){return this.functions.indexOf(d)===-1&&(this.functions.push(d),!0)},h.prototype.remove=function(d){var m=this.functions.indexOf(d);return m>-1&&(this.functions.splice(m,1),!0)},h.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},h.prototype.dispatch=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];var y=this.functions.concat();y.forEach(function(x){x.apply(void 0,d)})},Object.defineProperty(h.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),h}();Object.defineProperty(o,"__esModule",{value:!0}),o.default=u}])})}])})}(z3)),z3.exports}var lR=AR();const ws=Ib(lR),D1=11102230246251565e-32,tn=134217729,uR=(3+8*D1)*D1;function D8(r,e,t,n,i){let s,o,u,h,d=e[0],m=n[0],y=0,x=0;m>d==m>-d?(s=d,d=e[++y]):(s=m,m=n[++x]);let b=0;if(y<r&&x<t)for(m>d==m>-d?(o=d+s,u=s-(o-d),d=e[++y]):(o=m+s,u=s-(o-m),m=n[++x]),s=o,u!==0&&(i[b++]=u);y<r&&x<t;)m>d==m>-d?(o=s+d,h=o-s,u=s-(o-h)+(d-h),d=e[++y]):(o=s+m,h=o-s,u=s-(o-h)+(m-h),m=n[++x]),s=o,u!==0&&(i[b++]=u);for(;y<r;)o=s+d,h=o-s,u=s-(o-h)+(d-h),d=e[++y],s=o,u!==0&&(i[b++]=u);for(;x<t;)o=s+m,h=o-s,u=s-(o-h)+(m-h),m=n[++x],s=o,u!==0&&(i[b++]=u);return(s!==0||b===0)&&(i[b++]=s),b}function cR(r,e){let t=e[0];for(let n=1;n<r;n++)t+=e[n];return t}function f4(r){return new Float64Array(r)}const hR=(3+16*D1)*D1,fR=(2+12*D1)*D1,dR=(9+64*D1)*D1*D1,U2=f4(4),Ec=f4(8),Nc=f4(12),Mc=f4(16),un=f4(4);function pR(r,e,t,n,i,s,o){let u,h,d,m,y,x,b,w,S,N,C,P,B,q,D,I,U,V;const H=r-i,z=t-i,k=e-s,Y=n-s;q=H*Y,x=tn*H,b=x-(x-H),w=H-b,x=tn*Y,S=x-(x-Y),N=Y-S,D=w*N-(q-b*S-w*S-b*N),I=k*z,x=tn*k,b=x-(x-k),w=k-b,x=tn*z,S=x-(x-z),N=z-S,U=w*N-(I-b*S-w*S-b*N),C=D-U,y=D-C,U2[0]=D-(C+y)+(y-U),P=q+C,y=P-q,B=q-(P-y)+(C-y),C=B-I,y=B-C,U2[1]=B-(C+y)+(y-I),V=P+C,y=V-P,U2[2]=P-(V-y)+(C-y),U2[3]=V;let X=cR(4,U2),J=fR*o;if(X>=J||-X>=J||(y=r-H,u=r-(H+y)+(y-i),y=t-z,d=t-(z+y)+(y-i),y=e-k,h=e-(k+y)+(y-s),y=n-Y,m=n-(Y+y)+(y-s),u===0&&h===0&&d===0&&m===0)||(J=dR*o+uR*Math.abs(X),X+=H*m+Y*u-(k*d+z*h),X>=J||-X>=J))return X;q=u*Y,x=tn*u,b=x-(x-u),w=u-b,x=tn*Y,S=x-(x-Y),N=Y-S,D=w*N-(q-b*S-w*S-b*N),I=h*z,x=tn*h,b=x-(x-h),w=h-b,x=tn*z,S=x-(x-z),N=z-S,U=w*N-(I-b*S-w*S-b*N),C=D-U,y=D-C,un[0]=D-(C+y)+(y-U),P=q+C,y=P-q,B=q-(P-y)+(C-y),C=B-I,y=B-C,un[1]=B-(C+y)+(y-I),V=P+C,y=V-P,un[2]=P-(V-y)+(C-y),un[3]=V;const K=D8(4,U2,4,un,Ec);q=H*m,x=tn*H,b=x-(x-H),w=H-b,x=tn*m,S=x-(x-m),N=m-S,D=w*N-(q-b*S-w*S-b*N),I=k*d,x=tn*k,b=x-(x-k),w=k-b,x=tn*d,S=x-(x-d),N=d-S,U=w*N-(I-b*S-w*S-b*N),C=D-U,y=D-C,un[0]=D-(C+y)+(y-U),P=q+C,y=P-q,B=q-(P-y)+(C-y),C=B-I,y=B-C,un[1]=B-(C+y)+(y-I),V=P+C,y=V-P,un[2]=P-(V-y)+(C-y),un[3]=V;const oe=D8(K,Ec,4,un,Nc);q=u*m,x=tn*u,b=x-(x-u),w=u-b,x=tn*m,S=x-(x-m),N=m-S,D=w*N-(q-b*S-w*S-b*N),I=h*d,x=tn*h,b=x-(x-h),w=h-b,x=tn*d,S=x-(x-d),N=d-S,U=w*N-(I-b*S-w*S-b*N),C=D-U,y=D-C,un[0]=D-(C+y)+(y-U),P=q+C,y=P-q,B=q-(P-y)+(C-y),C=B-I,y=B-C,un[1]=B-(C+y)+(y-I),V=P+C,y=V-P,un[2]=P-(V-y)+(C-y),un[3]=V;const ce=D8(oe,Nc,4,un,Mc);return Mc[ce-1]}function _o(r,e,t,n,i,s){const o=(e-s)*(t-i),u=(r-i)*(n-s),h=o-u,d=Math.abs(o+u);return Math.abs(h)>=hR*d?h:-pR(r,e,t,n,i,s,d)}const Rc=Math.pow(2,-52),n3=new Uint32Array(512);class Xo{static from(e,t=_R,n=xR){const i=e.length,s=new Float64Array(i*2);for(let o=0;o<i;o++){const u=e[o];s[2*o]=t(u),s[2*o+1]=n(u)}return new Xo(s)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:i,_hullHash:s}=this,o=e.length>>1;let u=1/0,h=1/0,d=-1/0,m=-1/0;for(let H=0;H<o;H++){const z=e[2*H],k=e[2*H+1];z<u&&(u=z),k<h&&(h=k),z>d&&(d=z),k>m&&(m=k),this._ids[H]=H}const y=(u+d)/2,x=(h+m)/2;let b,w,S;for(let H=0,z=1/0;H<o;H++){const k=F8(y,x,e[2*H],e[2*H+1]);k<z&&(b=H,z=k)}const N=e[2*b],C=e[2*b+1];for(let H=0,z=1/0;H<o;H++){if(H===b)continue;const k=F8(N,C,e[2*H],e[2*H+1]);k<z&&k>0&&(w=H,z=k)}let P=e[2*w],B=e[2*w+1],q=1/0;for(let H=0;H<o;H++){if(H===b||H===w)continue;const z=yR(N,C,P,B,e[2*H],e[2*H+1]);z<q&&(S=H,q=z)}let D=e[2*S],I=e[2*S+1];if(q===1/0){for(let k=0;k<o;k++)this._dists[k]=e[2*k]-e[0]||e[2*k+1]-e[1];is(this._ids,this._dists,0,o-1);const H=new Uint32Array(o);let z=0;for(let k=0,Y=-1/0;k<o;k++){const X=this._ids[k],J=this._dists[X];J>Y&&(H[z++]=X,Y=J)}this.hull=H.subarray(0,z),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(_o(N,C,P,B,D,I)<0){const H=w,z=P,k=B;w=S,P=D,B=I,S=H,D=z,I=k}const U=vR(N,C,P,B,D,I);this._cx=U.x,this._cy=U.y;for(let H=0;H<o;H++)this._dists[H]=F8(e[2*H],e[2*H+1],U.x,U.y);is(this._ids,this._dists,0,o-1),this._hullStart=b;let V=3;n[b]=t[S]=w,n[w]=t[b]=S,n[S]=t[w]=b,i[b]=0,i[w]=1,i[S]=2,s.fill(-1),s[this._hashKey(N,C)]=b,s[this._hashKey(P,B)]=w,s[this._hashKey(D,I)]=S,this.trianglesLen=0,this._addTriangle(b,w,S,-1,-1,-1);for(let H=0,z,k;H<this._ids.length;H++){const Y=this._ids[H],X=e[2*Y],J=e[2*Y+1];if(H>0&&Math.abs(X-z)<=Rc&&Math.abs(J-k)<=Rc||(z=X,k=J,Y===b||Y===w||Y===S))continue;let K=0;for(let Me=0,Be=this._hashKey(X,J);Me<this._hashSize&&(K=s[(Be+Me)%this._hashSize],!(K!==-1&&K!==n[K]));Me++);K=t[K];let oe=K,ce;for(;ce=n[oe],_o(X,J,e[2*oe],e[2*oe+1],e[2*ce],e[2*ce+1])>=0;)if(oe=ce,oe===K){oe=-1;break}if(oe===-1)continue;let de=this._addTriangle(oe,Y,n[oe],-1,-1,i[oe]);i[Y]=this._legalize(de+2),i[oe]=de,V++;let ve=n[oe];for(;ce=n[ve],_o(X,J,e[2*ve],e[2*ve+1],e[2*ce],e[2*ce+1])<0;)de=this._addTriangle(ve,Y,ce,i[Y],-1,i[ve]),i[Y]=this._legalize(de+2),n[ve]=ve,V--,ve=ce;if(oe===K)for(;ce=t[oe],_o(X,J,e[2*ce],e[2*ce+1],e[2*oe],e[2*oe+1])<0;)de=this._addTriangle(ce,Y,oe,-1,i[oe],i[ce]),this._legalize(de+2),i[ce]=de,n[oe]=oe,V--,oe=ce;this._hullStart=t[Y]=oe,n[oe]=t[ve]=Y,n[Y]=ve,s[this._hashKey(X,J)]=Y,s[this._hashKey(e[2*oe],e[2*oe+1])]=oe}this.hull=new Uint32Array(V);for(let H=0,z=this._hullStart;H<V;H++)this.hull[H]=z,z=n[z];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(mR(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:i}=this;let s=0,o=0;for(;;){const u=n[e],h=e-e%3;if(o=h+(e+2)%3,u===-1){if(s===0)break;e=n3[--s];continue}const d=u-u%3,m=h+(e+1)%3,y=d+(u+2)%3,x=t[o],b=t[e],w=t[m],S=t[y];if(gR(i[2*x],i[2*x+1],i[2*b],i[2*b+1],i[2*w],i[2*w+1],i[2*S],i[2*S+1])){t[e]=S,t[u]=x;const C=n[y];if(C===-1){let B=this._hullStart;do{if(this._hullTri[B]===y){this._hullTri[B]=e;break}B=this._hullPrev[B]}while(B!==this._hullStart)}this._link(e,C),this._link(u,n[o]),this._link(o,y);const P=d+(u+1)%3;s<n3.length&&(n3[s++]=P)}else{if(s===0)break;e=n3[--s]}}return o}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,n,i,s,o){const u=this.trianglesLen;return this._triangles[u]=e,this._triangles[u+1]=t,this._triangles[u+2]=n,this._link(u,i),this._link(u+1,s),this._link(u+2,o),this.trianglesLen+=3,u}}function mR(r,e){const t=r/(Math.abs(r)+Math.abs(e));return(e>0?3-t:1+t)/4}function F8(r,e,t,n){const i=r-t,s=e-n;return i*i+s*s}function gR(r,e,t,n,i,s,o,u){const h=r-o,d=e-u,m=t-o,y=n-u,x=i-o,b=s-u,w=h*h+d*d,S=m*m+y*y,N=x*x+b*b;return h*(y*N-S*b)-d*(m*N-S*x)+w*(m*b-y*x)<0}function yR(r,e,t,n,i,s){const o=t-r,u=n-e,h=i-r,d=s-e,m=o*o+u*u,y=h*h+d*d,x=.5/(o*d-u*h),b=(d*m-u*y)*x,w=(o*y-h*m)*x;return b*b+w*w}function vR(r,e,t,n,i,s){const o=t-r,u=n-e,h=i-r,d=s-e,m=o*o+u*u,y=h*h+d*d,x=.5/(o*d-u*h),b=r+(d*m-u*y)*x,w=e+(o*y-h*m)*x;return{x:b,y:w}}function is(r,e,t,n){if(n-t<=20)for(let i=t+1;i<=n;i++){const s=r[i],o=e[s];let u=i-1;for(;u>=t&&e[r[u]]>o;)r[u+1]=r[u--];r[u+1]=s}else{const i=t+n>>1;let s=t+1,o=n;Xs(r,i,s),e[r[t]]>e[r[n]]&&Xs(r,t,n),e[r[s]]>e[r[n]]&&Xs(r,s,n),e[r[t]]>e[r[s]]&&Xs(r,t,s);const u=r[s],h=e[u];for(;;){do s++;while(e[r[s]]<h);do o--;while(e[r[o]]>h);if(o<s)break;Xs(r,s,o)}r[t+1]=r[o],r[o]=u,n-s+1>=o-t?(is(r,e,s,n),is(r,e,t,o-1)):(is(r,e,t,o-1),is(r,e,s,n))}}function Xs(r,e,t){const n=r[e];r[e]=r[t],r[t]=n}function _R(r){return r[0]}function xR(r){return r[1]}function bR(r,e){var t,n,i=0,s,o,u,h,d,m,y,x=r[0],b=r[1],w=e.length;for(t=0;t<w;t++){n=0;var S=e[t],N=S.length-1;if(m=S[0],m[0]!==S[N][0]&&m[1]!==S[N][1])throw new Error("First and last coordinates in a ring must be the same");for(o=m[0]-x,u=m[1]-b,n;n<N;n++){if(y=S[n+1],h=y[0]-x,d=y[1]-b,u===0&&d===0){if(h<=0&&o>=0||o<=0&&h>=0)return 0}else if(d>=0&&u<=0||d<=0&&u>=0){if(s=_o(o,h,u,d,0,0),s===0)return 0;(s>0&&d>0&&u<=0||s<0&&d<=0&&u>0)&&i++}m=y,u=d,o=h}}return i%2!==0}function TR(r){if(!r)throw new Error("coord is required");if(!Array.isArray(r)){if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return[...r.geometry.coordinates];if(r.type==="Point")return[...r.coordinates]}if(Array.isArray(r)&&r.length>=2&&!Array.isArray(r[0])&&!Array.isArray(r[1]))return[...r];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function wR(r){return r.type==="Feature"?r.geometry:r}function SR(r,e,t={}){if(!r)throw new Error("point is required");if(!e)throw new Error("polygon is required");const n=TR(r),i=wR(e),s=i.type,o=e.bbox;let u=i.coordinates;if(o&&ER(n,o)===!1)return!1;s==="Polygon"&&(u=[u]);let h=!1;for(var d=0;d<u.length;++d){const m=bR(n,u[d]);if(m===0)return!t.ignoreBoundary;m&&(h=!0)}return h}function ER(r,e){return e[0]<=r[0]&&e[1]<=r[1]&&e[2]>=r[0]&&e[3]>=r[1]}var NR=SR;const Cc=1e-6;class Ki{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){e=+e,t=+t,n=+n;const i=e+n,s=t;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>Cc||Math.abs(this._y1-s)>Cc)&&(this._+="L"+i+","+s),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=i},${this._y1=s}`)}rect(e,t,n,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class w7{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class MR{constructor(e,[t,n,i,s]=[0,0,960,500]){if(!((i=+i)>=(t=+t))||!((s=+s)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=t,this.ymax=s,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:i}=this;let s,o;const u=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let S=0,N=0,C=n.length,P,B;S<C;S+=3,N+=2){const q=n[S]*2,D=n[S+1]*2,I=n[S+2]*2,U=e[q],V=e[q+1],H=e[D],z=e[D+1],k=e[I],Y=e[I+1],X=H-U,J=z-V,K=k-U,oe=Y-V,ce=(X*oe-J*K)*2;if(Math.abs(ce)<1e-9){if(s===void 0){s=o=0;for(const ve of t)s+=e[ve*2],o+=e[ve*2+1];s/=t.length,o/=t.length}const de=1e9*Math.sign((s-U)*oe-(o-V)*K);P=(U+k)/2-de*oe,B=(V+Y)/2+de*K}else{const de=1/ce,ve=X*X+J*J,Me=K*K+oe*oe;P=U+(oe*ve-J*Me)*de,B=V+(X*Me-K*ve)*de}u[N]=P,u[N+1]=B}let h=t[t.length-1],d,m=h*4,y,x=e[2*h],b,w=e[2*h+1];i.fill(0);for(let S=0;S<t.length;++S)h=t[S],d=m,y=x,b=w,m=h*4,x=e[2*h],w=e[2*h+1],i[d+2]=i[m]=b-w,i[d+3]=i[m+1]=x-y}render(e){const t=e==null?e=new Ki:void 0,{delaunay:{halfedges:n,inedges:i,hull:s},circumcenters:o,vectors:u}=this;if(s.length<=1)return null;for(let m=0,y=n.length;m<y;++m){const x=n[m];if(x<m)continue;const b=Math.floor(m/3)*2,w=Math.floor(x/3)*2,S=o[b],N=o[b+1],C=o[w],P=o[w+1];this._renderSegment(S,N,C,P,e)}let h,d=s[s.length-1];for(let m=0;m<s.length;++m){h=d,d=s[m];const y=Math.floor(i[d]/3)*2,x=o[y],b=o[y+1],w=h*4,S=this._project(x,b,u[w+2],u[w+3]);S&&this._renderSegment(x,b,S[0],S[1],e)}return t&&t.value()}renderBounds(e){const t=e==null?e=new Ki:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=t==null?t=new Ki:void 0,i=this._clip(e);if(i===null||!i.length)return;t.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&t.lineTo(i[o],i[o+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const i=this.cellPolygon(t);i&&(i.index=t,yield i)}}cellPolygon(e){const t=new w7;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,i,s){let o;const u=this._regioncode(e,t),h=this._regioncode(n,i);u===0&&h===0?(s.moveTo(e,t),s.lineTo(n,i)):(o=this._clipSegment(e,t,n,i,u,h))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(e,t,n){return t=+t,t!==t||(n=+n,n!==n)?!1:this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const i=this._clip(n);if(i){e:for(let s=0,o=t.length;s<o;s+=2)for(let u=0,h=i.length;u<h;u+=2)if(t[s]===i[u]&&t[s+1]===i[u+1]&&t[(s+2)%o]===i[(u+h-2)%h]&&t[(s+3)%o]===i[(u+h-1)%h]){yield n;break e}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:i,triangles:s}}=this,o=n[e];if(o===-1)return null;const u=[];let h=o;do{const d=Math.floor(h/3);if(u.push(t[d*2],t[d*2+1]),h=h%3===2?h-2:h+1,s[h]!==e)break;h=i[h]}while(h!==o&&h!==-1);return u}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(t===null)return null;const{vectors:n}=this,i=e*4;return this._simplify(n[i]||n[i+1]?this._clipInfinite(e,t,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(e,t))}_clipFinite(e,t){const n=t.length;let i=null,s,o,u=t[n-2],h=t[n-1],d,m=this._regioncode(u,h),y,x=0;for(let b=0;b<n;b+=2)if(s=u,o=h,u=t[b],h=t[b+1],d=m,m=this._regioncode(u,h),d===0&&m===0)y=x,x=0,i?i.push(u,h):i=[u,h];else{let w,S,N,C,P;if(d===0){if((w=this._clipSegment(s,o,u,h,d,m))===null)continue;[S,N,C,P]=w}else{if((w=this._clipSegment(u,h,s,o,m,d))===null)continue;[C,P,S,N]=w,y=x,x=this._edgecode(S,N),y&&x&&this._edge(e,y,x,i,i.length),i?i.push(S,N):i=[S,N]}y=x,x=this._edgecode(C,P),y&&x&&this._edge(e,y,x,i,i.length),i?i.push(C,P):i=[C,P]}if(i)y=x,x=this._edgecode(i[0],i[1]),y&&x&&this._edge(e,y,x,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,t,n,i,s,o){const u=s<o;for(u&&([e,t,n,i,s,o]=[n,i,e,t,o,s]);;){if(s===0&&o===0)return u?[n,i,e,t]:[e,t,n,i];if(s&o)return null;let h,d,m=s||o;m&8?(h=e+(n-e)*(this.ymax-t)/(i-t),d=this.ymax):m&4?(h=e+(n-e)*(this.ymin-t)/(i-t),d=this.ymin):m&2?(d=t+(i-t)*(this.xmax-e)/(n-e),h=this.xmax):(d=t+(i-t)*(this.xmin-e)/(n-e),h=this.xmin),s?(e=h,t=d,s=this._regioncode(e,t)):(n=h,i=d,o=this._regioncode(n,i))}}_clipInfinite(e,t,n,i,s,o){let u=Array.from(t),h;if((h=this._project(u[0],u[1],n,i))&&u.unshift(h[0],h[1]),(h=this._project(u[u.length-2],u[u.length-1],s,o))&&u.push(h[0],h[1]),u=this._clipFinite(e,u))for(let d=0,m=u.length,y,x=this._edgecode(u[m-2],u[m-1]);d<m;d+=2)y=x,x=this._edgecode(u[d],u[d+1]),y&&x&&(d=this._edge(e,y,x,u,d),m=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(e,t,n,i,s){for(;t!==n;){let o,u;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,u=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,u=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,u=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,u=this.ymin;break}(i[s]!==o||i[s+1]!==u)&&this.contains(e,o,u)&&(i.splice(s,0,o,u),s+=2)}return s}_project(e,t,n,i){let s=1/0,o,u,h;if(i<0){if(t<=this.ymin)return null;(o=(this.ymin-t)/i)<s&&(h=this.ymin,u=e+(s=o)*n)}else if(i>0){if(t>=this.ymax)return null;(o=(this.ymax-t)/i)<s&&(h=this.ymax,u=e+(s=o)*n)}if(n>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/n)<s&&(u=this.xmax,h=t+(s=o)*i)}else if(n<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/n)<s&&(u=this.xmin,h=t+(s=o)*i)}return[u,h]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const n=(t+2)%e.length,i=(t+4)%e.length;(e[t]===e[n]&&e[n]===e[i]||e[t+1]===e[n+1]&&e[n+1]===e[i+1])&&(e.splice(n,2),t-=2)}e.length||(e=null)}return e}}const RR=2*Math.PI,G2=Math.pow;function CR(r){return r[0]}function PR(r){return r[1]}function BR(r){const{triangles:e,coords:t}=r;for(let n=0;n<e.length;n+=3){const i=2*e[n],s=2*e[n+1],o=2*e[n+2];if((t[o]-t[i])*(t[s+1]-t[i+1])-(t[s]-t[i])*(t[o+1]-t[i+1])>1e-10)return!1}return!0}function DR(r,e,t){return[r+Math.sin(r+e)*t,e+Math.cos(r-e)*t]}class I9{static from(e,t=CR,n=PR,i){return new I9("length"in e?FR(e,t,n,i):Float64Array.from(LR(e,t,n,i)))}constructor(e){this._delaunator=new Xo(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&BR(e)){this.collinear=Int32Array.from({length:t.length/2},(x,b)=>b).sort((x,b)=>t[2*x]-t[2*b]||t[2*x+1]-t[2*b+1]);const h=this.collinear[0],d=this.collinear[this.collinear.length-1],m=[t[2*h],t[2*h+1],t[2*d],t[2*d+1]],y=1e-8*Math.hypot(m[3]-m[1],m[2]-m[0]);for(let x=0,b=t.length/2;x<b;++x){const w=DR(t[2*x],t[2*x+1],y);t[2*x]=w[0],t[2*x+1]=w[1]}this._delaunator=new Xo(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let h=0,d=n.length;h<d;++h){const m=s[h%3===2?h-2:h+1];(n[h]===-1||o[m]===-1)&&(o[m]=h)}for(let h=0,d=i.length;h<d;++h)u[i[h]]=h;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new MR(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:i,halfedges:s,triangles:o,collinear:u}=this;if(u){const y=u.indexOf(e);y>0&&(yield u[y-1]),y<u.length-1&&(yield u[y+1]);return}const h=t[e];if(h===-1)return;let d=h,m=-1;do{if(yield m=o[d],d=d%3===2?d-2:d+1,o[d]!==e)return;if(d=s[d],d===-1){const y=n[(i[e]+1)%n.length];y!==m&&(yield y);return}}while(d!==h)}find(e,t,n=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const i=n;let s;for(;(s=this._step(n,e,t))>=0&&s!==n&&s!==i;)n=s;return s}_step(e,t,n){const{inedges:i,hull:s,_hullIndex:o,halfedges:u,triangles:h,points:d}=this;if(i[e]===-1||!d.length)return(e+1)%(d.length>>1);let m=e,y=G2(t-d[e*2],2)+G2(n-d[e*2+1],2);const x=i[e];let b=x;do{let w=h[b];const S=G2(t-d[w*2],2)+G2(n-d[w*2+1],2);if(S<y&&(y=S,m=w),b=b%3===2?b-2:b+1,h[b]!==e)break;if(b=u[b],b===-1){if(b=s[(o[e]+1)%s.length],b!==w&&G2(t-d[b*2],2)+G2(n-d[b*2+1],2)<y)return b;break}}while(b!==x);return m}render(e){const t=e==null?e=new Ki:void 0,{points:n,halfedges:i,triangles:s}=this;for(let o=0,u=i.length;o<u;++o){const h=i[o];if(h<o)continue;const d=s[o]*2,m=s[h]*2;e.moveTo(n[d],n[d+1]),e.lineTo(n[m],n[m+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){t===void 0&&(!e||typeof e.moveTo!="function")&&(t=e,e=null),t=t==null?2:+t;const n=e==null?e=new Ki:void 0,{points:i}=this;for(let s=0,o=i.length;s<o;s+=2){const u=i[s],h=i[s+1];e.moveTo(u+t,h),e.arc(u,h,t,0,RR)}return n&&n.value()}renderHull(e){const t=e==null?e=new Ki:void 0,{hull:n,points:i}=this,s=n[0]*2,o=n.length;e.moveTo(i[s],i[s+1]);for(let u=1;u<o;++u){const h=2*n[u];e.lineTo(i[h],i[h+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new w7;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=t==null?t=new Ki:void 0,{points:i,triangles:s}=this,o=s[e*=3]*2,u=s[e+1]*2,h=s[e+2]*2;return t.moveTo(i[o],i[o+1]),t.lineTo(i[u],i[u+1]),t.lineTo(i[h],i[h+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new w7;return this.renderTriangle(e,t),t.value()}}function FR(r,e,t,n){const i=r.length,s=new Float64Array(i*2);for(let o=0;o<i;++o){const u=r[o];s[o*2]=e.call(n,u,o,r),s[o*2+1]=t.call(n,u,o,r)}return s}function*LR(r,e,t,n){let i=0;for(const s of r)yield e.call(n,s,i,r),yield t.call(n,s,i,r),++i}const O9=Math.PI,Pc=O9/2,Bc=180/O9,Dc=O9/180,qR=Math.atan2,Fc=Math.cos,IR=Math.max,OR=Math.min,Lc=Math.sin,kR=Math.sign||function(r){return r>0?1:r<0?-1:0},mp=Math.sqrt;function UR(r){return r>1?Pc:r<-1?-Pc:Math.asin(r)}function gp(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function qn(r,e){return[r[1]*e[2]-r[2]*e[1],r[2]*e[0]-r[0]*e[2],r[0]*e[1]-r[1]*e[0]]}function Fa(r,e){return[r[0]+e[0],r[1]+e[1],r[2]+e[2]]}function La(r){var e=mp(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);return[r[0]/e,r[1]/e,r[2]/e]}function k9(r){return[qR(r[1],r[0])*Bc,UR(IR(-1,OR(1,r[2])))*Bc]}function t1(r){const e=r[0]*Dc,t=r[1]*Dc,n=Fc(t);return[n*Fc(e),n*Lc(e),Lc(t)]}function U9(r){return r=r.map(e=>t1(e)),gp(r[0],qn(r[2],r[1]))}function GR(r){const e=zR(r),t=jR(e),n=HR(t,r),i=WR(t,r.length),s=VR(i,r),o=$R(t,r),{polygons:u,centers:h}=QR(o,t,r),d=YR(u),m=KR(t,r),y=XR(n,t);return{delaunay:e,edges:n,triangles:t,centers:h,neighbors:i,polygons:u,mesh:d,hull:m,urquhart:y,find:s}}function VR(r,e){function t(n,i){let s=n[0]-i[0],o=n[1]-i[1],u=n[2]-i[2];return s*s+o*o+u*u}return function(i,s,o){o===void 0&&(o=0);let u,h,d=o;const m=t1([i,s]);do u=o,o=null,h=t(m,t1(e[u])),r[u].forEach(y=>{let x=t(m,t1(e[y]));if(x<h){h=x,o=y,d=y;return}});while(o!==null);return d}}function zR(r){if(r.length<2)return{};let e=0;for(;isNaN(r[e][0]+r[e][1])&&e++<r.length;);const t=CE(r[e]),n=lN().translate([0,0]).scale(1).rotate(t.invert([180,0]));r=r.map(n);const i=[];let s=1;for(let y=0,x=r.length;y<x;y++){let b=r[y][0]**2+r[y][1]**2;!isFinite(b)||b>1e32?i.push(y):b>s&&(s=b)}const o=1e6*mp(s);i.forEach(y=>r[y]=[o,0]),r.push([0,o]),r.push([-o,0]),r.push([0,-o]);const u=I9.from(r);u.projection=n;const{triangles:h,halfedges:d,inedges:m}=u;for(let y=0,x=d.length;y<x;y++)if(d[y]<0){const b=y%3==2?y-2:y+1,w=y%3==0?y+2:y-1,S=d[b],N=d[w];d[S]=N,d[N]=S,d[b]=d[w]=-1,h[y]=h[b]=h[w]=e,m[h[S]]=S%3==0?S+2:S-1,m[h[N]]=N%3==0?N+2:N-1,y+=2-y%3}else h[y]>r.length-3-1&&(h[y]=e);return u}function HR(r,e){const t=new Set;return e.length===2?[[0,1]]:(r.forEach(n=>{if(n[0]!==n[1]&&!(U9(n.map(i=>e[i]))<0))for(let i=0,s;i<3;i++)s=(i+1)%3,t.add(aa([n[i],n[s]]).join("-"))}),Array.from(t,n=>n.split("-").map(Number)))}function jR(r){const{triangles:e}=r;if(!e)return[];const t=[];for(let n=0,i=e.length/3;n<i;n++){const s=e[3*n],o=e[3*n+1],u=e[3*n+2];s!==o&&o!==u&&t.push([s,u,o])}return t}function $R(r,e){return r.map(t=>{const n=t.map(s=>e[s]).map(t1),i=Fa(Fa(qn(n[1],n[0]),qn(n[2],n[1])),qn(n[0],n[2]));return k9(La(i))})}function WR(r,e){const t=[];return r.forEach(n=>{for(let i=0;i<3;i++){const s=n[i],o=n[(i+1)%3];t[s]=t[s]||[],t[s].push(o)}}),r.length===0&&(e===2?(t[0]=[1],t[1]=[0]):e===1&&(t[0]=[])),t}function QR(r,e,t){const n=[],i=r.slice();if(e.length===0){if(t.length<2)return{polygons:n,centers:i};if(t.length===2){const u=t1(t[0]),h=t1(t[1]),d=La(Fa(u,h)),m=La(qn(u,h)),y=qn(d,m),x=[d,qn(d,y),qn(qn(d,y),y),qn(qn(qn(d,y),y),y)].map(k9).map(o);return n.push(x),n.push(x.slice().reverse()),{polygons:n,centers:i}}}e.forEach((u,h)=>{for(let d=0;d<3;d++){const m=u[d],y=u[(d+1)%3],x=u[(d+2)%3];n[m]=n[m]||[],n[m].push([y,x,h,[m,y,x]])}});const s=n.map(u=>{const h=[u[0][2]];let d=u[0][1];for(let m=1;m<u.length;m++)for(let y=0;y<u.length;y++)if(u[y][0]==d){d=u[y][1],h.push(u[y][2]);break}if(h.length>2)return h;if(h.length==2){const m=qc(t[u[0][3][0]],t[u[0][3][1]],i[h[0]]),y=qc(t[u[0][3][2]],t[u[0][3][0]],i[h[0]]),x=o(m),b=o(y);return[h[0],b,h[1],x]}});function o(u){let h=-1;return i.slice(e.length,1/0).forEach((d,m)=>{d[0]===u[0]&&d[1]===u[1]&&(h=m+e.length)}),h<0&&(h=i.length,i.push(u)),h}return{polygons:s,centers:i}}function qc(r,e,t){r=t1(r),e=t1(e),t=t1(t);const n=kR(gp(qn(e,r),t));return k9(La(Fa(r,e)).map(i=>n*i))}function YR(r){const e=[];return r.forEach(t=>{if(!t)return;let n=t[t.length-1];for(let i of t)i>n&&e.push([n,i]),n=i}),e}function XR(r,e){return function(t){const n=new Map,i=new Map;return r.forEach((s,o)=>{const u=s.join("-");n.set(u,t[o]),i.set(u,!0)}),e.forEach(s=>{let o=0,u=-1;for(let h=0;h<3;h++){let d=aa([s[h],s[(h+1)%3]]).join("-");n.get(d)>o&&(o=n.get(d),u=d)}i.set(u,!1)}),r.map(s=>i.get(s.join("-")))}}function KR(r,e){const t=new Set,n=[];r.map(u=>{if(!(U9(u.map(h=>e[h>e.length?0:h]))>1e-12))for(let h=0;h<3;h++){let d=[u[h],u[(h+1)%3]],m=`${d[0]}-${d[1]}`;t.has(m)?t.delete(m):t.add(`${d[1]}-${d[0]}`)}});const i=new Map;let s;if(t.forEach(u=>{u=u.split("-").map(Number),i.set(u[0],u[1]),s=u[0]}),s===void 0)return n;let o=s;do{n.push(o);let u=i.get(o);i.set(o,-1),o=u}while(o>-1&&o!==s);return n}function ZR(r){const e=function(t){if(e.delaunay=null,e._data=t,typeof e._data=="object"&&e._data.type==="FeatureCollection"&&(e._data=e._data.features),typeof e._data=="object"){const n=e._data.map(i=>[e._vx(i),e._vy(i),i]).filter(i=>isFinite(i[0]+i[1]));e.points=n.map(i=>[i[0],i[1]]),e.valid=n.map(i=>i[2]),e.delaunay=GR(e.points)}return e};return e._vx=function(t){if(typeof t=="object"&&"type"in t)return Wu(t)[0];if(0 in t)return t[0]},e._vy=function(t){if(typeof t=="object"&&"type"in t)return Wu(t)[1];if(1 in t)return t[1]},e.x=function(t){return t?(e._vx=t,e):e._vx},e.y=function(t){return t?(e._vy=t,e):e._vy},e.polygons=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const n={type:"FeatureCollection",features:[]};return e.valid.length===0||(e.delaunay.polygons.forEach((i,s)=>n.features.push({type:"Feature",geometry:i?{type:"Polygon",coordinates:[[...i,i[0]].map(o=>e.delaunay.centers[o])]}:null,properties:{site:e.valid[s],sitecoordinates:e.points[s],neighbours:e.delaunay.neighbors[s]}})),e.valid.length===1&&n.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:e.valid[0],sitecoordinates:e.points[0],neighbours:[]}})),n},e.triangles=function(t){return t!==void 0&&e(t),e.delaunay?{type:"FeatureCollection",features:e.delaunay.triangles.map((n,i)=>(n=n.map(s=>e.points[s]),n.center=e.delaunay.centers[i],n)).filter(n=>U9(n)>0).map(n=>({type:"Feature",properties:{circumcenter:n.center},geometry:{type:"Polygon",coordinates:[[...n,n[0]]]}}))}:!1},e.links=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const n=e.delaunay.edges.map(s=>bi(e.points[s[0]],e.points[s[1]])),i=e.delaunay.urquhart(n);return{type:"FeatureCollection",features:e.delaunay.edges.map((s,o)=>({type:"Feature",properties:{source:e.valid[s[0]],target:e.valid[s[1]],length:n[o],urquhart:!!i[o]},geometry:{type:"LineString",coordinates:[e.points[s[0]],e.points[s[1]]]}}))}},e.mesh=function(t){return t!==void 0&&e(t),e.delaunay?{type:"MultiLineString",coordinates:e.delaunay.edges.map(n=>[e.points[n[0]],e.points[n[1]]])}:!1},e.cellMesh=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const{centers:n,polygons:i}=e.delaunay,s=[];for(const o of i)if(o)for(let u=o.length,h=o[u-1],d=o[0],m=0;m<u;h=d,d=o[++m])d>h&&s.push([n[h],n[d]]);return{type:"MultiLineString",coordinates:s}},e._found=void 0,e.find=function(t,n,i){if(e._found=e.delaunay.find(t,n,e._found),!i||bi([t,n],e.points[e._found])<i)return e._found},e.hull=function(t){t!==void 0&&e(t);const n=e.delaunay.hull,i=e.points;return n.length===0?null:{type:"Polygon",coordinates:[[...n.map(s=>i[s]),i[n[0]]]]}},r?e(r):e}function S7(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function JR(r){if(Array.isArray(r))return r}function eC(r){if(Array.isArray(r))return S7(r)}function tC(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function nC(r,e,t){return e=qa(e),uC(r,yp()?Reflect.construct(e,[],qa(r).constructor):e.apply(r,t))}function rC(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function iC(r,e,t){return Object.defineProperty(r,"prototype",{writable:!1}),r}function qa(r){return qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qa(r)}function sC(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&E7(r,e)}function yp(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yp=function(){return!!r})()}function oC(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function aC(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,o,u=[],h=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(h=(n=s.call(t)).done)&&(u.push(n.value),u.length!==e);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function AC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uC(r,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tC(r)}function E7(r,e){return E7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},E7(r,e)}function Kr(r,e){return JR(r)||aC(r,e)||vp(r,e)||AC()}function L8(r){return eC(r)||oC(r)||vp(r)||lC()}function vp(r,e){if(r){if(typeof r=="string")return S7(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S7(r,e):void 0}}function cC(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.resolution,n=t===void 0?1/0:t,i=hC(r,n),s=Vo(i),o=fC(r,n),u=[].concat(L8(s),L8(o)),h={type:"Polygon",coordinates:r},d=kd(h),m=Kr(d,2),y=Kr(m[0],2),x=y[0],b=y[1],w=Kr(m[1],2),S=w[0],N=w[1],C=x>S||N>=89||b<=-89,P=[];if(C){var B=ZR(u).triangles(),q=new Map(u.map(function(ce,de){var ve=Kr(ce,2),Me=ve[0],Be=ve[1];return["".concat(Me,"-").concat(Be),de]}));B.features.forEach(function(ce){var de,ve=ce.geometry.coordinates[0].slice(0,3).reverse(),Me=[];if(ve.forEach(function(Oe){var ke=Kr(Oe,2),dt=ke[0],vt=ke[1],Ft="".concat(dt,"-").concat(vt);q.has(Ft)&&Me.push(q.get(Ft))}),Me.length===3){if(Me.some(function(Oe){return Oe<s.length})){var Be=ce.properties.circumcenter;if(!N7(Be,h,C))return}(de=P).push.apply(de,Me)}})}else if(o.length)for(var H=Xo.from(u),z=function(de){var ve,Me=[2,1,0].map(function(ke){return H.triangles[de+ke]}),Be=Me.map(function(ke){return u[ke]});if(Me.some(function(ke){return ke<s.length})){var Oe=[0,1].map(function(ke){return TS(Be,function(dt){return dt[ke]})});if(!N7(Oe,h,C))return 1}(ve=P).push.apply(ve,L8(Me))},k=0,Y=H.triangles.length;k<Y;k+=3)z(k);else{var D=Ca(i),I=D.vertices,U=D.holes,V=U===void 0?[]:U;P=DN(I,V,2)}var X=q1(aa(u,function(ce){return ce[0]}),[0,1]),J=q1(aa(u,function(ce){return ce[1]}),[0,1]),K=u.map(function(ce){var de=Kr(ce,2),ve=de[0],Me=de[1];return[X(ve),J(Me)]}),oe={points:u,indices:P,uvs:K};return{contour:i,triangles:oe}}function hC(r,e){return r.map(function(t){var n=[],i;return t.forEach(function(s){if(i){var o=bi(s,i)*180/Math.PI;if(o>e)for(var u=P9(i,s),h=1/Math.ceil(o/e),d=h;d<1;)n.push(u(d)),d+=h}n.push(i=s)}),n})}function fC(r,e){var t={type:"Polygon",coordinates:r},n=kd(t),i=Kr(n,2),s=Kr(i[0],2),o=s[0],u=s[1],h=Kr(i[1],2),d=h[0],m=h[1];if(Math.min(Math.abs(d-o),Math.abs(m-u))<e)return[];var y=o>d||m>=89||u<=-89;return dC(e,{minLng:o,maxLng:d,minLat:u,maxLat:m}).filter(function(x){return N7(x,t,y)})}function dC(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minLng,n=e.maxLng,i=e.minLat,s=e.maxLat,o=Math.round(Math.pow(360/r,2)/Math.PI),u=(1+Math.sqrt(5))/2,h=function(C){return C/u*360%360-180},d=function(C){return Math.acos(2*C/o-1)/Math.PI*180-90},m=function(C){return o*(Math.cos((C+90)*Math.PI/180)+1)/2},y=[s!==void 0?Math.ceil(m(s)):0,i!==void 0?Math.floor(m(i)):o-1],x=t===void 0&&n===void 0?function(){return!0}:t===void 0?function(N){return N<=n}:n===void 0?function(N){return N>=t}:n>=t?function(N){return N>=t&&N<=n}:function(N){return N>=t||N<=n},b=[],w=y[0];w<=y[1];w++){var S=h(w);x(S)&&b.push([S,d(w)])}return b}function N7(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t?WE(e,r):NR(r,e)}var H3=window.THREE?window.THREE:{BufferGeometry:pr,Float32BufferAttribute:xi},Ic=new H3.BufferGeometry().setAttribute?"setAttribute":"addAttribute",G9=function(r){function e(t,n,i,s,o,u,h){var d;rC(this,e),d=nC(this,e),d.type="ConicPolygonGeometry",d.parameters={polygonGeoJson:t,bottomHeight:n,topHeight:i,closedBottom:s,closedTop:o,includeSides:u,curvatureResolution:h},n=n||0,i=i||1,s=s!==void 0?s:!0,o=o!==void 0?o:!0,u=u!==void 0?u:!0,h=h||5;var m=cC(t,{resolution:h}),y=m.contour,x=m.triangles,b=Vo(x.uvs),w=[],S=[],N=[],C=0,P=function(U){var V=Math.round(w.length/3),H=N.length;w=w.concat(U.vertices),S=S.concat(U.uvs),N=N.concat(V?U.indices.map(function(z){return z+V}):U.indices),d.addGroup(H,N.length-H,C++)};u&&P(q()),s&&P(D(n,!1)),o&&P(D(i,!0)),d.setIndex(N),d[Ic]("position",new H3.Float32BufferAttribute(w,3)),d[Ic]("uv",new H3.Float32BufferAttribute(S,2)),d.computeVertexNormals();function B(I,U){var V=typeof U=="function"?U:function(){return U},H=I.map(function(z){return z.map(function(k){var Y=Kr(k,2),X=Y[0],J=Y[1];return pC(J,X,V(X,J))})});return Ca(H)}function q(){for(var I=B(y,n),U=I.vertices,V=I.holes,H=B(y,i),z=H.vertices,k=Vo([z,U]),Y=Math.round(z.length/3),X=new Set(V),J=0,K=[],oe=0;oe<Y;oe++){var ce=oe+1;if(ce===Y)ce=J;else if(X.has(ce)){var de=ce;ce=J,J=de}K.push(oe,oe+Y,ce+Y),K.push(ce+Y,ce,oe)}for(var ve=[],Me=1;Me>=0;Me--)for(var Be=0;Be<Y;Be+=1)ve.push(Be/(Y-1),Me);return{indices:K,vertices:k,uvs:ve}}function D(I){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{indices:U?x.indices:x.indices.slice().reverse(),vertices:B([x.points],I).vertices,uvs:b}}return d}return sC(e,r),iC(e)}(H3.BufferGeometry);function pC(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=(90-r)*Math.PI/180,i=(90-e)*Math.PI/180;return[t*Math.sin(n)*Math.cos(i),t*Math.cos(n),t*Math.sin(n)*Math.sin(i)]}function M7(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function mC(r){if(Array.isArray(r))return r}function gC(r){if(Array.isArray(r))return M7(r)}function yC(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function vC(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,o,u=[],h=!0,d=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(h=(n=s.call(t)).done)&&(u.push(n.value),u.length!==e);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function _C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bC(r,e){if(r==null)return{};var t,n,i=TC(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.includes(t)||{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function TC(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.includes(n))continue;t[n]=r[n]}return t}function wC(r,e){return mC(r)||vC(r,e)||_p(r,e)||_C()}function SC(r){return gC(r)||yC(r)||_p(r)||xC()}function EC(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function NC(r){var e=EC(r,"string");return typeof e=="symbol"?e:e+""}function _p(r,e){if(r){if(typeof r=="string")return M7(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?M7(r,e):void 0}}var MC=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(u){return{keyAccessor:u,isProp:!(u instanceof Function)}}),s=r.reduce(function(u,h){var d=u,m=h;return i.forEach(function(y,x){var b=y.keyAccessor,w=y.isProp,S;if(w){var N=m,C=N[b],P=bC(N,[b].map(NC));S=C,m=P}else S=b(m,x);x+1<i.length?(d.hasOwnProperty(S)||(d[S]={}),d=d[S]):t?(d.hasOwnProperty(S)||(d[S]=[]),d[S].push(m)):d[S]=m}),u},{});t instanceof Function&&function u(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;d===i.length?Object.keys(h).forEach(function(m){return h[m]=t(h[m])}):Object.values(h).forEach(function(m){return u(m,d+1)})}(s);var o=s;return n&&(o=[],function u(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===i.length?o.push({keys:d,vals:h}):Object.entries(h).forEach(function(m){var y=wC(m,2),x=y[0],b=y[1];return u(b,[].concat(SC(d),[x]))})}(s),e instanceof Array&&e.length===0&&o.length===1&&(o[0].keys=[])),o},St=function(r){r=r||{};var e=typeof r<"u"?r:{},t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);var i="";function s(fe){return e.locateFile?e.locateFile(fe,i):i+fe}var o;typeof document<"u"&&document.currentScript&&(i=document.currentScript.src),i.indexOf("blob:")!==0?i=i.substr(0,i.lastIndexOf("/")+1):i="",o=function(be,Le,we){var A=new XMLHttpRequest;A.open("GET",be,!0),A.responseType="arraybuffer",A.onload=function(){if(A.status==200||A.status==0&&A.response){Le(A.response);return}var Mt=le(be);if(Mt){Le(Mt.buffer);return}we()},A.onerror=we,A.send(null)};var u=e.print||console.log.bind(console),h=e.printErr||console.warn.bind(console);for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);t=null,e.arguments&&e.arguments;var d=0,m=function(fe){d=fe},y=function(){return d},x=8;function b(fe,be,Le,we){switch(Le=Le||"i8",Le.charAt(Le.length-1)==="*"&&(Le="i32"),Le){case"i1":Y[fe>>0]=be;break;case"i8":Y[fe>>0]=be;break;case"i16":J[fe>>1]=be;break;case"i32":K[fe>>2]=be;break;case"i64":qs=[be>>>0,($n=be,+Hn($n)>=1?$n>0?(g1(+Or($n/4294967296),4294967295)|0)>>>0:~~+jn(($n-+(~~$n>>>0))/4294967296)>>>0:0)],K[fe>>2]=qs[0],K[fe+4>>2]=qs[1];break;case"float":oe[fe>>2]=be;break;case"double":ce[fe>>3]=be;break;default:gr("invalid type for setValue: "+Le)}}function w(fe,be,Le){switch(be=be||"i8",be.charAt(be.length-1)==="*"&&(be="i32"),be){case"i1":return Y[fe>>0];case"i8":return Y[fe>>0];case"i16":return J[fe>>1];case"i32":return K[fe>>2];case"i64":return K[fe>>2];case"float":return oe[fe>>2];case"double":return ce[fe>>3];default:gr("invalid type for getValue: "+be)}return null}var S=!1;function N(fe,be){fe||gr("Assertion failed: "+be)}function C(fe){var be=e["_"+fe];return N(be,"Cannot call unknown function "+fe+", make sure it is exported"),be}function P(fe,be,Le,we,A){var F={string:function(yt){var Xn=0;if(yt!=null&&yt!==0){var D4=(yt.length<<2)+1;Xn=Wn(D4),V(yt,Xn,D4)}return Xn},array:function(yt){var Xn=Wn(yt.length);return H(yt,Xn),Xn}};function Mt(yt){return be==="string"?I(yt):be==="boolean"?!!yt:yt}var Ut=C(fe),q0=[],gt=0;if(we)for(var Rt=0;Rt<we.length;Rt++){var Q1=F[Le[Rt]];Q1?(gt===0&&(gt=cl()),q0[Rt]=Q1(we[Rt])):q0[Rt]=we[Rt]}var Dt=Ut.apply(null,q0);return Dt=Mt(Dt),gt!==0&&Ur(gt),Dt}function B(fe,be,Le,we){Le=Le||[];var A=Le.every(function(Mt){return Mt==="number"}),F=be!=="string";return F&&A&&!we?C(fe):function(){return P(fe,be,Le,arguments)}}var q=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function D(fe,be,Le){for(var we=be+Le,A=be;fe[A]&&!(A>=we);)++A;if(A-be>16&&fe.subarray&&q)return q.decode(fe.subarray(be,A));for(var F="";be<A;){var Mt=fe[be++];if(!(Mt&128)){F+=String.fromCharCode(Mt);continue}var Ut=fe[be++]&63;if((Mt&224)==192){F+=String.fromCharCode((Mt&31)<<6|Ut);continue}var q0=fe[be++]&63;if((Mt&240)==224?Mt=(Mt&15)<<12|Ut<<6|q0:Mt=(Mt&7)<<18|Ut<<12|q0<<6|fe[be++]&63,Mt<65536)F+=String.fromCharCode(Mt);else{var gt=Mt-65536;F+=String.fromCharCode(55296|gt>>10,56320|gt&1023)}}return F}function I(fe,be){return fe?D(X,fe,be):""}function U(fe,be,Le,we){if(!(we>0))return 0;for(var A=Le,F=Le+we-1,Mt=0;Mt<fe.length;++Mt){var Ut=fe.charCodeAt(Mt);if(Ut>=55296&&Ut<=57343){var q0=fe.charCodeAt(++Mt);Ut=65536+((Ut&1023)<<10)|q0&1023}if(Ut<=127){if(Le>=F)break;be[Le++]=Ut}else if(Ut<=2047){if(Le+1>=F)break;be[Le++]=192|Ut>>6,be[Le++]=128|Ut&63}else if(Ut<=65535){if(Le+2>=F)break;be[Le++]=224|Ut>>12,be[Le++]=128|Ut>>6&63,be[Le++]=128|Ut&63}else{if(Le+3>=F)break;be[Le++]=240|Ut>>18,be[Le++]=128|Ut>>12&63,be[Le++]=128|Ut>>6&63,be[Le++]=128|Ut&63}}return be[Le]=0,Le-A}function V(fe,be,Le){return U(fe,X,be,Le)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function H(fe,be){Y.set(fe,be)}function z(fe,be){return fe%be>0&&(fe+=be-fe%be),fe}var k,Y,X,J,K,oe,ce;function de(fe){k=fe,e.HEAP8=Y=new Int8Array(fe),e.HEAP16=J=new Int16Array(fe),e.HEAP32=K=new Int32Array(fe),e.HEAPU8=X=new Uint8Array(fe),e.HEAPU16=new Uint16Array(fe),e.HEAPU32=new Uint32Array(fe),e.HEAPF32=oe=new Float32Array(fe),e.HEAPF64=ce=new Float64Array(fe)}var ve=5271520,Me=28608,Be=e.TOTAL_MEMORY||33554432;e.buffer?k=e.buffer:k=new ArrayBuffer(Be),Be=k.byteLength,de(k),K[Me>>2]=ve;function Oe(fe){for(;fe.length>0;){var be=fe.shift();if(typeof be=="function"){be();continue}var Le=be.func;typeof Le=="number"?be.arg===void 0?e.dynCall_v(Le):e.dynCall_vi(Le,be.arg):Le(be.arg===void 0?null:be.arg)}}var ke=[],dt=[],vt=[],Ft=[];function w0(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Jt(e.preRun.shift());Oe(ke)}function L0(){Oe(dt)}function Nt(){Oe(vt)}function Ct(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)gn(e.postRun.shift());Oe(Ft)}function Jt(fe){ke.unshift(fe)}function gn(fe){Ft.unshift(fe)}var Hn=Math.abs,jn=Math.ceil,Or=Math.floor,g1=Math.min,kr=0,$1=null;function R4(fe){kr++,e.monitorRunDependencies&&e.monitorRunDependencies(kr)}function U5(fe){if(kr--,e.monitorRunDependencies&&e.monitorRunDependencies(kr),kr==0&&$1){var be=$1;$1=null,be()}}e.preloadedImages={},e.preloadedAudios={};var mr=null,b2="data:application/octet-stream;base64,";function T2(fe){return String.prototype.startsWith?fe.startsWith(b2):fe.indexOf(b2)===0}var $n,qs;mr="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAA6B6FaUp9QQTPXMuL4myJBraiDfBwx9UBYJseitzTIQOL5if9jqZtAnXX+Z+ycb0C3pucbhRBCQG8wJBYqpRRAlWbDCzCY5z/eFWBUEve6P/+qo4Q50Y4/D9YM3iCcYT8fcA2QJSA0P4ADxu0qAAc/BNcGolVJ2j5d9FACqwquPh9z7MthtI9CSUSYJke/YUJQ/64OyjU0Qpi0+HCmFQdCm3GfIVdh2kHsJ11kAyauQYC3UDFJOoFBSJsFV1OwU0FK5fcxX4AmQWhy/zZIt/lACqaCPsBjzUDbdUNIScugQMYQlVJ4MXNANiuq8GTvRUDxTXnulxEZQFZ8QX5kpuw/qmG/JwYFlEAluh3Q6DB+QKn4vyNq0GZAKOXekas+UUB8xabXXhI6QG63C2pLtSNAdDBtyNfLDUDyOcu67ID2P0rCMvRXAeE/Ki2TSVyzyT9Dk+8Sz2uzP5J+w5ARWp0/NQAoOiMuhj9YnP+RyMJwPxgW7TvQVFk/KgsLYF0kQz9g5dAC6IwzQcgHPVvDex1B1XjppodHBkHJq3OMM9fwQNvcmJ7wddlAInGPpQs/w0BRobq5EBmtQJZ2ai7n+ZVAtv2G5E+bgECG+gIfKBlpQK5f8jdI91JAL39sL/WpPEB8rGxhDqklQK6yUf43XhBAxL9y/tK8+D86XyZpgrHiPwAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAP////8AAAAAAAAAAAAAAAABAAAAAAAAAAAAAAD/////AAAAAAAAAAABAAAAAQAAAAAAAAAAAAAA/////wAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8FAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAQABAAABAQAAAAAAAQAAAAEAAAABAAEAAAAAAAAAAAAAAAAAAAAAquJYWJZl+D9jaeZNtj/zPwwdI9KqaeO/qGefXwdHdz+q4lhYlmX4P+OrlPMN3PI/DB0j0qpp47+7SQLV4VIEQKriWFiWZfg/r2kma3tz8T82eQmLqNIGwMRIWXMqSvo/fcCszPux9j+jara6ozTwP6hnn18HR3c/MSoKLequ8r+SabgA2nj0P7jBLbDOHO8/1Ym/ICfH4T+6lxjvlFXHv73m373LRPU/0vXyDVxo7T+ToKRHJXMAQF/33578aPE/pAyy64tD9T8+U/hCvyruPwxv8Y7YYwLAuXYr8NAiCEB4+LDK0Sn0P1Qeuy4j+eo/OMx50n7K7L+TrGB/nyf8v5ehC2fbYPM/aXMKexiT6z8mFRIMjg/zP7yUVwGGBNw/E6opHERf8z/z0wR2g9DqPw4pBpcOhvu/NbA29uWAA8DMaTExyXzyP02biiQ+Ruk/S8jz2/FKBEB1pzZnpbb9P7pQU4wLfPI//7ZcQXeG6D9CqEQvAYoIwDB2VB6sSgRAVyv8H5We8T+EHWF8XNPmPzB2wT8Nrrg/SEi+cX+w4L8of+GtdSDxP1sjk5AdouU/6ZjOVru13r8K0obqI6bxvwVbdNXyhfA/w5GG024n5z+rwmtMzP8BwLw9pSX49QXABe/2uQxP8D+b6wCzCvXkP7uGT87fK+Q/pz/JWw4coj+qoBf2J0nwP/yE3PUo0+I/vFJeHcaC+D96luSIqvntP/bf8sHUYu8/gZNN41mL4z9bhOqVOF4FwO6lmAh1hQhAbCVxbdhk7z+1C8NdDcfiPwG36x/0OQBAx0WJ76c2+D9nlSHXANfuP2HlfZ3gqOE/EwnVlVPg9r96+oHzEH//v5bXzdT1Auw/DM3GwLsA4D9p/8uoKcr+v+U9x5DQVAPAehjSdghb7D9sc1IetODgP8MVwwB1pu6/azPk6OGe978W8t/TUc3rP+0QMvYfP+A/RsG/QpSE8D+l3uwScxzgPwQaifgujuw/k1Vti1I43z8MAwLnSh0GQH5nYnwwZgJAiGUzWC5s6j8WyyI/BbLgPw4iUapGeQJAB3W+imnp/j9BLWR4ssrpP2t+gG5Pstk/cpBsfm6DCMCOpU9dOZsFQEv8nFypHeo/ehJ6i+6S2D9jqlGEmarLv7STC5TRiOa/bC+x8WZD6D9H3yUkWpDZP8gZvmCMuQLAreY19/eRBsCoPOc8UzzpP6KI/QV+y9g/t/MoboyWzT+Hv5q3Zu3Mvy2xROCT4uY/9gQitMMg1T9abAqhWMDkv1oLTavoUfG/PMUJP9CD5j+fHRX3t6fSPz7W2gk6bvs/WRnuHwqN9D8YFturGCTmP1EZczv0b9I/5t4exabB5D/1ESLh5fTEP9X2z6SYweQ/6lv3I2zT0D9zkRGNUNMAQKoSvc4EIfs/Xggt8wQI5T+mJHHg/w/SP4lhT/9t8vQ/DrZ/DbwH7D+XlhbYZrjkP34LIpFt6c4/lwfp8fLX9L+j96CTTf76v3WdNhEv9uM/d8c3o4lV0D/vFdCHVcsFwAHeDq0F1QhApbYqcZiN5D9KoilqByXLPwX0/diA0vq/0fo0GxnxAMBbaTkvlCzjP/RrFrWXrMs/UYTrky7jA0DB9f4FiZYAQEGAk/3QzeE/r/TeqE8t0D/OqjlsnPbvvz8RKU8JOfW/smSEbK/O4T8MzuyPm3DDP/rFtctq9gZAfb1EVEaSA0Dts5dVInnhP18SFMc79MM/7y34cw6LAMDFrRJsZO0DwC2KLvLSYuA/hx5wcUHewz+49SnK/4ruPyeS0PX9a+E/ZxaaLvvZ3z8WPu5T2QS8Pygo4RIvMqa/BJ0Kqsd0279cKW4ay8jdP3b05bmZ364/10/qtdxk2r+Bcz6CDMvpv54qOw+Amdw/qLV71pW7sT/YKc80nIPUP8OfIaBJ77G/LyTuD1un2z+diYu8efWzP1wU7ACkfwjAZroyPL1yBkAmv3lKJJbbPysKSE4W+p0/dIgqY79TA8ATLTOQ3tsGwJ2zweD/Xdg/XO/jXeFUaL8VW2qLFKfov1cA9Aa6XfK/tIa7YGgI2T+f3hu/sxqPv2nXdPpf3Pc/jkw8Jbda8j+tT/z8tGPVP1yBHpJd35k/KYvYOy1s8j/yz+kCQjPrP9+agH7x59g/PZfJ9aBhpr/rDKzvYBb+PwtkiaGCt/c/vb1mVr+f1T/JIHwHc8Govw7aeF6+9vG/Xv7kD6fp979isYioQYHVP7AIQZuSFrG/3z1AdUTnAUDN3XY9O7f9P0AdQ9ljYNQ/dJANJPTOrb8kLECUiiPlP4yF7UgmStA/9xGmXxCG1T9qZzix4W2zv2SGJRJVrPe/Fh9a2M/B/b8IexzFCoPSP9y1QFD2bLe/Q86cWLJe/b+mOOfYm78BwOTjkPAGE9E/8aPCUKu/ub9pPZyLCiUGwBA7Mev/BQlALOmrlRi+0j+AMJ/dKULBv7iLtL6a6QRAEMDV/yajAUDa62dE3crJP1P70RgBUbq/38hVnR6esT/s1tG10Z/Ov/zLwalHPss/dTS9NKTXx78nMcRzCIEHQAabxDsAmQRA0tyLK3gSyT+Aui7nOhDGv5Gs58z3WgHATN3forJuBMCAui7nOhDGP9Lciyt4Esm/WAJyHQ4c7z8UP5HFIs3iP3U0vTSk18c//MvBqUc+y7+cvv8HLg/Kvy1I/mHsI+K/U/vRGAFRuj/a62dE3crJv8p+WV8KlQjAuQ/nOP43B0CAMJ/dKULBPyzpq5UYvtK/ZoU+VoLh4L9etLlRUfvtv/GjwlCrv7k/5OOQ8AYT0b9DfT9FhufXPwUX8hJp+4u/3LVAUPZstz8IexzFCoPSv9+L609E5fQ/q9Fz7X2J7T9qZzix4W2zP/cRpl8QhtW/vtNilqGX+j8MOy7QJoL0P3SQDST0zq0/QB1D2WNg1L8IIjSvGNkDwGB8Jou2GAfAsAhBm5IWsT9isYioQYHVvyS9D3zb6uy/gnwRa7uM9L/JIHwHc8GoP729Zla/n9W/CsAHJZwmAEDEW6OYT1r6Pz2XyfWgYaY/35qAfvHn2L83Tdy4lS30vxf2/gZ0jPq/XIEekl3fmb+tT/z8tGPVvybPr2zJ1/+/K7mJ0ypVAsCf3hu/sxqPPwCGu2BoCNm/5oITrpZn+r+UDUyDP+n/v1zv413hVGg/nbPB4P9d2L9MlmkxNvgCQMtZlKE85v8/KwpIThb6nb8mv3lKJJbbv8+SZsTvOOc/pQCIIOYw0j+diYu8efWzvy8k7g9bp9u/kxYDa+pKtD9XlYvA8HnVv6i1e9aVu7G/nio7D4CZ3L/WR6rNh5EGwCkgQweBkghAdvTluZnfrr9cKW4ay8jdvxbjhr1f1QVAR5C0MzivAkAWPu5T2QS8v2cWmi772d+/cKj4lzLJCEBx2QJfYrMFQIcecHFB3sO/LYou8tJi4L+jr7lhO38BwIcI0Nb7xgTAXxIUxzv0w7/ts5dVInnhv0T+l8DZLfE/MP3FoFvS5D8MzuyPm3DDv7JkhGyvzuG/tzhzRIRc0b9Ovv3/0z7mv6/03qhPLdC/m4CT/dDN4b9dwjU5VCQBQBBJX1ntCv0/9GsWtZesy79baTkvlCzjv1mjYgEz++S/oW6KnOQW8b9KoilqByXLv6W2KnGYjeS/SmaKz3Vx9z+BZB5yxGHwP3fHN6OJVdC/dZ02ES/2478PuaBjLrXaP4/JU81pPaO/fgsikW3pzr+XlhbYZrjkv4tSn7YDbP0/f2LnFKlF9z+mJHHg/w/Sv14ILfMECOW/mfg4qYhR/b+OP+RQDCACwOpb9yNs09C/1fbPpJjB5L9pN2WOVZ3wv3hHy9nxIve/URlzO/Rv0r8YFturGCTmv1d1/KKR8QPA8gsy9qzSB8CfHRX3t6fSvzzFCT/Qg+a/EYStnrzV9r/2QJqI7Lb9v/YEIrTDINW/LbFE4JPi5r/7kQEs5fEDQHunnf4GeQBAooj9BX7L2L+oPOc8Uzzpv+ydYY2SSAfAL4HK6CRTB0BH3yUkWpDZv2wvsfFmQ+i/Ik0Yzruh6T8fM3LoGoDUP3oSeovukti/S/ycXKkd6r9rEv+7UWcHQCRIQe/GfwNAa36Abk+y2b9BLWR4ssrpv9KT87qa0bM/FTyktw823L8WyyI/BbLgv4hlM1gubOq/DizMp9Ki6r8b5ckdjVrzv5NVbYtSON+/BBqJ+C6O7L/dUBFqgyXYv00Wh18r7+q/7RAy9h8/4L8W8t/TUc3rv4RM5DKx3wDAfvWIj94aBcBsc1IetODgv3oY0nYIW+y/oGcTFF54AUDkJqS/FKX6PwzNxsC7AOC/ltfN1PUC7L+5Wrz/zHnzP6688w2rNOc/YeV9neCo4b9nlSHXANfuvw9RsxKjY/s/1V8GteXE8j+1C8NdDcfiv2wlcW3YZO+/IOywaA7Q8b9bFP+4Tg36v4GTTeNZi+O/9t/ywdRi77+tRc3yFR7eP2bkcHXJkLO//ITc9SjT4r+qoBf2J0nwv2YHKoswwfm/iQcLspCjAcCb6wCzCvXkvwXv9rkMT/C/YkuwYAMXBMApCNUai9kIwMORhtNuJ+e/BVt01fKF8L+ZqWEfvIjsP6h693QZYNk/WyOTkB2i5b8of+GtdSDxvwpaaulDSwVADMQAX+lOAECEHWF8XNPmv1cr/B+VnvG/XyFG6opcCMD/mtR32/UEQP+2XEF3hui/ulBTjAt88r/imfCfRP+yP9zbvtc8XeO/TZuKJD5G6b/MaTExyXzyvxiTQeElXOO/rbJRQVGN9L/z0wR2g9DqvxOqKRxEX/O/FDGCEei99j9x8zV4VYTmP2lzCnsYk+u/l6ELZ9tg878pRXacaDT/v3k6GZRqoQXAVB67LiP56r94+LDK0Sn0vwO6pZ9b7wFAvK0nKVcc9j8+U/hCvyruv6QMsuuLQ/W/FPhKFYv46j8MyxaDTOW/v9L18g1caO2/vebfvctE9b/7GD8ZrF3xv3gx1AR9bQDAuMEtsM4c77+SabgA2nj0v5xKFIwxsATArKNSBaKsB0Cjara6ozTwv33ArMz7sfa/dF2U0FcWCcDxL357DJX/P69pJmt7c/G/quJYWJZl+L/YntVJlnrSP4sRLzXM+fe/46uU8w3c8r+q4lhYlmX4v85lu5+QRwRAsI0H/WU8479jaeZNtj/zv6riWFiWZfi/sI0H/WU847/OZbufkEcEQHAoPUBrnss/9exKzDtFtT88wM8kax+gP9OqeKeAYog/MW0ItiZvcj+ph+smvt5bP2lCaV5dEUU/StaUmQDaLz+kK9y22BMYP0O3whZuMwI/IIbgZGWE6z7UkjYaEM3UPuezxwa9cr8+LybxRMnFpz6E1N8DbPiRPsYjySMvK3s+//////8fAAj//////zMQCP////9/MiAI/////28yMAj/////YzJACP///z9iMlAI////N2IyYAj///8zYjJwCP//vzNiMoAI//+rM2IykAj/f6szYjKgCP8PqzNiMrAI/wOrM2IywAi/A6szYjLQCJ8DqzNiMuAImQOrM2Iy8Aj//////z8PCP//////Kx8I/////38pLwj/////Pyk/CP////85KU8I////PzgpXwj///8POClvCP///w44KX8I//8fDjgpjwj//w8OOCmfCP9/DQ44Ka8I/w8NDjgpvwj/DQ0OOCnPCP8MDQ44Kd8IxwwNDjgp7wjEDA0OOCn/CAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAABgtRFT7Ifk/GC1EVPsh+b8YLURU+yEJQBgtRFT7IQnAYWxnb3MuYwBoM05laWdoYm9yUm90YXRpb25zAGNvb3JkaWprLmMAX3VwQXA3Q2hlY2tlZABfdXBBcDdyQ2hlY2tlZABkaXJlY3RlZEVkZ2UuYwBkaXJlY3RlZEVkZ2VUb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpclt0bXBGaWprLmZhY2VdW2ZpamsuZmFjZV0gPT0gS0kAZmFjZWlqay5jAF9mYWNlSWprUGVudFRvQ2VsbEJvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9DZWxsQm91bmRhcnkAaDNJbmRleC5jAGNvbXBhY3RDZWxscwBsYXRMbmdUb0NlbGwAY2VsbFRvQ2hpbGRQb3MAdmFsaWRhdGVDaGlsZFBvcwBsYXRMbmcuYwBjZWxsQXJlYVJhZHMyAHBvbHlnb24tPm5leHQgPT0gTlVMTABsaW5rZWRHZW8uYwBhZGROZXdMaW5rZWRQb2x5Z29uAG5leHQgIT0gTlVMTABsb29wICE9IE5VTEwAYWRkTmV3TGlua2VkTG9vcABwb2x5Z29uLT5maXJzdCA9PSBOVUxMAGFkZExpbmtlZExvb3AAY29vcmQgIT0gTlVMTABhZGRMaW5rZWRDb29yZABsb29wLT5maXJzdCA9PSBOVUxMAGlubmVyTG9vcHMgIT0gTlVMTABub3JtYWxpemVNdWx0aVBvbHlnb24AYmJveGVzICE9IE5VTEwAY2FuZGlkYXRlcyAhPSBOVUxMAGZpbmRQb2x5Z29uRm9ySG9sZQBjYW5kaWRhdGVCQm94ZXMgIT0gTlVMTAByZXZEaXIgIT0gSU5WQUxJRF9ESUdJVABsb2NhbGlqLmMAY2VsbFRvTG9jYWxJamsAYmFzZUNlbGwgIT0gb3JpZ2luQmFzZUNlbGwAIShvcmlnaW5PblBlbnQgJiYgaW5kZXhPblBlbnQpAGJhc2VDZWxsID09IG9yaWdpbkJhc2VDZWxsAGJhc2VDZWxsICE9IElOVkFMSURfQkFTRV9DRUxMAGxvY2FsSWprVG9DZWxsACFfaXNCYXNlQ2VsbFBlbnRhZ29uKGJhc2VDZWxsKQBiYXNlQ2VsbFJvdGF0aW9ucyA+PSAwAGdyaWRQYXRoQ2VsbHMAcG9seWZpbGwuYwBpdGVyU3RlcFBvbHlnb25Db21wYWN0ADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";var G5=28624;function C4(fe,be,Le,we){gr("Assertion failed: "+I(fe)+", at: "+[be?I(be):"unknown filename",Le,we?I(we):"unknown function"])}function w2(){return Y.length}function V5(fe,be,Le){X.set(X.subarray(be,be+Le),fe)}function z5(fe){return e.___errno_location&&(K[e.___errno_location()>>2]=fe),fe}function P4(fe){gr("OOM")}function H5(fe){try{var be=new ArrayBuffer(fe);return be.byteLength!=fe?void 0:(new Int8Array(be).set(Y),S0(be),de(be),1)}catch{}}function j5(fe){var be=w2(),Le=16777216,we=2147483648-Le;if(fe>we)return!1;for(var A=16777216,F=Math.max(be,A);F<fe;)F<=536870912?F=z(2*F,Le):F=Math.min(z((3*F+2147483648)/4,Le),we);var Mt=H5(F);return!!Mt}var B4=typeof atob=="function"?atob:function(fe){var be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Le="",we,A,F,Mt,Ut,q0,gt,Rt=0;fe=fe.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Mt=be.indexOf(fe.charAt(Rt++)),Ut=be.indexOf(fe.charAt(Rt++)),q0=be.indexOf(fe.charAt(Rt++)),gt=be.indexOf(fe.charAt(Rt++)),we=Mt<<2|Ut>>4,A=(Ut&15)<<4|q0>>2,F=(q0&3)<<6|gt,Le=Le+String.fromCharCode(we),q0!==64&&(Le=Le+String.fromCharCode(A)),gt!==64&&(Le=Le+String.fromCharCode(F));while(Rt<fe.length);return Le};function Is(fe){try{for(var be=B4(fe),Le=new Uint8Array(be.length),we=0;we<be.length;++we)Le[we]=be.charCodeAt(we);return Le}catch{throw new Error("Converting base64 string to bytes failed.")}}function le(fe){if(T2(fe))return Is(fe.slice(b2.length))}var De={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},Je={b:m,c:y,d:C4,e:z5,f:w2,g:V5,h:j5,i:P4,o:G5,p:Me},ye=function(fe,be,Le){"almost asm";var we=new fe.Int8Array(Le),A=new fe.Int32Array(Le);new fe.Uint8Array(Le),new fe.Float32Array(Le);var F=new fe.Float64Array(Le),Mt=be.o|0,Ut=be.p|0,q0=fe.Math.floor,gt=fe.Math.abs,Rt=fe.Math.sqrt,Q1=fe.Math.pow,Dt=fe.Math.cos,yt=fe.Math.sin,Xn=fe.Math.tan,D4=fe.Math.acos,H_=fe.Math.asin,$5=fe.Math.atan,Kn=fe.Math.atan2,E2=fe.Math.ceil,Vr=fe.Math.imul,W5=fe.Math.min,j_=fe.Math.max,v1=fe.Math.clz32,st=be.b,G=be.c,Ze=be.d,hl=be.e,$_=be.f,W_=be.g,Q_=be.h,Y_=be.i,L=28640;function X_(a){return we=new Int8Array(a),A=new Int32Array(a),F=new Float64Array(a),Le=a,!0}function K_(a){a=a|0;var l=0;return l=L,L=L+a|0,L=L+15&-16,l|0}function Z_(){return L|0}function J_(a){a=a|0,L=a}function ex(a,l){a=a|0,L=a}function tx(a,l){a=a|0,l=l|0;var c=0,f=0,p=0;return(a|0)<0?(l=2,l|0):(a|0)>13780509?(l=d8(15,l)|0,l|0):(c=((a|0)<0)<<31>>31,p=J0(a|0,c|0,3,0)|0,f=G()|0,c=We(a|0,c|0,1,0)|0,c=J0(p|0,f|0,c|0,G()|0)|0,c=We(c|0,G()|0,1,0)|0,a=G()|0,A[l>>2]=c,A[l+4>>2]=a,l=0,l|0)}function fl(a,l,c,f){return a=a|0,l=l|0,c=c|0,f=f|0,dl(a,l,c,f,0)|0}function dl(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0;if(T=L,L=L+16|0,v=T,!(pl(a,l,c,f,p)|0))return f=0,L=T,f|0;do if((c|0)>=0){if((c|0)>13780509){if(g=d8(15,v)|0,g|0)break;_=v,v=A[_>>2]|0,_=A[_+4>>2]|0}else g=((c|0)<0)<<31>>31,E=J0(c|0,g|0,3,0)|0,_=G()|0,g=We(c|0,g|0,1,0)|0,g=J0(E|0,_|0,g|0,G()|0)|0,g=We(g|0,G()|0,1,0)|0,_=G()|0,A[v>>2]=g,A[v+4>>2]=_,v=g;if(Di(f|0,0,v<<3|0)|0,p|0){Di(p|0,0,v<<2|0)|0,g=_1(a,l,c,f,p,v,_,0)|0;break}g=er(v,4)|0,g?(E=_1(a,l,c,f,g,v,_,0)|0,Qe(g),g=E):g=13}else g=2;while(!1);return E=g,L=T,E|0}function pl(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0;if(ee=L,L=L+16|0,$=ee,W=ee+8|0,Q=$,A[Q>>2]=a,A[Q+4>>2]=l,(c|0)<0)return W=2,L=ee,W|0;if(g=f,A[g>>2]=a,A[g+4>>2]=l,g=(p|0)!=0,g&&(A[p>>2]=0),Wt(a,l)|0)return W=9,L=ee,W|0;A[W>>2]=0;e:do if((c|0)>=1)if(g)for(R=1,E=0,O=0,Q=1,g=a;;){if(!(E|O)){if(g=I0(g,l,4,W,$)|0,g|0)break e;if(l=$,g=A[l>>2]|0,l=A[l+4>>2]|0,Wt(g,l)|0){g=9;break e}}if(g=I0(g,l,A[26800+(O<<2)>>2]|0,W,$)|0,g|0)break e;if(l=$,g=A[l>>2]|0,l=A[l+4>>2]|0,a=f+(R<<3)|0,A[a>>2]=g,A[a+4>>2]=l,A[p+(R<<2)>>2]=Q,a=E+1|0,v=(a|0)==(Q|0),_=O+1|0,T=(_|0)==6,Wt(g,l)|0){g=9;break e}if(Q=Q+(T&v&1)|0,(Q|0)>(c|0)){g=0;break}else R=R+1|0,E=v?0:a,O=v?T?0:_:O}else for(R=1,E=0,O=0,Q=1,g=a;;){if(!(E|O)){if(g=I0(g,l,4,W,$)|0,g|0)break e;if(l=$,g=A[l>>2]|0,l=A[l+4>>2]|0,Wt(g,l)|0){g=9;break e}}if(g=I0(g,l,A[26800+(O<<2)>>2]|0,W,$)|0,g|0)break e;if(l=$,g=A[l>>2]|0,l=A[l+4>>2]|0,a=f+(R<<3)|0,A[a>>2]=g,A[a+4>>2]=l,a=E+1|0,v=(a|0)==(Q|0),_=O+1|0,T=(_|0)==6,Wt(g,l)|0){g=9;break e}if(Q=Q+(T&v&1)|0,(Q|0)>(c|0)){g=0;break}else R=R+1|0,E=v?0:a,O=v?T?0:_:O}else g=0;while(!1);return W=g,L=ee,W|0}function _1(a,l,c,f,p,g,v,_){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0,g=g|0,v=v|0,_=_|0;var T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0;if(ee=L,L=L+16|0,$=ee+8|0,W=ee,T=B2(a|0,l|0,g|0,v|0)|0,R=G()|0,O=f+(T<<3)|0,ie=O,he=A[ie>>2]|0,ie=A[ie+4>>2]|0,E=(he|0)==(a|0)&(ie|0)==(l|0),!((he|0)==0&(ie|0)==0|E))do T=We(T|0,R|0,1,0)|0,T=P2(T|0,G()|0,g|0,v|0)|0,R=G()|0,O=f+(T<<3)|0,he=O,ie=A[he>>2]|0,he=A[he+4>>2]|0,E=(ie|0)==(a|0)&(he|0)==(l|0);while(!((ie|0)==0&(he|0)==0|E));if(T=p+(T<<2)|0,E&&(A[T>>2]|0)<=(_|0)||(he=O,A[he>>2]=a,A[he+4>>2]=l,A[T>>2]=_,(_|0)>=(c|0)))return he=0,L=ee,he|0;switch(E=_+1|0,A[$>>2]=0,T=I0(a,l,2,$,W)|0,T|0){case 9:{Q=9;break}case 0:{T=W,T=_1(A[T>>2]|0,A[T+4>>2]|0,c,f,p,g,v,E)|0,T||(Q=9);break}}e:do if((Q|0)==9){switch(A[$>>2]=0,T=I0(a,l,3,$,W)|0,T|0){case 9:break;case 0:{if(T=W,T=_1(A[T>>2]|0,A[T+4>>2]|0,c,f,p,g,v,E)|0,T|0)break e;break}default:break e}switch(A[$>>2]=0,T=I0(a,l,1,$,W)|0,T|0){case 9:break;case 0:{if(T=W,T=_1(A[T>>2]|0,A[T+4>>2]|0,c,f,p,g,v,E)|0,T|0)break e;break}default:break e}switch(A[$>>2]=0,T=I0(a,l,5,$,W)|0,T|0){case 9:break;case 0:{if(T=W,T=_1(A[T>>2]|0,A[T+4>>2]|0,c,f,p,g,v,E)|0,T|0)break e;break}default:break e}switch(A[$>>2]=0,T=I0(a,l,4,$,W)|0,T|0){case 9:break;case 0:{if(T=W,T=_1(A[T>>2]|0,A[T+4>>2]|0,c,f,p,g,v,E)|0,T|0)break e;break}default:break e}switch(A[$>>2]=0,T=I0(a,l,6,$,W)|0,T|0){case 9:break;case 0:{if(T=W,T=_1(A[T>>2]|0,A[T+4>>2]|0,c,f,p,g,v,E)|0,T|0)break e;break}default:break e}return he=0,L=ee,he|0}while(!1);return he=T,L=ee,he|0}function I0(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0;if(c>>>0>6)return p=1,p|0;if(O=(A[f>>2]|0)%6|0,A[f>>2]=O,(O|0)>0){g=0;do c=Ci(c)|0,g=g+1|0;while((g|0)<(A[f>>2]|0))}if(O=Te(a|0,l|0,45)|0,G()|0,R=O&127,R>>>0>121)return p=5,p|0;T=yn(a,l)|0,g=Te(a|0,l|0,52)|0,G()|0,g=g&15;e:do if(!g)E=8;else{for(;;){if(v=(15-g|0)*3|0,_=Te(a|0,l|0,v|0)|0,G()|0,_=_&7,(_|0)==7){l=5;break}if(W=(Zn(g)|0)==0,g=g+-1|0,Q=Re(7,0,v|0)|0,l=l&~(G()|0),$=Re(A[(W?432:16)+(_*28|0)+(c<<2)>>2]|0,0,v|0)|0,v=G()|0,c=A[(W?640:224)+(_*28|0)+(c<<2)>>2]|0,a=$|a&~Q,l=v|l,!c){c=0;break e}if(!g){E=8;break e}}return l|0}while(!1);(E|0)==8&&(W=A[848+(R*28|0)+(c<<2)>>2]|0,$=Re(W|0,0,45)|0,a=$|a,l=G()|0|l&-1040385,c=A[4272+(R*28|0)+(c<<2)>>2]|0,(W&127|0)==127&&(W=Re(A[848+(R*28|0)+20>>2]|0,0,45)|0,l=G()|0|l&-1040385,c=A[4272+(R*28|0)+20>>2]|0,a=Pi(W|a,l)|0,l=G()|0,A[f>>2]=(A[f>>2]|0)+1)),_=Te(a|0,l|0,45)|0,G()|0,_=_&127;e:do if(t0(_)|0){t:do if((yn(a,l)|0)==1){if((R|0)!=(_|0))if(yl(_,A[7696+(R*28|0)>>2]|0)|0){a=A8(a,l)|0,v=1,l=G()|0;break}else Ze(27795,26864,436,26872);switch(T|0){case 3:{a=Pi(a,l)|0,l=G()|0,A[f>>2]=(A[f>>2]|0)+1,v=0;break t}case 5:{a=A8(a,l)|0,l=G()|0,A[f>>2]=(A[f>>2]|0)+5,v=0;break t}case 0:return W=9,W|0;default:return W=1,W|0}}else v=0;while(!1);if((c|0)>0){g=0;do a=a8(a,l)|0,l=G()|0,g=g+1|0;while((g|0)!=(c|0))}if((R|0)!=(_|0)){if(!(Y5(_)|0)){if((v|0)!=0|(yn(a,l)|0)!=5)break;A[f>>2]=(A[f>>2]|0)+1;break}switch(O&127){case 8:case 118:break e}(yn(a,l)|0)!=3&&(A[f>>2]=(A[f>>2]|0)+1)}}else if((c|0)>0){g=0;do a=Pi(a,l)|0,l=G()|0,g=g+1|0;while((g|0)!=(c|0))}while(!1);return A[f>>2]=((A[f>>2]|0)+c|0)%6|0,W=p,A[W>>2]=a,A[W+4>>2]=l,W=0,W|0}function Q5(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0;for(_=L,L=L+16|0,g=_,v=_+8|0,p=(Wt(a,l)|0)==0,p=p?1:2;;){if(A[v>>2]=0,E=(I0(a,l,p,v,g)|0)==0,T=g,E&((A[T>>2]|0)==(c|0)?(A[T+4>>2]|0)==(f|0):0)){a=4;break}if(p=p+1|0,p>>>0>=7){p=7,a=4;break}}return(a|0)==4?(L=_,p|0):0}function nx(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0;if(W=L,L=L+16|0,Q=W,$=W+8|0,O=Q,A[O>>2]=a,A[O+4>>2]=l,!c)return $=f,A[$>>2]=a,A[$+4>>2]=l,$=0,L=W,$|0;A[$>>2]=0;e:do if(Wt(a,l)|0)a=9;else{if(g=(c|0)>0,g){p=0,O=a;do{if(a=I0(O,l,4,$,Q)|0,a|0)break e;if(l=Q,O=A[l>>2]|0,l=A[l+4>>2]|0,p=p+1|0,Wt(O,l)|0){a=9;break e}}while((p|0)<(c|0));if(R=f,A[R>>2]=O,A[R+4>>2]=l,R=c+-1|0,g){E=0,a=1;do{if(p=26800+(E<<2)|0,(E|0)==5)for(v=A[p>>2]|0,g=0,p=a;;){if(a=Q,a=I0(A[a>>2]|0,A[a+4>>2]|0,v,$,Q)|0,a|0)break e;if((g|0)!=(R|0))if(T=Q,_=A[T>>2]|0,T=A[T+4>>2]|0,a=f+(p<<3)|0,A[a>>2]=_,A[a+4>>2]=T,!(Wt(_,T)|0))a=p+1|0;else{a=9;break e}else a=p;if(g=g+1|0,(g|0)>=(c|0))break;p=a}else for(v=Q,T=A[p>>2]|0,_=0,p=a,g=A[v>>2]|0,v=A[v+4>>2]|0;;){if(a=I0(g,v,T,$,Q)|0,a|0)break e;if(v=Q,g=A[v>>2]|0,v=A[v+4>>2]|0,a=f+(p<<3)|0,A[a>>2]=g,A[a+4>>2]=v,a=p+1|0,Wt(g,v)|0){a=9;break e}if(_=_+1|0,(_|0)>=(c|0))break;p=a}E=E+1|0}while(E>>>0<6);a=Q,v=O,p=A[a>>2]|0,g=l,a=A[a+4>>2]|0}else v=O,p=O,g=l,a=l}else v=f,A[v>>2]=a,A[v+4>>2]=l,v=a,p=a,g=l,a=l;a=(v|0)==(p|0)&(g|0)==(a|0)?0:9}while(!1);return $=a,L=W,$|0}function rx(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0;if(_=L,L=L+48|0,p=_+16|0,g=_+8|0,v=_,c=zs(c)|0,c|0)return v=c,L=_,v|0;if(E=a,T=A[E+4>>2]|0,c=g,A[c>>2]=A[E>>2],A[c+4>>2]=T,zl(g,p),c=bl(p,l,v)|0,!c){if(l=A[g>>2]|0,g=A[a+8>>2]|0,(g|0)>0){p=A[a+12>>2]|0,c=0;do l=(A[p+(c<<3)>>2]|0)+l|0,c=c+1|0;while((c|0)<(g|0))}c=v,p=A[c>>2]|0,c=A[c+4>>2]|0,g=((l|0)<0)<<31>>31,(c|0)<(g|0)|(c|0)==(g|0)&p>>>0<l>>>0?(c=v,A[c>>2]=l,A[c+4>>2]=g,c=g):l=p,T=We(l|0,c|0,12,0)|0,E=G()|0,c=v,A[c>>2]=T,A[c+4>>2]=E,c=f,A[c>>2]=T,A[c+4>>2]=E,c=0}return E=c,L=_,E|0}function ml(a,l,c,f,p,g,v){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0,g=g|0,v=v|0;var _=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0,Ue=0,qe=0,tt=0,ot=0,_t=0,Xe=0,Ge=0,Ee=0,pt=0,zt=0,ut=0,Ht=0,ln=0,ru=0;if(zt=L,L=L+64|0,Xe=zt+48|0,Ge=zt+32|0,Ee=zt+24|0,Ne=zt+8|0,Ue=zt,T=A[a>>2]|0,(T|0)<=0)return pt=0,L=zt,pt|0;for(qe=a+4|0,tt=Xe+8|0,ot=Ge+8|0,_t=Ne+8|0,_=0,ae=0;;){E=A[qe>>2]|0,ue=E+(ae<<4)|0,A[Xe>>2]=A[ue>>2],A[Xe+4>>2]=A[ue+4>>2],A[Xe+8>>2]=A[ue+8>>2],A[Xe+12>>2]=A[ue+12>>2],(ae|0)==(T+-1|0)?(A[Ge>>2]=A[E>>2],A[Ge+4>>2]=A[E+4>>2],A[Ge+8>>2]=A[E+8>>2],A[Ge+12>>2]=A[E+12>>2]):(ue=E+(ae+1<<4)|0,A[Ge>>2]=A[ue>>2],A[Ge+4>>2]=A[ue+4>>2],A[Ge+8>>2]=A[ue+8>>2],A[Ge+12>>2]=A[ue+12>>2]),T=px(Xe,Ge,f,Ee)|0;e:do if(T)E=0,_=T;else if(T=Ee,E=A[T>>2]|0,T=A[T+4>>2]|0,(T|0)>0|(T|0)==0&E>>>0>0){he=0,ue=0;t:for(;;){if(Ht=1/(+(E>>>0)+4294967296*+(T|0)),ru=+F[Xe>>3],T=V0(E|0,T|0,he|0,ue|0)|0,ln=+(T>>>0)+4294967296*+(G()|0),ut=+(he>>>0)+4294967296*+(ue|0),F[Ne>>3]=Ht*(ru*ln)+Ht*(+F[Ge>>3]*ut),F[_t>>3]=Ht*(+F[tt>>3]*ln)+Ht*(+F[ot>>3]*ut),T=l8(Ne,f,Ue)|0,T|0){_=T;break}ie=Ue,ee=A[ie>>2]|0,ie=A[ie+4>>2]|0,Q=B2(ee|0,ie|0,l|0,c|0)|0,R=G()|0,T=v+(Q<<3)|0,O=T,E=A[O>>2]|0,O=A[O+4>>2]|0;n:do if((E|0)==0&(O|0)==0)te=T,pt=16;else for($=0,W=0;;){if(($|0)>(c|0)|($|0)==(c|0)&W>>>0>l>>>0){_=1;break t}if((E|0)==(ee|0)&(O|0)==(ie|0))break n;if(T=We(Q|0,R|0,1,0)|0,Q=P2(T|0,G()|0,l|0,c|0)|0,R=G()|0,W=We(W|0,$|0,1,0)|0,$=G()|0,T=v+(Q<<3)|0,O=T,E=A[O>>2]|0,O=A[O+4>>2]|0,(E|0)==0&(O|0)==0){te=T,pt=16;break}}while(!1);if((pt|0)==16&&(pt=0,!((ee|0)==0&(ie|0)==0))&&(W=te,A[W>>2]=ee,A[W+4>>2]=ie,W=g+(A[p>>2]<<3)|0,A[W>>2]=ee,A[W+4>>2]=ie,W=p,W=We(A[W>>2]|0,A[W+4>>2]|0,1,0)|0,ee=G()|0,ie=p,A[ie>>2]=W,A[ie+4>>2]=ee),he=We(he|0,ue|0,1,0)|0,ue=G()|0,T=Ee,E=A[T>>2]|0,T=A[T+4>>2]|0,!((T|0)>(ue|0)|(T|0)==(ue|0)&E>>>0>he>>>0)){E=1;break e}}E=0}else E=1;while(!1);if(ae=ae+1|0,!E){pt=21;break}if(T=A[a>>2]|0,(ae|0)>=(T|0)){_=0,pt=21;break}}return(pt|0)==21?(L=zt,_|0):0}function ix(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0,Ue=0,qe=0,tt=0,ot=0,_t=0,Xe=0,Ge=0,Ee=0,pt=0,zt=0,ut=0,Ht=0,ln=0;if(ln=L,L=L+112|0,pt=ln+80|0,T=ln+72|0,zt=ln,ut=ln+56|0,p=zs(c)|0,p|0)return Ht=p,L=ln,Ht|0;if(E=a+8|0,Ht=zr((A[E>>2]<<5)+32|0)|0,!Ht)return Ht=13,L=ln,Ht|0;if(g8(a,Ht),p=zs(c)|0,!p){if(Ge=a,Ee=A[Ge+4>>2]|0,p=T,A[p>>2]=A[Ge>>2],A[p+4>>2]=Ee,zl(T,pt),p=bl(pt,l,zt)|0,p)Ge=0,Ee=0;else{if(p=A[T>>2]|0,g=A[E>>2]|0,(g|0)>0){v=A[a+12>>2]|0,c=0;do p=(A[v+(c<<3)>>2]|0)+p|0,c=c+1|0;while((c|0)!=(g|0));c=p}else c=p;p=zt,g=A[p>>2]|0,p=A[p+4>>2]|0,v=((c|0)<0)<<31>>31,(p|0)<(v|0)|(p|0)==(v|0)&g>>>0<c>>>0?(p=zt,A[p>>2]=c,A[p+4>>2]=v,p=v):c=g,Ge=We(c|0,p|0,12,0)|0,Ee=G()|0,p=zt,A[p>>2]=Ge,A[p+4>>2]=Ee,p=0}if(!p){if(c=er(Ge,8)|0,!c)return Qe(Ht),Ht=13,L=ln,Ht|0;if(_=er(Ge,8)|0,!_)return Qe(Ht),Qe(c),Ht=13,L=ln,Ht|0;_t=pt,A[_t>>2]=0,A[_t+4>>2]=0,_t=a,Xe=A[_t+4>>2]|0,p=T,A[p>>2]=A[_t>>2],A[p+4>>2]=Xe,p=ml(T,Ge,Ee,l,pt,c,_)|0;e:do if(p)Qe(c),Qe(_),Qe(Ht);else{t:do if((A[E>>2]|0)>0){for(v=a+12|0,g=0;p=ml((A[v>>2]|0)+(g<<3)|0,Ge,Ee,l,pt,c,_)|0,g=g+1|0,!(p|0);)if((g|0)>=(A[E>>2]|0))break t;Qe(c),Qe(_),Qe(Ht);break e}while(!1);(Ee|0)>0|(Ee|0)==0&Ge>>>0>0&&Di(_|0,0,Ge<<3|0)|0,Xe=pt,_t=A[Xe+4>>2]|0;t:do if((_t|0)>0|(_t|0)==0&(A[Xe>>2]|0)>>>0>0){qe=c,tt=_,ot=c,_t=_,Xe=c,p=c,te=c,Ne=_,Ue=_,c=_;n:for(;;){for(ie=0,he=0,ue=0,ae=0,g=0,v=0;;){_=zt,T=_+56|0;do A[_>>2]=0,_=_+4|0;while((_|0)<(T|0));if(l=qe+(ie<<3)|0,E=A[l>>2]|0,l=A[l+4>>2]|0,pl(E,l,1,zt,0)|0){_=zt,T=_+56|0;do A[_>>2]=0,_=_+4|0;while((_|0)<(T|0));_=er(7,4)|0,_|0&&(_1(E,l,1,zt,_,7,0,0)|0,Qe(_))}for(ee=0;;){W=zt+(ee<<3)|0,$=A[W>>2]|0,W=A[W+4>>2]|0;r:do if(($|0)==0&(W|0)==0)_=g,T=v;else{if(R=B2($|0,W|0,Ge|0,Ee|0)|0,E=G()|0,_=f+(R<<3)|0,l=_,T=A[l>>2]|0,l=A[l+4>>2]|0,!((T|0)==0&(l|0)==0)){O=0,Q=0;do{if((O|0)>(Ee|0)|(O|0)==(Ee|0)&Q>>>0>Ge>>>0)break n;if((T|0)==($|0)&(l|0)==(W|0)){_=g,T=v;break r}_=We(R|0,E|0,1,0)|0,R=P2(_|0,G()|0,Ge|0,Ee|0)|0,E=G()|0,Q=We(Q|0,O|0,1,0)|0,O=G()|0,_=f+(R<<3)|0,l=_,T=A[l>>2]|0,l=A[l+4>>2]|0}while(!((T|0)==0&(l|0)==0))}if(($|0)==0&(W|0)==0){_=g,T=v;break}Bi($,W,ut)|0,y8(a,Ht,ut)|0&&(Q=We(g|0,v|0,1,0)|0,v=G()|0,O=_,A[O>>2]=$,A[O+4>>2]=W,g=tt+(g<<3)|0,A[g>>2]=$,A[g+4>>2]=W,g=Q),_=g,T=v}while(!1);if(ee=ee+1|0,ee>>>0>=7)break;g=_,v=T}if(ie=We(ie|0,he|0,1,0)|0,he=G()|0,ue=We(ue|0,ae|0,1,0)|0,ae=G()|0,v=pt,g=A[v>>2]|0,v=A[v+4>>2]|0,(ae|0)<(v|0)|(ae|0)==(v|0)&ue>>>0<g>>>0)g=_,v=T;else break}if((v|0)>0|(v|0)==0&g>>>0>0){g=0,v=0;do ae=qe+(g<<3)|0,A[ae>>2]=0,A[ae+4>>2]=0,g=We(g|0,v|0,1,0)|0,v=G()|0,ae=pt,ue=A[ae+4>>2]|0;while((v|0)<(ue|0)|((v|0)==(ue|0)?g>>>0<(A[ae>>2]|0)>>>0:0))}if(ae=pt,A[ae>>2]=_,A[ae+4>>2]=T,(T|0)>0|(T|0)==0&_>>>0>0)ee=c,ie=Ue,he=Xe,ue=Ne,ae=tt,c=te,Ue=p,Ne=ot,te=ee,p=ie,Xe=_t,_t=he,ot=ue,tt=qe,qe=ae;else break t}Qe(ot),Qe(_t),Qe(Ht),p=1;break e}else p=_;while(!1);Qe(Ht),Qe(c),Qe(p),p=0}while(!1);return Ht=p,L=ln,Ht|0}}return Qe(Ht),Ht=p,L=ln,Ht|0}function sx(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;if(R=L,L=L+176|0,T=R,(l|0)<1)return Ql(c,0,0),E=0,L=R,E|0;for(_=a,_=Te(A[_>>2]|0,A[_+4>>2]|0,52)|0,G()|0,Ql(c,(l|0)>6?l:6,_&15),_=0;f=a+(_<<3)|0,f=R2(A[f>>2]|0,A[f+4>>2]|0,T)|0,!(f|0);){if(f=A[T>>2]|0,(f|0)>0){v=0;do g=T+8+(v<<4)|0,v=v+1|0,f=T+8+(((v|0)%(f|0)|0)<<4)|0,p=Db(c,f,g)|0,p?Kl(c,p)|0:Bb(c,g,f)|0,f=A[T>>2]|0;while((v|0)<(f|0))}if(_=_+1|0,(_|0)>=(l|0)){f=0,E=13;break}}return(E|0)==13?(L=R,f|0):(Yl(c),E=f,L=R,E|0)}function ox(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0;if(g=L,L=L+32|0,f=g,p=g+16|0,a=sx(a,l,p)|0,a|0)return c=a,L=g,c|0;if(A[c>>2]=0,A[c+4>>2]=0,A[c+8>>2]=0,a=Xl(p)|0,a|0)do{l=ab(c)|0;do Ab(l,a)|0,v=a+16|0,A[f>>2]=A[v>>2],A[f+4>>2]=A[v+4>>2],A[f+8>>2]=A[v+8>>2],A[f+12>>2]=A[v+12>>2],Kl(p,a)|0,a=Fb(p,f)|0;while((a|0)!=0);a=Xl(p)|0}while((a|0)!=0);return Yl(p),a=lb(c)|0,a?(kl(c),v=a,L=g,v|0):(v=0,L=g,v|0)}function t0(a){return a=a|0,a>>>0>121?(a=0,a|0):(a=A[7696+(a*28|0)+16>>2]|0,a|0)}function Y5(a){return a=a|0,(a|0)==4|(a|0)==117|0}function gl(a){return a=a|0,A[11120+((A[a>>2]|0)*216|0)+((A[a+4>>2]|0)*72|0)+((A[a+8>>2]|0)*24|0)+(A[a+12>>2]<<3)>>2]|0}function ax(a){return a=a|0,A[11120+((A[a>>2]|0)*216|0)+((A[a+4>>2]|0)*72|0)+((A[a+8>>2]|0)*24|0)+(A[a+12>>2]<<3)+4>>2]|0}function Ax(a,l){a=a|0,l=l|0,a=7696+(a*28|0)|0,A[l>>2]=A[a>>2],A[l+4>>2]=A[a+4>>2],A[l+8>>2]=A[a+8>>2],A[l+12>>2]=A[a+12>>2]}function lx(a,l){a=a|0,l=l|0;var c=0,f=0;if(l>>>0>20)return l=-1,l|0;do if((A[11120+(l*216|0)>>2]|0)!=(a|0))if((A[11120+(l*216|0)+8>>2]|0)!=(a|0))if((A[11120+(l*216|0)+16>>2]|0)!=(a|0))if((A[11120+(l*216|0)+24>>2]|0)!=(a|0))if((A[11120+(l*216|0)+32>>2]|0)!=(a|0))if((A[11120+(l*216|0)+40>>2]|0)!=(a|0))if((A[11120+(l*216|0)+48>>2]|0)!=(a|0))if((A[11120+(l*216|0)+56>>2]|0)!=(a|0))if((A[11120+(l*216|0)+64>>2]|0)!=(a|0))if((A[11120+(l*216|0)+72>>2]|0)!=(a|0))if((A[11120+(l*216|0)+80>>2]|0)!=(a|0))if((A[11120+(l*216|0)+88>>2]|0)!=(a|0))if((A[11120+(l*216|0)+96>>2]|0)!=(a|0))if((A[11120+(l*216|0)+104>>2]|0)!=(a|0))if((A[11120+(l*216|0)+112>>2]|0)!=(a|0))if((A[11120+(l*216|0)+120>>2]|0)!=(a|0))if((A[11120+(l*216|0)+128>>2]|0)!=(a|0))if((A[11120+(l*216|0)+136>>2]|0)==(a|0))a=2,c=1,f=2;else{if((A[11120+(l*216|0)+144>>2]|0)==(a|0)){a=0,c=2,f=0;break}if((A[11120+(l*216|0)+152>>2]|0)==(a|0)){a=0,c=2,f=1;break}if((A[11120+(l*216|0)+160>>2]|0)==(a|0)){a=0,c=2,f=2;break}if((A[11120+(l*216|0)+168>>2]|0)==(a|0)){a=1,c=2,f=0;break}if((A[11120+(l*216|0)+176>>2]|0)==(a|0)){a=1,c=2,f=1;break}if((A[11120+(l*216|0)+184>>2]|0)==(a|0)){a=1,c=2,f=2;break}if((A[11120+(l*216|0)+192>>2]|0)==(a|0)){a=2,c=2,f=0;break}if((A[11120+(l*216|0)+200>>2]|0)==(a|0)){a=2,c=2,f=1;break}if((A[11120+(l*216|0)+208>>2]|0)==(a|0)){a=2,c=2,f=2;break}else a=-1;return a|0}else a=2,c=1,f=1;else a=2,c=1,f=0;else a=1,c=1,f=2;else a=1,c=1,f=1;else a=1,c=1,f=0;else a=0,c=1,f=2;else a=0,c=1,f=1;else a=0,c=1,f=0;else a=2,c=0,f=2;else a=2,c=0,f=1;else a=2,c=0,f=0;else a=1,c=0,f=2;else a=1,c=0,f=1;else a=1,c=0,f=0;else a=0,c=0,f=2;else a=0,c=0,f=1;else a=0,c=0,f=0;while(!1);return l=A[11120+(l*216|0)+(c*72|0)+(a*24|0)+(f<<3)+4>>2]|0,l|0}function yl(a,l){return a=a|0,l=l|0,(A[7696+(a*28|0)+20>>2]|0)==(l|0)?(l=1,l|0):(l=(A[7696+(a*28|0)+24>>2]|0)==(l|0),l|0)}function X5(a,l){return a=a|0,l=l|0,A[848+(a*28|0)+(l<<2)>>2]|0}function K5(a,l){return a=a|0,l=l|0,(A[848+(a*28|0)>>2]|0)==(l|0)?(l=0,l|0):(A[848+(a*28|0)+4>>2]|0)==(l|0)?(l=1,l|0):(A[848+(a*28|0)+8>>2]|0)==(l|0)?(l=2,l|0):(A[848+(a*28|0)+12>>2]|0)==(l|0)?(l=3,l|0):(A[848+(a*28|0)+16>>2]|0)==(l|0)?(l=4,l|0):(A[848+(a*28|0)+20>>2]|0)==(l|0)?(l=5,l|0):((A[848+(a*28|0)+24>>2]|0)==(l|0)?6:7)|0}function ux(){return 122}function cx(a){a=a|0;var l=0,c=0,f=0;l=0;do Re(l|0,0,45)|0,f=G()|0|134225919,c=a+(l<<3)|0,A[c>>2]=-1,A[c+4>>2]=f,l=l+1|0;while((l|0)!=122);return 0}function hx(a){a=a|0;var l=0,c=0,f=0;return f=+F[a+16>>3],c=+F[a+24>>3],l=f-c,+(f<c?l+6.283185307179586:l)}function vl(a){return a=a|0,+F[a+16>>3]<+F[a+24>>3]|0}function fx(a){return a=a|0,+(+F[a>>3]-+F[a+8>>3])}function Z5(a,l){a=a|0,l=l|0;var c=0,f=0,p=0;return c=+F[l>>3],!(c>=+F[a+8>>3])||!(c<=+F[a>>3])?(l=0,l|0):(f=+F[a+16>>3],c=+F[a+24>>3],p=+F[l+8>>3],l=p>=c,a=p<=f&1,f<c?l&&(a=1):l||(a=0),l=(a|0)!=0,l|0)}function J5(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;return+F[a>>3]<+F[l+8>>3]||+F[a+8>>3]>+F[l>>3]?(f=0,f|0):(g=+F[a+16>>3],c=a+24|0,R=+F[c>>3],v=g<R,f=l+16|0,E=+F[f>>3],p=l+24|0,T=+F[p>>3],_=E<T,l=R-E<T-g,a=v?_|l?1:2:0,l=_?v?1:l?2:1:0,g=+Bn(g,a),g<+Bn(+F[p>>3],l)||(R=+Bn(+F[c>>3],a),R>+Bn(+F[f>>3],l))?(_=0,_|0):(_=1,_|0))}function dx(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0;g=+F[a+16>>3],T=+F[a+24>>3],a=g<T,_=+F[l+16>>3],v=+F[l+24>>3],p=_<v,l=T-_<v-g,A[c>>2]=a?p|l?1:2:0,A[f>>2]=p?a?1:l?2:1:0}function _l(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;return+F[a>>3]<+F[l>>3]||+F[a+8>>3]>+F[l+8>>3]?(f=0,f|0):(f=a+16|0,T=+F[f>>3],g=+F[a+24>>3],v=T<g,c=l+16|0,R=+F[c>>3],p=l+24|0,E=+F[p>>3],_=R<E,l=g-R<E-T,a=v?_|l?1:2:0,l=_?v?1:l?2:1:0,g=+Bn(g,a),g<=+Bn(+F[p>>3],l)?(R=+Bn(+F[f>>3],a),_=R>=+Bn(+F[c>>3],l),_|0):(_=0,_|0))}function xl(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0;p=L,L=L+176|0,f=p,A[f>>2]=4,_=+F[l>>3],F[f+8>>3]=_,g=+F[l+16>>3],F[f+16>>3]=g,F[f+24>>3]=_,_=+F[l+24>>3],F[f+32>>3]=_,v=+F[l+8>>3],F[f+40>>3]=v,F[f+48>>3]=_,F[f+56>>3]=v,F[f+64>>3]=g,l=f+72|0,c=l+96|0;do A[l>>2]=0,l=l+4|0;while((l|0)<(c|0));D2(a|0,f|0,168)|0,L=p}function bl(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0;W=L,L=L+288|0,R=W+264|0,O=W+96|0,E=W,_=E,T=_+96|0;do A[_>>2]=0,_=_+4|0;while((_|0)<(T|0));return l=c8(l,E)|0,l|0?($=l,L=W,$|0):(T=E,E=A[T>>2]|0,T=A[T+4>>2]|0,Bi(E,T,R)|0,R2(E,T,O)|0,v=+Gs(R,O+8|0),F[R>>3]=+F[a>>3],T=R+8|0,F[T>>3]=+F[a+16>>3],F[O>>3]=+F[a+8>>3],E=O+8|0,F[E>>3]=+F[a+24>>3],p=+Gs(R,O),ie=+F[T>>3]-+F[E>>3],g=+gt(+ie),ee=+F[R>>3]-+F[O>>3],f=+gt(+ee),!(ie==0|ee==0)&&(ie=+tu(+g,+f),ie=+E2(+(p*p/+U4(+(ie/+U4(+g,+f)),3)/(v*(v*2.59807621135)*.8))),F[Mt>>3]=ie,Q=~~ie>>>0,$=+gt(ie)>=1?ie>0?~~+W5(+q0(ie/4294967296),4294967295)>>>0:~~+E2((ie-+(~~ie>>>0))/4294967296)>>>0:0,(A[Mt+4>>2]&2146435072|0)!=2146435072)?(O=(Q|0)==0&($|0)==0,l=c,A[l>>2]=O?1:Q,A[l+4>>2]=O?0:$,l=0):l=1,$=l,L=W,$|0)}function px(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0;E=L,L=L+288|0,v=E+264|0,_=E+96|0,T=E,p=T,g=p+96|0;do A[p>>2]=0,p=p+4|0;while((p|0)<(g|0));return c=c8(c,T)|0,c|0?(f=c,L=E,f|0):(c=T,p=A[c>>2]|0,c=A[c+4>>2]|0,Bi(p,c,v)|0,R2(p,c,_)|0,R=+Gs(v,_+8|0),R=+E2(+(+Gs(a,l)/(R*2))),F[Mt>>3]=R,c=~~R>>>0,p=+gt(R)>=1?R>0?~~+W5(+q0(R/4294967296),4294967295)>>>0:~~+E2((R-+(~~R>>>0))/4294967296)>>>0:0,(A[Mt+4>>2]&2146435072|0)==2146435072?(f=1,L=E,f|0):(T=(c|0)==0&(p|0)==0,A[f>>2]=T?1:c,A[f+4>>2]=T?0:p,f=0,L=E,f|0))}function mx(a,l){a=a|0,l=+l;var c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;g=a+16|0,v=+F[g>>3],c=a+24|0,p=+F[c>>3],f=v-p,f=v<p?f+6.283185307179586:f,E=+F[a>>3],_=a+8|0,T=+F[_>>3],R=E-T,f=(f*l-f)*.5,l=(R*l-R)*.5,E=E+l,F[a>>3]=E>1.5707963267948966?1.5707963267948966:E,l=T-l,F[_>>3]=l<-1.5707963267948966?-1.5707963267948966:l,l=v+f,l=l>3.141592653589793?l+-6.283185307179586:l,F[g>>3]=l<-3.141592653589793?l+6.283185307179586:l,l=p-f,l=l>3.141592653589793?l+-6.283185307179586:l,F[c>>3]=l<-3.141592653589793?l+6.283185307179586:l}function gx(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0,A[a>>2]=l,A[a+4>>2]=c,A[a+8>>2]=f}function yx(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0;O=l+8|0,A[O>>2]=0,T=+F[a>>3],v=+gt(+T),E=+F[a+8>>3],_=+gt(+E)*1.1547005383792515,v=v+_*.5,c=~~v,a=~~_,v=v-+(c|0),_=_-+(a|0);do if(v<.5)if(v<.3333333333333333)if(A[l>>2]=c,_<(v+1)*.5){A[l+4>>2]=a;break}else{a=a+1|0,A[l+4>>2]=a;break}else if(Q=1-v,a=(!(_<Q)&1)+a|0,A[l+4>>2]=a,Q<=_&_<v*2){c=c+1|0,A[l>>2]=c;break}else{A[l>>2]=c;break}else{if(!(v<.6666666666666666))if(c=c+1|0,A[l>>2]=c,_<v*.5){A[l+4>>2]=a;break}else{a=a+1|0,A[l+4>>2]=a;break}if(_<1-v){if(A[l+4>>2]=a,v*2+-1<_){A[l>>2]=c;break}}else a=a+1|0,A[l+4>>2]=a;c=c+1|0,A[l>>2]=c}while(!1);do if(T<0)if(a&1){R=(a+1|0)/2|0,R=V0(c|0,((c|0)<0)<<31>>31|0,R|0,((R|0)<0)<<31>>31|0)|0,c=~~(+(c|0)-((+(R>>>0)+4294967296*+(G()|0))*2+1)),A[l>>2]=c;break}else{R=(a|0)/2|0,R=V0(c|0,((c|0)<0)<<31>>31|0,R|0,((R|0)<0)<<31>>31|0)|0,c=~~(+(c|0)-(+(R>>>0)+4294967296*+(G()|0))*2),A[l>>2]=c;break}while(!1);R=l+4|0,E<0&&(c=c-((a<<1|1|0)/2|0)|0,A[l>>2]=c,a=0-a|0,A[R>>2]=a),f=a-c|0,(c|0)<0?(p=0-c|0,A[R>>2]=f,A[O>>2]=p,A[l>>2]=0,a=f,c=0):p=0,(a|0)<0&&(c=c-a|0,A[l>>2]=c,p=p-a|0,A[O>>2]=p,A[R>>2]=0,a=0),g=c-p|0,f=a-p|0,(p|0)<0&&(A[l>>2]=g,A[R>>2]=f,A[O>>2]=0,a=f,c=g,p=0),f=(a|0)<(c|0)?a:c,f=(p|0)<(f|0)?p:f,!((f|0)<=0)&&(A[l>>2]=c-f,A[R>>2]=a-f,A[O>>2]=p-f)}function Z0(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0;l=A[a>>2]|0,v=a+4|0,c=A[v>>2]|0,(l|0)<0&&(c=c-l|0,A[v>>2]=c,g=a+8|0,A[g>>2]=(A[g>>2]|0)-l,A[a>>2]=0,l=0),(c|0)<0?(l=l-c|0,A[a>>2]=l,g=a+8|0,p=(A[g>>2]|0)-c|0,A[g>>2]=p,A[v>>2]=0,c=0):(p=a+8|0,g=p,p=A[p>>2]|0),(p|0)<0&&(l=l-p|0,A[a>>2]=l,c=c-p|0,A[v>>2]=c,A[g>>2]=0,p=0),f=(c|0)<(l|0)?c:l,f=(p|0)<(f|0)?p:f,!((f|0)<=0)&&(A[a>>2]=l-f,A[v>>2]=c-f,A[g>>2]=p-f)}function Mi(a,l){a=a|0,l=l|0;var c=0,f=0;f=A[a+8>>2]|0,c=+((A[a+4>>2]|0)-f|0),F[l>>3]=+((A[a>>2]|0)-f|0)-c*.5,F[l+8>>3]=c*.8660254037844386}function An(a,l,c){a=a|0,l=l|0,c=c|0,A[c>>2]=(A[l>>2]|0)+(A[a>>2]|0),A[c+4>>2]=(A[l+4>>2]|0)+(A[a+4>>2]|0),A[c+8>>2]=(A[l+8>>2]|0)+(A[a+8>>2]|0)}function e8(a,l,c){a=a|0,l=l|0,c=c|0,A[c>>2]=(A[a>>2]|0)-(A[l>>2]|0),A[c+4>>2]=(A[a+4>>2]|0)-(A[l+4>>2]|0),A[c+8>>2]=(A[a+8>>2]|0)-(A[l+8>>2]|0)}function Tl(a,l){a=a|0,l=l|0;var c=0,f=0;c=Vr(A[a>>2]|0,l)|0,A[a>>2]=c,c=a+4|0,f=Vr(A[c>>2]|0,l)|0,A[c>>2]=f,a=a+8|0,l=Vr(A[a>>2]|0,l)|0,A[a>>2]=l}function F4(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;v=A[a>>2]|0,_=(v|0)<0,f=(A[a+4>>2]|0)-(_?v:0)|0,g=(f|0)<0,p=(g?0-f|0:0)+((A[a+8>>2]|0)-(_?v:0))|0,c=(p|0)<0,a=c?0:p,l=(g?0:f)-(c?p:0)|0,p=(_?0:v)-(g?f:0)-(c?p:0)|0,c=(l|0)<(p|0)?l:p,c=(a|0)<(c|0)?a:c,f=(c|0)>0,a=a-(f?c:0)|0,l=l-(f?c:0)|0;e:do switch(p-(f?c:0)|0){case 0:switch(l|0){case 0:return _=(a|0)==0?0:(a|0)==1?1:7,_|0;case 1:return _=(a|0)==0?2:(a|0)==1?3:7,_|0;default:break e}case 1:switch(l|0){case 0:return _=(a|0)==0?4:(a|0)==1?5:7,_|0;case 1:{if(!a)a=6;else break e;return a|0}default:break e}}while(!1);return _=7,_|0}function vx(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0;if(T=a+8|0,v=A[T>>2]|0,_=(A[a>>2]|0)-v|0,E=a+4|0,v=(A[E>>2]|0)-v|0,_>>>0>715827881|v>>>0>715827881){if(f=(_|0)>0,p=2147483647-_|0,g=-2147483648-_|0,(f?(p|0)<(_|0):(g|0)>(_|0))||(c=_<<1,f?(2147483647-c|0)<(_|0):(-2147483648-c|0)>(_|0))||((v|0)>0?(2147483647-v|0)<(v|0):(-2147483648-v|0)>(v|0))||(l=_*3|0,c=v<<1,(f?(p|0)<(c|0):(g|0)>(c|0))||((_|0)>-1?(l|-2147483648|0)>=(v|0):(l^-2147483648|0)<(v|0))))return E=1,E|0}else c=v<<1,l=_*3|0;return f=K1(+(l-v|0)*.14285714285714285)|0,A[a>>2]=f,p=K1(+(c+_|0)*.14285714285714285)|0,A[E>>2]=p,A[T>>2]=0,c=(p|0)<(f|0),l=c?f:p,c=c?p:f,(c|0)<0&&(((c|0)==-2147483648||((l|0)>0?(2147483647-l|0)<(c|0):(-2147483648-l|0)>(c|0)))&&Ze(27795,26892,354,26903),((l|0)>-1?(l|-2147483648|0)>=(c|0):(l^-2147483648|0)<(c|0))&&Ze(27795,26892,354,26903)),l=p-f|0,(f|0)<0?(c=0-f|0,A[E>>2]=l,A[T>>2]=c,A[a>>2]=0,f=0):(l=p,c=0),(l|0)<0&&(f=f-l|0,A[a>>2]=f,c=c-l|0,A[T>>2]=c,A[E>>2]=0,l=0),g=f-c|0,p=l-c|0,(c|0)<0?(A[a>>2]=g,A[E>>2]=p,A[T>>2]=0,l=p,p=g,c=0):p=f,f=(l|0)<(p|0)?l:p,f=(c|0)<(f|0)?c:f,(f|0)<=0?(E=0,E|0):(A[a>>2]=p-f,A[E>>2]=l-f,A[T>>2]=c-f,E=0,E|0)}function _x(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0,T=0;if(v=a+8|0,p=A[v>>2]|0,g=(A[a>>2]|0)-p|0,_=a+4|0,p=(A[_>>2]|0)-p|0,g>>>0>715827881|p>>>0>715827881){if(c=(g|0)>0,(c?(2147483647-g|0)<(g|0):(-2147483648-g|0)>(g|0))||(l=g<<1,f=(p|0)>0,f?(2147483647-p|0)<(p|0):(-2147483648-p|0)>(p|0)))return _=1,_|0;if(T=p<<1,(f?(2147483647-T|0)<(p|0):(-2147483648-T|0)>(p|0))||(c?(2147483647-l|0)<(p|0):(-2147483648-l|0)>(p|0))||(c=p*3|0,(p|0)>-1?(c|-2147483648|0)>=(g|0):(c^-2147483648|0)<(g|0)))return T=1,T|0}else c=p*3|0,l=g<<1;return f=K1(+(l+p|0)*.14285714285714285)|0,A[a>>2]=f,p=K1(+(c-g|0)*.14285714285714285)|0,A[_>>2]=p,A[v>>2]=0,c=(p|0)<(f|0),l=c?f:p,c=c?p:f,(c|0)<0&&(((c|0)==-2147483648||((l|0)>0?(2147483647-l|0)<(c|0):(-2147483648-l|0)>(c|0)))&&Ze(27795,26892,402,26917),((l|0)>-1?(l|-2147483648|0)>=(c|0):(l^-2147483648|0)<(c|0))&&Ze(27795,26892,402,26917)),l=p-f|0,(f|0)<0?(c=0-f|0,A[_>>2]=l,A[v>>2]=c,A[a>>2]=0,f=0):(l=p,c=0),(l|0)<0&&(f=f-l|0,A[a>>2]=f,c=c-l|0,A[v>>2]=c,A[_>>2]=0,l=0),g=f-c|0,p=l-c|0,(c|0)<0?(A[a>>2]=g,A[_>>2]=p,A[v>>2]=0,l=p,p=g,c=0):p=f,f=(l|0)<(p|0)?l:p,f=(c|0)<(f|0)?c:f,(f|0)<=0?(T=0,T|0):(A[a>>2]=p-f,A[_>>2]=l-f,A[v>>2]=c-f,T=0,T|0)}function xx(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;v=a+8|0,c=A[v>>2]|0,l=(A[a>>2]|0)-c|0,_=a+4|0,c=(A[_>>2]|0)-c|0,f=K1(+((l*3|0)-c|0)*.14285714285714285)|0,A[a>>2]=f,l=K1(+((c<<1)+l|0)*.14285714285714285)|0,A[_>>2]=l,A[v>>2]=0,c=l-f|0,(f|0)<0?(g=0-f|0,A[_>>2]=c,A[v>>2]=g,A[a>>2]=0,l=c,f=0,c=g):c=0,(l|0)<0&&(f=f-l|0,A[a>>2]=f,c=c-l|0,A[v>>2]=c,A[_>>2]=0,l=0),g=f-c|0,p=l-c|0,(c|0)<0?(A[a>>2]=g,A[_>>2]=p,A[v>>2]=0,l=p,p=g,c=0):p=f,f=(l|0)<(p|0)?l:p,f=(c|0)<(f|0)?c:f,!((f|0)<=0)&&(A[a>>2]=p-f,A[_>>2]=l-f,A[v>>2]=c-f)}function wl(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;v=a+8|0,c=A[v>>2]|0,l=(A[a>>2]|0)-c|0,_=a+4|0,c=(A[_>>2]|0)-c|0,f=K1(+((l<<1)+c|0)*.14285714285714285)|0,A[a>>2]=f,l=K1(+((c*3|0)-l|0)*.14285714285714285)|0,A[_>>2]=l,A[v>>2]=0,c=l-f|0,(f|0)<0?(g=0-f|0,A[_>>2]=c,A[v>>2]=g,A[a>>2]=0,l=c,f=0,c=g):c=0,(l|0)<0&&(f=f-l|0,A[a>>2]=f,c=c-l|0,A[v>>2]=c,A[_>>2]=0,l=0),g=f-c|0,p=l-c|0,(c|0)<0?(A[a>>2]=g,A[_>>2]=p,A[v>>2]=0,l=p,p=g,c=0):p=f,f=(l|0)<(p|0)?l:p,f=(c|0)<(f|0)?c:f,!((f|0)<=0)&&(A[a>>2]=p-f,A[_>>2]=l-f,A[v>>2]=c-f)}function L4(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;l=A[a>>2]|0,v=a+4|0,c=A[v>>2]|0,_=a+8|0,f=A[_>>2]|0,p=c+(l*3|0)|0,A[a>>2]=p,c=f+(c*3|0)|0,A[v>>2]=c,l=(f*3|0)+l|0,A[_>>2]=l,f=c-p|0,(p|0)<0?(l=l-p|0,A[v>>2]=f,A[_>>2]=l,A[a>>2]=0,c=f,f=0):f=p,(c|0)<0&&(f=f-c|0,A[a>>2]=f,l=l-c|0,A[_>>2]=l,A[v>>2]=0,c=0),g=f-l|0,p=c-l|0,(l|0)<0?(A[a>>2]=g,A[v>>2]=p,A[_>>2]=0,f=g,l=0):p=c,c=(p|0)<(f|0)?p:f,c=(l|0)<(c|0)?l:c,!((c|0)<=0)&&(A[a>>2]=f-c,A[v>>2]=p-c,A[_>>2]=l-c)}function Ri(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;p=A[a>>2]|0,v=a+4|0,l=A[v>>2]|0,_=a+8|0,c=A[_>>2]|0,f=(l*3|0)+p|0,p=c+(p*3|0)|0,A[a>>2]=p,A[v>>2]=f,l=(c*3|0)+l|0,A[_>>2]=l,c=f-p|0,(p|0)<0?(l=l-p|0,A[v>>2]=c,A[_>>2]=l,A[a>>2]=0,p=0):c=f,(c|0)<0&&(p=p-c|0,A[a>>2]=p,l=l-c|0,A[_>>2]=l,A[v>>2]=0,c=0),g=p-l|0,f=c-l|0,(l|0)<0?(A[a>>2]=g,A[v>>2]=f,A[_>>2]=0,p=g,l=0):f=c,c=(f|0)<(p|0)?f:p,c=(l|0)<(c|0)?l:c,!((c|0)<=0)&&(A[a>>2]=p-c,A[v>>2]=f-c,A[_>>2]=l-c)}function Sl(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0;(l+-1|0)>>>0>=6||(p=(A[15440+(l*12|0)>>2]|0)+(A[a>>2]|0)|0,A[a>>2]=p,_=a+4|0,f=(A[15440+(l*12|0)+4>>2]|0)+(A[_>>2]|0)|0,A[_>>2]=f,v=a+8|0,l=(A[15440+(l*12|0)+8>>2]|0)+(A[v>>2]|0)|0,A[v>>2]=l,c=f-p|0,(p|0)<0?(l=l-p|0,A[_>>2]=c,A[v>>2]=l,A[a>>2]=0,f=0):(c=f,f=p),(c|0)<0&&(f=f-c|0,A[a>>2]=f,l=l-c|0,A[v>>2]=l,A[_>>2]=0,c=0),g=f-l|0,p=c-l|0,(l|0)<0?(A[a>>2]=g,A[_>>2]=p,A[v>>2]=0,f=g,l=0):p=c,c=(p|0)<(f|0)?p:f,c=(l|0)<(c|0)?l:c,!((c|0)<=0)&&(A[a>>2]=f-c,A[_>>2]=p-c,A[v>>2]=l-c))}function El(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;p=A[a>>2]|0,v=a+4|0,l=A[v>>2]|0,_=a+8|0,c=A[_>>2]|0,f=l+p|0,p=c+p|0,A[a>>2]=p,A[v>>2]=f,l=c+l|0,A[_>>2]=l,c=f-p|0,(p|0)<0?(l=l-p|0,A[v>>2]=c,A[_>>2]=l,A[a>>2]=0,f=0):(c=f,f=p),(c|0)<0&&(f=f-c|0,A[a>>2]=f,l=l-c|0,A[_>>2]=l,A[v>>2]=0,c=0),g=f-l|0,p=c-l|0,(l|0)<0?(A[a>>2]=g,A[v>>2]=p,A[_>>2]=0,f=g,l=0):p=c,c=(p|0)<(f|0)?p:f,c=(l|0)<(c|0)?l:c,!((c|0)<=0)&&(A[a>>2]=f-c,A[v>>2]=p-c,A[_>>2]=l-c)}function q4(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;l=A[a>>2]|0,v=a+4|0,f=A[v>>2]|0,_=a+8|0,c=A[_>>2]|0,p=f+l|0,A[a>>2]=p,f=c+f|0,A[v>>2]=f,l=c+l|0,A[_>>2]=l,c=f-p|0,(p|0)<0?(l=l-p|0,A[v>>2]=c,A[_>>2]=l,A[a>>2]=0,f=0):(c=f,f=p),(c|0)<0&&(f=f-c|0,A[a>>2]=f,l=l-c|0,A[_>>2]=l,A[v>>2]=0,c=0),g=f-l|0,p=c-l|0,(l|0)<0?(A[a>>2]=g,A[v>>2]=p,A[_>>2]=0,f=g,l=0):p=c,c=(p|0)<(f|0)?p:f,c=(l|0)<(c|0)?l:c,!((c|0)<=0)&&(A[a>>2]=f-c,A[v>>2]=p-c,A[_>>2]=l-c)}function Ci(a){switch(a=a|0,a|0){case 1:{a=5;break}case 5:{a=4;break}case 4:{a=6;break}case 6:{a=2;break}case 2:{a=3;break}case 3:{a=1;break}}return a|0}function Y1(a){switch(a=a|0,a|0){case 1:{a=3;break}case 3:{a=2;break}case 2:{a=6;break}case 6:{a=4;break}case 4:{a=5;break}case 5:{a=1;break}}return a|0}function Nl(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;l=A[a>>2]|0,v=a+4|0,c=A[v>>2]|0,_=a+8|0,f=A[_>>2]|0,p=c+(l<<1)|0,A[a>>2]=p,c=f+(c<<1)|0,A[v>>2]=c,l=(f<<1)+l|0,A[_>>2]=l,f=c-p|0,(p|0)<0?(l=l-p|0,A[v>>2]=f,A[_>>2]=l,A[a>>2]=0,c=f,f=0):f=p,(c|0)<0&&(f=f-c|0,A[a>>2]=f,l=l-c|0,A[_>>2]=l,A[v>>2]=0,c=0),g=f-l|0,p=c-l|0,(l|0)<0?(A[a>>2]=g,A[v>>2]=p,A[_>>2]=0,f=g,l=0):p=c,c=(p|0)<(f|0)?p:f,c=(l|0)<(c|0)?l:c,!((c|0)<=0)&&(A[a>>2]=f-c,A[v>>2]=p-c,A[_>>2]=l-c)}function Ml(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;p=A[a>>2]|0,v=a+4|0,l=A[v>>2]|0,_=a+8|0,c=A[_>>2]|0,f=(l<<1)+p|0,p=c+(p<<1)|0,A[a>>2]=p,A[v>>2]=f,l=(c<<1)+l|0,A[_>>2]=l,c=f-p|0,(p|0)<0?(l=l-p|0,A[v>>2]=c,A[_>>2]=l,A[a>>2]=0,p=0):c=f,(c|0)<0&&(p=p-c|0,A[a>>2]=p,l=l-c|0,A[_>>2]=l,A[v>>2]=0,c=0),g=p-l|0,f=c-l|0,(l|0)<0?(A[a>>2]=g,A[v>>2]=f,A[_>>2]=0,p=g,l=0):f=c,c=(f|0)<(p|0)?f:p,c=(l|0)<(c|0)?l:c,!((c|0)<=0)&&(A[a>>2]=p-c,A[v>>2]=f-c,A[_>>2]=l-c)}function t8(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0;return v=(A[a>>2]|0)-(A[l>>2]|0)|0,_=(v|0)<0,f=(A[a+4>>2]|0)-(A[l+4>>2]|0)-(_?v:0)|0,g=(f|0)<0,p=(_?0-v|0:0)+(A[a+8>>2]|0)-(A[l+8>>2]|0)+(g?0-f|0:0)|0,a=(p|0)<0,l=a?0:p,c=(g?0:f)-(a?p:0)|0,p=(_?0:v)-(g?f:0)-(a?p:0)|0,a=(c|0)<(p|0)?c:p,a=(l|0)<(a|0)?l:a,f=(a|0)>0,l=l-(f?a:0)|0,c=c-(f?a:0)|0,a=p-(f?a:0)|0,a=(a|0)>-1?a:0-a|0,c=(c|0)>-1?c:0-c|0,l=(l|0)>-1?l:0-l|0,l=(c|0)>(l|0)?c:l,((a|0)>(l|0)?a:l)|0}function bx(a,l){a=a|0,l=l|0;var c=0;c=A[a+8>>2]|0,A[l>>2]=(A[a>>2]|0)-c,A[l+4>>2]=(A[a+4>>2]|0)-c}function Tx(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0;return f=A[a>>2]|0,A[l>>2]=f,p=A[a+4>>2]|0,v=l+4|0,A[v>>2]=p,_=l+8|0,A[_>>2]=0,c=(p|0)<(f|0),a=c?f:p,c=c?p:f,(c|0)<0&&((c|0)==-2147483648||((a|0)>0?(2147483647-a|0)<(c|0):(-2147483648-a|0)>(c|0))||((a|0)>-1?(a|-2147483648|0)>=(c|0):(a^-2147483648|0)<(c|0)))?(l=1,l|0):(a=p-f|0,(f|0)<0?(c=0-f|0,A[v>>2]=a,A[_>>2]=c,A[l>>2]=0,f=0):(a=p,c=0),(a|0)<0&&(f=f-a|0,A[l>>2]=f,c=c-a|0,A[_>>2]=c,A[v>>2]=0,a=0),g=f-c|0,p=a-c|0,(c|0)<0?(A[l>>2]=g,A[v>>2]=p,A[_>>2]=0,a=p,p=g,c=0):p=f,f=(a|0)<(p|0)?a:p,f=(c|0)<(f|0)?c:f,(f|0)<=0?(l=0,l|0):(A[l>>2]=p-f,A[v>>2]=a-f,A[_>>2]=c-f,l=0,l|0))}function Rl(a){a=a|0;var l=0,c=0,f=0,p=0;l=a+8|0,p=A[l>>2]|0,c=p-(A[a>>2]|0)|0,A[a>>2]=c,f=a+4|0,a=(A[f>>2]|0)-p|0,A[f>>2]=a,A[l>>2]=0-(a+c)}function wx(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;c=A[a>>2]|0,l=0-c|0,A[a>>2]=l,v=a+8|0,A[v>>2]=0,_=a+4|0,f=A[_>>2]|0,p=f+c|0,(c|0)>0?(A[_>>2]=p,A[v>>2]=c,A[a>>2]=0,l=0,f=p):c=0,(f|0)<0?(g=l-f|0,A[a>>2]=g,c=c-f|0,A[v>>2]=c,A[_>>2]=0,p=g-c|0,l=0-c|0,(c|0)<0?(A[a>>2]=p,A[_>>2]=l,A[v>>2]=0,f=l,c=0):(f=0,p=g)):p=l,l=(f|0)<(p|0)?f:p,l=(c|0)<(l|0)?c:l,!((l|0)<=0)&&(A[a>>2]=p-l,A[_>>2]=f-l,A[v>>2]=c-l)}function Sx(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0;if(O=L,L=L+64|0,R=O,_=O+56|0,!(!0&(l&2013265920|0)==134217728&(!0&(f&2013265920|0)==134217728)))return p=5,L=O,p|0;if((a|0)==(c|0)&(l|0)==(f|0))return A[p>>2]=0,p=0,L=O,p|0;if(v=Te(a|0,l|0,52)|0,G()|0,v=v&15,E=Te(c|0,f|0,52)|0,G()|0,(v|0)!=(E&15|0))return p=12,L=O,p|0;if(g=v+-1|0,v>>>0>1){o8(a,l,g,R)|0,o8(c,f,g,_)|0,E=R,T=A[E>>2]|0,E=A[E+4>>2]|0;e:do if((T|0)==(A[_>>2]|0)&&(E|0)==(A[_+4>>2]|0)){v=(v^15)*3|0,g=Te(a|0,l|0,v|0)|0,G()|0,g=g&7,v=Te(c|0,f|0,v|0)|0,G()|0,v=v&7;do if((g|0)==0|(v|0)==0)A[p>>2]=1,g=0;else if((g|0)==7)g=5;else{if((g|0)==1|(v|0)==1&&Wt(T,E)|0){g=5;break}if((A[15536+(g<<2)>>2]|0)!=(v|0)&&(A[15568+(g<<2)>>2]|0)!=(v|0))break e;A[p>>2]=1,g=0}while(!1);return p=g,L=O,p|0}while(!1)}g=R,v=g+56|0;do A[g>>2]=0,g=g+4|0;while((g|0)<(v|0));return fl(a,l,1,R)|0,l=R,!((A[l>>2]|0)==(c|0)&&(A[l+4>>2]|0)==(f|0))&&(l=R+8|0,!((A[l>>2]|0)==(c|0)&&(A[l+4>>2]|0)==(f|0)))&&(l=R+16|0,!((A[l>>2]|0)==(c|0)&&(A[l+4>>2]|0)==(f|0)))&&(l=R+24|0,!((A[l>>2]|0)==(c|0)&&(A[l+4>>2]|0)==(f|0)))&&(l=R+32|0,!((A[l>>2]|0)==(c|0)&&(A[l+4>>2]|0)==(f|0)))&&(l=R+40|0,!((A[l>>2]|0)==(c|0)&&(A[l+4>>2]|0)==(f|0)))?(g=R+48|0,g=((A[g>>2]|0)==(c|0)?(A[g+4>>2]|0)==(f|0):0)&1):g=1,A[p>>2]=g,p=0,L=O,p|0}function Ex(a,l,c,f,p){return a=a|0,l=l|0,c=c|0,f=f|0,p=p|0,c=Q5(a,l,c,f)|0,(c|0)==7?(p=11,p|0):(f=Re(c|0,0,56)|0,l=l&-2130706433|(G()|0)|268435456,A[p>>2]=a|f,A[p+4>>2]=l,p=0,p|0)}function Nx(a,l,c){return a=a|0,l=l|0,c=c|0,!0&(l&2013265920|0)==268435456?(A[c>>2]=a,A[c+4>>2]=l&-2130706433|134217728,c=0,c|0):(c=6,c|0)}function Mx(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0;return p=L,L=L+16|0,f=p,A[f>>2]=0,!0&(l&2013265920|0)==268435456?(g=Te(a|0,l|0,56)|0,G()|0,f=I0(a,l&-2130706433|134217728,g&7,f,c)|0,L=p,f|0):(f=6,L=p,f|0)}function Rx(a,l){a=a|0,l=l|0;var c=0;switch(c=Te(a|0,l|0,56)|0,G()|0,c&7){case 0:case 7:return c=0,c|0}return c=l&-2130706433|134217728,!(!0&(l&2013265920|0)==268435456)||!0&(l&117440512|0)==16777216&(Wt(a,c)|0)!=0?(c=0,c|0):(c=i8(a,c)|0,c|0)}function Cx(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0;return p=L,L=L+16|0,f=p,!0&(l&2013265920|0)==268435456?(g=l&-2130706433|134217728,v=c,A[v>>2]=a,A[v+4>>2]=g,A[f>>2]=0,l=Te(a|0,l|0,56)|0,G()|0,f=I0(a,g,l&7,f,c+8|0)|0,L=p,f|0):(f=6,L=p,f|0)}function Px(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0;return p=(Wt(a,l)|0)==0,l=l&-2130706433,f=c,A[f>>2]=p?a:0,A[f+4>>2]=p?l|285212672:0,f=c+8|0,A[f>>2]=a,A[f+4>>2]=l|301989888,f=c+16|0,A[f>>2]=a,A[f+4>>2]=l|318767104,f=c+24|0,A[f>>2]=a,A[f+4>>2]=l|335544320,f=c+32|0,A[f>>2]=a,A[f+4>>2]=l|352321536,c=c+40|0,A[c>>2]=a,A[c+4>>2]=l|369098752,0}function I4(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0;return v=L,L=L+16|0,p=v,g=l&-2130706433|134217728,!0&(l&2013265920|0)==268435456?(f=Te(a|0,l|0,56)|0,G()|0,f=Mb(a,g,f&7)|0,(f|0)==-1?(A[c>>2]=0,g=6,L=v,g|0):(M2(a,g,p)|0&&Ze(27795,26932,282,26947),l=Te(a|0,l|0,52)|0,G()|0,l=l&15,Wt(a,g)|0?n8(p,l,f,2,c):r8(p,l,f,2,c),g=0,L=v,g|0)):(g=6,L=v,g|0)}function Bx(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0;f=L,L=L+16|0,p=f,Dx(a,l,c,p),yx(p,c+4|0),L=f}function Dx(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0;if(_=L,L=L+16|0,T=_,Fx(a,c,T),g=+D4(+(1-+F[T>>3]*.5)),g<1e-16){A[f>>2]=0,A[f+4>>2]=0,A[f+8>>2]=0,A[f+12>>2]=0,L=_;return}if(T=A[c>>2]|0,p=+F[15920+(T*24|0)>>3],p=+Us(p-+Us(+Kx(15600+(T<<4)|0,a))),Zn(l)|0?v=+Us(p+-.3334731722518321):v=p,p=+Xn(+g)*2.618033988749896,(l|0)>0){a=0;do p=p*2.6457513110645907,a=a+1|0;while((a|0)!=(l|0))}g=+Dt(+v)*p,F[f>>3]=g,v=+yt(+v)*p,F[f+8>>3]=v,L=_}function Fx(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0;if(g=L,L=L+32|0,p=g,Nb(a,p),A[l>>2]=0,F[c>>3]=5,f=+E0(16400,p),f<+F[c>>3]&&(A[l>>2]=0,F[c>>3]=f),f=+E0(16424,p),f<+F[c>>3]&&(A[l>>2]=1,F[c>>3]=f),f=+E0(16448,p),f<+F[c>>3]&&(A[l>>2]=2,F[c>>3]=f),f=+E0(16472,p),f<+F[c>>3]&&(A[l>>2]=3,F[c>>3]=f),f=+E0(16496,p),f<+F[c>>3]&&(A[l>>2]=4,F[c>>3]=f),f=+E0(16520,p),f<+F[c>>3]&&(A[l>>2]=5,F[c>>3]=f),f=+E0(16544,p),f<+F[c>>3]&&(A[l>>2]=6,F[c>>3]=f),f=+E0(16568,p),f<+F[c>>3]&&(A[l>>2]=7,F[c>>3]=f),f=+E0(16592,p),f<+F[c>>3]&&(A[l>>2]=8,F[c>>3]=f),f=+E0(16616,p),f<+F[c>>3]&&(A[l>>2]=9,F[c>>3]=f),f=+E0(16640,p),f<+F[c>>3]&&(A[l>>2]=10,F[c>>3]=f),f=+E0(16664,p),f<+F[c>>3]&&(A[l>>2]=11,F[c>>3]=f),f=+E0(16688,p),f<+F[c>>3]&&(A[l>>2]=12,F[c>>3]=f),f=+E0(16712,p),f<+F[c>>3]&&(A[l>>2]=13,F[c>>3]=f),f=+E0(16736,p),f<+F[c>>3]&&(A[l>>2]=14,F[c>>3]=f),f=+E0(16760,p),f<+F[c>>3]&&(A[l>>2]=15,F[c>>3]=f),f=+E0(16784,p),f<+F[c>>3]&&(A[l>>2]=16,F[c>>3]=f),f=+E0(16808,p),f<+F[c>>3]&&(A[l>>2]=17,F[c>>3]=f),f=+E0(16832,p),f<+F[c>>3]&&(A[l>>2]=18,F[c>>3]=f),f=+E0(16856,p),!(f<+F[c>>3])){L=g;return}A[l>>2]=19,F[c>>3]=f,L=g}function Os(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0;if(g=+Eb(a),g<1e-16){l=15600+(l<<4)|0,A[p>>2]=A[l>>2],A[p+4>>2]=A[l+4>>2],A[p+8>>2]=A[l+8>>2],A[p+12>>2]=A[l+12>>2];return}if(v=+Kn(+ +F[a+8>>3],+ +F[a>>3]),(c|0)>0){a=0;do g=g*.37796447300922725,a=a+1|0;while((a|0)!=(c|0))}_=g*.3333333333333333,f?(c=(Zn(c)|0)==0,g=+$5(+((c?_:_*.37796447300922725)*.381966011250105))):(g=+$5(+(g*.381966011250105)),Zn(c)|0&&(v=+Us(v+.3334731722518321))),Zx(15600+(l<<4)|0,+Us(+F[15920+(l*24|0)>>3]-v),g,p)}function Lx(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0;f=L,L=L+16|0,p=f,Mi(a+4|0,p),Os(p,A[a>>2]|0,l,0,c),L=f}function n8(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0,Ue=0,qe=0,tt=0,ot=0,_t=0,Xe=0,Ge=0,Ee=0,pt=0,zt=0,ut=0;if(pt=L,L=L+272|0,g=pt+256|0,ue=pt+240|0,Xe=pt,Ge=pt+224|0,Ee=pt+208|0,ae=pt+176|0,te=pt+160|0,Ne=pt+192|0,Ue=pt+144|0,qe=pt+128|0,tt=pt+112|0,ot=pt+96|0,_t=pt+80|0,A[g>>2]=l,A[ue>>2]=A[a>>2],A[ue+4>>2]=A[a+4>>2],A[ue+8>>2]=A[a+8>>2],A[ue+12>>2]=A[a+12>>2],Cl(ue,g,Xe),A[p>>2]=0,ue=f+c+((f|0)==5&1)|0,(ue|0)<=(c|0)){L=pt;return}T=A[g>>2]|0,E=Ge+4|0,R=ae+4|0,O=c+5|0,Q=16880+(T<<2)|0,$=16960+(T<<2)|0,W=qe+8|0,ee=tt+8|0,ie=ot+8|0,he=Ee+4|0,_=c;e:for(;;){v=Xe+(((_|0)%5|0)<<4)|0,A[Ee>>2]=A[v>>2],A[Ee+4>>2]=A[v+4>>2],A[Ee+8>>2]=A[v+8>>2],A[Ee+12>>2]=A[v+12>>2];do;while((N2(Ee,T,0,1)|0)==2);if((_|0)>(c|0)&(Zn(l)|0)!=0){if(A[ae>>2]=A[Ee>>2],A[ae+4>>2]=A[Ee+4>>2],A[ae+8>>2]=A[Ee+8>>2],A[ae+12>>2]=A[Ee+12>>2],Mi(E,te),f=A[ae>>2]|0,g=A[17040+(f*80|0)+(A[Ge>>2]<<2)>>2]|0,A[ae>>2]=A[18640+(f*80|0)+(g*20|0)>>2],v=A[18640+(f*80|0)+(g*20|0)+16>>2]|0,(v|0)>0){a=0;do El(R),a=a+1|0;while((a|0)<(v|0))}switch(v=18640+(f*80|0)+(g*20|0)+4|0,A[Ne>>2]=A[v>>2],A[Ne+4>>2]=A[v+4>>2],A[Ne+8>>2]=A[v+8>>2],Tl(Ne,(A[Q>>2]|0)*3|0),An(R,Ne,R),Z0(R),Mi(R,Ue),zt=+(A[$>>2]|0),F[qe>>3]=zt*3,F[W>>3]=0,ut=zt*-1.5,F[tt>>3]=ut,F[ee>>3]=zt*2.598076211353316,F[ot>>3]=ut,F[ie>>3]=zt*-2.598076211353316,A[17040+((A[ae>>2]|0)*80|0)+(A[Ee>>2]<<2)>>2]|0){case 1:{a=tt,f=qe;break}case 3:{a=ot,f=tt;break}case 2:{a=qe,f=ot;break}default:{a=12;break e}}$l(te,Ue,f,a,_t),Os(_t,A[ae>>2]|0,T,1,p+8+(A[p>>2]<<4)|0),A[p>>2]=(A[p>>2]|0)+1}if((_|0)<(O|0)&&(Mi(he,ae),Os(ae,A[Ee>>2]|0,T,1,p+8+(A[p>>2]<<4)|0),A[p>>2]=(A[p>>2]|0)+1),A[Ge>>2]=A[Ee>>2],A[Ge+4>>2]=A[Ee+4>>2],A[Ge+8>>2]=A[Ee+8>>2],A[Ge+12>>2]=A[Ee+12>>2],_=_+1|0,(_|0)>=(ue|0)){a=3;break}}if((a|0)==3){L=pt;return}else(a|0)==12&&Ze(26970,27017,572,27027)}function Cl(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0;T=L,L=L+128|0,f=T+64|0,p=T,g=f,v=20240,_=g+60|0;do A[g>>2]=A[v>>2],g=g+4|0,v=v+4|0;while((g|0)<(_|0));g=p,v=20304,_=g+60|0;do A[g>>2]=A[v>>2],g=g+4|0,v=v+4|0;while((g|0)<(_|0));_=(Zn(A[l>>2]|0)|0)==0,f=_?f:p,p=a+4|0,Nl(p),Ml(p),Zn(A[l>>2]|0)|0&&(Ri(p),A[l>>2]=(A[l>>2]|0)+1),A[c>>2]=A[a>>2],l=c+4|0,An(p,f,l),Z0(l),A[c+16>>2]=A[a>>2],l=c+20|0,An(p,f+12|0,l),Z0(l),A[c+32>>2]=A[a>>2],l=c+36|0,An(p,f+24|0,l),Z0(l),A[c+48>>2]=A[a>>2],l=c+52|0,An(p,f+36|0,l),Z0(l),A[c+64>>2]=A[a>>2],c=c+68|0,An(p,f+48|0,c),Z0(c),L=T}function N2(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0;if(W=L,L=L+32|0,Q=W+12|0,_=W,$=a+4|0,O=A[16960+(l<<2)>>2]|0,R=(f|0)!=0,O=R?O*3|0:O,p=A[$>>2]|0,E=a+8|0,v=A[E>>2]|0,R){if(g=a+12|0,f=A[g>>2]|0,p=v+p+f|0,(p|0)==(O|0))return $=1,L=W,$|0;T=g}else T=a+12|0,f=A[T>>2]|0,p=v+p+f|0;if((p|0)<=(O|0))return $=0,L=W,$|0;do if((f|0)>0){if(f=A[a>>2]|0,(v|0)>0){g=18640+(f*80|0)+60|0,f=a;break}f=18640+(f*80|0)+40|0,c?(gx(Q,O,0,0),e8($,Q,_),q4(_),An(_,Q,$),g=f,f=a):(g=f,f=a)}else g=18640+((A[a>>2]|0)*80|0)+20|0,f=a;while(!1);if(A[f>>2]=A[g>>2],p=g+16|0,(A[p>>2]|0)>0){f=0;do El($),f=f+1|0;while((f|0)<(A[p>>2]|0))}return a=g+4|0,A[Q>>2]=A[a>>2],A[Q+4>>2]=A[a+4>>2],A[Q+8>>2]=A[a+8>>2],l=A[16880+(l<<2)>>2]|0,Tl(Q,R?l*3|0:l),An($,Q,$),Z0($),R?f=((A[E>>2]|0)+(A[$>>2]|0)+(A[T>>2]|0)|0)==(O|0)?1:2:f=2,$=f,L=W,$|0}function qx(a,l){a=a|0,l=l|0;var c=0;do c=N2(a,l,0,1)|0;while((c|0)==2);return c|0}function r8(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0,Ue=0,qe=0,tt=0,ot=0,_t=0,Xe=0;if(ot=L,L=L+240|0,g=ot+224|0,Ne=ot+208|0,Ue=ot,qe=ot+192|0,tt=ot+176|0,ie=ot+160|0,he=ot+144|0,ue=ot+128|0,ae=ot+112|0,te=ot+96|0,A[g>>2]=l,A[Ne>>2]=A[a>>2],A[Ne+4>>2]=A[a+4>>2],A[Ne+8>>2]=A[a+8>>2],A[Ne+12>>2]=A[a+12>>2],Pl(Ne,g,Ue),A[p>>2]=0,ee=f+c+((f|0)==6&1)|0,(ee|0)<=(c|0)){L=ot;return}T=A[g>>2]|0,E=c+6|0,R=16960+(T<<2)|0,O=he+8|0,Q=ue+8|0,$=ae+8|0,W=qe+4|0,v=0,_=c,f=-1;e:for(;;){if(g=(_|0)%6|0,a=Ue+(g<<4)|0,A[qe>>2]=A[a>>2],A[qe+4>>2]=A[a+4>>2],A[qe+8>>2]=A[a+8>>2],A[qe+12>>2]=A[a+12>>2],a=v,v=N2(qe,T,0,1)|0,(_|0)>(c|0)&(Zn(l)|0)!=0&&(a|0)!=1&&(A[qe>>2]|0)!=(f|0)){switch(Mi(Ue+(((g+5|0)%6|0)<<4)+4|0,tt),Mi(Ue+(g<<4)+4|0,ie),_t=+(A[R>>2]|0),F[he>>3]=_t*3,F[O>>3]=0,Xe=_t*-1.5,F[ue>>3]=Xe,F[Q>>3]=_t*2.598076211353316,F[ae>>3]=Xe,F[$>>3]=_t*-2.598076211353316,g=A[Ne>>2]|0,A[17040+(g*80|0)+(((f|0)==(g|0)?A[qe>>2]|0:f)<<2)>>2]|0){case 1:{a=ue,f=he;break}case 3:{a=ae,f=ue;break}case 2:{a=he,f=ae;break}default:{a=8;break e}}$l(tt,ie,f,a,te),!(Wl(tt,te)|0)&&!(Wl(ie,te)|0)&&(Os(te,A[Ne>>2]|0,T,1,p+8+(A[p>>2]<<4)|0),A[p>>2]=(A[p>>2]|0)+1)}if((_|0)<(E|0)&&(Mi(W,tt),Os(tt,A[qe>>2]|0,T,1,p+8+(A[p>>2]<<4)|0),A[p>>2]=(A[p>>2]|0)+1),_=_+1|0,(_|0)>=(ee|0)){a=3;break}else f=A[qe>>2]|0}if((a|0)==3){L=ot;return}else(a|0)==8&&Ze(27054,27017,737,27099)}function Pl(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0;T=L,L=L+160|0,f=T+80|0,p=T,g=f,v=20368,_=g+72|0;do A[g>>2]=A[v>>2],g=g+4|0,v=v+4|0;while((g|0)<(_|0));g=p,v=20448,_=g+72|0;do A[g>>2]=A[v>>2],g=g+4|0,v=v+4|0;while((g|0)<(_|0));_=(Zn(A[l>>2]|0)|0)==0,f=_?f:p,p=a+4|0,Nl(p),Ml(p),Zn(A[l>>2]|0)|0&&(Ri(p),A[l>>2]=(A[l>>2]|0)+1),A[c>>2]=A[a>>2],l=c+4|0,An(p,f,l),Z0(l),A[c+16>>2]=A[a>>2],l=c+20|0,An(p,f+12|0,l),Z0(l),A[c+32>>2]=A[a>>2],l=c+36|0,An(p,f+24|0,l),Z0(l),A[c+48>>2]=A[a>>2],l=c+52|0,An(p,f+36|0,l),Z0(l),A[c+64>>2]=A[a>>2],l=c+68|0,An(p,f+48|0,l),Z0(l),A[c+80>>2]=A[a>>2],c=c+84|0,An(p,f+60|0,c),Z0(c),L=T}function Ix(a,l){return a=a|0,l=l|0,l=Te(a|0,l|0,52)|0,G()|0,l&15|0}function Bl(a,l){return a=a|0,l=l|0,l=Te(a|0,l|0,45)|0,G()|0,l&127|0}function i8(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0;return!(!0&(l&-16777216|0)==134217728)||(f=Te(a|0,l|0,52)|0,G()|0,f=f&15,c=Te(a|0,l|0,45)|0,G()|0,c=c&127,c>>>0>121)?(a=0,a|0):(v=(f^15)*3|0,p=Te(a|0,l|0,v|0)|0,v=Re(p|0,G()|0,v|0)|0,p=G()|0,g=V0(-1227133514,-1171,v|0,p|0)|0,!((v&613566756&g|0)==0&(p&4681&(G()|0)|0)==0)||(v=(f*3|0)+19|0,g=Re(~a|0,~l|0,v|0)|0,v=Te(g|0,G()|0,v|0)|0,!((f|0)==15|(v|0)==0&(G()|0)==0))?(v=0,v|0):!(we[20528+c>>0]|0)||(l=l&8191,(a|0)==0&(l|0)==0)?(v=1,v|0):(v=eu(a|0,l|0)|0,G()|0,((63-v|0)%3|0|0)!=0|0))}function s8(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0;if(p=Re(l|0,0,52)|0,g=G()|0,c=Re(c|0,0,45)|0,c=g|(G()|0)|134225919,(l|0)<1){g=-1,f=c,l=a,A[l>>2]=g,a=a+4|0,A[a>>2]=f;return}for(g=1,p=-1;v=(15-g|0)*3|0,_=Re(7,0,v|0)|0,c=c&~(G()|0),v=Re(f|0,0,v|0)|0,p=p&~_|v,c=c|(G()|0),(g|0)!=(l|0);)g=g+1|0;_=a,v=_,A[v>>2]=p,_=_+4|0,A[_>>2]=c}function o8(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0;if(g=Te(a|0,l|0,52)|0,G()|0,g=g&15,c>>>0>15)return f=4,f|0;if((g|0)<(c|0))return f=12,f|0;if((g|0)==(c|0))return A[f>>2]=a,A[f+4>>2]=l,f=0,f|0;if(p=Re(c|0,0,52)|0,p=p|a,a=G()|0|l&-15728641,(g|0)>(c|0))do l=Re(7,0,(14-c|0)*3|0)|0,c=c+1|0,p=l|p,a=G()|0|a;while((c|0)<(g|0));return A[f>>2]=p,A[f+4>>2]=a,f=0,f|0}function ks(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0;if(g=Te(a|0,l|0,52)|0,G()|0,g=g&15,!((c|0)<16&(g|0)<=(c|0)))return f=4,f|0;p=c-g|0,c=Te(a|0,l|0,45)|0,G()|0;e:do if(!(t0(c&127)|0))c=X1(7,0,p,((p|0)<0)<<31>>31)|0,p=G()|0;else{t:do if(g|0){for(c=1;v=Re(7,0,(15-c|0)*3|0)|0,!!((v&a|0)==0&((G()|0)&l|0)==0);)if(c>>>0<g>>>0)c=c+1|0;else break t;c=X1(7,0,p,((p|0)<0)<<31>>31)|0,p=G()|0;break e}while(!1);c=X1(7,0,p,((p|0)<0)<<31>>31)|0,c=J0(c|0,G()|0,5,0)|0,c=We(c|0,G()|0,-5,-1)|0,c=Z1(c|0,G()|0,6,0)|0,c=We(c|0,G()|0,1,0)|0,p=G()|0}while(!1);return v=f,A[v>>2]=c,A[v+4>>2]=p,v=0,v|0}function Wt(a,l){a=a|0,l=l|0;var c=0,f=0,p=0;if(p=Te(a|0,l|0,45)|0,G()|0,!(t0(p&127)|0))return p=0,p|0;p=Te(a|0,l|0,52)|0,G()|0,p=p&15;e:do if(!p)c=0;else for(f=1;;){if(c=Te(a|0,l|0,(15-f|0)*3|0)|0,G()|0,c=c&7,c|0)break e;if(f>>>0<p>>>0)f=f+1|0;else{c=0;break}}while(!1);return p=(c|0)==0&1,p|0}function Ox(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0;if(v=L,L=L+16|0,g=v,h8(g,a,l,c),l=g,a=A[l>>2]|0,l=A[l+4>>2]|0,(a|0)==0&(l|0)==0)return L=v,0;p=0,c=0;do _=f+(p<<3)|0,A[_>>2]=a,A[_+4>>2]=l,p=We(p|0,c|0,1,0)|0,c=G()|0,f8(g),_=g,a=A[_>>2]|0,l=A[_+4>>2]|0;while(!((a|0)==0&(l|0)==0));return L=v,0}function Dl(a,l,c,f){return a=a|0,l=l|0,c=c|0,f=f|0,(f|0)<(c|0)?(c=l,f=a,st(c|0),f|0):(c=Re(-1,-1,((f-c|0)*3|0)+3|0)|0,f=Re(~c|0,~(G()|0)|0,(15-f|0)*3|0)|0,c=~(G()|0)&l,f=~f&a,st(c|0),f|0)}function Fl(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0;return p=Te(a|0,l|0,52)|0,G()|0,p=p&15,(c|0)<16&(p|0)<=(c|0)?((p|0)<(c|0)&&(p=Re(-1,-1,((c+-1-p|0)*3|0)+3|0)|0,p=Re(~p|0,~(G()|0)|0,(15-c|0)*3|0)|0,l=~(G()|0)&l,a=~p&a),p=Re(c|0,0,52)|0,c=l&-15728641|(G()|0),A[f>>2]=a|p,A[f+4>>2]=c,f=0,f|0):(f=4,f|0)}function kx(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0,Ue=0,qe=0,tt=0,ot=0,_t=0,Xe=0,Ge=0,Ee=0;if((c|0)==0&(f|0)==0)return Ee=0,Ee|0;if(p=a,g=A[p>>2]|0,p=A[p+4>>2]|0,!0&(p&15728640|0)==0){if(!((f|0)>0|(f|0)==0&c>>>0>0)||(Ee=l,A[Ee>>2]=g,A[Ee+4>>2]=p,(c|0)==1&(f|0)==0))return Ee=0,Ee|0;p=1,g=0;do Xe=a+(p<<3)|0,Ge=A[Xe+4>>2]|0,Ee=l+(p<<3)|0,A[Ee>>2]=A[Xe>>2],A[Ee+4>>2]=Ge,p=We(p|0,g|0,1,0)|0,g=G()|0;while((g|0)<(f|0)|(g|0)==(f|0)&p>>>0<c>>>0);return p=0,p|0}if(_t=c<<3,Ge=zr(_t)|0,!Ge)return Ee=13,Ee|0;if(D2(Ge|0,a|0,_t|0)|0,Xe=er(c,8)|0,!Xe)return Qe(Ge),Ee=13,Ee|0;e:for(;;){p=Ge,E=A[p>>2]|0,p=A[p+4>>2]|0,tt=Te(E|0,p|0,52)|0,G()|0,tt=tt&15,ot=tt+-1|0,qe=(tt|0)!=0,Ue=(f|0)>0|(f|0)==0&c>>>0>0;t:do if(qe&Ue){if(ue=Re(ot|0,0,52)|0,ae=G()|0,ot>>>0>15){if(!((E|0)==0&(p|0)==0)){Ee=16;break e}for(g=0,a=0;;){if(g=We(g|0,a|0,1,0)|0,a=G()|0,!((a|0)<(f|0)|(a|0)==(f|0)&g>>>0<c>>>0))break t;if(v=Ge+(g<<3)|0,Ne=A[v>>2]|0,v=A[v+4>>2]|0,!((Ne|0)==0&(v|0)==0)){p=v,Ee=16;break e}}}for(_=E,a=p,g=0,v=0;;){if(!((_|0)==0&(a|0)==0)){if(!(!0&(a&117440512|0)==0)){Ee=21;break e}if(R=Te(_|0,a|0,52)|0,G()|0,R=R&15,(R|0)<(ot|0)){p=12,Ee=27;break e}if((R|0)!=(ot|0)&&(_=_|ue,a=a&-15728641|ae,R>>>0>=tt>>>0)){T=ot;do Ne=Re(7,0,(14-T|0)*3|0)|0,T=T+1|0,_=Ne|_,a=G()|0|a;while(T>>>0<R>>>0)}if(Q=B2(_|0,a|0,c|0,f|0)|0,$=G()|0,T=Xe+(Q<<3)|0,R=T,O=A[R>>2]|0,R=A[R+4>>2]|0,!((O|0)==0&(R|0)==0)){ie=0,he=0;do{if((ie|0)>(f|0)|(ie|0)==(f|0)&he>>>0>c>>>0){Ee=31;break e}if((O|0)==(_|0)&(R&-117440513|0)==(a|0)){W=Te(O|0,R|0,56)|0,G()|0,W=W&7,ee=W+1|0,Ne=Te(O|0,R|0,45)|0,G()|0;n:do if(!(t0(Ne&127)|0))R=7;else{if(O=Te(O|0,R|0,52)|0,G()|0,O=O&15,!O){R=6;break}for(R=1;;){if(Ne=Re(7,0,(15-R|0)*3|0)|0,!((Ne&_|0)==0&((G()|0)&a|0)==0)){R=7;break n}if(R>>>0<O>>>0)R=R+1|0;else{R=6;break}}}while(!1);if((W+2|0)>>>0>R>>>0){Ee=41;break e}Ne=Re(ee|0,0,56)|0,a=G()|0|a&-117440513,te=T,A[te>>2]=0,A[te+4>>2]=0,_=Ne|_}else Q=We(Q|0,$|0,1,0)|0,Q=P2(Q|0,G()|0,c|0,f|0)|0,$=G()|0;he=We(he|0,ie|0,1,0)|0,ie=G()|0,T=Xe+(Q<<3)|0,R=T,O=A[R>>2]|0,R=A[R+4>>2]|0}while(!((O|0)==0&(R|0)==0))}Ne=T,A[Ne>>2]=_,A[Ne+4>>2]=a}if(g=We(g|0,v|0,1,0)|0,v=G()|0,!((v|0)<(f|0)|(v|0)==(f|0)&g>>>0<c>>>0))break t;a=Ge+(g<<3)|0,_=A[a>>2]|0,a=A[a+4>>2]|0}}while(!1);if(Ne=We(c|0,f|0,5,0)|0,te=G()|0,te>>>0<0|(te|0)==0&Ne>>>0<11){Ee=85;break}if(Ne=Z1(c|0,f|0,6,0)|0,G()|0,Ne=er(Ne,8)|0,!Ne){Ee=48;break}do if(Ue){for(ee=0,a=0,W=0,ie=0;;){if(R=Xe+(ee<<3)|0,v=R,g=A[v>>2]|0,v=A[v+4>>2]|0,(g|0)==0&(v|0)==0)te=W;else{O=Te(g|0,v|0,56)|0,G()|0,O=O&7,_=O+1|0,Q=v&-117440513,te=Te(g|0,v|0,45)|0,G()|0;t:do if(t0(te&127)|0){if($=Te(g|0,v|0,52)|0,G()|0,$=$&15,$|0)for(T=1;;){if(te=Re(7,0,(15-T|0)*3|0)|0,!((g&te|0)==0&(Q&(G()|0)|0)==0))break t;if(T>>>0<$>>>0)T=T+1|0;else break}v=Re(_|0,0,56)|0,g=v|g,v=G()|0|Q,_=R,A[_>>2]=g,A[_+4>>2]=v,_=O+2|0}while(!1);(_|0)==7?(te=Ne+(a<<3)|0,A[te>>2]=g,A[te+4>>2]=v&-117440513,a=We(a|0,W|0,1,0)|0,te=G()|0):te=W}if(ee=We(ee|0,ie|0,1,0)|0,ie=G()|0,(ie|0)<(f|0)|(ie|0)==(f|0)&ee>>>0<c>>>0)W=te;else break}if(Ue){if(he=ot>>>0>15,ue=Re(ot|0,0,52)|0,ae=G()|0,!qe){for(g=0,T=0,_=0,v=0;(E|0)==0&(p|0)==0||(ot=l+(g<<3)|0,A[ot>>2]=E,A[ot+4>>2]=p,g=We(g|0,T|0,1,0)|0,T=G()|0),_=We(_|0,v|0,1,0)|0,v=G()|0,!!((v|0)<(f|0)|(v|0)==(f|0)&_>>>0<c>>>0);)p=Ge+(_<<3)|0,E=A[p>>2]|0,p=A[p+4>>2]|0;p=te;break}for(g=0,T=0,v=0,_=0;;){do if(!((E|0)==0&(p|0)==0)){if($=Te(E|0,p|0,52)|0,G()|0,$=$&15,he|($|0)<(ot|0)){Ee=80;break e}if(($|0)!=(ot|0)){if(R=E|ue,O=p&-15728641|ae,$>>>0>=tt>>>0){Q=ot;do qe=Re(7,0,(14-Q|0)*3|0)|0,Q=Q+1|0,R=qe|R,O=G()|0|O;while(Q>>>0<$>>>0)}}else R=E,O=p;W=B2(R|0,O|0,c|0,f|0)|0,Q=0,$=0,ie=G()|0;do{if((Q|0)>(f|0)|(Q|0)==(f|0)&$>>>0>c>>>0){Ee=81;break e}if(qe=Xe+(W<<3)|0,ee=A[qe+4>>2]|0,(ee&-117440513|0)==(O|0)&&(A[qe>>2]|0)==(R|0)){Ee=65;break}qe=We(W|0,ie|0,1,0)|0,W=P2(qe|0,G()|0,c|0,f|0)|0,ie=G()|0,$=We($|0,Q|0,1,0)|0,Q=G()|0,qe=Xe+(W<<3)|0}while(!((A[qe>>2]|0)==(R|0)&&(A[qe+4>>2]|0)==(O|0)));if((Ee|0)==65&&(Ee=0,!0&(ee&117440512|0)==100663296))break;qe=l+(g<<3)|0,A[qe>>2]=E,A[qe+4>>2]=p,g=We(g|0,T|0,1,0)|0,T=G()|0}while(!1);if(v=We(v|0,_|0,1,0)|0,_=G()|0,!((_|0)<(f|0)|(_|0)==(f|0)&v>>>0<c>>>0))break;p=Ge+(v<<3)|0,E=A[p>>2]|0,p=A[p+4>>2]|0}p=te}else g=0,p=te}else g=0,a=0,p=0;while(!1);if(Di(Xe|0,0,_t|0)|0,D2(Ge|0,Ne|0,a<<3|0)|0,Qe(Ne),(a|0)==0&(p|0)==0){Ee=89;break}else l=l+(g<<3)|0,f=p,c=a}if((Ee|0)==16)!0&(p&117440512|0)==0?(p=4,Ee=27):Ee=21;else if((Ee|0)==31)Ze(27795,27122,529,27132);else{if((Ee|0)==41)return Qe(Ge),Qe(Xe),Ee=10,Ee|0;if((Ee|0)==48)return Qe(Ge),Qe(Xe),Ee=13,Ee|0;(Ee|0)==80?Ze(27795,27122,620,27132):(Ee|0)==81?Ze(27795,27122,632,27132):(Ee|0)==85&&(D2(l|0,Ge|0,c<<3|0)|0,Ee=89)}return(Ee|0)==21?(Qe(Ge),Qe(Xe),Ee=5,Ee|0):(Ee|0)==27?(Qe(Ge),Qe(Xe),Ee=p,Ee|0):(Ee|0)==89?(Qe(Ge),Qe(Xe),Ee=0,Ee|0):0}function Ux(a,l,c,f,p,g,v){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0,g=g|0,v=v|0;var _=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0;if(ee=L,L=L+16|0,W=ee,!((c|0)>0|(c|0)==0&l>>>0>0))return W=0,L=ee,W|0;if((v|0)>=16)return W=12,L=ee,W|0;Q=0,$=0,O=0,_=0;e:for(;;){if(E=a+(Q<<3)|0,T=A[E>>2]|0,E=A[E+4>>2]|0,R=Te(T|0,E|0,52)|0,G()|0,(R&15|0)>(v|0)){_=12,T=11;break}if(h8(W,T,E,v),R=W,E=A[R>>2]|0,R=A[R+4>>2]|0,(E|0)==0&(R|0)==0)T=O;else{T=O;do{if(!((_|0)<(g|0)|(_|0)==(g|0)&T>>>0<p>>>0)){T=10;break e}O=f+(T<<3)|0,A[O>>2]=E,A[O+4>>2]=R,T=We(T|0,_|0,1,0)|0,_=G()|0,f8(W),O=W,E=A[O>>2]|0,R=A[O+4>>2]|0}while(!((E|0)==0&(R|0)==0))}if(Q=We(Q|0,$|0,1,0)|0,$=G()|0,($|0)<(c|0)|($|0)==(c|0)&Q>>>0<l>>>0)O=T;else{_=0,T=11;break}}return(T|0)==10?(W=14,L=ee,W|0):(T|0)==11?(L=ee,_|0):0}function Gx(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0;Q=L,L=L+16|0,O=Q;e:do if((c|0)>0|(c|0)==0&l>>>0>0){for(E=0,v=0,g=0,R=0;;){if(T=a+(E<<3)|0,_=A[T>>2]|0,T=A[T+4>>2]|0,!((_|0)==0&(T|0)==0)&&(T=(ks(_,T,f,O)|0)==0,_=O,v=We(A[_>>2]|0,A[_+4>>2]|0,v|0,g|0)|0,g=G()|0,!T)){g=12;break}if(E=We(E|0,R|0,1,0)|0,R=G()|0,!((R|0)<(c|0)|(R|0)==(c|0)&E>>>0<l>>>0))break e}return L=Q,g|0}else v=0,g=0;while(!1);return A[p>>2]=v,A[p+4>>2]=g,p=0,L=Q,p|0}function Vx(a,l){return a=a|0,l=l|0,l=Te(a|0,l|0,52)|0,G()|0,l&1|0}function yn(a,l){a=a|0,l=l|0;var c=0,f=0,p=0;if(p=Te(a|0,l|0,52)|0,G()|0,p=p&15,!p)return p=0,p|0;for(f=1;;){if(c=Te(a|0,l|0,(15-f|0)*3|0)|0,G()|0,c=c&7,c|0){f=5;break}if(f>>>0<p>>>0)f=f+1|0;else{c=0,f=5;break}}return(f|0)==5?c|0:0}function a8(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0;if(T=Te(a|0,l|0,52)|0,G()|0,T=T&15,!T)return _=l,T=a,st(_|0),T|0;for(_=1,c=0;;){g=(15-_|0)*3|0,f=Re(7,0,g|0)|0,p=G()|0,v=Te(a|0,l|0,g|0)|0,G()|0,g=Re(Ci(v&7)|0,0,g|0)|0,v=G()|0,a=g|a&~f,l=v|l&~p;e:do if(!c)if((g&f|0)==0&(v&p|0)==0)c=0;else if(f=Te(a|0,l|0,52)|0,G()|0,f=f&15,!f)c=1;else{c=1;t:for(;;){switch(v=Te(a|0,l|0,(15-c|0)*3|0)|0,G()|0,v&7){case 1:break t;case 0:break;default:{c=1;break e}}if(c>>>0<f>>>0)c=c+1|0;else{c=1;break e}}for(c=1;;)if(v=(15-c|0)*3|0,p=Te(a|0,l|0,v|0)|0,G()|0,g=Re(7,0,v|0)|0,l=l&~(G()|0),v=Re(Ci(p&7)|0,0,v|0)|0,a=a&~g|v,l=l|(G()|0),c>>>0<f>>>0)c=c+1|0;else{c=1;break}}while(!1);if(_>>>0<T>>>0)_=_+1|0;else break}return st(l|0),a|0}function Pi(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0;if(f=Te(a|0,l|0,52)|0,G()|0,f=f&15,!f)return c=l,f=a,st(c|0),f|0;for(c=1;g=(15-c|0)*3|0,v=Te(a|0,l|0,g|0)|0,G()|0,p=Re(7,0,g|0)|0,l=l&~(G()|0),g=Re(Ci(v&7)|0,0,g|0)|0,a=g|a&~p,l=G()|0|l,c>>>0<f>>>0;)c=c+1|0;return st(l|0),a|0}function zx(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0;if(T=Te(a|0,l|0,52)|0,G()|0,T=T&15,!T)return _=l,T=a,st(_|0),T|0;for(_=1,c=0;;){g=(15-_|0)*3|0,f=Re(7,0,g|0)|0,p=G()|0,v=Te(a|0,l|0,g|0)|0,G()|0,g=Re(Y1(v&7)|0,0,g|0)|0,v=G()|0,a=g|a&~f,l=v|l&~p;e:do if(!c)if((g&f|0)==0&(v&p|0)==0)c=0;else if(f=Te(a|0,l|0,52)|0,G()|0,f=f&15,!f)c=1;else{c=1;t:for(;;){switch(v=Te(a|0,l|0,(15-c|0)*3|0)|0,G()|0,v&7){case 1:break t;case 0:break;default:{c=1;break e}}if(c>>>0<f>>>0)c=c+1|0;else{c=1;break e}}for(c=1;;)if(p=(15-c|0)*3|0,g=Re(7,0,p|0)|0,v=l&~(G()|0),l=Te(a|0,l|0,p|0)|0,G()|0,l=Re(Y1(l&7)|0,0,p|0)|0,a=a&~g|l,l=v|(G()|0),c>>>0<f>>>0)c=c+1|0;else{c=1;break}}while(!1);if(_>>>0<T>>>0)_=_+1|0;else break}return st(l|0),a|0}function A8(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0;if(f=Te(a|0,l|0,52)|0,G()|0,f=f&15,!f)return c=l,f=a,st(c|0),f|0;for(c=1;v=(15-c|0)*3|0,g=Re(7,0,v|0)|0,p=l&~(G()|0),l=Te(a|0,l|0,v|0)|0,G()|0,l=Re(Y1(l&7)|0,0,v|0)|0,a=l|a&~g,l=G()|0|p,c>>>0<f>>>0;)c=c+1|0;return st(l|0),a|0}function Hx(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;if(T=L,L=L+64|0,_=T+40|0,f=T+24|0,p=T+12|0,g=T,Re(l|0,0,52)|0,c=G()|0|134225919,!l)return(A[a+4>>2]|0)>2||(A[a+8>>2]|0)>2||(A[a+12>>2]|0)>2?(v=0,_=0,st(v|0),L=T,_|0):(Re(gl(a)|0,0,45)|0,v=G()|0|c,_=-1,st(v|0),L=T,_|0);if(A[_>>2]=A[a>>2],A[_+4>>2]=A[a+4>>2],A[_+8>>2]=A[a+8>>2],A[_+12>>2]=A[a+12>>2],v=_+4|0,(l|0)>0)for(a=-1;A[f>>2]=A[v>>2],A[f+4>>2]=A[v+4>>2],A[f+8>>2]=A[v+8>>2],l&1?(xx(v),A[p>>2]=A[v>>2],A[p+4>>2]=A[v+4>>2],A[p+8>>2]=A[v+8>>2],L4(p)):(wl(v),A[p>>2]=A[v>>2],A[p+4>>2]=A[v+4>>2],A[p+8>>2]=A[v+8>>2],Ri(p)),e8(f,p,g),Z0(g),R=(15-l|0)*3|0,E=Re(7,0,R|0)|0,c=c&~(G()|0),R=Re(F4(g)|0,0,R|0)|0,a=R|a&~E,c=G()|0|c,(l|0)>1;)l=l+-1|0;else a=-1;e:do if((A[v>>2]|0)<=2&&(A[_+8>>2]|0)<=2&&(A[_+12>>2]|0)<=2){if(f=gl(_)|0,l=Re(f|0,0,45)|0,l=l|a,a=G()|0|c&-1040385,g=ax(_)|0,!(t0(f)|0)){if((g|0)<=0)break;for(p=0;;){if(f=Te(l|0,a|0,52)|0,G()|0,f=f&15,f)for(c=1;R=(15-c|0)*3|0,_=Te(l|0,a|0,R|0)|0,G()|0,E=Re(7,0,R|0)|0,a=a&~(G()|0),R=Re(Ci(_&7)|0,0,R|0)|0,l=l&~E|R,a=a|(G()|0),c>>>0<f>>>0;)c=c+1|0;if(p=p+1|0,(p|0)==(g|0))break e}}p=Te(l|0,a|0,52)|0,G()|0,p=p&15;t:do if(p){c=1;n:for(;;){switch(R=Te(l|0,a|0,(15-c|0)*3|0)|0,G()|0,R&7){case 1:break n;case 0:break;default:break t}if(c>>>0<p>>>0)c=c+1|0;else break t}if(yl(f,A[_>>2]|0)|0)for(c=1;_=(15-c|0)*3|0,E=Re(7,0,_|0)|0,R=a&~(G()|0),a=Te(l|0,a|0,_|0)|0,G()|0,a=Re(Y1(a&7)|0,0,_|0)|0,l=l&~E|a,a=R|(G()|0),c>>>0<p>>>0;)c=c+1|0;else for(c=1;R=(15-c|0)*3|0,_=Te(l|0,a|0,R|0)|0,G()|0,E=Re(7,0,R|0)|0,a=a&~(G()|0),R=Re(Ci(_&7)|0,0,R|0)|0,l=l&~E|R,a=a|(G()|0),c>>>0<p>>>0;)c=c+1|0}while(!1);if((g|0)>0){c=0;do l=a8(l,a)|0,a=G()|0,c=c+1|0;while((c|0)!=(g|0))}}else l=0,a=0;while(!1);return E=a,R=l,st(E|0),L=T,R|0}function Zn(a){return a=a|0,(a|0)%2|0|0}function l8(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0;return p=L,L=L+16|0,f=p,l>>>0>15?(f=4,L=p,f|0):(A[a+4>>2]&2146435072|0)==2146435072||(A[a+8+4>>2]&2146435072|0)==2146435072?(f=3,L=p,f|0):(Bx(a,l,f),l=Hx(f,l)|0,f=G()|0,A[c>>2]=l,A[c+4>>2]=f,(l|0)==0&(f|0)==0&&Ze(27795,27122,959,27145),f=0,L=p,f|0)}function u8(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0;if(p=c+4|0,g=Te(a|0,l|0,52)|0,G()|0,g=g&15,v=Te(a|0,l|0,45)|0,G()|0,f=(g|0)==0,t0(v&127)|0){if(f)return v=1,v|0;f=1}else{if(f)return v=0,v|0;(A[p>>2]|0)==0&&(A[c+8>>2]|0)==0?f=(A[c+12>>2]|0)!=0&1:f=1}for(c=1;c&1?L4(p):Ri(p),v=Te(a|0,l|0,(15-c|0)*3|0)|0,G()|0,Sl(p,v&7),c>>>0<g>>>0;)c=c+1|0;return f|0}function M2(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;if(R=L,L=L+16|0,T=R,E=Te(a|0,l|0,45)|0,G()|0,E=E&127,E>>>0>121)return A[c>>2]=0,A[c+4>>2]=0,A[c+8>>2]=0,A[c+12>>2]=0,E=5,L=R,E|0;e:do if((t0(E)|0)!=0&&(g=Te(a|0,l|0,52)|0,G()|0,g=g&15,(g|0)!=0)){f=1;t:for(;;){switch(_=Te(a|0,l|0,(15-f|0)*3|0)|0,G()|0,_&7){case 5:break t;case 0:break;default:{f=l;break e}}if(f>>>0<g>>>0)f=f+1|0;else{f=l;break e}}for(p=1,f=l;l=(15-p|0)*3|0,v=Re(7,0,l|0)|0,_=f&~(G()|0),f=Te(a|0,f|0,l|0)|0,G()|0,f=Re(Y1(f&7)|0,0,l|0)|0,a=a&~v|f,f=_|(G()|0),p>>>0<g>>>0;)p=p+1|0}else f=l;while(!1);if(_=7696+(E*28|0)|0,A[c>>2]=A[_>>2],A[c+4>>2]=A[_+4>>2],A[c+8>>2]=A[_+8>>2],A[c+12>>2]=A[_+12>>2],!(u8(a,f,c)|0))return E=0,L=R,E|0;if(v=c+4|0,A[T>>2]=A[v>>2],A[T+4>>2]=A[v+4>>2],A[T+8>>2]=A[v+8>>2],g=Te(a|0,f|0,52)|0,G()|0,_=g&15,g&1?(Ri(v),g=_+1|0):g=_,!(t0(E)|0))f=0;else{e:do if(!_)f=0;else for(l=1;;){if(p=Te(a|0,f|0,(15-l|0)*3|0)|0,G()|0,p=p&7,p|0){f=p;break e}if(l>>>0<_>>>0)l=l+1|0;else{f=0;break}}while(!1);f=(f|0)==4&1}if(!(N2(c,g,f,0)|0))(g|0)!=(_|0)&&(A[v>>2]=A[T>>2],A[v+4>>2]=A[T+4>>2],A[v+8>>2]=A[T+8>>2]);else{if(t0(E)|0)do;while((N2(c,g,0,0)|0)!=0);(g|0)!=(_|0)&&wl(v)}return E=0,L=R,E|0}function Bi(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0;return g=L,L=L+16|0,f=g,p=M2(a,l,f)|0,p|0?(L=g,p|0):(p=Te(a|0,l|0,52)|0,G()|0,Lx(f,p&15,c),p=0,L=g,p|0)}function R2(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0;if(v=L,L=L+16|0,g=v,f=M2(a,l,g)|0,f|0)return g=f,L=v,g|0;f=Te(a|0,l|0,45)|0,G()|0,f=(t0(f&127)|0)==0,p=Te(a|0,l|0,52)|0,G()|0,p=p&15;e:do if(!f){if(p|0)for(f=1;;){if(_=Re(7,0,(15-f|0)*3|0)|0,!((_&a|0)==0&((G()|0)&l|0)==0))break e;if(f>>>0<p>>>0)f=f+1|0;else break}return n8(g,p,0,5,c),_=0,L=v,_|0}while(!1);return r8(g,p,0,6,c),_=0,L=v,_|0}function jx(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0;if(p=Te(a|0,l|0,45)|0,G()|0,!(t0(p&127)|0))return p=2,A[c>>2]=p,0;if(p=Te(a|0,l|0,52)|0,G()|0,p=p&15,!p)return p=5,A[c>>2]=p,0;for(f=1;;){if(g=Re(7,0,(15-f|0)*3|0)|0,!((g&a|0)==0&((G()|0)&l|0)==0)){f=2,a=6;break}if(f>>>0<p>>>0)f=f+1|0;else{f=5,a=6;break}}return(a|0)==6&&(A[c>>2]=f),0}function Ll(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0;O=L,L=L+128|0,E=O+112|0,g=O+96|0,R=O,p=Te(a|0,l|0,52)|0,G()|0,_=p&15,A[E>>2]=_,v=Te(a|0,l|0,45)|0,G()|0,v=v&127;e:do if(t0(v)|0){if(_|0)for(f=1;;){if(T=Re(7,0,(15-f|0)*3|0)|0,!((T&a|0)==0&((G()|0)&l|0)==0)){p=0;break e}if(f>>>0<_>>>0)f=f+1|0;else break}if(p&1)p=1;else return T=Re(_+1|0,0,52)|0,R=G()|0|l&-15728641,E=Re(7,0,(14-_|0)*3|0)|0,R=Ll((T|a)&~E,R&~(G()|0),c)|0,L=O,R|0}else p=0;while(!1);if(f=M2(a,l,g)|0,!f){p?(Cl(g,E,R),T=5):(Pl(g,E,R),T=6);e:do if(t0(v)|0)if(!_)a=5;else for(f=1;;){if(v=Re(7,0,(15-f|0)*3|0)|0,!((v&a|0)==0&((G()|0)&l|0)==0)){a=2;break e}if(f>>>0<_>>>0)f=f+1|0;else{a=5;break}}else a=2;while(!1);Di(c|0,-1,a<<2|0)|0;e:do if(p)for(g=0;;){if(v=R+(g<<4)|0,qx(v,A[E>>2]|0)|0,v=A[v>>2]|0,_=A[c>>2]|0,(_|0)==-1|(_|0)==(v|0))f=c;else{p=0;do{if(p=p+1|0,p>>>0>=a>>>0){f=1;break e}f=c+(p<<2)|0,_=A[f>>2]|0}while(!((_|0)==-1|(_|0)==(v|0)))}if(A[f>>2]=v,g=g+1|0,g>>>0>=T>>>0){f=0;break}}else for(g=0;;){if(v=R+(g<<4)|0,N2(v,A[E>>2]|0,0,1)|0,v=A[v>>2]|0,_=A[c>>2]|0,(_|0)==-1|(_|0)==(v|0))f=c;else{p=0;do{if(p=p+1|0,p>>>0>=a>>>0){f=1;break e}f=c+(p<<2)|0,_=A[f>>2]|0}while(!((_|0)==-1|(_|0)==(v|0)))}if(A[f>>2]=v,g=g+1|0,g>>>0>=T>>>0){f=0;break}}while(!1)}return R=f,L=O,R|0}function $x(){return 12}function c8(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0;if(a>>>0>15)return _=4,_|0;if(Re(a|0,0,52)|0,_=G()|0|134225919,!a){c=0,f=0;do t0(f)|0&&(Re(f|0,0,45)|0,v=_|(G()|0),a=l+(c<<3)|0,A[a>>2]=-1,A[a+4>>2]=v,c=c+1|0),f=f+1|0;while((f|0)!=122);return c=0,c|0}c=0,v=0;do{if(t0(v)|0){for(Re(v|0,0,45)|0,f=1,p=-1,g=_|(G()|0);T=Re(7,0,(15-f|0)*3|0)|0,p=p&~T,g=g&~(G()|0),(f|0)!=(a|0);)f=f+1|0;T=l+(c<<3)|0,A[T>>2]=p,A[T+4>>2]=g,c=c+1|0}v=v+1|0}while((v|0)!=122);return c=0,c|0}function Wx(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0;if(ue=L,L=L+16|0,ie=ue,he=Te(a|0,l|0,52)|0,G()|0,he=he&15,c>>>0>15)return he=4,L=ue,he|0;if((he|0)<(c|0))return he=12,L=ue,he|0;if((he|0)!=(c|0))if(g=Re(c|0,0,52)|0,g=g|a,_=G()|0|l&-15728641,(he|0)>(c|0)){T=c;do ee=Re(7,0,(14-T|0)*3|0)|0,T=T+1|0,g=ee|g,_=G()|0|_;while((T|0)<(he|0));ee=g}else ee=g;else ee=a,_=l;W=Te(ee|0,_|0,45)|0,G()|0;e:do if(t0(W&127)|0){if(T=Te(ee|0,_|0,52)|0,G()|0,T=T&15,T|0)for(g=1;;){if(W=Re(7,0,(15-g|0)*3|0)|0,!((W&ee|0)==0&((G()|0)&_|0)==0)){E=33;break e}if(g>>>0<T>>>0)g=g+1|0;else break}if(W=f,A[W>>2]=0,A[W+4>>2]=0,(he|0)>(c|0)){for(W=l&-15728641,$=he;;){if(Q=$,$=$+-1|0,$>>>0>15|(he|0)<($|0)){E=19;break}if((he|0)!=($|0))if(g=Re($|0,0,52)|0,g=g|a,T=G()|0|W,(he|0)<(Q|0))O=g;else{E=$;do O=Re(7,0,(14-E|0)*3|0)|0,E=E+1|0,g=O|g,T=G()|0|T;while((E|0)<(he|0));O=g}else O=a,T=l;if(R=Te(O|0,T|0,45)|0,G()|0,!(t0(R&127)|0))g=0;else{R=Te(O|0,T|0,52)|0,G()|0,R=R&15;t:do if(!R)g=0;else for(E=1;;){if(g=Te(O|0,T|0,(15-E|0)*3|0)|0,G()|0,g=g&7,g|0)break t;if(E>>>0<R>>>0)E=E+1|0;else{g=0;break}}while(!1);g=(g|0)==0&1}if(T=Te(a|0,l|0,(15-Q|0)*3|0)|0,G()|0,T=T&7,(T|0)==7){p=5,E=42;break}if(g=(g|0)!=0,(T|0)==1&g){p=5,E=42;break}if(O=T+(((T|0)!=0&g)<<31>>31)|0,O|0&&(E=he-Q|0,E=X1(7,0,E,((E|0)<0)<<31>>31)|0,R=G()|0,g?(g=J0(E|0,R|0,5,0)|0,g=We(g|0,G()|0,-5,-1)|0,g=Z1(g|0,G()|0,6,0)|0,g=We(g|0,G()|0,1,0)|0,T=G()|0):(g=E,T=R),Q=O+-1|0,Q=J0(E|0,R|0,Q|0,((Q|0)<0)<<31>>31|0)|0,Q=We(g|0,T|0,Q|0,G()|0)|0,O=G()|0,R=f,R=We(Q|0,O|0,A[R>>2]|0,A[R+4>>2]|0)|0,O=G()|0,Q=f,A[Q>>2]=R,A[Q+4>>2]=O),($|0)<=(c|0)){E=37;break}}if((E|0)==19)Ze(27795,27122,1276,27158);else if((E|0)==37){v=f,p=A[v+4>>2]|0,v=A[v>>2]|0;break}else if((E|0)==42)return L=ue,p|0}else p=0,v=0}else E=33;while(!1);e:do if((E|0)==33)if(W=f,A[W>>2]=0,A[W+4>>2]=0,(he|0)>(c|0)){for(g=he;;){if(p=Te(a|0,l|0,(15-g|0)*3|0)|0,G()|0,p=p&7,(p|0)==7){p=5;break}if(v=he-g|0,v=X1(7,0,v,((v|0)<0)<<31>>31)|0,p=J0(v|0,G()|0,p|0,0)|0,v=G()|0,W=f,v=We(A[W>>2]|0,A[W+4>>2]|0,p|0,v|0)|0,p=G()|0,W=f,A[W>>2]=v,A[W+4>>2]=p,g=g+-1|0,(g|0)<=(c|0))break e}return L=ue,p|0}else p=0,v=0;while(!1);return ks(ee,_,he,ie)|0&&Ze(27795,27122,1236,27173),he=ie,ie=A[he+4>>2]|0,((p|0)>-1|(p|0)==-1&v>>>0>4294967295)&((ie|0)>(p|0)|((ie|0)==(p|0)?(A[he>>2]|0)>>>0>v>>>0:0))?(he=0,L=ue,he|0):(Ze(27795,27122,1316,27158),0)}function Qx(a,l,c,f,p,g){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0,g=g|0;var v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0;if(O=L,L=L+16|0,v=O,p>>>0>15)return g=4,L=O,g|0;if(_=Te(c|0,f|0,52)|0,G()|0,_=_&15,(_|0)>(p|0))return g=12,L=O,g|0;if(ks(c,f,p,v)|0&&Ze(27795,27122,1236,27173),R=v,E=A[R+4>>2]|0,!(((l|0)>-1|(l|0)==-1&a>>>0>4294967295)&((E|0)>(l|0)|((E|0)==(l|0)?(A[R>>2]|0)>>>0>a>>>0:0))))return g=2,L=O,g|0;R=p-_|0,p=Re(p|0,0,52)|0,T=G()|0|f&-15728641,E=g,A[E>>2]=p|c,A[E+4>>2]=T,E=Te(c|0,f|0,45)|0,G()|0;e:do if(t0(E&127)|0){if(_|0)for(v=1;;){if(E=Re(7,0,(15-v|0)*3|0)|0,!((E&c|0)==0&((G()|0)&f|0)==0))break e;if(v>>>0<_>>>0)v=v+1|0;else break}if((R|0)<1)return g=0,L=O,g|0;for(E=_^15,f=-1,T=1,v=1;;){_=R-T|0,_=X1(7,0,_,((_|0)<0)<<31>>31)|0,c=G()|0;do if(v)if(v=J0(_|0,c|0,5,0)|0,v=We(v|0,G()|0,-5,-1)|0,v=Z1(v|0,G()|0,6,0)|0,p=G()|0,(l|0)>(p|0)|(l|0)==(p|0)&a>>>0>v>>>0){l=We(a|0,l|0,-1,-1)|0,l=V0(l|0,G()|0,v|0,p|0)|0,v=G()|0,Q=g,W=A[Q>>2]|0,Q=A[Q+4>>2]|0,ee=(E+f|0)*3|0,$=Re(7,0,ee|0)|0,Q=Q&~(G()|0),f=Z1(l|0,v|0,_|0,c|0)|0,a=G()|0,p=We(f|0,a|0,2,0)|0,ee=Re(p|0,G()|0,ee|0)|0,Q=G()|0|Q,p=g,A[p>>2]=ee|W&~$,A[p+4>>2]=Q,a=J0(f|0,a|0,_|0,c|0)|0,a=V0(l|0,v|0,a|0,G()|0)|0,v=0,l=G()|0;break}else{ee=g,$=A[ee>>2]|0,ee=A[ee+4>>2]|0,W=Re(7,0,(E+f|0)*3|0)|0,ee=ee&~(G()|0),v=g,A[v>>2]=$&~W,A[v+4>>2]=ee,v=1;break}else $=g,p=A[$>>2]|0,$=A[$+4>>2]|0,f=(E+f|0)*3|0,Q=Re(7,0,f|0)|0,$=$&~(G()|0),ee=Z1(a|0,l|0,_|0,c|0)|0,v=G()|0,f=Re(ee|0,v|0,f|0)|0,$=G()|0|$,W=g,A[W>>2]=f|p&~Q,A[W+4>>2]=$,v=J0(ee|0,v|0,_|0,c|0)|0,a=V0(a|0,l|0,v|0,G()|0)|0,v=0,l=G()|0;while(!1);if((R|0)>(T|0))f=~T,T=T+1|0;else{l=0;break}}return L=O,l|0}while(!1);if((R|0)<1)return ee=0,L=O,ee|0;for(p=_^15,v=1;;)if(W=R-v|0,W=X1(7,0,W,((W|0)<0)<<31>>31)|0,ee=G()|0,T=g,c=A[T>>2]|0,T=A[T+4>>2]|0,_=(p-v|0)*3|0,f=Re(7,0,_|0)|0,T=T&~(G()|0),Q=Z1(a|0,l|0,W|0,ee|0)|0,$=G()|0,_=Re(Q|0,$|0,_|0)|0,T=G()|0|T,E=g,A[E>>2]=_|c&~f,A[E+4>>2]=T,ee=J0(Q|0,$|0,W|0,ee|0)|0,a=V0(a|0,l|0,ee|0,G()|0)|0,l=G()|0,(R|0)<=(v|0)){l=0;break}else v=v+1|0;return L=O,l|0}function h8(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0;p=Te(l|0,c|0,52)|0,G()|0,p=p&15,(l|0)==0&(c|0)==0|((f|0)>15|(p|0)>(f|0))?(g=-1,l=-1,c=0,p=0):(l=Dl(l,c,p+1|0,f)|0,v=(G()|0)&-15728641,c=Re(f|0,0,52)|0,c=l|c,v=v|(G()|0),l=(Wt(c,v)|0)==0,g=p,l=l?-1:f,p=v),v=a,A[v>>2]=c,A[v+4>>2]=p,A[a+8>>2]=g,A[a+12>>2]=l}function ql(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0;if(p=Te(a|0,l|0,52)|0,G()|0,p=p&15,g=f+8|0,A[g>>2]=p,(a|0)==0&(l|0)==0|((c|0)>15|(p|0)>(c|0))){c=f,A[c>>2]=0,A[c+4>>2]=0,A[g>>2]=-1,A[f+12>>2]=-1;return}if(a=Dl(a,l,p+1|0,c)|0,g=(G()|0)&-15728641,p=Re(c|0,0,52)|0,p=a|p,g=g|(G()|0),a=f,A[a>>2]=p,A[a+4>>2]=g,a=f+12|0,Wt(p,g)|0){A[a>>2]=c;return}else{A[a>>2]=-1;return}}function f8(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0;if(c=a,l=A[c>>2]|0,c=A[c+4>>2]|0,!((l|0)==0&(c|0)==0)&&(f=Te(l|0,c|0,52)|0,G()|0,f=f&15,_=Re(1,0,(f^15)*3|0)|0,l=We(_|0,G()|0,l|0,c|0)|0,c=G()|0,_=a,A[_>>2]=l,A[_+4>>2]=c,_=a+8|0,v=A[_>>2]|0,!((f|0)<(v|0)))){for(T=a+12|0,g=f;;){if((g|0)==(v|0)){f=5;break}if(E=(g|0)==(A[T>>2]|0),p=(15-g|0)*3|0,f=Te(l|0,c|0,p|0)|0,G()|0,f=f&7,E&((f|0)==1&!0)){f=7;break}if(!((f|0)==7&!0)){f=10;break}if(E=Re(1,0,p|0)|0,l=We(l|0,c|0,E|0,G()|0)|0,c=G()|0,E=a,A[E>>2]=l,A[E+4>>2]=c,(g|0)>(v|0))g=g+-1|0;else{f=10;break}}if((f|0)==5){E=a,A[E>>2]=0,A[E+4>>2]=0,A[_>>2]=-1,A[T>>2]=-1;return}else if((f|0)==7){v=Re(1,0,p|0)|0,v=We(l|0,c|0,v|0,G()|0)|0,_=G()|0,E=a,A[E>>2]=v,A[E+4>>2]=_,A[T>>2]=g+-1;return}else if((f|0)==10)return}}function Us(a){a=+a;var l=0;return l=a<0?a+6.283185307179586:a,+(a>=6.283185307179586?l+-6.283185307179586:l)}function C2(a,l){return a=a|0,l=l|0,+gt(+(+F[a>>3]-+F[l>>3]))<17453292519943298e-27?(l=+gt(+(+F[a+8>>3]-+F[l+8>>3]))<17453292519943298e-27,l|0):(l=0,l|0)}function Bn(a,l){switch(a=+a,l=l|0,l|0){case 1:{a=a<0?a+6.283185307179586:a;break}case 2:{a=a>0?a+-6.283185307179586:a;break}}return+a}function Yx(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0;return p=+F[l>>3],f=+F[a>>3],g=+yt(+((p-f)*.5)),c=+yt(+((+F[l+8>>3]-+F[a+8>>3])*.5)),c=g*g+c*(+Dt(+p)*+Dt(+f)*c),+(+Kn(+ +Rt(+c),+ +Rt(+(1-c)))*2)}function Gs(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0;return p=+F[l>>3],f=+F[a>>3],g=+yt(+((p-f)*.5)),c=+yt(+((+F[l+8>>3]-+F[a+8>>3])*.5)),c=g*g+c*(+Dt(+p)*+Dt(+f)*c),+(+Kn(+ +Rt(+c),+ +Rt(+(1-c)))*2*6371.007180918475)}function Xx(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0;return p=+F[l>>3],f=+F[a>>3],g=+yt(+((p-f)*.5)),c=+yt(+((+F[l+8>>3]-+F[a+8>>3])*.5)),c=g*g+c*(+Dt(+p)*+Dt(+f)*c),+(+Kn(+ +Rt(+c),+ +Rt(+(1-c)))*2*6371.007180918475*1e3)}function Kx(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0;return g=+F[l>>3],f=+Dt(+g),p=+F[l+8>>3]-+F[a+8>>3],v=f*+yt(+p),c=+F[a>>3],+ +Kn(+v,+(+yt(+g)*+Dt(+c)-+Dt(+p)*(f*+yt(+c))))}function Zx(a,l,c,f){a=a|0,l=+l,c=+c,f=f|0;var p=0,g=0,v=0,_=0;if(c<1e-16){A[f>>2]=A[a>>2],A[f+4>>2]=A[a+4>>2],A[f+8>>2]=A[a+8>>2],A[f+12>>2]=A[a+12>>2];return}g=l<0?l+6.283185307179586:l,g=l>=6.283185307179586?g+-6.283185307179586:g;do if(g<1e-16)l=+F[a>>3]+c,F[f>>3]=l,p=f;else{if(p=+gt(+(g+-3.141592653589793))<1e-16,l=+F[a>>3],p){l=l-c,F[f>>3]=l,p=f;break}if(v=+Dt(+c),c=+yt(+c),l=v*+yt(+l)+ +Dt(+g)*(c*+Dt(+l)),l=l>1?1:l,l=+H_(+(l<-1?-1:l)),F[f>>3]=l,+gt(+(l+-1.5707963267948966))<1e-16){F[f>>3]=1.5707963267948966,F[f+8>>3]=0;return}if(+gt(+(l+1.5707963267948966))<1e-16){F[f>>3]=-1.5707963267948966,F[f+8>>3]=0;return}if(_=1/+Dt(+l),g=c*+yt(+g)*_,c=+F[a>>3],l=_*((v-+yt(+l)*+yt(+c))/+Dt(+c)),v=g>1?1:g,l=l>1?1:l,l=+F[a+8>>3]+ +Kn(+(v<-1?-1:v),+(l<-1?-1:l)),l>3.141592653589793)do l=l+-6.283185307179586;while(l>3.141592653589793);if(l<-3.141592653589793)do l=l+6.283185307179586;while(l<-3.141592653589793);F[f+8>>3]=l;return}while(!1);if(+gt(+(l+-1.5707963267948966))<1e-16){F[p>>3]=1.5707963267948966,F[f+8>>3]=0;return}if(+gt(+(l+1.5707963267948966))<1e-16){F[p>>3]=-1.5707963267948966,F[f+8>>3]=0;return}if(l=+F[a+8>>3],l>3.141592653589793)do l=l+-6.283185307179586;while(l>3.141592653589793);if(l<-3.141592653589793)do l=l+6.283185307179586;while(l<-3.141592653589793);F[f+8>>3]=l}function Il(a,l){return a=a|0,l=l|0,a>>>0>15?(l=4,l|0):(F[l>>3]=+F[20656+(a<<3)>>3],l=0,l|0)}function Jx(a,l){return a=a|0,l=l|0,a>>>0>15?(l=4,l|0):(F[l>>3]=+F[20784+(a<<3)>>3],l=0,l|0)}function eb(a,l){return a=a|0,l=l|0,a>>>0>15?(l=4,l|0):(F[l>>3]=+F[20912+(a<<3)>>3],l=0,l|0)}function tb(a,l){return a=a|0,l=l|0,a>>>0>15?(l=4,l|0):(F[l>>3]=+F[21040+(a<<3)>>3],l=0,l|0)}function d8(a,l){a=a|0,l=l|0;var c=0;return a>>>0>15?(l=4,l|0):(c=X1(7,0,a,((a|0)<0)<<31>>31)|0,c=J0(c|0,G()|0,120,0)|0,a=G()|0,A[l>>2]=c|2,A[l+4>>2]=a,l=0,l|0)}function Ol(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0;return Q=+F[l>>3],R=+F[a>>3],T=+yt(+((Q-R)*.5)),g=+F[l+8>>3],E=+F[a+8>>3],v=+yt(+((g-E)*.5)),_=+Dt(+R),O=+Dt(+Q),v=T*T+v*(O*_*v),v=+Kn(+ +Rt(+v),+ +Rt(+(1-v)))*2,T=+F[c>>3],Q=+yt(+((T-Q)*.5)),f=+F[c+8>>3],g=+yt(+((f-g)*.5)),p=+Dt(+T),g=Q*Q+g*(O*p*g),g=+Kn(+ +Rt(+g),+ +Rt(+(1-g)))*2,T=+yt(+((R-T)*.5)),f=+yt(+((E-f)*.5)),f=T*T+f*(_*p*f),f=+Kn(+ +Rt(+f),+ +Rt(+(1-f)))*2,p=(v+g+f)*.5,+(+$5(+ +Rt(+(+Xn(+(p*.5))*+Xn(+((p-v)*.5))*+Xn(+((p-g)*.5))*+Xn(+((p-f)*.5)))))*4)}function p8(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0;if(_=L,L=L+192|0,g=_+168|0,v=_,p=Bi(a,l,g)|0,p|0)return c=p,L=_,c|0;if(R2(a,l,v)|0&&Ze(27795,27190,415,27199),l=A[v>>2]|0,(l|0)>0){if(f=+Ol(v+8|0,v+8+(((l|0)!=1&1)<<4)|0,g)+0,(l|0)!=1){a=1;do p=a,a=a+1|0,f=f+ +Ol(v+8+(p<<4)|0,v+8+(((a|0)%(l|0)|0)<<4)|0,g);while((a|0)<(l|0))}}else f=0;return F[c>>3]=f,c=0,L=_,c|0}function nb(a,l,c){return a=a|0,l=l|0,c=c|0,a=p8(a,l,c)|0,a|0||(F[c>>3]=+F[c>>3]*6371.007180918475*6371.007180918475),a|0}function rb(a,l,c){return a=a|0,l=l|0,c=c|0,a=p8(a,l,c)|0,a|0||(F[c>>3]=+F[c>>3]*6371.007180918475*6371.007180918475*1e3*1e3),a|0}function ib(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;if(_=L,L=L+176|0,v=_,a=I4(a,l,v)|0,a|0)return v=a,L=_,v|0;if(F[c>>3]=0,a=A[v>>2]|0,(a|0)<=1)return v=0,L=_,v|0;l=a+-1|0,a=0,f=+F[v+8>>3],p=+F[v+16>>3],g=0;do a=a+1|0,E=f,f=+F[v+8+(a<<4)>>3],R=+yt(+((f-E)*.5)),T=p,p=+F[v+8+(a<<4)+8>>3],T=+yt(+((p-T)*.5)),T=R*R+T*(+Dt(+f)*+Dt(+E)*T),g=g+ +Kn(+ +Rt(+T),+ +Rt(+(1-T)))*2;while((a|0)<(l|0));return F[c>>3]=g,v=0,L=_,v|0}function sb(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;if(_=L,L=L+176|0,v=_,a=I4(a,l,v)|0,a|0)return v=a,g=+F[c>>3],g=g*6371.007180918475,F[c>>3]=g,L=_,v|0;if(F[c>>3]=0,a=A[v>>2]|0,(a|0)<=1)return v=0,g=0,g=g*6371.007180918475,F[c>>3]=g,L=_,v|0;l=a+-1|0,a=0,f=+F[v+8>>3],p=+F[v+16>>3],g=0;do a=a+1|0,E=f,f=+F[v+8+(a<<4)>>3],R=+yt(+((f-E)*.5)),T=p,p=+F[v+8+(a<<4)+8>>3],T=+yt(+((p-T)*.5)),T=R*R+T*(+Dt(+E)*+Dt(+f)*T),g=g+ +Kn(+ +Rt(+T),+ +Rt(+(1-T)))*2;while((a|0)!=(l|0));return F[c>>3]=g,v=0,R=g,R=R*6371.007180918475,F[c>>3]=R,L=_,v|0}function ob(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;if(_=L,L=L+176|0,v=_,a=I4(a,l,v)|0,a|0)return v=a,g=+F[c>>3],g=g*6371.007180918475,g=g*1e3,F[c>>3]=g,L=_,v|0;if(F[c>>3]=0,a=A[v>>2]|0,(a|0)<=1)return v=0,g=0,g=g*6371.007180918475,g=g*1e3,F[c>>3]=g,L=_,v|0;l=a+-1|0,a=0,f=+F[v+8>>3],p=+F[v+16>>3],g=0;do a=a+1|0,E=f,f=+F[v+8+(a<<4)>>3],R=+yt(+((f-E)*.5)),T=p,p=+F[v+8+(a<<4)+8>>3],T=+yt(+((p-T)*.5)),T=R*R+T*(+Dt(+E)*+Dt(+f)*T),g=g+ +Kn(+ +Rt(+T),+ +Rt(+(1-T)))*2;while((a|0)!=(l|0));return F[c>>3]=g,v=0,R=g,R=R*6371.007180918475,R=R*1e3,F[c>>3]=R,L=_,v|0}function ab(a){a=a|0;var l=0,c=0,f=0;return l=er(1,12)|0,l||Ze(27280,27235,49,27293),c=a+4|0,f=A[c>>2]|0,f|0?(f=f+8|0,A[f>>2]=l,A[c>>2]=l,l|0):(A[a>>2]|0&&Ze(27310,27235,61,27333),f=a,A[f>>2]=l,A[c>>2]=l,l|0)}function Ab(a,l){a=a|0,l=l|0;var c=0,f=0;return f=zr(24)|0,f||Ze(27347,27235,78,27361),A[f>>2]=A[l>>2],A[f+4>>2]=A[l+4>>2],A[f+8>>2]=A[l+8>>2],A[f+12>>2]=A[l+12>>2],A[f+16>>2]=0,l=a+4|0,c=A[l>>2]|0,c|0?(A[c+16>>2]=f,A[l>>2]=f,f|0):(A[a>>2]|0&&Ze(27376,27235,82,27361),A[a>>2]=f,A[l>>2]=f,f|0)}function kl(a){a=a|0;var l=0,c=0,f=0,p=0;if(a)for(f=1;;){if(l=A[a>>2]|0,l|0)do{if(c=A[l>>2]|0,c|0)do p=c,c=A[c+16>>2]|0,Qe(p);while((c|0)!=0);p=l,l=A[l+8>>2]|0,Qe(p)}while((l|0)!=0);if(l=a,a=A[a+8>>2]|0,f||Qe(l),a)f=0;else break}}function lb(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0,Ue=0,qe=0,tt=0,ot=0,_t=0,Xe=0,Ge=0,Ee=0,pt=0,zt=0,ut=0;if(p=a+8|0,A[p>>2]|0)return ut=1,ut|0;if(f=A[a>>2]|0,!f)return ut=0,ut|0;l=f,c=0;do c=c+1|0,l=A[l+8>>2]|0;while((l|0)!=0);if(c>>>0<2)return ut=0,ut|0;pt=zr(c<<2)|0,pt||Ze(27396,27235,317,27415),Ee=zr(c<<5)|0,Ee||Ze(27437,27235,321,27415),A[a>>2]=0,Ue=a+4|0,A[Ue>>2]=0,A[p>>2]=0,c=0,Ge=0,Ne=0,O=0;e:for(;;){if(R=A[f>>2]|0,R){g=0,v=R;do{if(T=+F[v+8>>3],l=v,v=A[v+16>>2]|0,E=(v|0)==0,p=E?R:v,_=+F[p+8>>3],+gt(+(T-_))>3.141592653589793){ut=14;break}g=g+(_-T)*(+F[l>>3]+ +F[p>>3])}while(!E);if((ut|0)==14){ut=0,g=0,l=R;do te=+F[l+8>>3],Xe=l+16|0,_t=A[Xe>>2]|0,_t=(_t|0)==0?R:_t,ae=+F[_t+8>>3],g=g+(+F[l>>3]+ +F[_t>>3])*((ae<0?ae+6.283185307179586:ae)-(te<0?te+6.283185307179586:te)),l=A[((l|0)==0?f:Xe)>>2]|0;while((l|0)!=0)}g>0?(A[pt+(Ge<<2)>>2]=f,Ge=Ge+1|0,p=Ne,l=O):ut=19}else ut=19;if((ut|0)==19){ut=0;do if(c){if(l=c+8|0,A[l>>2]|0){ut=21;break e}if(c=er(1,12)|0,!c){ut=23;break e}A[l>>2]=c,p=c+4|0,v=c,l=O}else if(O){p=Ue,v=O+8|0,l=f,c=a;break}else if(A[a>>2]|0){ut=27;break e}else{p=Ue,v=a,l=f,c=a;break}while(!1);if(A[v>>2]=f,A[p>>2]=f,v=Ee+(Ne<<5)|0,E=A[f>>2]|0,E){for(R=Ee+(Ne<<5)+8|0,F[R>>3]=17976931348623157e292,O=Ee+(Ne<<5)+24|0,F[O>>3]=17976931348623157e292,F[v>>3]=-17976931348623157e292,Q=Ee+(Ne<<5)+16|0,F[Q>>3]=-17976931348623157e292,he=17976931348623157e292,ue=-17976931348623157e292,p=0,$=E,T=17976931348623157e292,ee=17976931348623157e292,ie=-17976931348623157e292,_=-17976931348623157e292;g=+F[$>>3],te=+F[$+8>>3],$=A[$+16>>2]|0,W=($|0)==0,ae=+F[(W?E:$)+8>>3],g<T&&(F[R>>3]=g,T=g),te<ee&&(F[O>>3]=te,ee=te),g>ie?F[v>>3]=g:g=ie,te>_&&(F[Q>>3]=te,_=te),he=te>0&te<he?te:he,ue=te<0&te>ue?te:ue,p=p|+gt(+(te-ae))>3.141592653589793,!W;)ie=g;p&&(F[Q>>3]=ue,F[O>>3]=he)}else A[v>>2]=0,A[v+4>>2]=0,A[v+8>>2]=0,A[v+12>>2]=0,A[v+16>>2]=0,A[v+20>>2]=0,A[v+24>>2]=0,A[v+28>>2]=0;p=Ne+1|0}if(Xe=f+8|0,f=A[Xe>>2]|0,A[Xe>>2]=0,f)Ne=p,O=l;else{ut=45;break}}if((ut|0)==21)Ze(27213,27235,35,27247);else if((ut|0)==23)Ze(27267,27235,37,27247);else if((ut|0)==27)Ze(27310,27235,61,27333);else if((ut|0)==45){e:do if((Ge|0)>0){for(Xe=(p|0)==0,ot=p<<2,_t=(a|0)==0,tt=0,l=0;;){if(qe=A[pt+(tt<<2)>>2]|0,Xe)ut=73;else{if(Ne=zr(ot)|0,!Ne){ut=50;break}if(Ue=zr(ot)|0,!Ue){ut=52;break}t:do if(_t)c=0;else{for(p=0,c=0,v=a;f=Ee+(p<<5)|0,Ul(A[v>>2]|0,f,A[qe>>2]|0)|0?(A[Ne+(c<<2)>>2]=v,A[Ue+(c<<2)>>2]=f,W=c+1|0):W=c,v=A[v+8>>2]|0,v;)p=p+1|0,c=W;if((W|0)>0)if(f=A[Ne>>2]|0,(W|0)==1)c=f;else for(Q=0,$=-1,c=f,O=f;;){for(E=A[O>>2]|0,f=0,v=0;p=A[A[Ne+(v<<2)>>2]>>2]|0,(p|0)==(E|0)?R=f:R=f+((Ul(p,A[Ue+(v<<2)>>2]|0,A[E>>2]|0)|0)&1)|0,v=v+1|0,(v|0)!=(W|0);)f=R;if(p=(R|0)>($|0),c=p?O:c,f=Q+1|0,(f|0)==(W|0))break t;Q=f,$=p?R:$,O=A[Ne+(f<<2)>>2]|0}else c=0}while(!1);if(Qe(Ne),Qe(Ue),c){if(p=c+4|0,f=A[p>>2]|0,f)c=f+8|0;else if(A[c>>2]|0){ut=70;break}A[c>>2]=qe,A[p>>2]=qe}else ut=73}if((ut|0)==73){if(ut=0,l=A[qe>>2]|0,l|0)do Ue=l,l=A[l+16>>2]|0,Qe(Ue);while((l|0)!=0);Qe(qe),l=1}if(tt=tt+1|0,(tt|0)>=(Ge|0)){zt=l;break e}}(ut|0)==50?Ze(27452,27235,249,27471):(ut|0)==52?Ze(27490,27235,252,27471):(ut|0)==70&&Ze(27310,27235,61,27333)}else zt=0;while(!1);return Qe(pt),Qe(Ee),ut=zt,ut|0}return 0}function Ul(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0;if(!(Z5(l,c)|0)||(l=vl(l)|0,f=+F[c>>3],p=+F[c+8>>3],p=l&p<0?p+6.283185307179586:p,a=A[a>>2]|0,!a))return a=0,a|0;if(l){l=0,E=p,c=a;e:for(;;){for(;v=+F[c>>3],p=+F[c+8>>3],c=c+16|0,R=A[c>>2]|0,R=(R|0)==0?a:R,g=+F[R>>3],_=+F[R+8>>3],v>g?(T=v,v=_):(T=g,g=v,v=p,p=_),f=f==g|f==T?f+2220446049250313e-31:f,!!(f<g|f>T);)if(c=A[c>>2]|0,!c){c=22;break e}if(_=v<0?v+6.283185307179586:v,v=p<0?p+6.283185307179586:p,E=_==E|v==E?E+-2220446049250313e-31:E,T=_+(v-_)*((f-g)/(T-g)),(T<0?T+6.283185307179586:T)>E&&(l=l^1),c=A[c>>2]|0,!c){c=22;break}}if((c|0)==22)return l|0}else{l=0,E=p,c=a;e:for(;;){for(;v=+F[c>>3],p=+F[c+8>>3],c=c+16|0,R=A[c>>2]|0,R=(R|0)==0?a:R,g=+F[R>>3],_=+F[R+8>>3],v>g?(T=v,v=_):(T=g,g=v,v=p,p=_),f=f==g|f==T?f+2220446049250313e-31:f,!!(f<g|f>T);)if(c=A[c>>2]|0,!c){c=22;break e}if(E=v==E|p==E?E+-2220446049250313e-31:E,v+(p-v)*((f-g)/(T-g))>E&&(l=l^1),c=A[c>>2]|0,!c){c=22;break}}if((c|0)==22)return l|0}return 0}function x1(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0;if(ue=L,L=L+32|0,he=ue+16|0,ie=ue,g=Te(a|0,l|0,52)|0,G()|0,g=g&15,$=Te(c|0,f|0,52)|0,G()|0,(g|0)!=($&15|0))return he=12,L=ue,he|0;if(E=Te(a|0,l|0,45)|0,G()|0,E=E&127,R=Te(c|0,f|0,45)|0,G()|0,R=R&127,E>>>0>121|R>>>0>121)return he=5,L=ue,he|0;if($=(E|0)!=(R|0),$){if(_=K5(E,R)|0,(_|0)==7)return he=1,L=ue,he|0;T=K5(R,E)|0,(T|0)==7?Ze(27514,27538,161,27548):(W=_,v=T)}else W=0,v=0;O=t0(E)|0,Q=t0(R)|0,A[he>>2]=0,A[he+4>>2]=0,A[he+8>>2]=0,A[he+12>>2]=0;do if(W){if(R=A[4272+(E*28|0)+(W<<2)>>2]|0,_=(R|0)>0,Q)if(_){E=0,T=c,_=f;do T=zx(T,_)|0,_=G()|0,v=Y1(v)|0,(v|0)==1&&(v=Y1(1)|0),E=E+1|0;while((E|0)!=(R|0));R=v,E=T,T=_}else R=v,E=c,T=f;else if(_){E=0,T=c,_=f;do T=A8(T,_)|0,_=G()|0,v=Y1(v)|0,E=E+1|0;while((E|0)!=(R|0));R=v,E=T,T=_}else R=v,E=c,T=f;if(u8(E,T,he)|0,$||Ze(27563,27538,191,27548),_=(O|0)!=0,v=(Q|0)!=0,_&v&&Ze(27590,27538,192,27548),_){if(v=yn(a,l)|0,(v|0)==7){g=5;break}if(we[22e3+(v*7|0)+W>>0]|0){g=1;break}T=A[21168+(v*28|0)+(W<<2)>>2]|0,E=T}else if(v){if(v=yn(E,T)|0,(v|0)==7){g=5;break}if(we[22e3+(v*7|0)+R>>0]|0){g=1;break}E=0,T=A[21168+(R*28|0)+(v<<2)>>2]|0}else E=0,T=0;if((E|T|0)<0)g=5;else{if((T|0)>0){_=he+4|0,v=0;do q4(_),v=v+1|0;while((v|0)!=(T|0))}if(A[ie>>2]=0,A[ie+4>>2]=0,A[ie+8>>2]=0,Sl(ie,W),g|0)for(;Zn(g)|0?L4(ie):Ri(ie),(g|0)>1;)g=g+-1|0;if((E|0)>0){g=0;do q4(ie),g=g+1|0;while((g|0)!=(E|0))}ee=he+4|0,An(ee,ie,ee),Z0(ee),ee=51}}else if(u8(c,f,he)|0,(O|0)!=0&(Q|0)!=0)if((R|0)!=(E|0)&&Ze(27621,27538,261,27548),v=yn(a,l)|0,g=yn(c,f)|0,(v|0)==7|(g|0)==7)g=5;else if(we[22e3+(v*7|0)+g>>0]|0)g=1;else if(v=A[21168+(v*28|0)+(g<<2)>>2]|0,(v|0)>0){_=he+4|0,g=0;do q4(_),g=g+1|0;while((g|0)!=(v|0));ee=51}else ee=51;else ee=51;while(!1);return(ee|0)==51&&(g=he+4|0,A[p>>2]=A[g>>2],A[p+4>>2]=A[g+4>>2],A[p+8>>2]=A[g+8>>2],g=0),he=g,L=ue,he|0}function Gl(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0;if(ee=L,L=L+48|0,E=ee+36|0,v=ee+24|0,_=ee+12|0,T=ee,p=Te(a|0,l|0,52)|0,G()|0,p=p&15,Q=Te(a|0,l|0,45)|0,G()|0,Q=Q&127,Q>>>0>121)return f=5,L=ee,f|0;if(R=t0(Q)|0,Re(p|0,0,52)|0,ie=G()|0|134225919,g=f,A[g>>2]=-1,A[g+4>>2]=ie,!p)return p=F4(c)|0,(p|0)==7||(p=X5(Q,p)|0,(p|0)==127)?(ie=1,L=ee,ie|0):($=Re(p|0,0,45)|0,W=G()|0,Q=f,W=A[Q+4>>2]&-1040385|W,ie=f,A[ie>>2]=A[Q>>2]|$,A[ie+4>>2]=W,ie=0,L=ee,ie|0);for(A[E>>2]=A[c>>2],A[E+4>>2]=A[c+4>>2],A[E+8>>2]=A[c+8>>2],c=p;;){if(g=c,c=c+-1|0,A[v>>2]=A[E>>2],A[v+4>>2]=A[E+4>>2],A[v+8>>2]=A[E+8>>2],Zn(g)|0){if(p=vx(E)|0,p|0){c=13;break}A[_>>2]=A[E>>2],A[_+4>>2]=A[E+4>>2],A[_+8>>2]=A[E+8>>2],L4(_)}else{if(p=_x(E)|0,p|0){c=13;break}A[_>>2]=A[E>>2],A[_+4>>2]=A[E+4>>2],A[_+8>>2]=A[E+8>>2],Ri(_)}if(e8(v,_,T),Z0(T),p=f,ue=A[p>>2]|0,p=A[p+4>>2]|0,ae=(15-g|0)*3|0,he=Re(7,0,ae|0)|0,p=p&~(G()|0),ae=Re(F4(T)|0,0,ae|0)|0,p=G()|0|p,ie=f,A[ie>>2]=ae|ue&~he,A[ie+4>>2]=p,(g|0)<=1){c=14;break}}e:do if((c|0)!=13&&(c|0)==14)if((A[E>>2]|0)<=1&&(A[E+4>>2]|0)<=1&&(A[E+8>>2]|0)<=1){c=F4(E)|0,p=X5(Q,c)|0,(p|0)==127?T=0:T=t0(p)|0;t:do if(c){if(R){if(p=yn(a,l)|0,(p|0)==7){p=5;break e}if(g=A[21376+(p*28|0)+(c<<2)>>2]|0,(g|0)>0){p=c,c=0;do p=Ci(p)|0,c=c+1|0;while((c|0)!=(g|0))}else p=c;if((p|0)==1){p=9;break e}c=X5(Q,p)|0,(c|0)==127&&Ze(27648,27538,411,27678),t0(c)|0?Ze(27693,27538,412,27678):(W=c,$=g,O=p)}else W=p,$=0,O=c;if(_=A[4272+(Q*28|0)+(O<<2)>>2]|0,(_|0)<=-1&&Ze(27724,27538,419,27678),!T){if(($|0)<0){p=5;break e}if($|0){g=f,p=0,c=A[g>>2]|0,g=A[g+4>>2]|0;do c=Pi(c,g)|0,g=G()|0,ae=f,A[ae>>2]=c,A[ae+4>>2]=g,p=p+1|0;while((p|0)<($|0))}if((_|0)<=0){p=W,c=58;break}for(g=f,p=0,c=A[g>>2]|0,g=A[g+4>>2]|0;;)if(c=Pi(c,g)|0,g=G()|0,ae=f,A[ae>>2]=c,A[ae+4>>2]=g,p=p+1|0,(p|0)==(_|0)){p=W,c=58;break t}}if(v=K5(W,Q)|0,(v|0)==7&&Ze(27514,27538,428,27678),p=f,c=A[p>>2]|0,p=A[p+4>>2]|0,(_|0)>0){g=0;do c=Pi(c,p)|0,p=G()|0,ae=f,A[ae>>2]=c,A[ae+4>>2]=p,g=g+1|0;while((g|0)!=(_|0))}if(p=yn(c,p)|0,(p|0)==7&&Ze(27795,27538,440,27678),c=Y5(W)|0,c=A[(c?21792:21584)+(v*28|0)+(p<<2)>>2]|0,(c|0)<0&&Ze(27795,27538,454,27678),!c)p=W,c=58;else{v=f,p=0,g=A[v>>2]|0,v=A[v+4>>2]|0;do g=a8(g,v)|0,v=G()|0,ae=f,A[ae>>2]=g,A[ae+4>>2]=v,p=p+1|0;while((p|0)<(c|0));p=W,c=58}}else if((R|0)!=0&(T|0)!=0){if(c=yn(a,l)|0,g=f,g=yn(A[g>>2]|0,A[g+4>>2]|0)|0,(c|0)==7|(g|0)==7){p=5;break e}if(g=A[21376+(c*28|0)+(g<<2)>>2]|0,(g|0)<0){p=5;break e}if(!g)c=59;else{_=f,c=0,v=A[_>>2]|0,_=A[_+4>>2]|0;do v=Pi(v,_)|0,_=G()|0,ae=f,A[ae>>2]=v,A[ae+4>>2]=_,c=c+1|0;while((c|0)<(g|0));c=58}}else c=58;while(!1);if((c|0)==58&&T&&(c=59),(c|0)==59&&(ae=f,(yn(A[ae>>2]|0,A[ae+4>>2]|0)|0)==1)){p=9;break}ae=f,he=A[ae>>2]|0,ae=A[ae+4>>2]&-1040385,ue=Re(p|0,0,45)|0,ae=ae|(G()|0),p=f,A[p>>2]=he|ue,A[p+4>>2]=ae,p=0}else p=1;while(!1);return ae=p,L=ee,ae|0}function ub(a,l,c,f,p,g){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0,g=g|0;var v=0,_=0;return _=L,L=L+16|0,v=_,p?a=15:(a=x1(a,l,c,f,v)|0,a||(bx(v,g),a=0)),L=_,a|0}function cb(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0;return v=L,L=L+16|0,g=v,f?c=15:(c=Tx(c,g)|0,c||(c=Gl(a,l,g,p)|0)),L=v,c|0}function hb(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0;return T=L,L=L+32|0,v=T+12|0,_=T,g=x1(a,l,a,l,v)|0,g|0?(_=g,L=T,_|0):(a=x1(a,l,c,f,_)|0,a|0?(_=a,L=T,_|0):(v=t8(v,_)|0,_=p,A[_>>2]=v,A[_+4>>2]=((v|0)<0)<<31>>31,_=0,L=T,_|0))}function fb(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0;return T=L,L=L+32|0,v=T+12|0,_=T,g=x1(a,l,a,l,v)|0,!g&&(g=x1(a,l,c,f,_)|0,!g)?(f=t8(v,_)|0,f=We(f|0,((f|0)<0)<<31>>31|0,1,0)|0,v=G()|0,_=p,A[_>>2]=f,A[_+4>>2]=v,_=0,L=T,_|0):(_=g,L=T,_|0)}function db(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0,Ue=0,qe=0,tt=0;if(qe=L,L=L+48|0,Ne=qe+24|0,v=qe+12|0,Ue=qe,g=x1(a,l,a,l,Ne)|0,!g&&(g=x1(a,l,c,f,v)|0,!g)){ae=t8(Ne,v)|0,te=((ae|0)<0)<<31>>31,A[Ne>>2]=0,A[Ne+4>>2]=0,A[Ne+8>>2]=0,A[v>>2]=0,A[v+4>>2]=0,A[v+8>>2]=0,x1(a,l,a,l,Ne)|0&&Ze(27795,27538,692,27747),x1(a,l,c,f,v)|0&&Ze(27795,27538,697,27747),Rl(Ne),Rl(v),R=(ae|0)==0?0:1/+(ae|0),c=A[Ne>>2]|0,ee=R*+((A[v>>2]|0)-c|0),ie=Ne+4|0,f=A[ie>>2]|0,he=R*+((A[v+4>>2]|0)-f|0),ue=Ne+8|0,g=A[ue>>2]|0,R=R*+((A[v+8>>2]|0)-g|0),A[Ue>>2]=c,O=Ue+4|0,A[O>>2]=f,Q=Ue+8|0,A[Q>>2]=g;e:do if((ae|0)<0)g=0;else for($=0,W=0;;){T=+(W>>>0)+4294967296*+($|0),tt=ee*T+ +(c|0),_=he*T+ +(f|0),T=R*T+ +(g|0),c=~~+G4(+tt),v=~~+G4(+_),g=~~+G4(+T),tt=+gt(+(+(c|0)-tt)),_=+gt(+(+(v|0)-_)),T=+gt(+(+(g|0)-T));do if(tt>_&tt>T)c=0-(v+g)|0,f=v;else if(E=0-c|0,_>T){f=E-g|0;break}else{f=v,g=E-v|0;break}while(!1);if(A[Ue>>2]=c,A[O>>2]=f,A[Q>>2]=g,wx(Ue),g=Gl(a,l,Ue,p+(W<<3)|0)|0,g|0)break e;if(!(($|0)<(te|0)|($|0)==(te|0)&W>>>0<ae>>>0)){g=0;break e}c=We(W|0,$|0,1,0)|0,f=G()|0,$=f,W=c,c=A[Ne>>2]|0,f=A[ie>>2]|0,g=A[ue>>2]|0}while(!1);return Ue=g,L=qe,Ue|0}return Ue=g,L=qe,Ue|0}function X1(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0;if((c|0)==0&(f|0)==0)return p=0,g=1,st(p|0),g|0;g=a,p=l,a=1,l=0;do v=(c&1|0)==0&!0,a=J0((v?1:g)|0,(v?0:p)|0,a|0,l|0)|0,l=G()|0,c=Jl(c|0,f|0,1)|0,f=G()|0,g=J0(g|0,p|0,g|0,p|0)|0,p=G()|0;while(!((c|0)==0&(f|0)==0));return st(l|0),a|0}function m8(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0;_=L,L=L+16|0,g=_,v=Te(a|0,l|0,52)|0,G()|0,v=v&15;do if(v){if(p=Bi(a,l,g)|0,!p){E=+F[g>>3],T=1/+Dt(+E),R=+F[25968+(v<<3)>>3],F[c>>3]=E+R,F[c+8>>3]=E-R,E=+F[g+8>>3],T=R*T,F[c+16>>3]=T+E,F[c+24>>3]=E-T;break}return v=p,L=_,v|0}else{if(p=Te(a|0,l|0,45)|0,G()|0,p=p&127,p>>>0>121)return v=5,L=_,v|0;g=22064+(p<<5)|0,A[c>>2]=A[g>>2],A[c+4>>2]=A[g+4>>2],A[c+8>>2]=A[g+8>>2],A[c+12>>2]=A[g+12>>2],A[c+16>>2]=A[g+16>>2],A[c+20>>2]=A[g+20>>2],A[c+24>>2]=A[g+24>>2],A[c+28>>2]=A[g+28>>2];break}while(!1);return mx(c,f?1.4:1.1),f=26096+(v<<3)|0,(A[f>>2]|0)==(a|0)&&(A[f+4>>2]|0)==(l|0)&&(F[c>>3]=1.5707963267948966),v=26224+(v<<3)|0,(A[v>>2]|0)==(a|0)&&(A[v+4>>2]|0)==(l|0)&&(F[c+8>>3]=-1.5707963267948966),+F[c>>3]!=1.5707963267948966&&+F[c+8>>3]!=-1.5707963267948966?(v=0,L=_,v|0):(F[c+16>>3]=3.141592653589793,F[c+24>>3]=-3.141592653589793,v=0,L=_,v|0)}function pb(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0;E=L,L=L+48|0,v=E+32|0,g=E+40|0,_=E,s8(v,0,0,0),T=A[v>>2]|0,v=A[v+4>>2]|0;do if(c>>>0<=15){if(p=zs(f)|0,p|0){f=_,A[f>>2]=0,A[f+4>>2]=0,A[_+8>>2]=p,A[_+12>>2]=-1,f=_+16|0,T=_+29|0,A[f>>2]=0,A[f+4>>2]=0,A[f+8>>2]=0,we[f+12>>0]=0,we[T>>0]=we[g>>0]|0,we[T+1>>0]=we[g+1>>0]|0,we[T+2>>0]=we[g+2>>0]|0;break}if(p=er((A[l+8>>2]|0)+1|0,32)|0,p){g8(l,p),R=_,A[R>>2]=T,A[R+4>>2]=v,A[_+8>>2]=0,A[_+12>>2]=c,A[_+16>>2]=f,A[_+20>>2]=l,A[_+24>>2]=p,we[_+28>>0]=0,T=_+29|0,we[T>>0]=we[g>>0]|0,we[T+1>>0]=we[g+1>>0]|0,we[T+2>>0]=we[g+2>>0]|0;break}else{f=_,A[f>>2]=0,A[f+4>>2]=0,A[_+8>>2]=13,A[_+12>>2]=-1,f=_+16|0,T=_+29|0,A[f>>2]=0,A[f+4>>2]=0,A[f+8>>2]=0,we[f+12>>0]=0,we[T>>0]=we[g>>0]|0,we[T+1>>0]=we[g+1>>0]|0,we[T+2>>0]=we[g+2>>0]|0;break}}else T=_,A[T>>2]=0,A[T+4>>2]=0,A[_+8>>2]=4,A[_+12>>2]=-1,T=_+16|0,R=_+29|0,A[T>>2]=0,A[T+4>>2]=0,A[T+8>>2]=0,we[T+12>>0]=0,we[R>>0]=we[g>>0]|0,we[R+1>>0]=we[g+1>>0]|0,we[R+2>>0]=we[g+2>>0]|0;while(!1);O4(_),A[a>>2]=A[_>>2],A[a+4>>2]=A[_+4>>2],A[a+8>>2]=A[_+8>>2],A[a+12>>2]=A[_+12>>2],A[a+16>>2]=A[_+16>>2],A[a+20>>2]=A[_+20>>2],A[a+24>>2]=A[_+24>>2],A[a+28>>2]=A[_+28>>2],L=E}function O4(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0;if(te=L,L=L+336|0,$=te+168|0,W=te,f=a,c=A[f>>2]|0,f=A[f+4>>2]|0,(c|0)==0&(f|0)==0){L=te;return}if(l=a+28|0,we[l>>0]|0?(c=Vl(c,f)|0,f=G()|0):we[l>>0]=1,ae=a+20|0,!(A[A[ae>>2]>>2]|0)){l=a+24|0,c=A[l>>2]|0,c|0&&Qe(c),ue=a,A[ue>>2]=0,A[ue+4>>2]=0,A[a+8>>2]=0,A[ae>>2]=0,A[a+12>>2]=-1,A[a+16>>2]=0,A[l>>2]=0,L=te;return}ue=a+16|0,l=A[ue>>2]|0,p=l&15;e:do if((c|0)==0&(f|0)==0)he=a+24|0;else{ee=a+12|0,O=(p|0)==3,R=l&255,T=(p|1|0)==3,Q=a+24|0,E=(p+-1|0)>>>0<3,v=(p|2|0)==3,_=W+8|0;t:for(;;){if(g=Te(c|0,f|0,52)|0,G()|0,g=g&15,(g|0)==(A[ee>>2]|0)){switch(R&15){case 0:case 2:case 3:{if(p=Bi(c,f,$)|0,p|0){ie=15;break t}if(y8(A[ae>>2]|0,A[Q>>2]|0,$)|0){ie=19;break t}break}}if(T&&(p=A[(A[ae>>2]|0)+4>>2]|0,A[$>>2]=A[p>>2],A[$+4>>2]=A[p+4>>2],A[$+8>>2]=A[p+8>>2],A[$+12>>2]=A[p+12>>2],Z5(26832,$)|0)){if(l8(A[(A[ae>>2]|0)+4>>2]|0,g,W)|0){ie=25;break}if(p=W,(A[p>>2]|0)==(c|0)&&(A[p+4>>2]|0)==(f|0)){ie=29;break}}if(E){if(p=R2(c,f,$)|0,p|0){ie=32;break}if(m8(c,f,W,0)|0){ie=36;break}if(v&&Hl(A[ae>>2]|0,A[Q>>2]|0,$,W)|0){ie=42;break}if(T&&jl(A[ae>>2]|0,A[Q>>2]|0,$,W)|0){ie=42;break}}if(O){if(l=m8(c,f,$,1)|0,p=A[Q>>2]|0,l|0){ie=45;break}if(J5(p,$)|0){if(xl(W,$),_l($,A[Q>>2]|0)|0){ie=53;break}if(y8(A[ae>>2]|0,A[Q>>2]|0,_)|0){ie=53;break}if(jl(A[ae>>2]|0,A[Q>>2]|0,W,$)|0){ie=53;break}}}}do if((g|0)<(A[ee>>2]|0)){if(l=m8(c,f,$,1)|0,p=A[Q>>2]|0,l|0){ie=58;break t}if(!(J5(p,$)|0)){ie=73;break}if(_l(A[Q>>2]|0,$)|0&&(xl(W,$),Hl(A[ae>>2]|0,A[Q>>2]|0,W,$)|0)){ie=65;break t}if(c=Fl(c,f,g+1|0,W)|0,c|0){ie=67;break t}f=W,c=A[f>>2]|0,f=A[f+4>>2]|0}else ie=73;while(!1);if((ie|0)==73&&(ie=0,c=Vl(c,f)|0,f=G()|0),(c|0)==0&(f|0)==0){he=Q;break e}}switch(ie|0){case 15:{l=A[Q>>2]|0,l|0&&Qe(l),ie=a,A[ie>>2]=0,A[ie+4>>2]=0,A[ae>>2]=0,A[ee>>2]=-1,A[ue>>2]=0,A[Q>>2]=0,A[a+8>>2]=p,ie=20;break}case 19:{A[a>>2]=c,A[a+4>>2]=f,ie=20;break}case 25:{Ze(27795,27761,470,27772);break}case 29:{A[a>>2]=c,A[a+4>>2]=f,L=te;return}case 32:{l=A[Q>>2]|0,l|0&&Qe(l),he=a,A[he>>2]=0,A[he+4>>2]=0,A[ae>>2]=0,A[ee>>2]=-1,A[ue>>2]=0,A[Q>>2]=0,A[a+8>>2]=p,L=te;return}case 36:{Ze(27795,27761,493,27772);break}case 42:{A[a>>2]=c,A[a+4>>2]=f,L=te;return}case 45:{p|0&&Qe(p),ie=a,A[ie>>2]=0,A[ie+4>>2]=0,A[ae>>2]=0,A[ee>>2]=-1,A[ue>>2]=0,A[Q>>2]=0,A[a+8>>2]=l,ie=55;break}case 53:{A[a>>2]=c,A[a+4>>2]=f,ie=55;break}case 58:{p|0&&Qe(p),ie=a,A[ie>>2]=0,A[ie+4>>2]=0,A[ae>>2]=0,A[ee>>2]=-1,A[ue>>2]=0,A[Q>>2]=0,A[a+8>>2]=l,ie=71;break}case 65:{A[a>>2]=c,A[a+4>>2]=f,ie=71;break}case 67:{l=A[Q>>2]|0,l|0&&Qe(l),he=a,A[he>>2]=0,A[he+4>>2]=0,A[ae>>2]=0,A[ee>>2]=-1,A[ue>>2]=0,A[Q>>2]=0,A[a+8>>2]=c,L=te;return}}if((ie|0)==20){L=te;return}else if((ie|0)==55){L=te;return}else if((ie|0)==71){L=te;return}}while(!1);l=A[he>>2]|0,l|0&&Qe(l),ie=a,A[ie>>2]=0,A[ie+4>>2]=0,A[a+8>>2]=0,A[ae>>2]=0,A[a+12>>2]=-1,A[ue>>2]=0,A[he>>2]=0,L=te}function Vl(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0;O=L,L=L+16|0,R=O,f=Te(a|0,l|0,52)|0,G()|0,f=f&15,c=Te(a|0,l|0,45)|0,G()|0;do if(f){for(;c=Re(f+4095|0,0,52)|0,p=G()|0|l&-15728641,g=(15-f|0)*3|0,v=Re(7,0,g|0)|0,_=G()|0,c=c|a|v,p=p|_,T=Te(a|0,l|0,g|0)|0,G()|0,T=T&7,f=f+-1|0,!(T>>>0<6);)if(f)l=p,a=c;else{E=4;break}if((E|0)==4){c=Te(c|0,p|0,45)|0,G()|0;break}return R=(T|0)==0&(Wt(c,p)|0)!=0,R=Re((R?2:1)+T|0,0,g|0)|0,E=G()|0|l&~_,R=R|a&~v,st(E|0),L=O,R|0}while(!1);return c=c&127,c>>>0>120?(E=0,R=0,st(E|0),L=O,R|0):(s8(R,0,c+1|0,0),E=A[R+4>>2]|0,R=A[R>>2]|0,st(E|0),L=O,R|0)}function mb(a,l,c,f,p,g){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0,g=g|0;var v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0;ie=L,L=L+160|0,O=ie+80|0,_=ie+64|0,Q=ie+112|0,ee=ie,pb(O,a,l,c),E=O,h8(_,A[E>>2]|0,A[E+4>>2]|0,l),E=_,T=A[E>>2]|0,E=A[E+4>>2]|0,v=A[O+8>>2]|0,$=Q+4|0,A[$>>2]=A[O>>2],A[$+4>>2]=A[O+4>>2],A[$+8>>2]=A[O+8>>2],A[$+12>>2]=A[O+12>>2],A[$+16>>2]=A[O+16>>2],A[$+20>>2]=A[O+20>>2],A[$+24>>2]=A[O+24>>2],A[$+28>>2]=A[O+28>>2],$=ee,A[$>>2]=T,A[$+4>>2]=E,$=ee+8|0,A[$>>2]=v,a=ee+12|0,l=Q,c=a+36|0;do A[a>>2]=A[l>>2],a=a+4|0,l=l+4|0;while((a|0)<(c|0));if(Q=ee+48|0,A[Q>>2]=A[_>>2],A[Q+4>>2]=A[_+4>>2],A[Q+8>>2]=A[_+8>>2],A[Q+12>>2]=A[_+12>>2],(T|0)==0&(E|0)==0)return ee=v,L=ie,ee|0;c=ee+16|0,R=ee+24|0,O=ee+28|0,v=0,_=0,l=T,a=E;do{if(!((v|0)<(p|0)|(v|0)==(p|0)&_>>>0<f>>>0)){W=4;break}if(E=_,_=We(_|0,v|0,1,0)|0,v=G()|0,E=g+(E<<3)|0,A[E>>2]=l,A[E+4>>2]=a,f8(Q),a=Q,l=A[a>>2]|0,a=A[a+4>>2]|0,(l|0)==0&(a|0)==0){if(O4(c),l=c,a=A[l>>2]|0,l=A[l+4>>2]|0,(a|0)==0&(l|0)==0){W=10;break}ql(a,l,A[O>>2]|0,Q),a=Q,l=A[a>>2]|0,a=A[a+4>>2]|0}E=ee,A[E>>2]=l,A[E+4>>2]=a}while(!((l|0)==0&(a|0)==0));return(W|0)==4?(a=ee+40|0,l=A[a>>2]|0,l|0&&Qe(l),W=ee+16|0,A[W>>2]=0,A[W+4>>2]=0,A[R>>2]=0,A[ee+36>>2]=0,A[O>>2]=-1,A[ee+32>>2]=0,A[a>>2]=0,ql(0,0,0,Q),A[ee>>2]=0,A[ee+4>>2]=0,A[$>>2]=0,ee=14,L=ie,ee|0):((W|0)==10&&(A[ee>>2]=0,A[ee+4>>2]=0,A[$>>2]=A[R>>2]),ee=A[$>>2]|0,L=ie,ee|0)}function gb(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0;if(O=L,L=L+48|0,T=O+32|0,_=O+40|0,E=O,!(A[a>>2]|0))return R=f,A[R>>2]=0,A[R+4>>2]=0,R=0,L=O,R|0;s8(T,0,0,0),v=T,p=A[v>>2]|0,v=A[v+4>>2]|0;do if(l>>>0>15)R=E,A[R>>2]=0,A[R+4>>2]=0,A[E+8>>2]=4,A[E+12>>2]=-1,R=E+16|0,c=E+29|0,A[R>>2]=0,A[R+4>>2]=0,A[R+8>>2]=0,we[R+12>>0]=0,we[c>>0]=we[_>>0]|0,we[c+1>>0]=we[_+1>>0]|0,we[c+2>>0]=we[_+2>>0]|0,c=4,R=9;else{if(c=zs(c)|0,c|0){T=E,A[T>>2]=0,A[T+4>>2]=0,A[E+8>>2]=c,A[E+12>>2]=-1,T=E+16|0,R=E+29|0,A[T>>2]=0,A[T+4>>2]=0,A[T+8>>2]=0,we[T+12>>0]=0,we[R>>0]=we[_>>0]|0,we[R+1>>0]=we[_+1>>0]|0,we[R+2>>0]=we[_+2>>0]|0,R=9;break}if(c=er((A[a+8>>2]|0)+1|0,32)|0,!c){R=E,A[R>>2]=0,A[R+4>>2]=0,A[E+8>>2]=13,A[E+12>>2]=-1,R=E+16|0,c=E+29|0,A[R>>2]=0,A[R+4>>2]=0,A[R+8>>2]=0,we[R+12>>0]=0,we[c>>0]=we[_>>0]|0,we[c+1>>0]=we[_+1>>0]|0,we[c+2>>0]=we[_+2>>0]|0,c=13,R=9;break}g8(a,c),$=E,A[$>>2]=p,A[$+4>>2]=v,v=E+8|0,A[v>>2]=0,A[E+12>>2]=l,A[E+20>>2]=a,A[E+24>>2]=c,we[E+28>>0]=0,p=E+29|0,we[p>>0]=we[_>>0]|0,we[p+1>>0]=we[_+1>>0]|0,we[p+2>>0]=we[_+2>>0]|0,A[E+16>>2]=3,Q=+fx(c),Q=Q*+hx(c),g=+gt(+ +F[c>>3]),g=Q/+Dt(+ +U4(+g,+ +gt(+ +F[c+8>>3])))*6371.007180918475*6371.007180918475,p=E+12|0,c=A[p>>2]|0;e:do if((c|0)>0)do{if(Il(c+-1|0,T)|0,!(g/+F[T>>3]>10))break e;$=A[p>>2]|0,c=$+-1|0,A[p>>2]=c}while(($|0)>1);while(!1);if(O4(E),p=f,A[p>>2]=0,A[p+4>>2]=0,p=E,c=A[p>>2]|0,p=A[p+4>>2]|0,!((c|0)==0&(p|0)==0))do ks(c,p,l,T)|0,_=T,a=f,_=We(A[a>>2]|0,A[a+4>>2]|0,A[_>>2]|0,A[_+4>>2]|0)|0,a=G()|0,$=f,A[$>>2]=_,A[$+4>>2]=a,O4(E),$=E,c=A[$>>2]|0,p=A[$+4>>2]|0;while(!((c|0)==0&(p|0)==0));c=A[v>>2]|0}while(!1);return $=c,L=O,$|0}function Vs(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0;if(!(Z5(l,c)|0)||(l=vl(l)|0,f=+F[c>>3],p=+F[c+8>>3],p=l&p<0?p+6.283185307179586:p,Q=A[a>>2]|0,(Q|0)<=0))return Q=0,Q|0;if(O=A[a+4>>2]|0,l){l=0,R=p,c=-1,a=0;e:for(;;){for(E=a;v=+F[O+(E<<4)>>3],p=+F[O+(E<<4)+8>>3],a=(c+2|0)%(Q|0)|0,g=+F[O+(a<<4)>>3],_=+F[O+(a<<4)+8>>3],v>g?(T=v,v=_):(T=g,g=v,v=p,p=_),f=f==g|f==T?f+2220446049250313e-31:f,!!(f<g|f>T);)if(c=E+1|0,(c|0)>=(Q|0)){c=22;break e}else a=E,E=c,c=a;if(_=v<0?v+6.283185307179586:v,v=p<0?p+6.283185307179586:p,R=_==R|v==R?R+-2220446049250313e-31:R,T=_+(v-_)*((f-g)/(T-g)),(T<0?T+6.283185307179586:T)>R&&(l=l^1),a=E+1|0,(a|0)>=(Q|0)){c=22;break}else c=E}if((c|0)==22)return l|0}else{l=0,R=p,c=-1,a=0;e:for(;;){for(E=a;v=+F[O+(E<<4)>>3],p=+F[O+(E<<4)+8>>3],a=(c+2|0)%(Q|0)|0,g=+F[O+(a<<4)>>3],_=+F[O+(a<<4)+8>>3],v>g?(T=v,v=_):(T=g,g=v,v=p,p=_),f=f==g|f==T?f+2220446049250313e-31:f,!!(f<g|f>T);)if(c=E+1|0,(c|0)>=(Q|0)){c=22;break e}else a=E,E=c,c=a;if(R=v==R|p==R?R+-2220446049250313e-31:R,v+(p-v)*((f-g)/(T-g))>R&&(l=l^1),a=E+1|0,(a|0)>=(Q|0)){c=22;break}else c=E}if((c|0)==22)return l|0}return 0}function zl(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0;if(W=A[a>>2]|0,!W){A[l>>2]=0,A[l+4>>2]=0,A[l+8>>2]=0,A[l+12>>2]=0,A[l+16>>2]=0,A[l+20>>2]=0,A[l+24>>2]=0,A[l+28>>2]=0;return}if(ee=l+8|0,F[ee>>3]=17976931348623157e292,ie=l+24|0,F[ie>>3]=17976931348623157e292,F[l>>3]=-17976931348623157e292,he=l+16|0,F[he>>3]=-17976931348623157e292,!((W|0)<=0)){for(Q=A[a+4>>2]|0,E=17976931348623157e292,R=-17976931348623157e292,O=0,a=-1,g=17976931348623157e292,v=17976931348623157e292,T=-17976931348623157e292,f=-17976931348623157e292,$=0;c=+F[Q+($<<4)>>3],_=+F[Q+($<<4)+8>>3],a=a+2|0,p=+F[Q+(((a|0)==(W|0)?0:a)<<4)+8>>3],c<g&&(F[ee>>3]=c,g=c),_<v&&(F[ie>>3]=_,v=_),c>T?F[l>>3]=c:c=T,_>f&&(F[he>>3]=_,f=_),E=_>0&_<E?_:E,R=_<0&_>R?_:R,O=O|+gt(+(_-p))>3.141592653589793,a=$+1|0,(a|0)!=(W|0);)ue=$,T=c,$=a,a=ue;O&&(F[he>>3]=R,F[ie>>3]=E)}}function zs(a){return a=a|0,(a>>>0<4?0:15)|0}function g8(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0,Ue=0,qe=0;if(W=A[a>>2]|0,W){if(ee=l+8|0,F[ee>>3]=17976931348623157e292,ie=l+24|0,F[ie>>3]=17976931348623157e292,F[l>>3]=-17976931348623157e292,he=l+16|0,F[he>>3]=-17976931348623157e292,(W|0)>0){for(p=A[a+4>>2]|0,Q=17976931348623157e292,$=-17976931348623157e292,f=0,c=-1,T=17976931348623157e292,E=17976931348623157e292,O=-17976931348623157e292,v=-17976931348623157e292,ue=0;g=+F[p+(ue<<4)>>3],R=+F[p+(ue<<4)+8>>3],Ue=c+2|0,_=+F[p+(((Ue|0)==(W|0)?0:Ue)<<4)+8>>3],g<T&&(F[ee>>3]=g,T=g),R<E&&(F[ie>>3]=R,E=R),g>O?F[l>>3]=g:g=O,R>v&&(F[he>>3]=R,v=R),Q=R>0&R<Q?R:Q,$=R<0&R>$?R:$,f=f|+gt(+(R-_))>3.141592653589793,c=ue+1|0,(c|0)!=(W|0);)Ue=ue,O=g,ue=c,c=Ue;f&&(F[he>>3]=$,F[ie>>3]=Q)}}else A[l>>2]=0,A[l+4>>2]=0,A[l+8>>2]=0,A[l+12>>2]=0,A[l+16>>2]=0,A[l+20>>2]=0,A[l+24>>2]=0,A[l+28>>2]=0;if(Ue=a+8|0,c=A[Ue>>2]|0,!((c|0)<=0)){Ne=a+12|0,te=0;do if(p=A[Ne>>2]|0,f=te,te=te+1|0,ie=l+(te<<5)|0,he=A[p+(f<<3)>>2]|0,he){if(ue=l+(te<<5)+8|0,F[ue>>3]=17976931348623157e292,a=l+(te<<5)+24|0,F[a>>3]=17976931348623157e292,F[ie>>3]=-17976931348623157e292,ae=l+(te<<5)+16|0,F[ae>>3]=-17976931348623157e292,(he|0)>0){for(W=A[p+(f<<3)+4>>2]|0,Q=17976931348623157e292,$=-17976931348623157e292,p=0,f=-1,ee=0,T=17976931348623157e292,E=17976931348623157e292,R=-17976931348623157e292,v=-17976931348623157e292;g=+F[W+(ee<<4)>>3],O=+F[W+(ee<<4)+8>>3],f=f+2|0,_=+F[W+(((f|0)==(he|0)?0:f)<<4)+8>>3],g<T&&(F[ue>>3]=g,T=g),O<E&&(F[a>>3]=O,E=O),g>R?F[ie>>3]=g:g=R,O>v&&(F[ae>>3]=O,v=O),Q=O>0&O<Q?O:Q,$=O<0&O>$?O:$,p=p|+gt(+(O-_))>3.141592653589793,f=ee+1|0,(f|0)!=(he|0);)qe=ee,ee=f,R=g,f=qe;p&&(F[ae>>3]=$,F[a>>3]=Q)}}else A[ie>>2]=0,A[ie+4>>2]=0,A[ie+8>>2]=0,A[ie+12>>2]=0,A[ie+16>>2]=0,A[ie+20>>2]=0,A[ie+24>>2]=0,A[ie+28>>2]=0,c=A[Ue>>2]|0;while((te|0)<(c|0))}}function y8(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0;if(!(Vs(a,l,c)|0))return p=0,p|0;if(p=a+8|0,(A[p>>2]|0)<=0)return p=1,p|0;for(f=a+12|0,a=0;;){if(g=a,a=a+1|0,Vs((A[f>>2]|0)+(g<<3)|0,l+(a<<5)|0,c)|0){a=0,f=6;break}if((a|0)>=(A[p>>2]|0)){a=1,f=6;break}}return(f|0)==6?a|0:0}function Hl(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0;if(E=L,L=L+16|0,_=E,v=c+8|0,!(Vs(a,l,v)|0))return T=0,L=E,T|0;T=a+8|0;e:do if((A[T>>2]|0)>0){for(g=a+12|0,p=0;;){if(R=p,p=p+1|0,Vs((A[g>>2]|0)+(R<<3)|0,l+(p<<5)|0,v)|0){p=0;break}if((p|0)>=(A[T>>2]|0))break e}return L=E,p|0}while(!1);if(k4(a,l,c,f)|0)return R=0,L=E,R|0;A[_>>2]=A[c>>2],A[_+4>>2]=v,p=A[T>>2]|0;e:do if((p|0)>0)for(a=a+12|0,v=0,g=p;;){if(p=A[a>>2]|0,(A[p+(v<<3)>>2]|0)>0){if(Vs(_,f,A[p+(v<<3)+4>>2]|0)|0){p=0;break e}if(p=v+1|0,k4((A[a>>2]|0)+(v<<3)|0,l+(p<<5)|0,c,f)|0){p=0;break e}g=A[T>>2]|0}else p=v+1|0;if((p|0)<(g|0))v=p;else{p=1;break}}else p=1;while(!1);return R=p,L=E,R|0}function k4(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0,Ue=0,qe=0,tt=0;if(Ue=L,L=L+176|0,ue=Ue+172|0,p=Ue+168|0,ae=Ue,!(J5(l,f)|0))return a=0,L=Ue,a|0;if(dx(l,f,ue,p),D2(ae|0,c|0,168)|0,(A[c>>2]|0)>0){l=0;do qe=ae+8+(l<<4)+8|0,he=+Bn(+F[qe>>3],A[p>>2]|0),F[qe>>3]=he,l=l+1|0;while((l|0)<(A[c>>2]|0))}ee=+F[f>>3],ie=+F[f+8>>3],he=+Bn(+F[f+16>>3],A[p>>2]|0),$=+Bn(+F[f+24>>3],A[p>>2]|0);e:do if((A[a>>2]|0)>0){if(f=a+4|0,p=A[ae>>2]|0,(p|0)<=0){for(l=0;;)if(l=l+1|0,(l|0)>=(A[a>>2]|0)){l=0;break e}}for(c=0;;){if(l=A[f>>2]|0,Q=+F[l+(c<<4)>>3],W=+Bn(+F[l+(c<<4)+8>>3],A[ue>>2]|0),l=A[f>>2]|0,c=c+1|0,qe=(c|0)%(A[a>>2]|0)|0,g=+F[l+(qe<<4)>>3],v=+Bn(+F[l+(qe<<4)+8>>3],A[ue>>2]|0),!(Q>=ee)|!(g>=ee)&&!(Q<=ie)|!(g<=ie)&&!(W<=$)|!(v<=$)&&!(W>=he)|!(v>=he)){O=g-Q,E=v-W,l=0;do if(tt=l,l=l+1|0,qe=(l|0)==(p|0)?0:l,g=+F[ae+8+(tt<<4)+8>>3],v=+F[ae+8+(qe<<4)+8>>3]-g,_=+F[ae+8+(tt<<4)>>3],T=+F[ae+8+(qe<<4)>>3]-_,R=O*v-E*T,R!=0&&(te=W-g,Ne=Q-_,T=(te*T-v*Ne)/R,!(T<0|T>1))&&(R=(O*te-E*Ne)/R,R>=0&R<=1)){l=1;break e}while((l|0)<(p|0))}if((c|0)>=(A[a>>2]|0)){l=0;break}}}else l=0;while(!1);return tt=l,L=Ue,tt|0}function jl(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0;if(k4(a,l,c,f)|0)return g=1,g|0;if(g=a+8|0,(A[g>>2]|0)<=0)return g=0,g|0;for(p=a+12|0,a=0;;){if(v=a,a=a+1|0,k4((A[p>>2]|0)+(v<<3)|0,l+(a<<5)|0,c,f)|0){a=1,p=6;break}if((a|0)>=(A[g>>2]|0)){a=0,p=6;break}}return(p|0)==6?a|0:0}function yb(){return 8}function vb(){return 16}function _b(){return 168}function xb(){return 8}function bb(){return 16}function Tb(){return 12}function wb(){return 8}function Sb(a){return a=a|0,+(+((A[a>>2]|0)>>>0)+4294967296*+(A[a+4>>2]|0))}function Eb(a){a=a|0;var l=0,c=0;return c=+F[a>>3],l=+F[a+8>>3],+ +Rt(+(c*c+l*l))}function $l(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0;E=+F[a>>3],T=+F[l>>3]-E,_=+F[a+8>>3],v=+F[l+8>>3]-_,O=+F[c>>3],g=+F[f>>3]-O,Q=+F[c+8>>3],R=+F[f+8>>3]-Q,g=(g*(_-Q)-(E-O)*R)/(T*R-v*g),F[p>>3]=E+T*g,F[p+8>>3]=_+v*g}function Wl(a,l){return a=a|0,l=l|0,+gt(+(+F[a>>3]-+F[l>>3]))<11920928955078125e-23?(l=+gt(+(+F[a+8>>3]-+F[l+8>>3]))<11920928955078125e-23,l|0):(l=0,l|0)}function E0(a,l){a=a|0,l=l|0;var c=0,f=0,p=0;return p=+F[a>>3]-+F[l>>3],f=+F[a+8>>3]-+F[l+8>>3],c=+F[a+16>>3]-+F[l+16>>3],+(p*p+f*f+c*c)}function Nb(a,l){a=a|0,l=l|0;var c=0,f=0,p=0;c=+F[a>>3],f=+Dt(+c),c=+yt(+c),F[l+16>>3]=c,c=+F[a+8>>3],p=f*+Dt(+c),F[l>>3]=p,c=f*+yt(+c),F[l+8>>3]=c}function Mb(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0;if(g=L,L=L+16|0,p=g,f=Wt(a,l)|0,(c+-1|0)>>>0>5||(f=(f|0)!=0,(c|0)==1&f))return p=-1,L=g,p|0;do if(Hs(a,l,p)|0)f=-1;else if(f){f=((A[26352+(c<<2)>>2]|0)+5-(A[p>>2]|0)|0)%5|0;break}else{f=((A[26384+(c<<2)>>2]|0)+6-(A[p>>2]|0)|0)%6|0;break}while(!1);return p=f,L=g,p|0}function Hs(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0,E=0;if(E=L,L=L+32|0,v=E+16|0,_=E,f=M2(a,l,v)|0,f|0)return c=f,L=E,c|0;g=Bl(a,l)|0,T=yn(a,l)|0,Ax(g,_),f=lx(g,A[v>>2]|0)|0;e:do if(t0(g)|0){do switch(g|0){case 4:{a=0;break}case 14:{a=1;break}case 24:{a=2;break}case 38:{a=3;break}case 49:{a=4;break}case 58:{a=5;break}case 63:{a=6;break}case 72:{a=7;break}case 83:{a=8;break}case 97:{a=9;break}case 107:{a=10;break}case 117:{a=11;break}default:{f=1;break e}}while(!1);if(p=A[26416+(a*24|0)+8>>2]|0,l=A[26416+(a*24|0)+16>>2]|0,a=A[v>>2]|0,(a|0)!=(A[_>>2]|0)&&(_=Y5(g)|0,a=A[v>>2]|0,_|(a|0)==(l|0)&&(f=(f+1|0)%6|0)),(T|0)==3&(a|0)==(l|0)){f=(f+5|0)%6|0,p=22;break}(T|0)==5&(a|0)==(p|0)&&(f=(f+1|0)%6|0),p=22}else p=22;while(!1);return(p|0)==22&&(A[c>>2]=f,f=0),c=f,L=E,c|0}function Jn(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0;if(ae=L,L=L+32|0,ue=ae+24|0,ie=ae+20|0,W=ae+8|0,$=ae+16|0,Q=ae,T=(Wt(a,l)|0)==0,T=T?6:5,R=Te(a|0,l|0,52)|0,G()|0,R=R&15,T>>>0<=c>>>0)return f=2,L=ae,f|0;O=(R|0)==0,!O&&(ee=Re(7,0,(R^15)*3|0)|0,(ee&a|0)==0&((G()|0)&l|0)==0)?p=c:g=4;e:do if((g|0)==4){if(p=(Wt(a,l)|0)!=0,((p?4:5)|0)<(c|0)||Hs(a,l,ue)|0||(g=(A[ue>>2]|0)+c|0,p?p=26704+(((g|0)%5|0)<<2)|0:p=26736+(((g|0)%6|0)<<2)|0,ee=A[p>>2]|0,(ee|0)==7))return f=1,L=ae,f|0;A[ie>>2]=0,p=I0(a,l,ee,ie,W)|0;do if(!p){if(_=W,E=A[_>>2]|0,_=A[_+4>>2]|0,v=_>>>0<l>>>0|(_|0)==(l|0)&E>>>0<a>>>0,g=v?E:a,v=v?_:l,!O&&(O=Re(7,0,(R^15)*3|0)|0,(E&O|0)==0&(_&(G()|0)|0)==0))p=c;else{if(_=(c+-1+T|0)%(T|0)|0,p=Wt(a,l)|0,(_|0)<0&&Ze(27795,27797,246,27806),T=(p|0)!=0,((T?4:5)|0)<(_|0)&&Ze(27795,27797,246,27806),Hs(a,l,ue)|0&&Ze(27795,27797,246,27806),p=(A[ue>>2]|0)+_|0,T?p=26704+(((p|0)%5|0)<<2)|0:p=26736+(((p|0)%6|0)<<2)|0,_=A[p>>2]|0,(_|0)==7&&Ze(27795,27797,246,27806),A[$>>2]=0,p=I0(a,l,_,$,Q)|0,p|0)break;E=Q,T=A[E>>2]|0,E=A[E+4>>2]|0;do if(E>>>0<v>>>0|(E|0)==(v|0)&T>>>0<g>>>0){if(Wt(T,E)|0?g=Q5(T,E,a,l)|0:g=A[26800+((((A[$>>2]|0)+(A[26768+(_<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,p=Wt(T,E)|0,(g+-1|0)>>>0>5){p=-1,g=T,v=E;break}if(p=(p|0)!=0,(g|0)==1&p){p=-1,g=T,v=E;break}do if(Hs(T,E,ue)|0)p=-1;else if(p){p=((A[26352+(g<<2)>>2]|0)+5-(A[ue>>2]|0)|0)%5|0;break}else{p=((A[26384+(g<<2)>>2]|0)+6-(A[ue>>2]|0)|0)%6|0;break}while(!1);g=T,v=E}else p=c;while(!1);_=W,E=A[_>>2]|0,_=A[_+4>>2]|0}if((g|0)==(E|0)&(v|0)==(_|0)){if(T=(Wt(E,_)|0)!=0,T?a=Q5(E,_,a,l)|0:a=A[26800+((((A[ie>>2]|0)+(A[26768+(ee<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,p=Wt(E,_)|0,(a+-1|0)>>>0<=5&&(he=(p|0)!=0,!((a|0)==1&he)))do if(Hs(E,_,ue)|0)p=-1;else if(he){p=((A[26352+(a<<2)>>2]|0)+5-(A[ue>>2]|0)|0)%5|0;break}else{p=((A[26384+(a<<2)>>2]|0)+6-(A[ue>>2]|0)|0)%6|0;break}while(!1);else p=-1;p=p+1|0,p=(p|0)==6|T&(p|0)==5?0:p}l=v,a=g;break e}while(!1);return f=p,L=ae,f|0}while(!1);return he=Re(p|0,0,56)|0,ue=G()|0|l&-2130706433|536870912,A[f>>2]=he|a,A[f+4>>2]=ue,f=0,L=ae,f|0}function Rb(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0;return g=(Wt(a,l)|0)==0,f=Jn(a,l,0,c)|0,p=(f|0)==0,g?!p||(f=Jn(a,l,1,c+8|0)|0,f|0)||(f=Jn(a,l,2,c+16|0)|0,f|0)||(f=Jn(a,l,3,c+24|0)|0,f|0)||(f=Jn(a,l,4,c+32|0)|0,f)?(g=f,g|0):Jn(a,l,5,c+40|0)|0:!p||(f=Jn(a,l,1,c+8|0)|0,f|0)||(f=Jn(a,l,2,c+16|0)|0,f|0)||(f=Jn(a,l,3,c+24|0)|0,f|0)||(f=Jn(a,l,4,c+32|0)|0,f|0)?(g=f,g|0):(g=c+40|0,A[g>>2]=0,A[g+4>>2]=0,g=0,g|0)}function Cb(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0,_=0,T=0;return T=L,L=L+192|0,p=T,g=T+168|0,v=Te(a|0,l|0,56)|0,G()|0,v=v&7,_=l&-2130706433|134217728,f=M2(a,_,g)|0,f|0?(_=f,L=T,_|0):(l=Te(a|0,l|0,52)|0,G()|0,l=l&15,Wt(a,_)|0?n8(g,l,v,1,p):r8(g,l,v,1,p),_=p+8|0,A[c>>2]=A[_>>2],A[c+4>>2]=A[_+4>>2],A[c+8>>2]=A[_+8>>2],A[c+12>>2]=A[_+12>>2],_=0,L=T,_|0)}function Pb(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0;return p=L,L=L+16|0,c=p,!(!0&(l&2013265920|0)==536870912)||(f=l&-2130706433|134217728,!(i8(a,f)|0))?(f=0,L=p,f|0):(g=Te(a|0,l|0,56)|0,G()|0,g=(Jn(a,f,g&7,c)|0)==0,f=c,f=g&((A[f>>2]|0)==(a|0)?(A[f+4>>2]|0)==(l|0):0)&1,L=p,f|0)}function Ql(a,l,c){a=a|0,l=l|0,c=c|0;var f=0;(l|0)>0?(f=er(l,4)|0,A[a>>2]=f,f||Ze(27819,27842,40,27856)):A[a>>2]=0,A[a+4>>2]=l,A[a+8>>2]=0,A[a+12>>2]=c}function Yl(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0;p=a+4|0,g=a+12|0,v=a+8|0;e:for(;;){for(c=A[p>>2]|0,l=0;;){if((l|0)>=(c|0))break e;if(f=A[a>>2]|0,_=A[f+(l<<2)>>2]|0,!_)l=l+1|0;else break}l=f+(~~(+gt(+(+Q1(10,+ +(15-(A[g>>2]|0)|0))*(+F[_>>3]+ +F[_+8>>3])))%+(c|0))>>>0<<2)|0,c=A[l>>2]|0;t:do if(c|0){if(f=_+32|0,(c|0)==(_|0))A[l>>2]=A[f>>2];else{if(c=c+32|0,l=A[c>>2]|0,!l)break;for(;(l|0)!=(_|0);)if(c=l+32|0,l=A[c>>2]|0,!l)break t;A[c>>2]=A[f>>2]}Qe(_),A[v>>2]=(A[v>>2]|0)+-1}while(!1)}Qe(A[a>>2]|0)}function Xl(a){a=a|0;var l=0,c=0,f=0;for(f=A[a+4>>2]|0,c=0;;){if((c|0)>=(f|0)){l=0,c=4;break}if(l=A[(A[a>>2]|0)+(c<<2)>>2]|0,!l)c=c+1|0;else{c=4;break}}return(c|0)==4?l|0:0}function Kl(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0;if(c=~~(+gt(+(+Q1(10,+ +(15-(A[a+12>>2]|0)|0))*(+F[l>>3]+ +F[l+8>>3])))%+(A[a+4>>2]|0))>>>0,c=(A[a>>2]|0)+(c<<2)|0,f=A[c>>2]|0,!f)return g=1,g|0;g=l+32|0;do if((f|0)!=(l|0)){if(c=A[f+32>>2]|0,!c)return g=1,g|0;for(p=c;;){if((p|0)==(l|0)){p=8;break}if(c=A[p+32>>2]|0,c)f=p,p=c;else{c=1,p=10;break}}if((p|0)==8){A[f+32>>2]=A[g>>2];break}else if((p|0)==10)return c|0}else A[c>>2]=A[g>>2];while(!1);return Qe(l),g=a+8|0,A[g>>2]=(A[g>>2]|0)+-1,g=0,g|0}function Bb(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0;g=zr(40)|0,g||Ze(27872,27842,98,27885),A[g>>2]=A[l>>2],A[g+4>>2]=A[l+4>>2],A[g+8>>2]=A[l+8>>2],A[g+12>>2]=A[l+12>>2],p=g+16|0,A[p>>2]=A[c>>2],A[p+4>>2]=A[c+4>>2],A[p+8>>2]=A[c+8>>2],A[p+12>>2]=A[c+12>>2],A[g+32>>2]=0,p=~~(+gt(+(+Q1(10,+ +(15-(A[a+12>>2]|0)|0))*(+F[l>>3]+ +F[l+8>>3])))%+(A[a+4>>2]|0))>>>0,p=(A[a>>2]|0)+(p<<2)|0,f=A[p>>2]|0;do if(!f)A[p>>2]=g;else{for(;!(C2(f,l)|0&&C2(f+16|0,c)|0);)if(p=A[f+32>>2]|0,f=(p|0)==0?f:p,!(A[f+32>>2]|0)){v=10;break}if((v|0)==10){A[f+32>>2]=g;break}return Qe(g),v=f,v|0}while(!1);return v=a+8|0,A[v>>2]=(A[v>>2]|0)+1,v=g,v|0}function Db(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0;if(p=~~(+gt(+(+Q1(10,+ +(15-(A[a+12>>2]|0)|0))*(+F[l>>3]+ +F[l+8>>3])))%+(A[a+4>>2]|0))>>>0,p=A[(A[a>>2]|0)+(p<<2)>>2]|0,!p)return c=0,c|0;if(!c){for(a=p;;){if(C2(a,l)|0){f=10;break}if(a=A[a+32>>2]|0,!a){a=0,f=10;break}}if((f|0)==10)return a|0}for(a=p;;){if(C2(a,l)|0&&C2(a+16|0,c)|0){f=10;break}if(a=A[a+32>>2]|0,!a){a=0,f=10;break}}return(f|0)==10?a|0:0}function Fb(a,l){a=a|0,l=l|0;var c=0;if(c=~~(+gt(+(+Q1(10,+ +(15-(A[a+12>>2]|0)|0))*(+F[l>>3]+ +F[l+8>>3])))%+(A[a+4>>2]|0))>>>0,a=A[(A[a>>2]|0)+(c<<2)>>2]|0,!a)return c=0,c|0;for(;;){if(C2(a,l)|0){l=5;break}if(a=A[a+32>>2]|0,!a){a=0,l=5;break}}return(l|0)==5?a|0:0}function Lb(){return 27904}function K1(a){return a=+a,~~+nu(+a)|0}function zr(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0,ee=0,ie=0,he=0,ue=0,ae=0,te=0,Ne=0;Ne=L,L=L+16|0,Q=Ne;do if(a>>>0<245){if(E=a>>>0<11?16:a+11&-8,a=E>>>3,O=A[6977]|0,c=O>>>a,c&3|0)return l=(c&1^1)+a|0,a=27948+(l<<1<<2)|0,c=a+8|0,f=A[c>>2]|0,p=f+8|0,g=A[p>>2]|0,(g|0)==(a|0)?A[6977]=O&~(1<<l):(A[g+12>>2]=a,A[c>>2]=g),te=l<<3,A[f+4>>2]=te|3,te=f+te+4|0,A[te>>2]=A[te>>2]|1,te=p,L=Ne,te|0;if(R=A[6979]|0,E>>>0>R>>>0){if(c|0)return l=2<<a,l=c<<a&(l|0-l),l=(l&0-l)+-1|0,_=l>>>12&16,l=l>>>_,c=l>>>5&8,l=l>>>c,g=l>>>2&4,l=l>>>g,a=l>>>1&2,l=l>>>a,f=l>>>1&1,f=(c|_|g|a|f)+(l>>>f)|0,l=27948+(f<<1<<2)|0,a=l+8|0,g=A[a>>2]|0,_=g+8|0,c=A[_>>2]|0,(c|0)==(l|0)?(a=O&~(1<<f),A[6977]=a):(A[c+12>>2]=l,A[a>>2]=c,a=O),te=f<<3,v=te-E|0,A[g+4>>2]=E|3,p=g+E|0,A[p+4>>2]=v|1,A[g+te>>2]=v,R|0&&(f=A[6982]|0,l=R>>>3,c=27948+(l<<1<<2)|0,l=1<<l,a&l?(a=c+8|0,l=A[a>>2]|0):(A[6977]=a|l,l=c,a=c+8|0),A[a>>2]=f,A[l+12>>2]=f,A[f+8>>2]=l,A[f+12>>2]=c),A[6979]=v,A[6982]=p,te=_,L=Ne,te|0;if(g=A[6978]|0,g){for(c=(g&0-g)+-1|0,p=c>>>12&16,c=c>>>p,f=c>>>5&8,c=c>>>f,v=c>>>2&4,c=c>>>v,_=c>>>1&2,c=c>>>_,T=c>>>1&1,T=A[28212+((f|p|v|_|T)+(c>>>T)<<2)>>2]|0,c=T,_=T,T=(A[T+4>>2]&-8)-E|0;a=A[c+16>>2]|0,!(!a&&(a=A[c+20>>2]|0,!a));)v=(A[a+4>>2]&-8)-E|0,p=v>>>0<T>>>0,c=a,_=p?a:_,T=p?v:T;if(v=_+E|0,v>>>0>_>>>0){p=A[_+24>>2]|0,l=A[_+12>>2]|0;do if((l|0)==(_|0)){if(a=_+20|0,l=A[a>>2]|0,!l&&(a=_+16|0,l=A[a>>2]|0,!l)){c=0;break}for(;;)if(f=l+20|0,c=A[f>>2]|0,c)l=c,a=f;else if(f=l+16|0,c=A[f>>2]|0,c)l=c,a=f;else break;A[a>>2]=0,c=l}else c=A[_+8>>2]|0,A[c+12>>2]=l,A[l+8>>2]=c,c=l;while(!1);do if(p|0){if(l=A[_+28>>2]|0,a=28212+(l<<2)|0,(_|0)==(A[a>>2]|0)){if(A[a>>2]=c,!c){A[6978]=g&~(1<<l);break}}else if(te=p+16|0,A[((A[te>>2]|0)==(_|0)?te:p+20|0)>>2]=c,!c)break;A[c+24>>2]=p,l=A[_+16>>2]|0,l|0&&(A[c+16>>2]=l,A[l+24>>2]=c),l=A[_+20>>2]|0,l|0&&(A[c+20>>2]=l,A[l+24>>2]=c)}while(!1);return T>>>0<16?(te=T+E|0,A[_+4>>2]=te|3,te=_+te+4|0,A[te>>2]=A[te>>2]|1):(A[_+4>>2]=E|3,A[v+4>>2]=T|1,A[v+T>>2]=T,R|0&&(f=A[6982]|0,l=R>>>3,c=27948+(l<<1<<2)|0,l=1<<l,l&O?(a=c+8|0,l=A[a>>2]|0):(A[6977]=l|O,l=c,a=c+8|0),A[a>>2]=f,A[l+12>>2]=f,A[f+8>>2]=l,A[f+12>>2]=c),A[6979]=T,A[6982]=v),te=_+8|0,L=Ne,te|0}else O=E}else O=E}else O=E}else if(a>>>0<=4294967231)if(a=a+11|0,E=a&-8,f=A[6978]|0,f){p=0-E|0,a=a>>>8,a?E>>>0>16777215?T=31:(O=(a+1048320|0)>>>16&8,ee=a<<O,_=(ee+520192|0)>>>16&4,ee=ee<<_,T=(ee+245760|0)>>>16&2,T=14-(_|O|T)+(ee<<T>>>15)|0,T=E>>>(T+7|0)&1|T<<1):T=0,c=A[28212+(T<<2)>>2]|0;e:do if(!c)c=0,a=0,ee=61;else for(a=0,_=E<<((T|0)==31?0:25-(T>>>1)|0),g=0;;){if(v=(A[c+4>>2]&-8)-E|0,v>>>0<p>>>0)if(v)a=c,p=v;else{a=c,p=0,ee=65;break e}if(ee=A[c+20>>2]|0,c=A[c+16+(_>>>31<<2)>>2]|0,g=(ee|0)==0|(ee|0)==(c|0)?g:ee,c)_=_<<1;else{c=g,ee=61;break}}while(!1);if((ee|0)==61){if((c|0)==0&(a|0)==0){if(a=2<<T,a=(a|0-a)&f,!a){O=E;break}O=(a&0-a)+-1|0,v=O>>>12&16,O=O>>>v,g=O>>>5&8,O=O>>>g,_=O>>>2&4,O=O>>>_,T=O>>>1&2,O=O>>>T,c=O>>>1&1,a=0,c=A[28212+((g|v|_|T|c)+(O>>>c)<<2)>>2]|0}c?ee=65:(_=a,v=p)}if((ee|0)==65)for(g=c;;)if(O=(A[g+4>>2]&-8)-E|0,c=O>>>0<p>>>0,p=c?O:p,a=c?g:a,c=A[g+16>>2]|0,c||(c=A[g+20>>2]|0),c)g=c;else{_=a,v=p;break}if((_|0)!=0&&v>>>0<((A[6979]|0)-E|0)>>>0&&(R=_+E|0,R>>>0>_>>>0)){g=A[_+24>>2]|0,l=A[_+12>>2]|0;do if((l|0)==(_|0)){if(a=_+20|0,l=A[a>>2]|0,!l&&(a=_+16|0,l=A[a>>2]|0,!l)){l=0;break}for(;;)if(p=l+20|0,c=A[p>>2]|0,c)l=c,a=p;else if(p=l+16|0,c=A[p>>2]|0,c)l=c,a=p;else break;A[a>>2]=0}else te=A[_+8>>2]|0,A[te+12>>2]=l,A[l+8>>2]=te;while(!1);do if(g){if(a=A[_+28>>2]|0,c=28212+(a<<2)|0,(_|0)==(A[c>>2]|0)){if(A[c>>2]=l,!l){f=f&~(1<<a),A[6978]=f;break}}else if(te=g+16|0,A[((A[te>>2]|0)==(_|0)?te:g+20|0)>>2]=l,!l)break;A[l+24>>2]=g,a=A[_+16>>2]|0,a|0&&(A[l+16>>2]=a,A[a+24>>2]=l),a=A[_+20>>2]|0,a&&(A[l+20>>2]=a,A[a+24>>2]=l)}while(!1);e:do if(v>>>0<16)te=v+E|0,A[_+4>>2]=te|3,te=_+te+4|0,A[te>>2]=A[te>>2]|1;else{if(A[_+4>>2]=E|3,A[R+4>>2]=v|1,A[R+v>>2]=v,l=v>>>3,v>>>0<256){c=27948+(l<<1<<2)|0,a=A[6977]|0,l=1<<l,a&l?(a=c+8|0,l=A[a>>2]|0):(A[6977]=a|l,l=c,a=c+8|0),A[a>>2]=R,A[l+12>>2]=R,A[R+8>>2]=l,A[R+12>>2]=c;break}if(l=v>>>8,l?v>>>0>16777215?c=31:(ae=(l+1048320|0)>>>16&8,te=l<<ae,ue=(te+520192|0)>>>16&4,te=te<<ue,c=(te+245760|0)>>>16&2,c=14-(ue|ae|c)+(te<<c>>>15)|0,c=v>>>(c+7|0)&1|c<<1):c=0,l=28212+(c<<2)|0,A[R+28>>2]=c,a=R+16|0,A[a+4>>2]=0,A[a>>2]=0,a=1<<c,!(f&a)){A[6978]=f|a,A[l>>2]=R,A[R+24>>2]=l,A[R+12>>2]=R,A[R+8>>2]=R;break}l=A[l>>2]|0;t:do if((A[l+4>>2]&-8|0)!=(v|0)){for(f=v<<((c|0)==31?0:25-(c>>>1)|0);c=l+16+(f>>>31<<2)|0,a=A[c>>2]|0,!!a;)if((A[a+4>>2]&-8|0)==(v|0)){l=a;break t}else f=f<<1,l=a;A[c>>2]=R,A[R+24>>2]=l,A[R+12>>2]=R,A[R+8>>2]=R;break e}while(!1);ae=l+8|0,te=A[ae>>2]|0,A[te+12>>2]=R,A[ae>>2]=R,A[R+8>>2]=te,A[R+12>>2]=l,A[R+24>>2]=0}while(!1);return te=_+8|0,L=Ne,te|0}else O=E}else O=E;else O=-1;while(!1);if(c=A[6979]|0,c>>>0>=O>>>0)return l=c-O|0,a=A[6982]|0,l>>>0>15?(te=a+O|0,A[6982]=te,A[6979]=l,A[te+4>>2]=l|1,A[a+c>>2]=l,A[a+4>>2]=O|3):(A[6979]=0,A[6982]=0,A[a+4>>2]=c|3,te=a+c+4|0,A[te>>2]=A[te>>2]|1),te=a+8|0,L=Ne,te|0;if(v=A[6980]|0,v>>>0>O>>>0)return ue=v-O|0,A[6980]=ue,te=A[6983]|0,ae=te+O|0,A[6983]=ae,A[ae+4>>2]=ue|1,A[te+4>>2]=O|3,te=te+8|0,L=Ne,te|0;if(A[7095]|0?a=A[7097]|0:(A[7097]=4096,A[7096]=4096,A[7098]=-1,A[7099]=-1,A[7100]=0,A[7088]=0,A[7095]=Q&-16^1431655768,a=4096),_=O+48|0,T=O+47|0,g=a+T|0,p=0-a|0,E=g&p,E>>>0<=O>>>0||(a=A[7087]|0,a|0&&(R=A[7085]|0,Q=R+E|0,Q>>>0<=R>>>0|Q>>>0>a>>>0)))return te=0,L=Ne,te|0;e:do if(A[7088]&4)l=0,ee=143;else{c=A[6983]|0;t:do if(c){for(f=28356;Q=A[f>>2]|0,!(Q>>>0<=c>>>0&&(Q+(A[f+4>>2]|0)|0)>>>0>c>>>0);)if(a=A[f+8>>2]|0,a)f=a;else{ee=128;break t}if(l=g-v&p,l>>>0<2147483647)if(a=J1(l|0)|0,(a|0)==((A[f>>2]|0)+(A[f+4>>2]|0)|0)){if((a|0)!=-1){v=l,g=a,ee=145;break e}}else f=a,ee=136;else l=0}else ee=128;while(!1);do if((ee|0)==128)if(c=J1(0)|0,(c|0)!=-1&&(l=c,$=A[7096]|0,W=$+-1|0,l=((W&l|0)==0?0:(W+l&0-$)-l|0)+E|0,$=A[7085]|0,W=l+$|0,l>>>0>O>>>0&l>>>0<2147483647)){if(Q=A[7087]|0,Q|0&&W>>>0<=$>>>0|W>>>0>Q>>>0){l=0;break}if(a=J1(l|0)|0,(a|0)==(c|0)){v=l,g=c,ee=145;break e}else f=a,ee=136}else l=0;while(!1);do if((ee|0)==136){if(c=0-l|0,!(_>>>0>l>>>0&(l>>>0<2147483647&(f|0)!=-1)))if((f|0)==-1){l=0;break}else{v=l,g=f,ee=145;break e}if(a=A[7097]|0,a=T-l+a&0-a,a>>>0>=2147483647){v=l,g=f,ee=145;break e}if((J1(a|0)|0)==-1){J1(c|0)|0,l=0;break}else{v=a+l|0,g=f,ee=145;break e}}while(!1);A[7088]=A[7088]|4,ee=143}while(!1);if((ee|0)==143&&E>>>0<2147483647&&(ue=J1(E|0)|0,W=J1(0)|0,ie=W-ue|0,he=ie>>>0>(O+40|0)>>>0,!((ue|0)==-1|he^1|ue>>>0<W>>>0&((ue|0)!=-1&(W|0)!=-1)^1))&&(v=he?ie:l,g=ue,ee=145),(ee|0)==145){l=(A[7085]|0)+v|0,A[7085]=l,l>>>0>(A[7086]|0)>>>0&&(A[7086]=l),T=A[6983]|0;e:do if(T){for(l=28356;;){if(a=A[l>>2]|0,c=A[l+4>>2]|0,(g|0)==(a+c|0)){ee=154;break}if(f=A[l+8>>2]|0,f)l=f;else break}if((ee|0)==154&&(ae=l+4|0,(A[l+12>>2]&8|0)==0)&&g>>>0>T>>>0&a>>>0<=T>>>0){A[ae>>2]=c+v,te=(A[6980]|0)+v|0,ue=T+8|0,ue=(ue&7|0)==0?0:0-ue&7,ae=T+ue|0,ue=te-ue|0,A[6983]=ae,A[6980]=ue,A[ae+4>>2]=ue|1,A[T+te+4>>2]=40,A[6984]=A[7099];break}for(g>>>0<(A[6981]|0)>>>0&&(A[6981]=g),c=g+v|0,l=28356;;){if((A[l>>2]|0)==(c|0)){ee=162;break}if(a=A[l+8>>2]|0,a)l=a;else break}if((ee|0)==162&&(A[l+12>>2]&8|0)==0){A[l>>2]=g,R=l+4|0,A[R>>2]=(A[R>>2]|0)+v,R=g+8|0,R=g+((R&7|0)==0?0:0-R&7)|0,l=c+8|0,l=c+((l&7|0)==0?0:0-l&7)|0,E=R+O|0,_=l-R-O|0,A[R+4>>2]=O|3;t:do if((T|0)==(l|0))te=(A[6980]|0)+_|0,A[6980]=te,A[6983]=E,A[E+4>>2]=te|1;else{if((A[6982]|0)==(l|0)){te=(A[6979]|0)+_|0,A[6979]=te,A[6982]=E,A[E+4>>2]=te|1,A[E+te>>2]=te;break}if(a=A[l+4>>2]|0,(a&3|0)==1){v=a&-8,f=a>>>3;n:do if(a>>>0<256)if(a=A[l+8>>2]|0,c=A[l+12>>2]|0,(c|0)==(a|0)){A[6977]=A[6977]&~(1<<f);break}else{A[a+12>>2]=c,A[c+8>>2]=a;break}else{g=A[l+24>>2]|0,a=A[l+12>>2]|0;do if((a|0)==(l|0)){if(c=l+16|0,f=c+4|0,a=A[f>>2]|0,a)c=f;else if(a=A[c>>2]|0,!a){a=0;break}for(;;)if(p=a+20|0,f=A[p>>2]|0,f)a=f,c=p;else if(p=a+16|0,f=A[p>>2]|0,f)a=f,c=p;else break;A[c>>2]=0}else te=A[l+8>>2]|0,A[te+12>>2]=a,A[a+8>>2]=te;while(!1);if(!g)break;c=A[l+28>>2]|0,f=28212+(c<<2)|0;do if((A[f>>2]|0)!=(l|0)){if(te=g+16|0,A[((A[te>>2]|0)==(l|0)?te:g+20|0)>>2]=a,!a)break n}else{if(A[f>>2]=a,a|0)break;A[6978]=A[6978]&~(1<<c);break n}while(!1);if(A[a+24>>2]=g,c=l+16|0,f=A[c>>2]|0,f|0&&(A[a+16>>2]=f,A[f+24>>2]=a),c=A[c+4>>2]|0,!c)break;A[a+20>>2]=c,A[c+24>>2]=a}while(!1);l=l+v|0,p=v+_|0}else p=_;if(l=l+4|0,A[l>>2]=A[l>>2]&-2,A[E+4>>2]=p|1,A[E+p>>2]=p,l=p>>>3,p>>>0<256){c=27948+(l<<1<<2)|0,a=A[6977]|0,l=1<<l,a&l?(a=c+8|0,l=A[a>>2]|0):(A[6977]=a|l,l=c,a=c+8|0),A[a>>2]=E,A[l+12>>2]=E,A[E+8>>2]=l,A[E+12>>2]=c;break}l=p>>>8;do if(!l)f=0;else{if(p>>>0>16777215){f=31;break}ae=(l+1048320|0)>>>16&8,te=l<<ae,ue=(te+520192|0)>>>16&4,te=te<<ue,f=(te+245760|0)>>>16&2,f=14-(ue|ae|f)+(te<<f>>>15)|0,f=p>>>(f+7|0)&1|f<<1}while(!1);if(l=28212+(f<<2)|0,A[E+28>>2]=f,a=E+16|0,A[a+4>>2]=0,A[a>>2]=0,a=A[6978]|0,c=1<<f,!(a&c)){A[6978]=a|c,A[l>>2]=E,A[E+24>>2]=l,A[E+12>>2]=E,A[E+8>>2]=E;break}l=A[l>>2]|0;n:do if((A[l+4>>2]&-8|0)!=(p|0)){for(f=p<<((f|0)==31?0:25-(f>>>1)|0);c=l+16+(f>>>31<<2)|0,a=A[c>>2]|0,!!a;)if((A[a+4>>2]&-8|0)==(p|0)){l=a;break n}else f=f<<1,l=a;A[c>>2]=E,A[E+24>>2]=l,A[E+12>>2]=E,A[E+8>>2]=E;break t}while(!1);ae=l+8|0,te=A[ae>>2]|0,A[te+12>>2]=E,A[ae>>2]=E,A[E+8>>2]=te,A[E+12>>2]=l,A[E+24>>2]=0}while(!1);return te=R+8|0,L=Ne,te|0}for(l=28356;a=A[l>>2]|0,!(a>>>0<=T>>>0&&(te=a+(A[l+4>>2]|0)|0,te>>>0>T>>>0));)l=A[l+8>>2]|0;p=te+-47|0,a=p+8|0,a=p+((a&7|0)==0?0:0-a&7)|0,p=T+16|0,a=a>>>0<p>>>0?T:a,l=a+8|0,c=v+-40|0,ue=g+8|0,ue=(ue&7|0)==0?0:0-ue&7,ae=g+ue|0,ue=c-ue|0,A[6983]=ae,A[6980]=ue,A[ae+4>>2]=ue|1,A[g+c+4>>2]=40,A[6984]=A[7099],c=a+4|0,A[c>>2]=27,A[l>>2]=A[7089],A[l+4>>2]=A[7090],A[l+8>>2]=A[7091],A[l+12>>2]=A[7092],A[7089]=g,A[7090]=v,A[7092]=0,A[7091]=l,l=a+24|0;do ae=l,l=l+4|0,A[l>>2]=7;while((ae+8|0)>>>0<te>>>0);if((a|0)!=(T|0)){if(g=a-T|0,A[c>>2]=A[c>>2]&-2,A[T+4>>2]=g|1,A[a>>2]=g,l=g>>>3,g>>>0<256){c=27948+(l<<1<<2)|0,a=A[6977]|0,l=1<<l,a&l?(a=c+8|0,l=A[a>>2]|0):(A[6977]=a|l,l=c,a=c+8|0),A[a>>2]=T,A[l+12>>2]=T,A[T+8>>2]=l,A[T+12>>2]=c;break}if(l=g>>>8,l?g>>>0>16777215?f=31:(ae=(l+1048320|0)>>>16&8,te=l<<ae,ue=(te+520192|0)>>>16&4,te=te<<ue,f=(te+245760|0)>>>16&2,f=14-(ue|ae|f)+(te<<f>>>15)|0,f=g>>>(f+7|0)&1|f<<1):f=0,c=28212+(f<<2)|0,A[T+28>>2]=f,A[T+20>>2]=0,A[p>>2]=0,l=A[6978]|0,a=1<<f,!(l&a)){A[6978]=l|a,A[c>>2]=T,A[T+24>>2]=c,A[T+12>>2]=T,A[T+8>>2]=T;break}l=A[c>>2]|0;t:do if((A[l+4>>2]&-8|0)!=(g|0)){for(f=g<<((f|0)==31?0:25-(f>>>1)|0);c=l+16+(f>>>31<<2)|0,a=A[c>>2]|0,!!a;)if((A[a+4>>2]&-8|0)==(g|0)){l=a;break t}else f=f<<1,l=a;A[c>>2]=T,A[T+24>>2]=l,A[T+12>>2]=T,A[T+8>>2]=T;break e}while(!1);ae=l+8|0,te=A[ae>>2]|0,A[te+12>>2]=T,A[ae>>2]=T,A[T+8>>2]=te,A[T+12>>2]=l,A[T+24>>2]=0}}else te=A[6981]|0,(te|0)==0|g>>>0<te>>>0&&(A[6981]=g),A[7089]=g,A[7090]=v,A[7092]=0,A[6986]=A[7095],A[6985]=-1,A[6990]=27948,A[6989]=27948,A[6992]=27956,A[6991]=27956,A[6994]=27964,A[6993]=27964,A[6996]=27972,A[6995]=27972,A[6998]=27980,A[6997]=27980,A[7e3]=27988,A[6999]=27988,A[7002]=27996,A[7001]=27996,A[7004]=28004,A[7003]=28004,A[7006]=28012,A[7005]=28012,A[7008]=28020,A[7007]=28020,A[7010]=28028,A[7009]=28028,A[7012]=28036,A[7011]=28036,A[7014]=28044,A[7013]=28044,A[7016]=28052,A[7015]=28052,A[7018]=28060,A[7017]=28060,A[7020]=28068,A[7019]=28068,A[7022]=28076,A[7021]=28076,A[7024]=28084,A[7023]=28084,A[7026]=28092,A[7025]=28092,A[7028]=28100,A[7027]=28100,A[7030]=28108,A[7029]=28108,A[7032]=28116,A[7031]=28116,A[7034]=28124,A[7033]=28124,A[7036]=28132,A[7035]=28132,A[7038]=28140,A[7037]=28140,A[7040]=28148,A[7039]=28148,A[7042]=28156,A[7041]=28156,A[7044]=28164,A[7043]=28164,A[7046]=28172,A[7045]=28172,A[7048]=28180,A[7047]=28180,A[7050]=28188,A[7049]=28188,A[7052]=28196,A[7051]=28196,te=v+-40|0,ue=g+8|0,ue=(ue&7|0)==0?0:0-ue&7,ae=g+ue|0,ue=te-ue|0,A[6983]=ae,A[6980]=ue,A[ae+4>>2]=ue|1,A[g+te+4>>2]=40,A[6984]=A[7099];while(!1);if(l=A[6980]|0,l>>>0>O>>>0)return ue=l-O|0,A[6980]=ue,te=A[6983]|0,ae=te+O|0,A[6983]=ae,A[ae+4>>2]=ue|1,A[te+4>>2]=O|3,te=te+8|0,L=Ne,te|0}return te=Lb()|0,A[te>>2]=12,te=0,L=Ne,te|0}function Qe(a){a=a|0;var l=0,c=0,f=0,p=0,g=0,v=0,_=0,T=0;if(a){c=a+-8|0,p=A[6981]|0,a=A[a+-4>>2]|0,l=a&-8,T=c+l|0;do if(a&1)_=c,v=c;else{if(f=A[c>>2]|0,!(a&3)||(v=c+(0-f)|0,g=f+l|0,v>>>0<p>>>0))return;if((A[6982]|0)==(v|0)){if(a=T+4|0,l=A[a>>2]|0,(l&3|0)!=3){_=v,l=g;break}A[6979]=g,A[a>>2]=l&-2,A[v+4>>2]=g|1,A[v+g>>2]=g;return}if(c=f>>>3,f>>>0<256)if(a=A[v+8>>2]|0,l=A[v+12>>2]|0,(l|0)==(a|0)){A[6977]=A[6977]&~(1<<c),_=v,l=g;break}else{A[a+12>>2]=l,A[l+8>>2]=a,_=v,l=g;break}p=A[v+24>>2]|0,a=A[v+12>>2]|0;do if((a|0)==(v|0)){if(l=v+16|0,c=l+4|0,a=A[c>>2]|0,a)l=c;else if(a=A[l>>2]|0,!a){a=0;break}for(;;)if(f=a+20|0,c=A[f>>2]|0,c)a=c,l=f;else if(f=a+16|0,c=A[f>>2]|0,c)a=c,l=f;else break;A[l>>2]=0}else _=A[v+8>>2]|0,A[_+12>>2]=a,A[a+8>>2]=_;while(!1);if(p){if(l=A[v+28>>2]|0,c=28212+(l<<2)|0,(A[c>>2]|0)==(v|0)){if(A[c>>2]=a,!a){A[6978]=A[6978]&~(1<<l),_=v,l=g;break}}else if(_=p+16|0,A[((A[_>>2]|0)==(v|0)?_:p+20|0)>>2]=a,!a){_=v,l=g;break}A[a+24>>2]=p,l=v+16|0,c=A[l>>2]|0,c|0&&(A[a+16>>2]=c,A[c+24>>2]=a),l=A[l+4>>2]|0,l?(A[a+20>>2]=l,A[l+24>>2]=a,_=v,l=g):(_=v,l=g)}else _=v,l=g}while(!1);if(!(v>>>0>=T>>>0)&&(a=T+4|0,f=A[a>>2]|0,!!(f&1))){if(f&2)A[a>>2]=f&-2,A[_+4>>2]=l|1,A[v+l>>2]=l,p=l;else{if((A[6983]|0)==(T|0)){if(T=(A[6980]|0)+l|0,A[6980]=T,A[6983]=_,A[_+4>>2]=T|1,(_|0)!=(A[6982]|0))return;A[6982]=0,A[6979]=0;return}if((A[6982]|0)==(T|0)){T=(A[6979]|0)+l|0,A[6979]=T,A[6982]=v,A[_+4>>2]=T|1,A[v+T>>2]=T;return}p=(f&-8)+l|0,c=f>>>3;do if(f>>>0<256)if(l=A[T+8>>2]|0,a=A[T+12>>2]|0,(a|0)==(l|0)){A[6977]=A[6977]&~(1<<c);break}else{A[l+12>>2]=a,A[a+8>>2]=l;break}else{g=A[T+24>>2]|0,a=A[T+12>>2]|0;do if((a|0)==(T|0)){if(l=T+16|0,c=l+4|0,a=A[c>>2]|0,a)l=c;else if(a=A[l>>2]|0,!a){c=0;break}for(;;)if(f=a+20|0,c=A[f>>2]|0,c)a=c,l=f;else if(f=a+16|0,c=A[f>>2]|0,c)a=c,l=f;else break;A[l>>2]=0,c=a}else c=A[T+8>>2]|0,A[c+12>>2]=a,A[a+8>>2]=c,c=a;while(!1);if(g|0){if(a=A[T+28>>2]|0,l=28212+(a<<2)|0,(A[l>>2]|0)==(T|0)){if(A[l>>2]=c,!c){A[6978]=A[6978]&~(1<<a);break}}else if(f=g+16|0,A[((A[f>>2]|0)==(T|0)?f:g+20|0)>>2]=c,!c)break;A[c+24>>2]=g,a=T+16|0,l=A[a>>2]|0,l|0&&(A[c+16>>2]=l,A[l+24>>2]=c),a=A[a+4>>2]|0,a|0&&(A[c+20>>2]=a,A[a+24>>2]=c)}}while(!1);if(A[_+4>>2]=p|1,A[v+p>>2]=p,(_|0)==(A[6982]|0)){A[6979]=p;return}}if(a=p>>>3,p>>>0<256){c=27948+(a<<1<<2)|0,l=A[6977]|0,a=1<<a,l&a?(l=c+8|0,a=A[l>>2]|0):(A[6977]=l|a,a=c,l=c+8|0),A[l>>2]=_,A[a+12>>2]=_,A[_+8>>2]=a,A[_+12>>2]=c;return}a=p>>>8,a?p>>>0>16777215?f=31:(v=(a+1048320|0)>>>16&8,T=a<<v,g=(T+520192|0)>>>16&4,T=T<<g,f=(T+245760|0)>>>16&2,f=14-(g|v|f)+(T<<f>>>15)|0,f=p>>>(f+7|0)&1|f<<1):f=0,a=28212+(f<<2)|0,A[_+28>>2]=f,A[_+20>>2]=0,A[_+16>>2]=0,l=A[6978]|0,c=1<<f;e:do if(!(l&c))A[6978]=l|c,A[a>>2]=_,A[_+24>>2]=a,A[_+12>>2]=_,A[_+8>>2]=_;else{a=A[a>>2]|0;t:do if((A[a+4>>2]&-8|0)!=(p|0)){for(f=p<<((f|0)==31?0:25-(f>>>1)|0);c=a+16+(f>>>31<<2)|0,l=A[c>>2]|0,!!l;)if((A[l+4>>2]&-8|0)==(p|0)){a=l;break t}else f=f<<1,a=l;A[c>>2]=_,A[_+24>>2]=a,A[_+12>>2]=_,A[_+8>>2]=_;break e}while(!1);v=a+8|0,T=A[v>>2]|0,A[T+12>>2]=_,A[v>>2]=_,A[_+8>>2]=T,A[_+12>>2]=a,A[_+24>>2]=0}while(!1);if(T=(A[6985]|0)+-1|0,A[6985]=T,!(T|0)){for(a=28364;a=A[a>>2]|0,a;)a=a+8|0;A[6985]=-1}}}}function er(a,l){a=a|0,l=l|0;var c=0;return a?(c=Vr(l,a)|0,(l|a)>>>0>65535&&(c=((c>>>0)/(a>>>0)|0|0)==(l|0)?c:-1)):c=0,a=zr(c)|0,!a||!(A[a+-4>>2]&3)||Di(a|0,0,c|0)|0,a|0}function We(a,l,c,f){return a=a|0,l=l|0,c=c|0,f=f|0,c=a+c>>>0,st(l+f+(c>>>0<a>>>0|0)>>>0|0),c|0|0}function V0(a,l,c,f){return a=a|0,l=l|0,c=c|0,f=f|0,f=l-f-(c>>>0>a>>>0|0)>>>0,st(f|0),a-c>>>0|0|0}function Zl(a){return a=a|0,(a?31-(v1(a^a-1)|0)|0:32)|0}function v8(a,l,c,f,p){a=a|0,l=l|0,c=c|0,f=f|0,p=p|0;var g=0,v=0,_=0,T=0,E=0,R=0,O=0,Q=0,$=0,W=0;if(R=a,T=l,E=T,v=c,Q=f,_=Q,!E)return g=(p|0)!=0,_?g?(A[p>>2]=a|0,A[p+4>>2]=l&0,Q=0,p=0,st(Q|0),p|0):(Q=0,p=0,st(Q|0),p|0):(g&&(A[p>>2]=(R>>>0)%(v>>>0),A[p+4>>2]=0),Q=0,p=(R>>>0)/(v>>>0)>>>0,st(Q|0),p|0);g=(_|0)==0;do if(v){if(!g){if(g=(v1(_|0)|0)-(v1(E|0)|0)|0,g>>>0<=31){O=g+1|0,_=31-g|0,l=g-31>>31,v=O,a=R>>>(O>>>0)&l|E<<_,l=E>>>(O>>>0)&l,g=0,_=R<<_;break}return p?(A[p>>2]=a|0,A[p+4>>2]=T|l&0,Q=0,p=0,st(Q|0),p|0):(Q=0,p=0,st(Q|0),p|0)}if(g=v-1|0,g&v|0){_=(v1(v|0)|0)+33-(v1(E|0)|0)|0,W=64-_|0,O=32-_|0,T=O>>31,$=_-32|0,l=$>>31,v=_,a=O-1>>31&E>>>($>>>0)|(E<<O|R>>>(_>>>0))&l,l=l&E>>>(_>>>0),g=R<<W&T,_=(E<<W|R>>>($>>>0))&T|R<<O&_-33>>31;break}return p|0&&(A[p>>2]=g&R,A[p+4>>2]=0),(v|0)==1?($=T|l&0,W=a|0|0,st($|0),W|0):(W=Zl(v|0)|0,$=E>>>(W>>>0)|0,W=E<<32-W|R>>>(W>>>0)|0,st($|0),W|0)}else{if(g)return p|0&&(A[p>>2]=(E>>>0)%(v>>>0),A[p+4>>2]=0),$=0,W=(E>>>0)/(v>>>0)>>>0,st($|0),W|0;if(!R)return p|0&&(A[p>>2]=0,A[p+4>>2]=(E>>>0)%(_>>>0)),$=0,W=(E>>>0)/(_>>>0)>>>0,st($|0),W|0;if(g=_-1|0,!(g&_))return p|0&&(A[p>>2]=a|0,A[p+4>>2]=g&E|l&0),$=0,W=E>>>((Zl(_|0)|0)>>>0),st($|0),W|0;if(g=(v1(_|0)|0)-(v1(E|0)|0)|0,g>>>0<=30){l=g+1|0,_=31-g|0,v=l,a=E<<_|R>>>(l>>>0),l=E>>>(l>>>0),g=0,_=R<<_;break}return p?(A[p>>2]=a|0,A[p+4>>2]=T|l&0,$=0,W=0,st($|0),W|0):($=0,W=0,st($|0),W|0)}while(!1);if(!v)E=_,T=0,_=0;else{O=c|0|0,R=Q|f&0,E=We(O|0,R|0,-1,-1)|0,c=G()|0,T=_,_=0;do f=T,T=g>>>31|T<<1,g=_|g<<1,f=a<<1|f>>>31|0,Q=a>>>31|l<<1|0,V0(E|0,c|0,f|0,Q|0)|0,W=G()|0,$=W>>31|((W|0)<0?-1:0)<<1,_=$&1,a=V0(f|0,Q|0,$&O|0,(((W|0)<0?-1:0)>>31|((W|0)<0?-1:0)<<1)&R|0)|0,l=G()|0,v=v-1|0;while((v|0)!=0);E=T,T=0}return v=0,p|0&&(A[p>>2]=a,A[p+4>>2]=l),$=(g|0)>>>31|(E|v)<<1|(v<<1|g>>>31)&0|T,W=(g<<1|0)&-2|_,st($|0),W|0}function Z1(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0;return E=l>>31|((l|0)<0?-1:0)<<1,T=((l|0)<0?-1:0)>>31|((l|0)<0?-1:0)<<1,g=f>>31|((f|0)<0?-1:0)<<1,p=((f|0)<0?-1:0)>>31|((f|0)<0?-1:0)<<1,_=V0(E^a|0,T^l|0,E|0,T|0)|0,v=G()|0,a=g^E,l=p^T,V0((v8(_,v,V0(g^c|0,p^f|0,g|0,p|0)|0,G()|0,0)|0)^a|0,(G()|0)^l|0,a|0,l|0)|0}function qb(a,l){a=a|0,l=l|0;var c=0,f=0,p=0,g=0;return g=a&65535,p=l&65535,c=Vr(p,g)|0,f=a>>>16,a=(c>>>16)+(Vr(p,f)|0)|0,p=l>>>16,l=Vr(p,g)|0,st((a>>>16)+(Vr(p,f)|0)+(((a&65535)+l|0)>>>16)|0),a+l<<16|c&65535|0|0}function J0(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0;return p=a,g=c,c=qb(p,g)|0,a=G()|0,st((Vr(l,g)|0)+(Vr(f,p)|0)+a|a&0|0),c|0|0|0}function P2(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0,v=0,_=0,T=0,E=0;return p=L,L=L+16|0,_=p|0,v=l>>31|((l|0)<0?-1:0)<<1,g=((l|0)<0?-1:0)>>31|((l|0)<0?-1:0)<<1,E=f>>31|((f|0)<0?-1:0)<<1,T=((f|0)<0?-1:0)>>31|((f|0)<0?-1:0)<<1,a=V0(v^a|0,g^l|0,v|0,g|0)|0,l=G()|0,v8(a,l,V0(E^c|0,T^f|0,E|0,T|0)|0,G()|0,_)|0,f=V0(A[_>>2]^v|0,A[_+4>>2]^g|0,v|0,g|0)|0,c=G()|0,L=p,st(c|0),f|0}function B2(a,l,c,f){a=a|0,l=l|0,c=c|0,f=f|0;var p=0,g=0;return g=L,L=L+16|0,p=g|0,v8(a,l,c,f,p)|0,L=g,st(A[p+4>>2]|0),A[p>>2]|0|0}function Jl(a,l,c){return a=a|0,l=l|0,c=c|0,(c|0)<32?(st(l>>c|0),a>>>c|(l&(1<<c)-1)<<32-c):(st(((l|0)<0?-1:0)|0),l>>c-32|0)}function Te(a,l,c){return a=a|0,l=l|0,c=c|0,(c|0)<32?(st(l>>>c|0),a>>>c|(l&(1<<c)-1)<<32-c):(st(0),l>>>c-32|0)}function Re(a,l,c){return a=a|0,l=l|0,c=c|0,(c|0)<32?(st(l<<c|(a&(1<<c)-1<<32-c)>>>32-c|0),a<<c):(st(a<<c-32|0),0)}function eu(a,l,c){return a=a|0,l=l|0,l=v1(l)|0,(l|0)==32&&(l=l+(v1(a)|0)|0),st(0),l|0}function tu(a,l){return a=+a,l=+l,a!=a?+l:l!=l?+a:+j_(+a,+l)}function U4(a,l){return a=+a,l=+l,a!=a?+l:l!=l?+a:+W5(+a,+l)}function G4(a){return a=+a,a>=0?+q0(a+.5):+E2(a-.5)}function D2(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0;if((c|0)>=8192)return W_(a|0,l|0,c|0)|0,a|0;if(g=a|0,p=a+c|0,(a&3)==(l&3)){for(;a&3;){if(!c)return g|0;we[a>>0]=we[l>>0]|0,a=a+1|0,l=l+1|0,c=c-1|0}for(c=p&-4|0,f=c-64|0;(a|0)<=(f|0);)A[a>>2]=A[l>>2],A[a+4>>2]=A[l+4>>2],A[a+8>>2]=A[l+8>>2],A[a+12>>2]=A[l+12>>2],A[a+16>>2]=A[l+16>>2],A[a+20>>2]=A[l+20>>2],A[a+24>>2]=A[l+24>>2],A[a+28>>2]=A[l+28>>2],A[a+32>>2]=A[l+32>>2],A[a+36>>2]=A[l+36>>2],A[a+40>>2]=A[l+40>>2],A[a+44>>2]=A[l+44>>2],A[a+48>>2]=A[l+48>>2],A[a+52>>2]=A[l+52>>2],A[a+56>>2]=A[l+56>>2],A[a+60>>2]=A[l+60>>2],a=a+64|0,l=l+64|0;for(;(a|0)<(c|0);)A[a>>2]=A[l>>2],a=a+4|0,l=l+4|0}else for(c=p-4|0;(a|0)<(c|0);)we[a>>0]=we[l>>0]|0,we[a+1>>0]=we[l+1>>0]|0,we[a+2>>0]=we[l+2>>0]|0,we[a+3>>0]=we[l+3>>0]|0,a=a+4|0,l=l+4|0;for(;(a|0)<(p|0);)we[a>>0]=we[l>>0]|0,a=a+1|0,l=l+1|0;return g|0}function Di(a,l,c){a=a|0,l=l|0,c=c|0;var f=0,p=0,g=0,v=0;if(g=a+c|0,l=l&255,(c|0)>=67){for(;a&3;)we[a>>0]=l,a=a+1|0;for(f=g&-4|0,v=l|l<<8|l<<16|l<<24,p=f-64|0;(a|0)<=(p|0);)A[a>>2]=v,A[a+4>>2]=v,A[a+8>>2]=v,A[a+12>>2]=v,A[a+16>>2]=v,A[a+20>>2]=v,A[a+24>>2]=v,A[a+28>>2]=v,A[a+32>>2]=v,A[a+36>>2]=v,A[a+40>>2]=v,A[a+44>>2]=v,A[a+48>>2]=v,A[a+52>>2]=v,A[a+56>>2]=v,A[a+60>>2]=v,a=a+64|0;for(;(a|0)<(f|0);)A[a>>2]=v,a=a+4|0}for(;(a|0)<(g|0);)we[a>>0]=l,a=a+1|0;return g-c|0}function nu(a){return a=+a,a>=0?+q0(a+.5):+E2(a-.5)}function J1(a){a=a|0;var l=0,c=0,f=0;return f=$_()|0,c=A[Ut>>2]|0,l=c+a|0,(a|0)>0&(l|0)<(c|0)|(l|0)<0?(Y_(l|0)|0,hl(12),-1):(l|0)>(f|0)&&!(Q_(l|0)|0)?(hl(12),-1):(A[Ut>>2]=l,c|0)}return{___divdi3:Z1,___muldi3:J0,___remdi3:P2,___uremdi3:B2,_areNeighborCells:Sx,_bitshift64Ashr:Jl,_bitshift64Lshr:Te,_bitshift64Shl:Re,_calloc:er,_cellAreaKm2:nb,_cellAreaM2:rb,_cellAreaRads2:p8,_cellToBoundary:R2,_cellToCenterChild:Fl,_cellToChildPos:Wx,_cellToChildren:Ox,_cellToChildrenSize:ks,_cellToLatLng:Bi,_cellToLocalIj:ub,_cellToParent:o8,_cellToVertex:Jn,_cellToVertexes:Rb,_cellsToDirectedEdge:Ex,_cellsToLinkedMultiPolygon:ox,_childPosToCell:Qx,_compactCells:kx,_destroyLinkedMultiPolygon:kl,_directedEdgeToBoundary:I4,_directedEdgeToCells:Cx,_edgeLengthKm:sb,_edgeLengthM:ob,_edgeLengthRads:ib,_emscripten_replace_memory:X_,_free:Qe,_getBaseCellNumber:Bl,_getDirectedEdgeDestination:Mx,_getDirectedEdgeOrigin:Nx,_getHexagonAreaAvgKm2:Il,_getHexagonAreaAvgM2:Jx,_getHexagonEdgeLengthAvgKm:eb,_getHexagonEdgeLengthAvgM:tb,_getIcosahedronFaces:Ll,_getNumCells:d8,_getPentagons:c8,_getRes0Cells:cx,_getResolution:Ix,_greatCircleDistanceKm:Gs,_greatCircleDistanceM:Xx,_greatCircleDistanceRads:Yx,_gridDisk:fl,_gridDiskDistances:dl,_gridDistance:hb,_gridPathCells:db,_gridPathCellsSize:fb,_gridRingUnsafe:nx,_i64Add:We,_i64Subtract:V0,_isPentagon:Wt,_isResClassIII:Vx,_isValidCell:i8,_isValidDirectedEdge:Rx,_isValidVertex:Pb,_latLngToCell:l8,_llvm_ctlz_i64:eu,_llvm_maxnum_f64:tu,_llvm_minnum_f64:U4,_llvm_round_f64:G4,_localIjToCell:cb,_malloc:zr,_maxFaceCount:jx,_maxGridDiskSize:tx,_maxPolygonToCellsSize:rx,_maxPolygonToCellsSizeExperimental:gb,_memcpy:D2,_memset:Di,_originToDirectedEdges:Px,_pentagonCount:$x,_polygonToCells:ix,_polygonToCellsExperimental:mb,_readInt64AsDoubleFromPointer:Sb,_res0CellCount:ux,_round:nu,_sbrk:J1,_sizeOfCellBoundary:_b,_sizeOfCoordIJ:wb,_sizeOfGeoLoop:xb,_sizeOfGeoPolygon:bb,_sizeOfH3Index:yb,_sizeOfLatLng:vb,_sizeOfLinkedGeoPolygon:Tb,_uncompactCells:Ux,_uncompactCellsSize:Gx,_vertexToLatLng:Cb,establishStackSpace:ex,stackAlloc:K_,stackRestore:J_,stackSave:Z_}}(De,Je,k);e.___divdi3=ye.___divdi3,e.___muldi3=ye.___muldi3,e.___remdi3=ye.___remdi3,e.___uremdi3=ye.___uremdi3,e._areNeighborCells=ye._areNeighborCells,e._bitshift64Ashr=ye._bitshift64Ashr,e._bitshift64Lshr=ye._bitshift64Lshr,e._bitshift64Shl=ye._bitshift64Shl,e._calloc=ye._calloc,e._cellAreaKm2=ye._cellAreaKm2,e._cellAreaM2=ye._cellAreaM2,e._cellAreaRads2=ye._cellAreaRads2,e._cellToBoundary=ye._cellToBoundary,e._cellToCenterChild=ye._cellToCenterChild,e._cellToChildPos=ye._cellToChildPos,e._cellToChildren=ye._cellToChildren,e._cellToChildrenSize=ye._cellToChildrenSize,e._cellToLatLng=ye._cellToLatLng,e._cellToLocalIj=ye._cellToLocalIj,e._cellToParent=ye._cellToParent,e._cellToVertex=ye._cellToVertex,e._cellToVertexes=ye._cellToVertexes,e._cellsToDirectedEdge=ye._cellsToDirectedEdge,e._cellsToLinkedMultiPolygon=ye._cellsToLinkedMultiPolygon,e._childPosToCell=ye._childPosToCell,e._compactCells=ye._compactCells,e._destroyLinkedMultiPolygon=ye._destroyLinkedMultiPolygon,e._directedEdgeToBoundary=ye._directedEdgeToBoundary,e._directedEdgeToCells=ye._directedEdgeToCells,e._edgeLengthKm=ye._edgeLengthKm,e._edgeLengthM=ye._edgeLengthM,e._edgeLengthRads=ye._edgeLengthRads;var S0=e._emscripten_replace_memory=ye._emscripten_replace_memory;e._free=ye._free,e._getBaseCellNumber=ye._getBaseCellNumber,e._getDirectedEdgeDestination=ye._getDirectedEdgeDestination,e._getDirectedEdgeOrigin=ye._getDirectedEdgeOrigin,e._getHexagonAreaAvgKm2=ye._getHexagonAreaAvgKm2,e._getHexagonAreaAvgM2=ye._getHexagonAreaAvgM2,e._getHexagonEdgeLengthAvgKm=ye._getHexagonEdgeLengthAvgKm,e._getHexagonEdgeLengthAvgM=ye._getHexagonEdgeLengthAvgM,e._getIcosahedronFaces=ye._getIcosahedronFaces,e._getNumCells=ye._getNumCells,e._getPentagons=ye._getPentagons,e._getRes0Cells=ye._getRes0Cells,e._getResolution=ye._getResolution,e._greatCircleDistanceKm=ye._greatCircleDistanceKm,e._greatCircleDistanceM=ye._greatCircleDistanceM,e._greatCircleDistanceRads=ye._greatCircleDistanceRads,e._gridDisk=ye._gridDisk,e._gridDiskDistances=ye._gridDiskDistances,e._gridDistance=ye._gridDistance,e._gridPathCells=ye._gridPathCells,e._gridPathCellsSize=ye._gridPathCellsSize,e._gridRingUnsafe=ye._gridRingUnsafe,e._i64Add=ye._i64Add,e._i64Subtract=ye._i64Subtract,e._isPentagon=ye._isPentagon,e._isResClassIII=ye._isResClassIII,e._isValidCell=ye._isValidCell,e._isValidDirectedEdge=ye._isValidDirectedEdge,e._isValidVertex=ye._isValidVertex,e._latLngToCell=ye._latLngToCell,e._llvm_ctlz_i64=ye._llvm_ctlz_i64,e._llvm_maxnum_f64=ye._llvm_maxnum_f64,e._llvm_minnum_f64=ye._llvm_minnum_f64,e._llvm_round_f64=ye._llvm_round_f64,e._localIjToCell=ye._localIjToCell,e._malloc=ye._malloc,e._maxFaceCount=ye._maxFaceCount,e._maxGridDiskSize=ye._maxGridDiskSize,e._maxPolygonToCellsSize=ye._maxPolygonToCellsSize,e._maxPolygonToCellsSizeExperimental=ye._maxPolygonToCellsSizeExperimental,e._memcpy=ye._memcpy,e._memset=ye._memset,e._originToDirectedEdges=ye._originToDirectedEdges,e._pentagonCount=ye._pentagonCount,e._polygonToCells=ye._polygonToCells,e._polygonToCellsExperimental=ye._polygonToCellsExperimental,e._readInt64AsDoubleFromPointer=ye._readInt64AsDoubleFromPointer,e._res0CellCount=ye._res0CellCount,e._round=ye._round,e._sbrk=ye._sbrk,e._sizeOfCellBoundary=ye._sizeOfCellBoundary,e._sizeOfCoordIJ=ye._sizeOfCoordIJ,e._sizeOfGeoLoop=ye._sizeOfGeoLoop,e._sizeOfGeoPolygon=ye._sizeOfGeoPolygon,e._sizeOfH3Index=ye._sizeOfH3Index,e._sizeOfLatLng=ye._sizeOfLatLng,e._sizeOfLinkedGeoPolygon=ye._sizeOfLinkedGeoPolygon,e._uncompactCells=ye._uncompactCells,e._uncompactCellsSize=ye._uncompactCellsSize,e._vertexToLatLng=ye._vertexToLatLng,e.establishStackSpace=ye.establishStackSpace;var Wn=e.stackAlloc=ye.stackAlloc,Ur=e.stackRestore=ye.stackRestore,cl=e.stackSave=ye.stackSave;if(e.asm=ye,e.cwrap=B,e.setValue=b,e.getValue=w,mr){T2(mr)||(mr=s(mr));{R4();var S2=function(fe){fe.byteLength&&(fe=new Uint8Array(fe)),X.set(fe,x),e.memoryInitializerRequest&&delete e.memoryInitializerRequest.response,U5()},Qn=function(){o(mr,S2,function(){throw"could not load memory initializer "+mr})},Yn=le(mr);if(Yn)S2(Yn.buffer);else if(e.memoryInitializerRequest){var W1=function(){var fe=e.memoryInitializerRequest,be=fe.response;if(fe.status!==200&&fe.status!==0){var Le=le(e.memoryInitializerRequestURL);if(Le)be=Le.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+fe.status+", retrying "+mr),Qn();return}}S2(be)};e.memoryInitializerRequest.response?setTimeout(W1,0):e.memoryInitializerRequest.addEventListener("load",W1)}else Qn()}}var Gr;$1=function fe(){Gr||y1(),Gr||($1=fe)};function y1(fe){if(kr>0||(w0(),kr>0))return;function be(){Gr||(Gr=!0,!S&&(L0(),Nt(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Ct()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),be()},1)):be()}e.run=y1;function gr(fe){throw e.onAbort&&e.onAbort(fe),fe+="",u(fe),h(fe),S=!0,"abort("+fe+"). Build with -s ASSERTIONS=1 for more info."}if(e.abort=gr,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return y1(),r}(typeof St=="object"?St:{}),it="number",Ke=it,Ks=it,nt=it,rt=it,O0=it,Ie=it,RC=[["sizeOfH3Index",it],["sizeOfLatLng",it],["sizeOfCellBoundary",it],["sizeOfGeoLoop",it],["sizeOfGeoPolygon",it],["sizeOfLinkedGeoPolygon",it],["sizeOfCoordIJ",it],["readInt64AsDoubleFromPointer",it],["isValidCell",Ks,[nt,rt]],["latLngToCell",Ke,[it,it,O0,Ie]],["cellToLatLng",Ke,[nt,rt,Ie]],["cellToBoundary",Ke,[nt,rt,Ie]],["maxGridDiskSize",Ke,[it,Ie]],["gridDisk",Ke,[nt,rt,it,Ie]],["gridDiskDistances",Ke,[nt,rt,it,Ie,Ie]],["gridRingUnsafe",Ke,[nt,rt,it,Ie]],["maxPolygonToCellsSize",Ke,[Ie,O0,it,Ie]],["polygonToCells",Ke,[Ie,O0,it,Ie]],["maxPolygonToCellsSizeExperimental",Ke,[Ie,O0,it,Ie]],["polygonToCellsExperimental",Ke,[Ie,O0,it,it,it,Ie]],["cellsToLinkedMultiPolygon",Ke,[Ie,it,Ie]],["destroyLinkedMultiPolygon",null,[Ie]],["compactCells",Ke,[Ie,Ie,it,it]],["uncompactCells",Ke,[Ie,it,it,Ie,it,O0]],["uncompactCellsSize",Ke,[Ie,it,it,O0,Ie]],["isPentagon",Ks,[nt,rt]],["isResClassIII",Ks,[nt,rt]],["getBaseCellNumber",it,[nt,rt]],["getResolution",it,[nt,rt]],["maxFaceCount",Ke,[nt,rt,Ie]],["getIcosahedronFaces",Ke,[nt,rt,Ie]],["cellToParent",Ke,[nt,rt,O0,Ie]],["cellToChildren",Ke,[nt,rt,O0,Ie]],["cellToCenterChild",Ke,[nt,rt,O0,Ie]],["cellToChildrenSize",Ke,[nt,rt,O0,Ie]],["cellToChildPos",Ke,[nt,rt,O0,Ie]],["childPosToCell",Ke,[it,it,nt,rt,O0,Ie]],["areNeighborCells",Ke,[nt,rt,nt,rt,Ie]],["cellsToDirectedEdge",Ke,[nt,rt,nt,rt,Ie]],["getDirectedEdgeOrigin",Ke,[nt,rt,Ie]],["getDirectedEdgeDestination",Ke,[nt,rt,Ie]],["isValidDirectedEdge",Ks,[nt,rt]],["directedEdgeToCells",Ke,[nt,rt,Ie]],["originToDirectedEdges",Ke,[nt,rt,Ie]],["directedEdgeToBoundary",Ke,[nt,rt,Ie]],["gridDistance",Ke,[nt,rt,nt,rt,Ie]],["gridPathCells",Ke,[nt,rt,nt,rt,Ie]],["gridPathCellsSize",Ke,[nt,rt,nt,rt,Ie]],["cellToLocalIj",Ke,[nt,rt,nt,rt,it,Ie]],["localIjToCell",Ke,[nt,rt,Ie,it,Ie]],["getHexagonAreaAvgM2",Ke,[O0,Ie]],["getHexagonAreaAvgKm2",Ke,[O0,Ie]],["getHexagonEdgeLengthAvgM",Ke,[O0,Ie]],["getHexagonEdgeLengthAvgKm",Ke,[O0,Ie]],["greatCircleDistanceM",it,[Ie,Ie]],["greatCircleDistanceKm",it,[Ie,Ie]],["greatCircleDistanceRads",it,[Ie,Ie]],["cellAreaM2",Ke,[nt,rt,Ie]],["cellAreaKm2",Ke,[nt,rt,Ie]],["cellAreaRads2",Ke,[nt,rt,Ie]],["edgeLengthM",Ke,[nt,rt,Ie]],["edgeLengthKm",Ke,[nt,rt,Ie]],["edgeLengthRads",Ke,[nt,rt,Ie]],["getNumCells",Ke,[O0,Ie]],["getRes0Cells",Ke,[Ie]],["res0CellCount",it],["getPentagons",Ke,[it,Ie]],["pentagonCount",it],["cellToVertex",Ke,[nt,rt,it,Ie]],["cellToVertexes",Ke,[nt,rt,Ie]],["vertexToLatLng",Ke,[nt,rt,Ie]],["isValidVertex",Ks,[nt,rt]]],CC=0,PC=1,BC=2,DC=3,xp=4,FC=5,LC=6,qC=7,IC=8,OC=9,kC=10,UC=11,GC=12,VC=13,zC=14,HC=15,X0={};X0[CC]="Success";X0[PC]="The operation failed but a more specific error is not available";X0[BC]="Argument was outside of acceptable range";X0[DC]="Latitude or longitude arguments were outside of acceptable range";X0[xp]="Resolution argument was outside of acceptable range";X0[FC]="Cell argument was not valid";X0[LC]="Directed edge argument was not valid";X0[qC]="Undirected edge argument was not valid";X0[IC]="Vertex argument was not valid";X0[OC]="Pentagon distortion was encountered";X0[kC]="Duplicate input";X0[UC]="Cell arguments were not neighbors";X0[GC]="Cell arguments had incompatible resolutions";X0[VC]="Memory allocation failed";X0[zC]="Bounds of provided memory were insufficient";X0[HC]="Mode or flags argument was not valid";var jC=1e3,bp=1001,Tp=1002,A5={};A5[jC]="Unknown unit";A5[bp]="Array length out of bounds";A5[Tp]="Got unexpected null value for H3 index";var $C="Unknown error";function wp(r,e,t){var n=t&&"value"in t,i=new Error((r[e]||$C)+" (code: "+e+(n?", value: "+t.value:"")+")");return i.code=e,i}function Sp(r,e){var t=arguments.length===2?{value:e}:{};return wp(X0,r,t)}function Ep(r,e){var t=arguments.length===2?{value:e}:{};return wp(A5,r,t)}function Ko(r){if(r!==0)throw Sp(r)}var Nn={};RC.forEach(function(e){Nn[e[0]]=St.cwrap.apply(St,e)});var ss=16,Zo=4,Ss=8,WC=8,Ia=Nn.sizeOfH3Index(),V9=Nn.sizeOfLatLng(),QC=Nn.sizeOfCellBoundary(),YC=Nn.sizeOfGeoPolygon(),Po=Nn.sizeOfGeoLoop();Nn.sizeOfLinkedGeoPolygon();Nn.sizeOfCoordIJ();function XC(r){if(typeof r!="number"||r<0||r>15||Math.floor(r)!==r)throw Sp(xp,r);return r}function KC(r){if(!r)throw Ep(Tp);return r}var ZC=Math.pow(2,32)-1;function JC(r){if(r>ZC)throw Ep(bp,r);return r}var eP=/[^0-9a-fA-F]/;function Np(r){if(Array.isArray(r)&&r.length===2&&Number.isInteger(r[0])&&Number.isInteger(r[1]))return r;if(typeof r!="string"||eP.test(r))return[0,0];var e=parseInt(r.substring(0,r.length-8),ss),t=parseInt(r.substring(r.length-8),ss);return[t,e]}function Oc(r){if(r>=0)return r.toString(ss);r=r&2147483647;var e=Mp(8,r.toString(ss)),t=(parseInt(e[0],ss)+8).toString(ss);return e=t+e.substring(1),e}function tP(r,e){return Oc(e)+Mp(8,Oc(r))}function Mp(r,e){for(var t=r-e.length,n="",i=0;i<t;i++)n+="0";return n=n+e,n}function kc(r,e,t){for(var n=r.length,i=St._calloc(n,V9),s=t?1:0,o=t?0:1,u=0;u<n*2;u+=2)St.HEAPF64.set([r[u/2][s],r[u/2][o]].map(Bp),i/Ss+u);return St.HEAPU32.set([n,i],e/Zo),e}function nP(r,e){var t=r.length-1,n=St._calloc(YC),i=0,s=i+Po,o=s+Zo;kc(r[0],n+i,e);var u;if(t>0){u=St._calloc(t,Po);for(var h=0;h<t;h++)kc(r[h+1],u+Po*h,e)}return St.setValue(n+s,t,"i32"),St.setValue(n+o,u,"i32"),n}function rP(r){var e=0,t=e+Po,n=t+Zo,i=Zo;St._free(St.getValue(r+e+i,"i8*"));var s=St.getValue(r+t,"i32");if(s>0){for(var o=St.getValue(r+n,"i32"),u=0;u<s;u++)St._free(St.getValue(o+Po*u+i,"i8*"));St._free(o)}St._free(r)}function Rp(r,e){e===void 0&&(e=0);var t=St.getValue(r+Ia*e,"i32"),n=St.getValue(r+Ia*e+Zo,"i32");return n?tP(t,n):null}function iP(r){return Nn.readInt64AsDoubleFromPointer(r)}function sP(r,e){for(var t=[],n=0;n<e;n++){var i=Rp(r,n);i!==null&&t.push(i)}return t}function Oa(r){return uP(St.getValue(r,"double"))}function oP(r){return[Oa(r),Oa(r+Ss)]}function aP(r){return[Oa(r+Ss),Oa(r)]}function AP(r,e,t){for(var n=St.getValue(r,"i32"),i=r+Ss,s=[],o=aP,u=0;u<n*2;u+=2)s.push(o(i+Ss*u));return s.push(s[0]),s}function lP(r,e,t){var n=St._malloc(V9);St.HEAPF64.set([r,e].map(Bp),n/Ss);var i=St._malloc(Ia);try{return Ko(Nn.latLngToCell(n,t,i)),KC(Rp(i))}finally{St._free(i),St._free(n)}}function Cp(r){var e=St._malloc(V9),t=Np(r),n=t[0],i=t[1];try{return Ko(Nn.cellToLatLng(n,i,e)),oP(e)}finally{St._free(e)}}function Pp(r,e){var t=St._malloc(QC),n=Np(r),i=n[0],s=n[1];try{return Ko(Nn.cellToBoundary(i,s,t)),AP(t,e,e)}finally{St._free(t)}}function Uc(r,e,t){if(XC(e),t=!!t,r.length===0||r[0].length===0)return[];var n=typeof r[0][0]=="number"?[r]:r,i=nP(n,t),s=St._malloc(WC);try{Ko(Nn.maxPolygonToCellsSize(i,e,0,s));var o=JC(iP(s)),u=St._calloc(o,Ia);try{return Ko(Nn.polygonToCells(i,e,0,u)),sP(u,o)}finally{St._free(u)}}finally{St._free(s),rP(i)}}function Bp(r){return r*Math.PI/180}function uP(r){return r*180/Math.PI}function cP(r){return r=Math.max(0,Math.min(1,r)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+r*(1172.33-r*(10793.56-r*(33300.12-r*(38394.49-r*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+r*(557.33+r*(1225.33-r*(3574.96-r*(1073.77+r*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+r*(3211.1-r*(15327.97-r*(27814-r*(22569.18-r*6838.66)))))))+")"}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const hP=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","aoMapIntensity","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveIntensity","emissiveMap","envMap","envMapIntensity","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","lightMapIntensity","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"];class fP{constructor(e){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(e),this.hasAnimation=e.object.isSkinnedMesh===!0,this.refreshUniforms=hP,this.renderId=0}firstInitialization(e){return this.renderObjects.has(e)===!1?(this.getRenderObjectData(e),!0):!1}needsVelocity(e){const t=e.getMRT();return t!==null&&t.has("velocity")}getRenderObjectData(e){let t=this.renderObjects.get(e);if(t===void 0){const{geometry:n,material:i,object:s}=e;if(t={material:this.getMaterialData(i),geometry:{id:n.id,attributes:this.getAttributesData(n.attributes),indexVersion:n.index?n.index.version:null,drawRange:{start:n.drawRange.start,count:n.drawRange.count}},worldMatrix:s.matrixWorld.clone()},s.center&&(t.center=s.center.clone()),s.morphTargetInfluences&&(t.morphTargetInfluences=s.morphTargetInfluences.slice()),e.bundle!==null&&(t.version=e.bundle.version),t.material.transmission>0){const{width:o,height:u}=e.context;t.bufferWidth=o,t.bufferHeight=u}this.renderObjects.set(e,t)}return t}getAttributesData(e){const t={};for(const n in e){const i=e[n];t[n]={version:i.version}}return t}containsNode(e){const t=e.material;for(const n in t)if(t[n]&&t[n].isNode)return!0;return e.renderer.overrideNodes.modelViewMatrix!==null||e.renderer.overrideNodes.modelNormalViewMatrix!==null}getMaterialData(e){const t={};for(const n of this.refreshUniforms){const i=e[n];i!=null&&(typeof i=="object"&&i.clone!==void 0?i.isTexture===!0?t[n]={id:i.id,version:i.version}:t[n]=i.clone():t[n]=i)}return t}equals(e){const{object:t,material:n,geometry:i}=e,s=this.getRenderObjectData(e);if(s.worldMatrix.equals(t.matrixWorld)!==!0)return s.worldMatrix.copy(t.matrixWorld),!1;const o=s.material;for(const S in o){const N=o[S],C=n[S];if(N.equals!==void 0){if(N.equals(C)===!1)return N.copy(C),!1}else if(C.isTexture===!0){if(N.id!==C.id||N.version!==C.version)return N.id=C.id,N.version=C.version,!1}else if(N!==C)return o[S]=C,!1}if(o.transmission>0){const{width:S,height:N}=e.context;if(s.bufferWidth!==S||s.bufferHeight!==N)return s.bufferWidth=S,s.bufferHeight=N,!1}const u=s.geometry,h=i.attributes,d=u.attributes,m=Object.keys(d),y=Object.keys(h);if(u.id!==i.id)return u.id=i.id,!1;if(m.length!==y.length)return s.geometry.attributes=this.getAttributesData(h),!1;for(const S of m){const N=d[S],C=h[S];if(C===void 0)return delete d[S],!1;if(N.version!==C.version)return N.version=C.version,!1}const x=i.index,b=u.indexVersion,w=x?x.version:null;if(b!==w)return u.indexVersion=w,!1;if(u.drawRange.start!==i.drawRange.start||u.drawRange.count!==i.drawRange.count)return u.drawRange.start=i.drawRange.start,u.drawRange.count=i.drawRange.count,!1;if(s.morphTargetInfluences){let S=!1;for(let N=0;N<s.morphTargetInfluences.length;N++)s.morphTargetInfluences[N]!==t.morphTargetInfluences[N]&&(S=!0);if(S)return!0}return s.center&&s.center.equals(t.center)===!1?(s.center.copy(t.center),!0):(e.bundle!==null&&(s.version=e.bundle.version),!0)}needsRefresh(e,t){if(this.hasNode||this.hasAnimation||this.firstInitialization(e)||this.needsVelocity(t.renderer))return!0;const{renderId:n}=t;if(this.renderId!==n)return this.renderId=n,!0;const i=e.object.static===!0,s=e.bundle!==null&&e.bundle.static===!0&&this.getRenderObjectData(e).version===e.bundle.version;return i||s?!1:this.equals(e)!==!0}}function Jo(r,e=0){let t=3735928559^e,n=1103547991^e;if(r instanceof Array)for(let i=0,s;i<r.length;i++)s=r[i],t=Math.imul(t^s,2654435761),n=Math.imul(n^s,1597334677);else for(let i=0,s;i<r.length;i++)s=r.charCodeAt(i),t=Math.imul(t^s,2654435761),n=Math.imul(n^s,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(t^t>>>13,3266489909),4294967296*(2097151&n)+(t>>>0)}const Dp=r=>Jo(r),l5=r=>Jo(r),ka=(...r)=>Jo(r);function Fp(r,e=!1){const t=[];r.isNode===!0&&(t.push(r.id),r=r.getSelf());for(const{property:n,childNode:i}of Ua(r))t.push(Jo(n.slice(0,-4)),i.getCacheKey(e));return Jo(t)}function*Ua(r,e=!1){for(const t in r){if(t.startsWith("_")===!0)continue;const n=r[t];if(Array.isArray(n)===!0)for(let i=0;i<n.length;i++){const s=n[i];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:t,index:i,childNode:s})}else if(n&&n.isNode===!0)yield{property:t,childNode:n};else if(typeof n=="object")for(const i in n){const s=n[i];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:t,index:i,childNode:s})}}}const dP=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),Gc=new WeakMap;function Lp(r){return dP.get(r)}function Ga(r){if(/[iu]?vec\d/.test(r))return r.startsWith("ivec")?Int32Array:r.startsWith("uvec")?Uint32Array:Float32Array;if(/mat\d/.test(r)||/float/.test(r))return Float32Array;if(/uint/.test(r))return Uint32Array;if(/int/.test(r))return Int32Array;throw new Error(`THREE.NodeUtils: Unsupported type: ${r}`)}function qp(r){if(/float|int|uint/.test(r))return 1;if(/vec2/.test(r))return 2;if(/vec3/.test(r))return 3;if(/vec4/.test(r)||/mat2/.test(r))return 4;if(/mat3/.test(r))return 9;if(/mat4/.test(r))return 16;console.error("THREE.TSL: Unsupported type:",r)}function pP(r){if(/float|int|uint/.test(r))return 1;if(/vec2/.test(r))return 2;if(/vec3/.test(r))return 3;if(/vec4/.test(r)||/mat2/.test(r))return 4;if(/mat3/.test(r))return 12;if(/mat4/.test(r))return 16;console.error("THREE.TSL: Unsupported type:",r)}function mP(r){if(/float|int|uint/.test(r))return 4;if(/vec2/.test(r))return 8;if(/vec3/.test(r)||/vec4/.test(r))return 16;if(/mat2/.test(r))return 8;if(/mat3/.test(r))return 48;if(/mat4/.test(r))return 64;console.error("THREE.TSL: Unsupported type:",r)}function di(r){if(r==null)return null;const e=typeof r;return r.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":r.isVector2===!0?"vec2":r.isVector3===!0?"vec3":r.isVector4===!0?"vec4":r.isMatrix2===!0?"mat2":r.isMatrix3===!0?"mat3":r.isMatrix4===!0?"mat4":r.isColor===!0?"color":r instanceof ArrayBuffer?"ArrayBuffer":null}function Ip(r,...e){const t=r?r.slice(-4):void 0;return e.length===1&&(t==="vec2"?e=[e[0],e[0]]:t==="vec3"?e=[e[0],e[0],e[0]]:t==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),r==="color"?new D0(...e):t==="vec2"?new qt(...e):t==="vec3"?new Ce(...e):t==="vec4"?new jt(...e):t==="mat2"?new ad(...e):t==="mat3"?new u4(...e):t==="mat4"?new u0(...e):r==="bool"?e[0]||!1:r==="float"||r==="int"||r==="uint"?e[0]||0:r==="string"?e[0]||"":r==="ArrayBuffer"?Up(e[0]):null}function Op(r){let e=Gc.get(r);return e===void 0&&(e={},Gc.set(r,e)),e}function kp(r){let e="";const t=new Uint8Array(r);for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return btoa(e)}function Up(r){return Uint8Array.from(atob(r),e=>e.charCodeAt(0)).buffer}const xo={VERTEX:"vertex",FRAGMENT:"fragment"},ht={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},gP={BOOLEAN:"bool",INTEGER:"int",FLOAT:"float",VECTOR2:"vec2",VECTOR3:"vec3",VECTOR4:"vec4",MATRIX2:"mat2",MATRIX3:"mat3",MATRIX4:"mat4"},rn={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},Gp=["fragment","vertex"],R7=["setup","analyze","generate"],C7=[...Gp,"compute"],m2=["x","y","z","w"],yP={analyze:"setup",generate:"analyze"};let vP=0;class $e extends A9{static get type(){return"Node"}constructor(e=null){super(),this.nodeType=e,this.updateType=ht.NONE,this.updateBeforeType=ht.NONE,this.updateAfterType=ht.NONE,this.uuid=v9.generateUUID(),this.version=0,this.global=!1,this.parents=!1,this.isNode=!0,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:vP++})}set needsUpdate(e){e===!0&&this.version++}get type(){return this.constructor.type}onUpdate(e,t){return this.updateType=t,this.update=e.bind(this.getSelf()),this}onFrameUpdate(e){return this.onUpdate(e,ht.FRAME)}onRenderUpdate(e){return this.onUpdate(e,ht.RENDER)}onObjectUpdate(e){return this.onUpdate(e,ht.OBJECT)}onReference(e){return this.updateReference=e.bind(this.getSelf()),this}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of Ua(this))yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const t of this.getChildren())t.traverse(e)}getCacheKey(e=!1){return e=e||this.version!==this._cacheKeyVersion,(e===!0||this._cacheKey===null)&&(this._cacheKey=ka(Fp(this,e),this.customCacheKey()),this._cacheKeyVersion=this.version),this._cacheKey}customCacheKey(){return 0}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const t=this.getNodeType(e);return e.getElementType(t)}getMemberType(){return"void"}getNodeType(e){const t=e.getNodeProperties(this);return t.outputNode?t.outputNode.getNodeType(e):this.nodeType}getShared(e){const t=this.getHash(e);return e.getNodeFromHash(t)||this}setup(e){const t=e.getNodeProperties(this);let n=0;for(const i of this.getChildren())t["node"+n++]=i;return t.outputNode||null}analyze(e,t=null){const n=e.increaseUsage(this);if(this.parents===!0){const i=e.getDataFromNode(this,"any");i.stages=i.stages||{},i.stages[e.shaderStage]=i.stages[e.shaderStage]||[],i.stages[e.shaderStage].push(t)}if(n===1){const i=e.getNodeProperties(this);for(const s of Object.values(i))s&&s.isNode===!0&&s.build(e,this)}}generate(e,t){const{outputNode:n}=e.getNodeProperties(this);if(n&&n.isNode===!0)return n.build(e,t)}updateBefore(){console.warn("Abstract function.")}updateAfter(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(e,t=null){const n=this.getShared(e);if(this!==n)return n.build(e,t);const i=e.getDataFromNode(this);i.buildStages=i.buildStages||{},i.buildStages[e.buildStage]=!0;const s=yP[e.buildStage];if(s&&i.buildStages[s]!==!0){const h=e.getBuildStage();e.setBuildStage(s),this.build(e),e.setBuildStage(h)}e.addNode(this),e.addChain(this);let o=null;const u=e.getBuildStage();if(u==="setup"){this.updateReference(e);const h=e.getNodeProperties(this);if(h.initialized!==!0){h.initialized=!0,h.outputNode=this.setup(e)||h.outputNode||null;for(const d of Object.values(h))if(d&&d.isNode===!0){if(d.parents===!0){const m=e.getNodeProperties(d);m.parents=m.parents||[],m.parents.push(this)}d.build(e)}}o=h.outputNode}else if(u==="analyze")this.analyze(e,t);else if(u==="generate")if(this.generate.length===1){const d=this.getNodeType(e),m=e.getDataFromNode(this);o=m.snippet,o===void 0?m.generated===void 0?(m.generated=!0,o=this.generate(e)||"",m.snippet=o):(console.warn("THREE.Node: Recursion detected.",this),o=""):m.flowCodes!==void 0&&e.context.nodeBlock!==void 0&&e.addFlowCodeHierarchy(this,e.context.nodeBlock),o=e.format(o,d,t)}else o=this.generate(e,t)||"";return e.removeChain(this),e.addSequentialNode(this),o}getSerializeChildren(){return Ua(this)}serialize(e){const t=this.getSerializeChildren(),n={};for(const{property:i,index:s,childNode:o}of t)s!==void 0?(n[i]===void 0&&(n[i]=Number.isInteger(s)?[]:{}),n[i][s]=o.toJSON(e.meta).uuid):n[i]=o.toJSON(e.meta).uuid;Object.keys(n).length>0&&(e.inputNodes=n)}deserialize(e){if(e.inputNodes!==void 0){const t=e.meta.nodes;for(const n in e.inputNodes)if(Array.isArray(e.inputNodes[n])){const i=[];for(const s of e.inputNodes[n])i.push(t[s]);this[n]=i}else if(typeof e.inputNodes[n]=="object"){const i={};for(const s in e.inputNodes[n]){const o=e.inputNodes[n][s];i[s]=t[o]}this[n]=i}else{const i=e.inputNodes[n];this[n]=t[i]}}}toJSON(e){const{uuid:t,type:n}=this,i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{},nodes:{}});let s=e.nodes[t];s===void 0&&(s={uuid:t,type:n,meta:e,metadata:{version:4.7,type:"Node",generator:"Node.toJSON"}},i!==!0&&(e.nodes[s.uuid]=s),this.serialize(s),delete s.meta);function o(u){const h=[];for(const d in u){const m=u[d];delete m.metadata,h.push(m)}return h}if(i){const u=o(e.textures),h=o(e.images),d=o(e.nodes);u.length>0&&(s.textures=u),h.length>0&&(s.images=h),d.length>0&&(s.nodes=d)}return s}}class g2 extends $e{static get type(){return"ArrayElementNode"}constructor(e,t){super(),this.node=e,this.indexNode=t,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}generate(e){const t=this.indexNode.getNodeType(e),n=this.node.build(e),i=this.indexNode.build(e,!e.isVector(t)&&e.isInteger(t)?t:"uint");return`${n}[ ${i} ]`}}class Vp extends $e{static get type(){return"ConvertNode"}constructor(e,t){super(),this.node=e,this.convertTo=t}getNodeType(e){const t=this.node.getNodeType(e);let n=null;for(const i of this.convertTo.split("|"))(n===null||e.getTypeLength(t)===e.getTypeLength(i))&&(n=i);return n}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,t){const n=this.node,i=this.getNodeType(e),s=n.build(e,i);return e.format(s,i,t)}}class _0 extends $e{static get type(){return"TempNode"}constructor(e=null){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,t){if(e.getBuildStage()==="generate"){const i=e.getVectorType(this.getNodeType(e,t)),s=e.getDataFromNode(this);if(s.propertyName!==void 0)return e.format(s.propertyName,i,t);if(i!=="void"&&t!=="void"&&this.hasDependencies(e)){const o=super.build(e,i),u=e.getVarFromNode(this,null,i),h=e.getPropertyName(u);return e.addLineFlowCode(`${h} = ${o}`,this),s.snippet=o,s.propertyName=h,e.format(s.propertyName,i,t)}}return super.build(e,t)}}class _P extends _0{static get type(){return"JoinNode"}constructor(e=[],t=null){super(t),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((t,n)=>t+e.getTypeLength(n.getNodeType(e)),0))}generate(e,t){const n=this.getNodeType(e),i=e.getTypeLength(n),s=this.nodes,o=e.getComponentType(n),u=[];let h=0;for(const m of s){if(h>=i){console.error(`THREE.TSL: Length of parameters exceeds maximum length of function '${n}()' type.`);break}let y=m.getNodeType(e),x=e.getTypeLength(y),b;h+x>i&&(console.error(`THREE.TSL: Length of '${n}()' data exceeds maximum length of output type.`),x=i-h,y=e.getTypeFromLength(x)),h+=x,b=m.build(e,y);const w=e.getComponentType(y);w!==o&&(b=e.format(b,w,o)),u.push(b)}const d=`${e.getType(n)}( ${u.join(", ")} )`;return e.format(d,n,t)}}const xP=m2.join("");class P7 extends $e{static get type(){return"SplitNode"}constructor(e,t="x"){super(),this.node=e,this.components=t,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const t of this.components)e=Math.max(m2.indexOf(t)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}generate(e,t){const n=this.node,i=e.getTypeLength(n.getNodeType(e));let s=null;if(i>1){let o=null;this.getVectorLength()>=i&&(o=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const h=n.build(e,o);this.components.length===i&&this.components===xP.slice(0,this.components.length)?s=e.format(h,o,t):s=e.format(`${h}.${this.components}`,this.getNodeType(e),t)}else s=n.build(e,t);return s}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}class bP extends _0{static get type(){return"SetNode"}constructor(e,t,n){super(),this.sourceNode=e,this.components=t,this.targetNode=n}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:t,components:n,targetNode:i}=this,s=this.getNodeType(e),o=e.getComponentType(i.getNodeType(e)),u=e.getTypeFromLength(n.length,o),h=i.build(e,u),d=t.build(e,s),m=e.getTypeLength(s),y=[];for(let x=0;x<m;x++){const b=m2[x];b===n[0]?(y.push(h),x+=n.length-1):y.push(d+"."+b)}return`${e.getType(s)}( ${y.join(", ")} )`}}class TP extends _0{static get type(){return"FlipNode"}constructor(e,t){super(),this.sourceNode=e,this.components=t}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{components:t,sourceNode:n}=this,i=this.getNodeType(e),s=n.build(e),o=e.getVarFromNode(this),u=e.getPropertyName(o);e.addLineFlowCode(u+" = "+s,this);const h=e.getTypeLength(i),d=[];let m=0;for(let y=0;y<h;y++){const x=m2[y];x===t[m]?(d.push("1.0 - "+(u+"."+x)),m++):d.push(u+"."+x)}return`${e.getType(i)}( ${d.join(", ")} )`}}class z9 extends $e{static get type(){return"InputNode"}constructor(e,t=null){super(t),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?di(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=di(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=kp(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?Ip(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){console.warn("Abstract function.")}}const Vc=/float|u?int/;class Ir extends z9{static get type(){return"ConstNode"}constructor(e,t=null){super(e,t),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,t){const n=this.getNodeType(e);return Vc.test(n)&&Vc.test(t)?e.generateConst(t,this.value):e.format(this.generateConst(e),n,t)}}class wP extends $e{static get type(){return"MemberNode"}constructor(e,t){super(),this.node=e,this.property=t,this.isMemberNode=!0}getNodeType(e){return this.node.getMemberType(e,this.property)}generate(e){return this.node.build(e)+"."+this.property}}let f2=null;const os=new Map;function me(r,e){if(os.has(r)){console.warn(`THREE.TSL: Redefinition of method chaining '${r}'.`);return}if(typeof e!="function")throw new Error(`THREE.TSL: Node element ${r} is not a function`);os.set(r,e)}const zp=r=>r.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),zc=r=>zp(r).split("").sort().join(""),Hp={setup(r,e){const t=e.shift();return r(d4(t),...e)},get(r,e,t){if(typeof e=="string"&&r[e]===void 0){if(r.isStackNode!==!0&&e==="assign")return(...n)=>(f2.assign(t,...n),t);if(os.has(e)){const n=os.get(e);return r.isStackNode?(...i)=>t.add(n(...i)):(...i)=>n(t,...i)}else{if(e==="self")return r;if(e.endsWith("Assign")&&os.has(e.slice(0,e.length-6))){const n=os.get(e.slice(0,e.length-6));return r.isStackNode?(...i)=>t.assign(i[0],n(...i)):(...i)=>t.assign(n(t,...i))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0)return e=zp(e),ge(new P7(t,e));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=zc(e.slice(3).toLowerCase()),n=>ge(new bP(r,e,ge(n)));if(/^flip[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=zc(e.slice(4).toLowerCase()),()=>ge(new TP(ge(r),e));if(e==="width"||e==="height"||e==="depth")return e==="width"?e="x":e==="height"?e="y":e==="depth"&&(e="z"),ge(new P7(r,e));if(/^\d+$/.test(e)===!0)return ge(new g2(t,new Ir(Number(e),"uint")));if(/^get$/.test(e)===!0)return n=>ge(new wP(t,n))}}}return Reflect.get(r,e,t)},set(r,e,t,n){return typeof e=="string"&&r[e]===void 0&&(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0||e==="width"||e==="height"||e==="depth"||/^\d+$/.test(e)===!0)?(n[e].assign(t),!0):Reflect.set(r,e,t,n)}},q8=new WeakMap,Hc=new WeakMap,SP=function(r,e=null){const t=di(r);if(t==="node"){let n=q8.get(r);return n===void 0&&(n=new Proxy(r,Hp),q8.set(r,n),q8.set(n,n)),n}else{if(e===null&&(t==="float"||t==="boolean")||t&&t!=="shader"&&t!=="string")return ge(B7(r,e));if(t==="shader")return se(r)}return r},EP=function(r,e=null){for(const t in r)r[t]=ge(r[t],e);return r},NP=function(r,e=null){const t=r.length;for(let n=0;n<t;n++)r[n]=ge(r[n],e);return r},MP=function(r,e=null,t=null,n=null){const i=m=>ge(n!==null?Object.assign(m,n):m);let s,o=e,u,h;function d(m){let y;return o?y=/[a-z]/i.test(o)?o+"()":o:y=r.type,u!==void 0&&m.length<u?(console.error(`THREE.TSL: "${y}" parameter length is less than minimum required.`),m.concat(new Array(u-m.length).fill(0))):h!==void 0&&m.length>h?(console.error(`THREE.TSL: "${y}" parameter length exceeds limit.`),m.slice(0,h)):m}return e===null?s=(...m)=>i(new r(...r2(d(m)))):t!==null?(t=ge(t),s=(...m)=>i(new r(e,...r2(d(m)),t))):s=(...m)=>i(new r(e,...r2(d(m)))),s.setParameterLength=(...m)=>(m.length===1?u=h=m[0]:m.length===2&&([u,h]=m),s),s.setName=m=>(o=m,s),s},RP=function(r,...e){return ge(new r(...r2(e)))};class CP extends $e{constructor(e,t){super(),this.shaderNode=e,this.inputNodes=t,this.isShaderCallNodeInternal=!0}getNodeType(e){return this.shaderNode.nodeType||this.getOutputNode(e).getNodeType(e)}getMemberType(e,t){return this.getOutputNode(e).getMemberType(e,t)}call(e){const{shaderNode:t,inputNodes:n}=this,i=e.getNodeProperties(t),s=t.namespace&&t.namespace===e.namespace?e.getNamespace("once"):"once";if(i[s])return i[s];let o=null;if(t.layout){let u=Hc.get(e.constructor);u===void 0&&(u=new WeakMap,Hc.set(e.constructor,u));let h=u.get(t);h===void 0&&(h=ge(e.buildFunctionNode(t)),u.set(t,h)),e.addInclude(h),o=ge(h.call(n))}else{const u=t.jsFunc,h=n!==null||u.length>1?u(n||[],e):u(e);o=ge(h)}return t.once&&(i[s]=o),o}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}getOutputNode(e){const t=e.getNodeProperties(this),n=e.getOutputNamespace();return t[n]=t[n]||this.setupOutput(e),t[n]}build(e,t=null){let n=null;const i=e.getBuildStage(),s=e.getNodeProperties(this),o=e.getOutputNamespace(),u=this.getOutputNode(e);if(i==="setup"){const h=e.getNamespace("initialized");s[h]!==!0&&(s[h]=!0,s[o]=this.getOutputNode(e),s[o].build(e)),n=s[o]}else i==="analyze"?u.build(e,t):i==="generate"&&(n=u.build(e,t)||"");return n}}class PP extends $e{constructor(e,t){super(t),this.jsFunc=e,this.layout=null,this.global=!0,this.once=!1,this.namespace=null}setLayout(e){return this.layout=e,this}call(e=null){return d4(e),ge(new CP(this,e))}setup(){return this.call()}}const BP=[!1,!0],DP=[0,1,2,3],FP=[-1,-2],jp=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],H9=new Map;for(const r of BP)H9.set(r,new Ir(r));const j9=new Map;for(const r of DP)j9.set(r,new Ir(r,"uint"));const $9=new Map([...j9].map(r=>new Ir(r.value,"int")));for(const r of FP)$9.set(r,new Ir(r,"int"));const u5=new Map([...$9].map(r=>new Ir(r.value)));for(const r of jp)u5.set(r,new Ir(r));for(const r of jp)u5.set(-r,new Ir(-r));const c5={bool:H9,uint:j9,ints:$9,float:u5},jc=new Map([...H9,...u5]),B7=(r,e)=>jc.has(r)?jc.get(r):r.isNode===!0?r:new Ir(r,e),LP=r=>{try{return r.getNodeType()}catch{return}},C0=function(r,e=null){return(...t)=>{if((t.length===0||!["bool","float","int","uint"].includes(r)&&t.every(i=>typeof i!="object"))&&(t=[Ip(r,...t)]),t.length===1&&e!==null&&e.has(t[0]))return ge(e.get(t[0]));if(t.length===1){const i=B7(t[0],r);return LP(i)===r?ge(i):ge(new Vp(i,r))}const n=t.map(i=>B7(i));return ge(new _P(n,r))}},e4=r=>typeof r=="object"&&r!==null?r.value:r,$p=r=>r!=null?r.nodeType||r.convertTo||(typeof r=="string"?r:null):null;function as(r,e){return new Proxy(new PP(r,e),Hp)}const ge=(r,e=null)=>SP(r,e),d4=(r,e=null)=>new EP(r,e),r2=(r,e=null)=>new NP(r,e),_e=(...r)=>new MP(...r),Pe=(...r)=>new RP(...r);let qP=0;const se=(r,e=null)=>{let t=null;e!==null&&(typeof e=="object"?t=e.return:(typeof e=="string"?t=e:console.error("THREE.TSL: Invalid layout type."),e=null));const n=new as(r,t),i=(...s)=>{let o;d4(s),s[0]&&(s[0].isNode||Object.getPrototypeOf(s[0])!==Object.prototype)?o=[...s]:o=s[0];const h=n.call(o);return t==="void"&&h.toStack(),h};if(i.shaderNode=n,i.id=n.id,i.getNodeType=(...s)=>n.getNodeType(...s),i.getCacheKey=(...s)=>n.getCacheKey(...s),i.setLayout=s=>(n.setLayout(s),i),i.once=(s=null)=>(n.once=!0,n.namespace=s,i),e!==null){if(typeof e.inputs!="object"){const s={name:"fn"+qP++,type:t,inputs:[]};for(const o in e)o!=="return"&&s.inputs.push({name:o,type:e[o]});e=s}i.setLayout(e)}return i},t4=r=>{f2=r},W9=()=>f2,lt=(...r)=>f2.If(...r),IP=(...r)=>f2.Switch(...r);function h5(r){return f2&&f2.add(r),r}me("toStack",h5);const Wp=new C0("color"),j=new C0("float",c5.float),Z=new C0("int",c5.ints),Fe=new C0("uint",c5.uint),a1=new C0("bool",c5.bool),xe=new C0("vec2"),P0=new C0("ivec2"),Qp=new C0("uvec2"),Yp=new C0("bvec2"),re=new C0("vec3"),Xp=new C0("ivec3"),Bs=new C0("uvec3"),Q9=new C0("bvec3"),Ve=new C0("vec4"),Kp=new C0("ivec4"),Zp=new C0("uvec4"),Jp=new C0("bvec4"),f5=new C0("mat2"),on=new C0("mat3"),i2=new C0("mat4"),OP=(r="")=>ge(new Ir(r,"string")),kP=r=>ge(new Ir(r,"ArrayBuffer"));me("toColor",Wp);me("toFloat",j);me("toInt",Z);me("toUint",Fe);me("toBool",a1);me("toVec2",xe);me("toIVec2",P0);me("toUVec2",Qp);me("toBVec2",Yp);me("toVec3",re);me("toIVec3",Xp);me("toUVec3",Bs);me("toBVec3",Q9);me("toVec4",Ve);me("toIVec4",Kp);me("toUVec4",Zp);me("toBVec4",Jp);me("toMat2",f5);me("toMat3",on);me("toMat4",i2);const em=_e(g2).setParameterLength(2),tm=(r,e)=>ge(new Vp(ge(r),e)),UP=(r,e)=>ge(new P7(ge(r),e));me("element",em);me("convert",tm);const GP=r=>(console.warn("THREE.TSL: append() has been renamed to Stack()."),h5(r));me("append",r=>(console.warn("THREE.TSL: .append() has been renamed to .toStack()."),h5(r)));const VP=(...r)=>(console.warn("THREE.TSL: tslFn() has been renamed to Fn()."),se(...r));class kt extends $e{static get type(){return"PropertyNode"}constructor(e,t=null,n=!1){super(e),this.name=t,this.varying=n,this.isPropertyNode=!0,this.global=!0}getHash(e){return this.name||super.getHash(e)}generate(e){let t;return this.varying===!0?(t=e.getVaryingFromNode(this,this.name),t.needsInterpolation=!0):t=e.getVarFromNode(this,this.name),e.getPropertyName(t)}}const Ds=(r,e)=>ge(new kt(r,e)),n4=(r,e)=>ge(new kt(r,e,!0)),Bt=Pe(kt,"vec4","DiffuseColor"),D7=Pe(kt,"vec3","EmissiveColor"),Zr=Pe(kt,"float","Roughness"),r4=Pe(kt,"float","Metalness"),Va=Pe(kt,"float","Clearcoat"),i4=Pe(kt,"float","ClearcoatRoughness"),Zi=Pe(kt,"vec3","Sheen"),d5=Pe(kt,"float","SheenRoughness"),p5=Pe(kt,"float","Iridescence"),Y9=Pe(kt,"float","IridescenceIOR"),X9=Pe(kt,"float","IridescenceThickness"),za=Pe(kt,"float","AlphaT"),Ai=Pe(kt,"float","Anisotropy"),Bo=Pe(kt,"vec3","AnisotropyT"),s2=Pe(kt,"vec3","AnisotropyB"),vn=Pe(kt,"color","SpecularColor"),s4=Pe(kt,"float","SpecularF90"),Ha=Pe(kt,"float","Shininess"),ms=Pe(kt,"vec4","Output"),j3=Pe(kt,"float","dashSize"),F7=Pe(kt,"float","gapSize"),zP=Pe(kt,"float","pointWidth"),Do=Pe(kt,"float","IOR"),ja=Pe(kt,"float","Transmission"),K9=Pe(kt,"float","Thickness"),Z9=Pe(kt,"float","AttenuationDistance"),J9=Pe(kt,"color","AttenuationColor"),eA=Pe(kt,"float","Dispersion");class nm extends $e{static get type(){return"UniformGroupNode"}constructor(e,t=!1,n=1){super("string"),this.name=e,this.shared=t,this.order=n,this.isUniformGroup=!0}serialize(e){super.serialize(e),e.name=this.name,e.version=this.version,e.shared=this.shared}deserialize(e){super.deserialize(e),this.name=e.name,this.version=e.version,this.shared=e.shared}}const rm=r=>new nm(r),m5=(r,e=0)=>new nm(r,!0,e),im=m5("frame"),He=m5("render"),tA=rm("object");class p4 extends z9{static get type(){return"UniformNode"}constructor(e,t=null){super(e,t),this.isUniformNode=!0,this.name="",this.groupNode=tA}label(e){return this.name=e,this}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,t){const n=this.getSelf();return e=e.bind(n),super.onUpdate(i=>{const s=e(i,n);s!==void 0&&(this.value=s)},t)}generate(e,t){const n=this.getNodeType(e),i=this.getUniformHash(e);let s=e.getNodeFromHash(i);s===void 0&&(e.setHashNode(this,i),s=this);const o=s.getInputType(e),u=e.getUniformFromNode(s,o,e.shaderStage,this.name||e.context.label),h=e.getPropertyName(u);return e.context.label!==void 0&&delete e.context.label,e.format(h,n,t)}}const ze=(r,e)=>{const t=$p(e||r),n=r&&r.isNode===!0?r.node&&r.node.value||r.value:r;return ge(new p4(n,t))};class $c extends _0{static get type(){return"ArrayNode"}constructor(e,t,n=null){super(e),this.count=t,this.values=n,this.isArrayNode=!0}getNodeType(e){return this.nodeType===null&&(this.nodeType=this.values[0].getNodeType(e)),this.nodeType}getElementType(e){return this.getNodeType(e)}generate(e){const t=this.getNodeType(e);return e.generateArray(t,this.count,this.values)}}const sm=(...r)=>{let e;if(r.length===1){const t=r[0];e=new $c(null,t.length,t)}else{const t=r[0],n=r[1];e=new $c(t,n)}return ge(e)};me("toArray",(r,e)=>sm(Array(e).fill(r)));class HP extends _0{static get type(){return"AssignNode"}constructor(e,t){super(),this.targetNode=e,this.sourceNode=t,this.isAssignNode=!0}hasDependencies(){return!1}getNodeType(e,t){return t!=="void"?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:t}=this;if(e.isAvailable("swizzleAssign")===!1&&t.isSplitNode&&t.components.length>1){const n=e.getTypeLength(t.node.getNodeType(e));return m2.join("").slice(0,n)!==t.components}return!1}setup(e){const{targetNode:t,sourceNode:n}=this,i=e.getNodeProperties(this);i.sourceNode=n,i.targetNode=t.context({assign:!0})}generate(e,t){const{targetNode:n,sourceNode:i}=e.getNodeProperties(this),s=this.needsSplitAssign(e),o=n.getNodeType(e),u=n.build(e),h=i.build(e,o),d=i.getNodeType(e),m=e.getDataFromNode(this);let y;if(m.initialized===!0)t!=="void"&&(y=u);else if(s){const x=e.getVarFromNode(this,null,o),b=e.getPropertyName(x);e.addLineFlowCode(`${b} = ${h}`,this);const w=n.node,N=w.node.context({assign:!0}).build(e);for(let C=0;C<w.components.length;C++){const P=w.components[C];e.addLineFlowCode(`${N}.${P} = ${b}[ ${C} ]`,this)}t!=="void"&&(y=u)}else y=`${u} = ${h}`,(t==="void"||d==="void")&&(e.addLineFlowCode(y,this),t!=="void"&&(y=u));return m.initialized=!0,e.format(y,o,t)}}const om=_e(HP).setParameterLength(2);me("assign",om);class jP extends _0{static get type(){return"FunctionCallNode"}constructor(e=null,t={}){super(),this.functionNode=e,this.parameters=t}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}generate(e){const t=[],n=this.functionNode,i=n.getInputs(e),s=this.parameters,o=(h,d)=>{const m=d.type,y=m==="pointer";let x;return y?x="&"+h.build(e):x=h.build(e,m),x};if(Array.isArray(s)){if(s.length>i.length)console.error("THREE.TSL: The number of provided parameters exceeds the expected number of inputs in 'Fn()'."),s.length=i.length;else if(s.length<i.length)for(console.error("THREE.TSL: The number of provided parameters is less than the expected number of inputs in 'Fn()'.");s.length<i.length;)s.push(j(0));for(let h=0;h<s.length;h++)t.push(o(s[h],i[h]))}else for(const h of i){const d=s[h.name];d!==void 0?t.push(o(d,h)):(console.error(`THREE.TSL: Input '${h.name}' not found in 'Fn()'.`),t.push(o(j(0),h)))}return`${n.build(e,"property")}( ${t.join(", ")} )`}}const am=(r,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?r2(e):d4(e[0]),ge(new jP(ge(r),e)));me("call",am);const $P={"==":"equal","!=":"notEqual","<":"lessThan",">":"greaterThan","<=":"lessThanEqual",">=":"greaterThanEqual","%":"mod"};class A0 extends _0{static get type(){return"OperatorNode"}constructor(e,t,n,...i){if(super(),i.length>0){let s=new A0(e,t,n);for(let o=0;o<i.length-1;o++)s=new A0(e,s,i[o]);t=s,n=i[i.length-1]}this.op=e,this.aNode=t,this.bNode=n,this.isOperatorNode=!0}getOperatorMethod(e,t){return e.getMethod($P[this.op],t)}getNodeType(e){const t=this.op,n=this.aNode,i=this.bNode,s=n.getNodeType(e),o=i?i.getNodeType(e):null;if(s==="void"||o==="void")return"void";if(t==="%")return s;if(t==="~"||t==="&"||t==="|"||t==="^"||t===">>"||t==="<<")return e.getIntegerType(s);if(t==="!"||t==="&&"||t==="||"||t==="^^")return"bool";if(t==="=="||t==="!="||t==="<"||t===">"||t==="<="||t===">="){const u=Math.max(e.getTypeLength(s),e.getTypeLength(o));return u>1?`bvec${u}`:"bool"}else{if(e.isMatrix(s)){if(o==="float")return s;if(e.isVector(o))return e.getVectorFromMatrix(s);if(e.isMatrix(o))return s}else if(e.isMatrix(o)){if(s==="float")return o;if(e.isVector(s))return e.getVectorFromMatrix(o)}return e.getTypeLength(o)>e.getTypeLength(s)?o:s}}generate(e,t){const n=this.op,{aNode:i,bNode:s}=this,o=this.getNodeType(e);let u=null,h=null;o!=="void"?(u=i.getNodeType(e),h=s?s.getNodeType(e):null,n==="<"||n===">"||n==="<="||n===">="||n==="=="||n==="!="?e.isVector(u)?h=u:e.isVector(h)?u=h:u!==h&&(u=h="float"):n===">>"||n==="<<"?(u=o,h=e.changeComponentType(h,"uint")):n==="%"?(u=o,h=e.isInteger(u)&&e.isInteger(h)?h:u):e.isMatrix(u)?h==="float"?h="float":e.isVector(h)?h=e.getVectorFromMatrix(u):e.isMatrix(h)||(u=h=o):e.isMatrix(h)?u==="float"?u="float":e.isVector(u)?u=e.getVectorFromMatrix(h):u=h=o:u=h=o):u=h=o;const d=i.build(e,u),m=s?s.build(e,h):null,y=e.getFunctionOperator(n);if(t!=="void"){const x=e.renderer.coordinateSystem===Oo;if(n==="=="||n==="!="||n==="<"||n===">"||n==="<="||n===">=")return x?e.isVector(u)?e.format(`${this.getOperatorMethod(e,t)}( ${d}, ${m} )`,o,t):e.format(`( ${d} ${n} ${m} )`,o,t):e.format(`( ${d} ${n} ${m} )`,o,t);if(n==="%")return e.isInteger(h)?e.format(`( ${d} % ${m} )`,o,t):e.format(`${this.getOperatorMethod(e,o)}( ${d}, ${m} )`,o,t);if(n==="!"||n==="~")return e.format(`(${n}${d})`,u,t);if(y)return e.format(`${y}( ${d}, ${m} )`,o,t);if(e.isMatrix(u)&&h==="float")return e.format(`( ${m} ${n} ${d} )`,o,t);if(u==="float"&&e.isMatrix(h))return e.format(`${d} ${n} ${m}`,o,t);{let b=`( ${d} ${n} ${m} )`;return!x&&o==="bool"&&e.isVector(u)&&e.isVector(h)&&(b=`all${b}`),e.format(b,o,t)}}else if(u!=="void")return y?e.format(`${y}( ${d}, ${m} )`,o,t):e.isMatrix(u)&&h==="float"?e.format(`${m} ${n} ${d}`,o,t):e.format(`${d} ${n} ${m}`,o,t)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const T0=_e(A0,"+").setParameterLength(2,1/0).setName("add"),wt=_e(A0,"-").setParameterLength(2,1/0).setName("sub"),At=_e(A0,"*").setParameterLength(2,1/0).setName("mul"),hr=_e(A0,"/").setParameterLength(2,1/0).setName("div"),m4=_e(A0,"%").setParameterLength(2).setName("mod"),nA=_e(A0,"==").setParameterLength(2).setName("equal"),Am=_e(A0,"!=").setParameterLength(2).setName("notEqual"),lm=_e(A0,"<").setParameterLength(2).setName("lessThan"),rA=_e(A0,">").setParameterLength(2).setName("greaterThan"),um=_e(A0,"<=").setParameterLength(2).setName("lessThanEqual"),cm=_e(A0,">=").setParameterLength(2).setName("greaterThanEqual"),hm=_e(A0,"&&").setParameterLength(2,1/0).setName("and"),fm=_e(A0,"||").setParameterLength(2,1/0).setName("or"),dm=_e(A0,"!").setParameterLength(1).setName("not"),pm=_e(A0,"^^").setParameterLength(2).setName("xor"),mm=_e(A0,"&").setParameterLength(2).setName("bitAnd"),gm=_e(A0,"~").setParameterLength(2).setName("bitNot"),ym=_e(A0,"|").setParameterLength(2).setName("bitOr"),vm=_e(A0,"^").setParameterLength(2).setName("bitXor"),_m=_e(A0,"<<").setParameterLength(2).setName("shiftLeft"),xm=_e(A0,">>").setParameterLength(2).setName("shiftRight"),bm=se(([r])=>(r.addAssign(1),r)),Tm=se(([r])=>(r.subAssign(1),r)),wm=se(([r])=>{const e=Z(r).toConst();return r.addAssign(1),e}),Sm=se(([r])=>{const e=Z(r).toConst();return r.subAssign(1),e});me("add",T0);me("sub",wt);me("mul",At);me("div",hr);me("mod",m4);me("equal",nA);me("notEqual",Am);me("lessThan",lm);me("greaterThan",rA);me("lessThanEqual",um);me("greaterThanEqual",cm);me("and",hm);me("or",fm);me("not",dm);me("xor",pm);me("bitAnd",mm);me("bitNot",gm);me("bitOr",ym);me("bitXor",vm);me("shiftLeft",_m);me("shiftRight",xm);me("incrementBefore",bm);me("decrementBefore",Tm);me("increment",wm);me("decrement",Sm);const Em=(r,e)=>(console.warn('THREE.TSL: "remainder()" is deprecated. Use "mod( int( ... ) )" instead.'),m4(r,e)),Nm=(r,e)=>(console.warn('THREE.TSL: "modInt()" is deprecated. Use "mod( int( ... ) )" instead.'),m4(Z(r),Z(e)));me("remainder",Em);me("modInt",Nm);class Ae extends _0{static get type(){return"MathNode"}constructor(e,t,n=null,i=null){if(super(),(e===Ae.MAX||e===Ae.MIN)&&arguments.length>3){let s=new Ae(e,t,n);for(let o=2;o<arguments.length-1;o++)s=new Ae(e,s,arguments[o]);t=s,n=arguments[arguments.length-1],i=null}this.method=e,this.aNode=t,this.bNode=n,this.cNode=i,this.isMathNode=!0}getInputType(e){const t=this.aNode.getNodeType(e),n=this.bNode?this.bNode.getNodeType(e):null,i=this.cNode?this.cNode.getNodeType(e):null,s=e.isMatrix(t)?0:e.getTypeLength(t),o=e.isMatrix(n)?0:e.getTypeLength(n),u=e.isMatrix(i)?0:e.getTypeLength(i);return s>o&&s>u?t:o>u?n:u>s?i:t}getNodeType(e){const t=this.method;return t===Ae.LENGTH||t===Ae.DISTANCE||t===Ae.DOT?"float":t===Ae.CROSS?"vec3":t===Ae.ALL||t===Ae.ANY?"bool":t===Ae.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):this.getInputType(e)}setup(e){const{aNode:t,bNode:n,method:i}=this;let s=null;if(i===Ae.ONE_MINUS)s=wt(1,t);else if(i===Ae.RECIPROCAL)s=hr(1,t);else if(i===Ae.DIFFERENCE)s=Zt(wt(t,n));else if(i===Ae.TRANSFORM_DIRECTION){let o=t,u=n;e.isMatrix(o.getNodeType(e))?u=Ve(re(u),0):o=Ve(re(o),0);const h=At(o,u).xyz;s=G1(h)}return s!==null?s:super.setup(e)}generate(e,t){if(e.getNodeProperties(this).outputNode)return super.generate(e,t);let i=this.method;const s=this.getNodeType(e),o=this.getInputType(e),u=this.aNode,h=this.bNode,d=this.cNode,m=e.renderer.coordinateSystem;if(i===Ae.NEGATE)return e.format("( - "+u.build(e,o)+" )",s,t);{const y=[];return i===Ae.CROSS?y.push(u.build(e,s),h.build(e,s)):m===Oo&&i===Ae.STEP?y.push(u.build(e,e.getTypeLength(u.getNodeType(e))===1?"float":o),h.build(e,o)):m===Oo&&(i===Ae.MIN||i===Ae.MAX)?y.push(u.build(e,o),h.build(e,e.getTypeLength(h.getNodeType(e))===1?"float":o)):i===Ae.REFRACT?y.push(u.build(e,o),h.build(e,o),d.build(e,"float")):i===Ae.MIX?y.push(u.build(e,o),h.build(e,o),d.build(e,e.getTypeLength(d.getNodeType(e))===1?"float":o)):(m===Ps&&i===Ae.ATAN&&h!==null&&(i="atan2"),e.shaderStage!=="fragment"&&(i===Ae.DFDX||i===Ae.DFDY)&&(console.warn(`THREE.TSL: '${i}' is not supported in the ${e.shaderStage} stage.`),i="/*"+i+"*/"),y.push(u.build(e,o)),h!==null&&y.push(h.build(e,o)),d!==null&&y.push(d.build(e,o))),e.format(`${e.getMethod(i,s)}( ${y.join(", ")} )`,s,t)}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}Ae.ALL="all";Ae.ANY="any";Ae.RADIANS="radians";Ae.DEGREES="degrees";Ae.EXP="exp";Ae.EXP2="exp2";Ae.LOG="log";Ae.LOG2="log2";Ae.SQRT="sqrt";Ae.INVERSE_SQRT="inversesqrt";Ae.FLOOR="floor";Ae.CEIL="ceil";Ae.NORMALIZE="normalize";Ae.FRACT="fract";Ae.SIN="sin";Ae.COS="cos";Ae.TAN="tan";Ae.ASIN="asin";Ae.ACOS="acos";Ae.ATAN="atan";Ae.ABS="abs";Ae.SIGN="sign";Ae.LENGTH="length";Ae.NEGATE="negate";Ae.ONE_MINUS="oneMinus";Ae.DFDX="dFdx";Ae.DFDY="dFdy";Ae.ROUND="round";Ae.RECIPROCAL="reciprocal";Ae.TRUNC="trunc";Ae.FWIDTH="fwidth";Ae.TRANSPOSE="transpose";Ae.BITCAST="bitcast";Ae.EQUALS="equals";Ae.MIN="min";Ae.MAX="max";Ae.STEP="step";Ae.REFLECT="reflect";Ae.DISTANCE="distance";Ae.DIFFERENCE="difference";Ae.DOT="dot";Ae.CROSS="cross";Ae.POW="pow";Ae.TRANSFORM_DIRECTION="transformDirection";Ae.MIX="mix";Ae.CLAMP="clamp";Ae.REFRACT="refract";Ae.SMOOTHSTEP="smoothstep";Ae.FACEFORWARD="faceforward";const Mm=j(1e-6),WP=j(1e6),$a=j(Math.PI),QP=j(Math.PI*2),Rm=_e(Ae,Ae.ALL).setParameterLength(1),Cm=_e(Ae,Ae.ANY).setParameterLength(1),Pm=_e(Ae,Ae.RADIANS).setParameterLength(1),Bm=_e(Ae,Ae.DEGREES).setParameterLength(1),iA=_e(Ae,Ae.EXP).setParameterLength(1),Es=_e(Ae,Ae.EXP2).setParameterLength(1),g5=_e(Ae,Ae.LOG).setParameterLength(1),n1=_e(Ae,Ae.LOG2).setParameterLength(1),p1=_e(Ae,Ae.SQRT).setParameterLength(1),sA=_e(Ae,Ae.INVERSE_SQRT).setParameterLength(1),r1=_e(Ae,Ae.FLOOR).setParameterLength(1),y5=_e(Ae,Ae.CEIL).setParameterLength(1),G1=_e(Ae,Ae.NORMALIZE).setParameterLength(1),j1=_e(Ae,Ae.FRACT).setParameterLength(1),kn=_e(Ae,Ae.SIN).setParameterLength(1),S1=_e(Ae,Ae.COS).setParameterLength(1),Dm=_e(Ae,Ae.TAN).setParameterLength(1),Fm=_e(Ae,Ae.ASIN).setParameterLength(1),oA=_e(Ae,Ae.ACOS).setParameterLength(1),aA=_e(Ae,Ae.ATAN).setParameterLength(1,2),Zt=_e(Ae,Ae.ABS).setParameterLength(1),o4=_e(Ae,Ae.SIGN).setParameterLength(1),i1=_e(Ae,Ae.LENGTH).setParameterLength(1),Lm=_e(Ae,Ae.NEGATE).setParameterLength(1),qm=_e(Ae,Ae.ONE_MINUS).setParameterLength(1),AA=_e(Ae,Ae.DFDX).setParameterLength(1),lA=_e(Ae,Ae.DFDY).setParameterLength(1),Im=_e(Ae,Ae.ROUND).setParameterLength(1),Om=_e(Ae,Ae.RECIPROCAL).setParameterLength(1),uA=_e(Ae,Ae.TRUNC).setParameterLength(1),km=_e(Ae,Ae.FWIDTH).setParameterLength(1),Um=_e(Ae,Ae.TRANSPOSE).setParameterLength(1),YP=_e(Ae,Ae.BITCAST).setParameterLength(2),Gm=(r,e)=>(console.warn('THREE.TSL: "equals" is deprecated. Use "equal" inside a vector instead, like: "bvec*( equal( ... ) )"'),nA(r,e)),Mn=_e(Ae,Ae.MIN).setParameterLength(2,1/0),h0=_e(Ae,Ae.MAX).setParameterLength(2,1/0),v5=_e(Ae,Ae.STEP).setParameterLength(2),Vm=_e(Ae,Ae.REFLECT).setParameterLength(2),zm=_e(Ae,Ae.DISTANCE).setParameterLength(2),Hm=_e(Ae,Ae.DIFFERENCE).setParameterLength(2),Si=_e(Ae,Ae.DOT).setParameterLength(2),_5=_e(Ae,Ae.CROSS).setParameterLength(2),Rr=_e(Ae,Ae.POW).setParameterLength(2),cA=_e(Ae,Ae.POW,2).setParameterLength(1),jm=_e(Ae,Ae.POW,3).setParameterLength(1),$m=_e(Ae,Ae.POW,4).setParameterLength(1),Wm=_e(Ae,Ae.TRANSFORM_DIRECTION).setParameterLength(2),Qm=r=>At(o4(r),Rr(Zt(r),1/3)),hA=r=>Si(r,r),It=_e(Ae,Ae.MIX).setParameterLength(3),A1=(r,e=0,t=1)=>ge(new Ae(Ae.CLAMP,ge(r),ge(e),ge(t))),fA=r=>A1(r),dA=_e(Ae,Ae.REFRACT).setParameterLength(3),l1=_e(Ae,Ae.SMOOTHSTEP).setParameterLength(3),pA=_e(Ae,Ae.FACEFORWARD).setParameterLength(3),Ym=se(([r])=>{const n=43758.5453,i=Si(r.xy,xe(12.9898,78.233)),s=m4(i,$a);return j1(kn(s).mul(n))}),Xm=(r,e,t)=>It(e,t,r),Km=(r,e,t)=>l1(e,t,r),Zm=(r,e)=>(console.warn('THREE.TSL: "atan2" is overloaded. Use "atan" instead.'),aA(r,e)),XP=pA,KP=sA;me("all",Rm);me("any",Cm);me("equals",Gm);me("radians",Pm);me("degrees",Bm);me("exp",iA);me("exp2",Es);me("log",g5);me("log2",n1);me("sqrt",p1);me("inverseSqrt",sA);me("floor",r1);me("ceil",y5);me("normalize",G1);me("fract",j1);me("sin",kn);me("cos",S1);me("tan",Dm);me("asin",Fm);me("acos",oA);me("atan",aA);me("abs",Zt);me("sign",o4);me("length",i1);me("lengthSq",hA);me("negate",Lm);me("oneMinus",qm);me("dFdx",AA);me("dFdy",lA);me("round",Im);me("reciprocal",Om);me("trunc",uA);me("fwidth",km);me("atan2",Zm);me("min",Mn);me("max",h0);me("step",v5);me("reflect",Vm);me("distance",zm);me("dot",Si);me("cross",_5);me("pow",Rr);me("pow2",cA);me("pow3",jm);me("pow4",$m);me("transformDirection",Wm);me("mix",Xm);me("clamp",A1);me("refract",dA);me("smoothstep",Km);me("faceForward",pA);me("difference",Hm);me("saturate",fA);me("cbrt",Qm);me("transpose",Um);me("rand",Ym);class ZP extends $e{static get type(){return"ConditionalNode"}constructor(e,t,n=null){super(),this.condNode=e,this.ifNode=t,this.elseNode=n}getNodeType(e){const{ifNode:t,elseNode:n}=e.getNodeProperties(this);if(t===void 0)return this.setup(e),this.getNodeType(e);const i=t.getNodeType(e);if(n!==null){const s=n.getNodeType(e);if(e.getTypeLength(s)>e.getTypeLength(i))return s}return i}setup(e){const t=this.condNode.cache(),n=this.ifNode.cache(),i=this.elseNode?this.elseNode.cache():null,s=e.context.nodeBlock;e.getDataFromNode(n).parentNodeBlock=s,i!==null&&(e.getDataFromNode(i).parentNodeBlock=s);const o=e.getNodeProperties(this);o.condNode=t,o.ifNode=n.context({nodeBlock:n}),o.elseNode=i?i.context({nodeBlock:i}):null}generate(e,t){const n=this.getNodeType(e),i=e.getDataFromNode(this);if(i.nodeProperty!==void 0)return i.nodeProperty;const{condNode:s,ifNode:o,elseNode:u}=e.getNodeProperties(this),h=e.currentFunctionNode,d=t!=="void",m=d?Ds(n).build(e):"";i.nodeProperty=m;const y=s.build(e,"bool");e.addFlowCode(`
${e.tab}if ( ${y} ) {

`).addFlowTab();let x=o.build(e,n);if(x&&(d?x=m+" = "+x+";":(x="return "+x+";",h===null&&(console.warn("THREE.TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),x="// "+x))),e.removeFlowTab().addFlowCode(e.tab+"	"+x+`

`+e.tab+"}"),u!==null){e.addFlowCode(` else {

`).addFlowTab();let b=u.build(e,n);b&&(d?b=m+" = "+b+";":(b="return "+b+";",h===null&&(console.warn("THREE.TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),b="// "+b))),e.removeFlowTab().addFlowCode(e.tab+"	"+b+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return e.format(m,n,t)}}const B0=_e(ZP).setParameterLength(2,3);me("select",B0);const Jm=(...r)=>(console.warn("THREE.TSL: cond() has been renamed to select()."),B0(...r));me("cond",Jm);class eg extends $e{static get type(){return"ContextNode"}constructor(e,t={}){super(),this.isContextNode=!0,this.node=e,this.value=t}getScope(){return this.node.getScope()}getNodeType(e){return this.node.getNodeType(e)}analyze(e){const t=e.getContext();e.setContext({...e.context,...this.value}),this.node.build(e),e.setContext(t)}setup(e){const t=e.getContext();e.setContext({...e.context,...this.value}),this.node.build(e),e.setContext(t)}generate(e,t){const n=e.getContext();e.setContext({...e.context,...this.value});const i=this.node.build(e,t);return e.setContext(n),i}}const x5=_e(eg).setParameterLength(1,2),tg=(r,e)=>x5(r,{label:e});me("context",x5);me("label",tg);class $3 extends $e{static get type(){return"VarNode"}constructor(e,t=null,n=!1){super(),this.node=e,this.name=t,this.global=!0,this.isVarNode=!0,this.readOnly=n,this.parents=!0}getMemberType(e,t){return this.node.getMemberType(e,t)}getElementType(e){return this.node.getElementType(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{node:t,name:n,readOnly:i}=this,{renderer:s}=e,o=s.backend.isWebGPUBackend===!0;let u=!1,h=!1;i&&(u=e.isDeterministic(t),h=o?i:u);const d=e.getVectorType(this.getNodeType(e)),m=t.build(e,d),y=e.getVarFromNode(this,n,d,void 0,h),x=e.getPropertyName(y);let b=x;if(h)if(o)b=u?`const ${x}`:`let ${x}`;else{const w=e.getArrayCount(t);b=`const ${e.getVar(y.type,x,w)}`}return e.addLineFlowCode(`${b} = ${m}`,this),x}}const mA=_e($3),ng=(r,e=null)=>mA(r,e).toStack(),rg=(r,e=null)=>mA(r,e,!0).toStack();me("toVar",ng);me("toConst",rg);const ig=r=>(console.warn('TSL: "temp( node )" is deprecated. Use "Var( node )" or "node.toVar()" instead.'),mA(r));me("temp",ig);class JP extends $e{static get type(){return"VaryingNode"}constructor(e,t=null){super(),this.node=e,this.name=t,this.isVaryingNode=!0,this.interpolationType=null,this.interpolationSampling=null,this.global=!0}setInterpolation(e,t=null){return this.interpolationType=e,this.interpolationSampling=t,this}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const t=e.getNodeProperties(this);let n=t.varying;if(n===void 0){const i=this.name,s=this.getNodeType(e),o=this.interpolationType,u=this.interpolationSampling;t.varying=n=e.getVaryingFromNode(this,i,s,o,u),t.node=this.node}return n.needsInterpolation||(n.needsInterpolation=e.shaderStage==="fragment"),n}setup(e){this.setupVarying(e),e.flowNodeFromShaderStage(xo.VERTEX,this.node)}analyze(e){this.setupVarying(e),e.flowNodeFromShaderStage(xo.VERTEX,this.node)}generate(e){const t=e.getNodeProperties(this),n=this.setupVarying(e);if(t.propertyName===void 0){const i=this.getNodeType(e),s=e.getPropertyName(n,xo.VERTEX);e.flowNodeFromShaderStage(xo.VERTEX,this.node,i,s),t.propertyName=s}return e.getPropertyName(n)}}const zn=_e(JP).setParameterLength(1,2),sg=r=>zn(r);me("toVarying",zn);me("toVertexStage",sg);me("varying",(...r)=>(console.warn("THREE.TSL: .varying() has been renamed to .toVarying()."),zn(...r)));me("vertexStage",(...r)=>(console.warn("THREE.TSL: .vertexStage() has been renamed to .toVertexStage()."),zn(...r)));const og=se(([r])=>{const e=r.mul(.9478672986).add(.0521327014).pow(2.4),t=r.mul(.0773993808),n=r.lessThanEqual(.04045);return It(e,t,n)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),ag=se(([r])=>{const e=r.pow(.41666).mul(1.055).sub(.055),t=r.mul(12.92),n=r.lessThanEqual(.0031308);return It(e,t,n)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),gA="WorkingColorSpace",eB="OutputColorSpace";class yA extends _0{static get type(){return"ColorSpaceNode"}constructor(e,t,n){super("vec4"),this.colorNode=e,this.source=t,this.target=n}resolveColorSpace(e,t){return t===gA?W0.workingColorSpace:t===eB?e.context.outputColorSpace||e.renderer.outputColorSpace:t}setup(e){const{colorNode:t}=this,n=this.resolveColorSpace(e,this.source),i=this.resolveColorSpace(e,this.target);let s=t;return W0.enabled===!1||n===i||!n||!i||(W0.getTransfer(n)===mt&&(s=Ve(og(s.rgb),s.a)),W0.getPrimaries(n)!==W0.getPrimaries(i)&&(s=Ve(on(W0._getMatrix(new u4,n,i)).mul(s.rgb),s.a)),W0.getTransfer(i)===mt&&(s=Ve(ag(s.rgb),s.a))),s}}const Ag=(r,e)=>ge(new yA(ge(r),gA,e)),b5=(r,e)=>ge(new yA(ge(r),e,gA)),tB=(r,e,t)=>ge(new yA(ge(r),e,t));me("workingToColorSpace",Ag);me("colorSpaceToWorking",b5);let nB=class extends g2{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),n=this.referenceNode.getNodeType(),i=this.getNodeType();return e.format(t,n,i)}};class lg extends $e{static get type(){return"ReferenceBaseNode"}constructor(e,t,n=null,i=null){super(),this.property=e,this.uniformType=t,this.object=n,this.count=i,this.properties=e.split("."),this.reference=n,this.node=null,this.group=null,this.updateType=ht.OBJECT}setGroup(e){return this.group=e,this}element(e){return ge(new nB(this,ge(e)))}setNodeType(e){const t=ze(null,e).getSelf();this.group!==null&&t.setGroup(this.group),this.node=t}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:t}=this;let n=e[t[0]];for(let i=1;i<t.length;i++)n=n[t[i]];return n}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const rB=(r,e,t)=>ge(new lg(r,e,t));class iB extends lg{static get type(){return"RendererReferenceNode"}constructor(e,t,n=null){super(e,t,n),this.renderer=n,this.setGroup(He)}updateReference(e){return this.reference=this.renderer!==null?this.renderer:e.renderer,this.reference}}const ug=(r,e,t=null)=>ge(new iB(r,e,t));class sB extends _0{static get type(){return"ToneMappingNode"}constructor(e,t=hg,n=null){super("vec3"),this.toneMapping=e,this.exposureNode=t,this.colorNode=n}customCacheKey(){return ka(this.toneMapping)}setup(e){const t=this.colorNode||e.context.color,n=this.toneMapping;if(n===cs)return t;let i=null;const s=e.renderer.library.getToneMappingFunction(n);return s!==null?i=Ve(s(t.rgb,this.exposureNode),t.a):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",n),i=t),i}}const cg=(r,e,t)=>ge(new sB(r,ge(e),ge(t))),hg=ug("toneMappingExposure","float");me("toneMapping",(r,e,t)=>cg(e,t,r));class oB extends z9{static get type(){return"BufferAttributeNode"}constructor(e,t=null,n=0,i=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferStride=n,this.bufferOffset=i,this.usage=bT,this.instanced=!1,this.attribute=null,this.global=!0,e&&e.isBufferAttribute===!0&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(this.bufferStride===0&&this.bufferOffset===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const t=this.getNodeType(e),n=this.value,i=e.getTypeLength(t),s=this.bufferStride||i,o=this.bufferOffset,u=n.isInterleavedBuffer===!0?n:new Ef(n,s),h=new fi(u,i,o);u.setUsage(this.usage),this.attribute=h,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const t=this.getNodeType(e),n=e.getBufferAttributeFromNode(this,t),i=e.getPropertyName(n);let s=null;return e.shaderStage==="vertex"||e.shaderStage==="compute"?(this.name=i,s=i):s=zn(this).build(e,t),s}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}const g4=(r,e=null,t=0,n=0)=>ge(new oB(r,e,t,n)),fg=(r,e=null,t=0,n=0)=>g4(r,e,t,n).setUsage(es),Wa=(r,e=null,t=0,n=0)=>g4(r,e,t,n).setInstanced(!0),L7=(r,e=null,t=0,n=0)=>fg(r,e,t,n).setInstanced(!0);me("toAttribute",r=>g4(r.value));class aB extends $e{static get type(){return"ComputeNode"}constructor(e,t,n=[64]){super("void"),this.isComputeNode=!0,this.computeNode=e,this.count=t,this.workgroupSize=n,this.dispatchCount=0,this.version=1,this.name="",this.updateBeforeType=ht.OBJECT,this.onInitFunction=null,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}label(e){return this.name=e,this}updateDispatchCount(){const{count:e,workgroupSize:t}=this;let n=t[0];for(let i=1;i<t.length;i++)n*=t[i];this.dispatchCount=Math.ceil(e/n)}onInit(e){return this.onInitFunction=e,this}updateBefore({renderer:e}){e.compute(this)}setup(e){const t=this.computeNode.build(e);if(t){const n=e.getNodeProperties(this);n.outputComputeNode=t.outputNode,t.outputNode=null}return t}generate(e,t){const{shaderStage:n}=e;if(n==="compute"){const i=this.computeNode.build(e,"void");i!==""&&e.addLineFlowCode(i,this)}else{const s=e.getNodeProperties(this).outputComputeNode;if(s)return s.build(e,t)}}}const dg=(r,e,t)=>ge(new aB(ge(r),e,t));me("compute",dg);class AB extends $e{static get type(){return"CacheNode"}constructor(e,t=!0){super(),this.node=e,this.parent=t,this.isCacheNode=!0}getNodeType(e){const t=e.getCache(),n=e.getCacheFromNode(this,this.parent);e.setCache(n);const i=this.node.getNodeType(e);return e.setCache(t),i}build(e,...t){const n=e.getCache(),i=e.getCacheFromNode(this,this.parent);e.setCache(i);const s=this.node.build(e,...t);return e.setCache(n),s}}const Fo=(r,e)=>ge(new AB(ge(r),e)),pg=(r,e)=>r.context({namespace:e});me("cache",Fo);class lB extends $e{static get type(){return"BypassNode"}constructor(e,t){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=t}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const t=this.callNode.build(e,"void");return t!==""&&e.addLineFlowCode(t,this),this.outputNode.build(e)}}const mg=_e(lB).setParameterLength(2);me("bypass",mg);class gg extends $e{static get type(){return"RemapNode"}constructor(e,t,n,i=j(0),s=j(1)){super(),this.node=e,this.inLowNode=t,this.inHighNode=n,this.outLowNode=i,this.outHighNode=s,this.doClamp=!0}setup(){const{node:e,inLowNode:t,inHighNode:n,outLowNode:i,outHighNode:s,doClamp:o}=this;let u=e.sub(t).div(n.sub(t));return o===!0&&(u=u.clamp()),u.mul(s.sub(i)).add(i)}}const yg=_e(gg,null,null,{doClamp:!1}).setParameterLength(3,5),vg=_e(gg).setParameterLength(3,5);me("remap",yg);me("remapClamp",vg);class W3 extends $e{static get type(){return"ExpressionNode"}constructor(e="",t="void"){super(t),this.snippet=e}generate(e,t){const n=this.getNodeType(e),i=this.snippet;if(n==="void")e.addLineFlowCode(i,this);else return e.format(i,n,t)}}const V1=_e(W3).setParameterLength(1,2),_g=r=>(r?B0(r,V1("discard")):V1("discard")).toStack(),uB=()=>V1("return").toStack();me("discard",_g);class cB extends _0{static get type(){return"RenderOutputNode"}constructor(e,t,n){super("vec4"),this.colorNode=e,this.toneMapping=t,this.outputColorSpace=n,this.isRenderOutputNode=!0}setup({context:e}){let t=this.colorNode||e.color;const n=(this.toneMapping!==null?this.toneMapping:e.toneMapping)||cs,i=(this.outputColorSpace!==null?this.outputColorSpace:e.outputColorSpace)||l2;return n!==cs&&(t=t.toneMapping(n)),i!==l2&&i!==W0.workingColorSpace&&(t=t.workingToColorSpace(i)),t}}const xg=(r,e=null,t=null)=>ge(new cB(ge(r),e,t));me("renderOutput",xg);class hB extends _0{static get type(){return"DebugNode"}constructor(e,t=null){super(),this.node=e,this.callback=t}getNodeType(e){return this.node.getNodeType(e)}setup(e){return this.node.build(e)}analyze(e){return this.node.build(e)}generate(e){const t=this.callback,n=this.node.build(e),i="--- TSL debug - "+e.shaderStage+" shader ---",s="-".repeat(i.length);let o="";return o+="// #"+i+`#
`,o+=e.flow.code.replace(/^\t/mg,"")+`
`,o+="/* ... */ "+n+` /* ... */
`,o+="// #"+s+`#
`,t!==null?t(e,o):console.log(o),n}}const bg=(r,e=null)=>ge(new hB(ge(r),e));me("debug",bg);function fB(r){console.warn("THREE.TSL: AddNodeElement has been removed in favor of tree-shaking. Trying add",r)}class Tg extends $e{static get type(){return"AttributeNode"}constructor(e,t=null){super(t),this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let t=this.nodeType;if(t===null){const n=this.getAttributeName(e);if(e.hasGeometryAttribute(n)){const i=e.geometry.getAttribute(n);t=e.getTypeFromAttribute(i)}else t="float"}return t}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const t=this.getAttributeName(e),n=this.getNodeType(e);if(e.hasGeometryAttribute(t)===!0){const s=e.geometry.getAttribute(t),o=e.getTypeFromAttribute(s),u=e.getAttribute(t,o);return e.shaderStage==="vertex"?e.format(u.name,o,n):zn(this).build(e,n)}else return console.warn(`AttributeNode: Vertex attribute "${t}" not found on geometry.`),e.generateConst(n)}serialize(e){super.serialize(e),e.global=this.global,e._attributeName=this._attributeName}deserialize(e){super.deserialize(e),this.global=e.global,this._attributeName=e._attributeName}}const z1=(r,e=null)=>ge(new Tg(r,e)),o0=(r=0)=>z1("uv"+(r>0?r:""),"vec2");class dB extends $e{static get type(){return"TextureSizeNode"}constructor(e,t=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=t}generate(e,t){const n=this.textureNode.build(e,"property"),i=this.levelNode===null?"0":this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${n}, ${i} )`,this.getNodeType(e),t)}}const vi=_e(dB).setParameterLength(1,2);class pB extends p4{static get type(){return"MaxMipLevelNode"}constructor(e){super(0),this._textureNode=e,this.updateType=ht.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const e=this.texture,t=e.images,n=t&&t.length>0?t[0]&&t[0].image||t[0]:e.image;if(n&&n.width!==void 0){const{width:i,height:s}=n;this.value=Math.log2(Math.max(i,s))}}}const wg=_e(pB).setParameterLength(1),vA=new i9;class u1 extends p4{static get type(){return"TextureNode"}constructor(e=vA,t=null,n=null,i=null){super(e),this.isTextureNode=!0,this.uvNode=t,this.levelNode=n,this.biasNode=i,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=ht.NONE,this.referenceNode=null,this._value=e,this._matrixUniform=null,this.setUpdateMatrix(t===null)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===M0?"uvec4":this.value.type===hn?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return o0(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){return this._matrixUniform===null&&(this._matrixUniform=ze(this.value.matrix)),this._matrixUniform.mul(re(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this.updateType=e?ht.OBJECT:ht.NONE,this}setupUV(e,t){const n=this.value;return e.isFlipY()&&(n.image instanceof ImageBitmap&&n.flipY===!0||n.isRenderTargetTexture===!0||n.isFramebufferTexture===!0||n.isDepthTexture===!0)&&(this.sampler?t=t.flipY():t=t.setY(Z(vi(this,this.levelNode).y).sub(t.y).sub(1))),t}setup(e){const t=e.getNodeProperties(this);t.referenceNode=this.referenceNode;const n=this.value;if(!n||n.isTexture!==!0)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");let i=this.uvNode;(i===null||e.context.forceUVContext===!0)&&e.context.getUV&&(i=e.context.getUV(this,e)),i||(i=this.getDefaultUV()),this.updateMatrix===!0&&(i=this.getTransformedUV(i)),i=this.setupUV(e,i);let s=this.levelNode;s===null&&e.context.getTextureLevel&&(s=e.context.getTextureLevel(this)),t.uvNode=i,t.levelNode=s,t.biasNode=this.biasNode,t.compareNode=this.compareNode,t.gradNode=this.gradNode,t.depthNode=this.depthNode}generateUV(e,t){return t.build(e,this.sampler===!0?"vec2":"ivec2")}generateSnippet(e,t,n,i,s,o,u,h){const d=this.value;let m;return i?m=e.generateTextureLevel(d,t,n,i,o):s?m=e.generateTextureBias(d,t,n,s,o):h?m=e.generateTextureGrad(d,t,n,h,o):u?m=e.generateTextureCompare(d,t,n,u,o):this.sampler===!1?m=e.generateTextureLoad(d,t,n,o):m=e.generateTexture(d,t,n,o),m}generate(e,t){const n=this.value,i=e.getNodeProperties(this),s=super.generate(e,"property");if(/^sampler/.test(t))return s+"_sampler";if(e.isReference(t))return s;{const o=e.getDataFromNode(this);let u=o.propertyName;if(u===void 0){const{uvNode:m,levelNode:y,biasNode:x,compareNode:b,depthNode:w,gradNode:S}=i,N=this.generateUV(e,m),C=y?y.build(e,"float"):null,P=x?x.build(e,"float"):null,B=w?w.build(e,"int"):null,q=b?b.build(e,"float"):null,D=S?[S[0].build(e,"vec2"),S[1].build(e,"vec2")]:null,I=e.getVarFromNode(this);u=e.getPropertyName(I);const U=this.generateSnippet(e,s,N,C,P,B,q,D);e.addLineFlowCode(`${u} = ${U}`,this),o.snippet=U,o.propertyName=u}let h=u;const d=this.getNodeType(e);return e.needsToWorkingColorSpace(n)&&(h=b5(V1(h,d),n.colorSpace).setup(e).build(e,d)),e.format(h,d,t)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){return console.warn("THREE.TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(e)}sample(e){const t=this.clone();return t.uvNode=ge(e),t.referenceNode=this.getSelf(),ge(t)}blur(e){const t=this.clone();t.biasNode=ge(e).mul(wg(t)),t.referenceNode=this.getSelf();const n=t.value;return t.generateMipmaps===!1&&(n&&n.generateMipmaps===!1||n.minFilter===wr||n.magFilter===wr)&&(console.warn("THREE.TSL: texture().blur() requires mipmaps and sampling. Use .generateMipmaps=true and .minFilter/.magFilter=THREE.LinearFilter in the Texture."),t.biasNode=null),ge(t)}level(e){const t=this.clone();return t.levelNode=ge(e),t.referenceNode=this.getSelf(),ge(t)}size(e){return vi(this,e)}bias(e){const t=this.clone();return t.biasNode=ge(e),t.referenceNode=this.getSelf(),ge(t)}compare(e){const t=this.clone();return t.compareNode=ge(e),t.referenceNode=this.getSelf(),ge(t)}grad(e,t){const n=this.clone();return n.gradNode=[ge(e),ge(t)],n.referenceNode=this.getSelf(),ge(n)}depth(e){const t=this.clone();return t.depthNode=ge(e),t.referenceNode=this.getSelf(),ge(t)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid,e.sampler=this.sampler,e.updateMatrix=this.updateMatrix,e.updateType=this.updateType}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value],this.sampler=e.sampler,this.updateMatrix=e.updateMatrix,this.updateType=e.updateType}update(){const e=this.value,t=this._matrixUniform;t!==null&&(t.value=e.matrix),e.matrixAutoUpdate===!0&&e.updateMatrix()}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e}}const mB=_e(u1).setParameterLength(1,4).setName("texture"),xt=(r=vA,e=null,t=null,n=null)=>{let i;return r&&r.isTextureNode===!0?(i=ge(r.clone()),i.referenceNode=r.getSelf(),e!==null&&(i.uvNode=ge(e)),t!==null&&(i.levelNode=ge(t)),n!==null&&(i.biasNode=ge(n))):i=mB(r,e,t,n),i},gB=(r=vA)=>xt(r),d0=(...r)=>xt(...r).setSampler(!1),yB=r=>(r.isNode===!0?r:xt(r)).convert("sampler"),vB=r=>(r.isNode===!0?r:xt(r)).convert("samplerComparison");class _A extends p4{static get type(){return"BufferNode"}constructor(e,t,n=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferCount=n}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const y4=(r,e,t)=>ge(new _A(r,e,t));class _B extends g2{static get type(){return"UniformArrayElementNode"}constructor(e,t){super(e,t),this.isArrayBufferElementNode=!0}generate(e){const t=super.generate(e),n=this.getNodeType(),i=this.node.getPaddedType();return e.format(t,i,n)}}class Sg extends _A{static get type(){return"UniformArrayNode"}constructor(e,t=null){super(null),this.array=e,this.elementType=t===null?di(e[0]):t,this.paddedType=this.getPaddedType(),this.updateType=ht.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const e=this.elementType;let t="vec4";return e==="mat2"?t="mat2":/mat/.test(e)===!0?t="mat4":e.charAt(0)==="i"?t="ivec4":e.charAt(0)==="u"&&(t="uvec4"),t}update(){const{array:e,value:t}=this,n=this.elementType;if(n==="float"||n==="int"||n==="uint")for(let i=0;i<e.length;i++){const s=i*4;t[s]=e[i]}else if(n==="color")for(let i=0;i<e.length;i++){const s=i*4,o=e[i];t[s]=o.r,t[s+1]=o.g,t[s+2]=o.b||0}else if(n==="mat2")for(let i=0;i<e.length;i++){const s=i*4,o=e[i];t[s]=o.elements[0],t[s+1]=o.elements[1],t[s+2]=o.elements[2],t[s+3]=o.elements[3]}else if(n==="mat3")for(let i=0;i<e.length;i++){const s=i*16,o=e[i];t[s]=o.elements[0],t[s+1]=o.elements[1],t[s+2]=o.elements[2],t[s+4]=o.elements[3],t[s+5]=o.elements[4],t[s+6]=o.elements[5],t[s+8]=o.elements[6],t[s+9]=o.elements[7],t[s+10]=o.elements[8],t[s+15]=1}else if(n==="mat4")for(let i=0;i<e.length;i++){const s=i*16,o=e[i];for(let u=0;u<o.elements.length;u++)t[s+u]=o.elements[u]}else for(let i=0;i<e.length;i++){const s=i*4,o=e[i];t[s]=o.x,t[s+1]=o.y,t[s+2]=o.z||0,t[s+3]=o.w||0}}setup(e){const t=this.array.length,n=this.elementType;let i=Float32Array;const s=this.paddedType,o=e.getTypeLength(s);return n.charAt(0)==="i"&&(i=Int32Array),n.charAt(0)==="u"&&(i=Uint32Array),this.value=new i(t*o),this.bufferCount=t,this.bufferType=s,super.setup(e)}element(e){return ge(new _B(this,ge(e)))}}const ar=(r,e)=>ge(new Sg(r,e)),xB=(r,e)=>(console.warn("THREE.TSL: uniforms() has been renamed to uniformArray()."),ge(new Sg(r,e)));class bB extends $e{constructor(e){super("float"),this.name=e,this.isBuiltinNode=!0}generate(){return this.name}}const v4=_e(bB).setParameterLength(1),T5=ze(0,"uint").label("u_cameraIndex").setGroup(m5("cameraIndex")).toVarying("v_cameraIndex"),ui=ze("float").label("cameraNear").setGroup(He).onRenderUpdate(({camera:r})=>r.near),ci=ze("float").label("cameraFar").setGroup(He).onRenderUpdate(({camera:r})=>r.far),y2=se(({camera:r})=>{let e;if(r.isArrayCamera&&r.cameras.length>0){const t=[];for(const i of r.cameras)t.push(i.projectionMatrix);e=ar(t).setGroup(He).label("cameraProjectionMatrices").element(r.isMultiViewCamera?v4("gl_ViewID_OVR"):T5).toVar("cameraProjectionMatrix")}else e=ze("mat4").label("cameraProjectionMatrix").setGroup(He).onRenderUpdate(({camera:t})=>t.projectionMatrix);return e}).once()(),TB=se(({camera:r})=>{let e;if(r.isArrayCamera&&r.cameras.length>0){const t=[];for(const i of r.cameras)t.push(i.projectionMatrixInverse);e=ar(t).setGroup(He).label("cameraProjectionMatricesInverse").element(r.isMultiViewCamera?v4("gl_ViewID_OVR"):T5).toVar("cameraProjectionMatrixInverse")}else e=ze("mat4").label("cameraProjectionMatrixInverse").setGroup(He).onRenderUpdate(({camera:t})=>t.projectionMatrixInverse);return e}).once()(),Cn=se(({camera:r})=>{let e;if(r.isArrayCamera&&r.cameras.length>0){const t=[];for(const i of r.cameras)t.push(i.matrixWorldInverse);e=ar(t).setGroup(He).label("cameraViewMatrices").element(r.isMultiViewCamera?v4("gl_ViewID_OVR"):T5).toVar("cameraViewMatrix")}else e=ze("mat4").label("cameraViewMatrix").setGroup(He).onRenderUpdate(({camera:t})=>t.matrixWorldInverse);return e}).once()(),wB=ze("mat4").label("cameraWorldMatrix").setGroup(He).onRenderUpdate(({camera:r})=>r.matrixWorld),SB=ze("mat3").label("cameraNormalMatrix").setGroup(He).onRenderUpdate(({camera:r})=>r.normalMatrix),Eg=ze(new Ce).label("cameraPosition").setGroup(He).onRenderUpdate(({camera:r},e)=>e.value.setFromMatrixPosition(r.matrixWorld)),Wc=new _9;class Tt extends $e{static get type(){return"Object3DNode"}constructor(e,t=null){super(),this.scope=e,this.object3d=t,this.updateType=ht.OBJECT,this.uniformNode=new p4(null)}getNodeType(){const e=this.scope;if(e===Tt.WORLD_MATRIX)return"mat4";if(e===Tt.POSITION||e===Tt.VIEW_POSITION||e===Tt.DIRECTION||e===Tt.SCALE)return"vec3";if(e===Tt.RADIUS)return"float"}update(e){const t=this.object3d,n=this.uniformNode,i=this.scope;if(i===Tt.WORLD_MATRIX)n.value=t.matrixWorld;else if(i===Tt.POSITION)n.value=n.value||new Ce,n.value.setFromMatrixPosition(t.matrixWorld);else if(i===Tt.SCALE)n.value=n.value||new Ce,n.value.setFromMatrixScale(t.matrixWorld);else if(i===Tt.DIRECTION)n.value=n.value||new Ce,t.getWorldDirection(n.value);else if(i===Tt.VIEW_POSITION){const s=e.camera;n.value=n.value||new Ce,n.value.setFromMatrixPosition(t.matrixWorld),n.value.applyMatrix4(s.matrixWorldInverse)}else if(i===Tt.RADIUS){const s=e.object.geometry;s.boundingSphere===null&&s.computeBoundingSphere(),Wc.copy(s.boundingSphere).applyMatrix4(t.matrixWorld),n.value=Wc.radius}}generate(e){const t=this.scope;return t===Tt.WORLD_MATRIX?this.uniformNode.nodeType="mat4":t===Tt.POSITION||t===Tt.VIEW_POSITION||t===Tt.DIRECTION||t===Tt.SCALE?this.uniformNode.nodeType="vec3":t===Tt.RADIUS&&(this.uniformNode.nodeType="float"),this.uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}Tt.WORLD_MATRIX="worldMatrix";Tt.POSITION="position";Tt.SCALE="scale";Tt.VIEW_POSITION="viewPosition";Tt.DIRECTION="direction";Tt.RADIUS="radius";const EB=_e(Tt,Tt.DIRECTION).setParameterLength(1),NB=_e(Tt,Tt.WORLD_MATRIX).setParameterLength(1),Ng=_e(Tt,Tt.POSITION).setParameterLength(1),MB=_e(Tt,Tt.SCALE).setParameterLength(1),RB=_e(Tt,Tt.VIEW_POSITION).setParameterLength(1),CB=_e(Tt,Tt.RADIUS).setParameterLength(1);class fr extends Tt{static get type(){return"ModelNode"}constructor(e){super(e)}update(e){this.object3d=e.object,super.update(e)}}const PB=Pe(fr,fr.DIRECTION),Ar=Pe(fr,fr.WORLD_MATRIX),BB=Pe(fr,fr.POSITION),DB=Pe(fr,fr.SCALE),FB=Pe(fr,fr.VIEW_POSITION),LB=Pe(fr,fr.RADIUS),Mg=ze(new u4).onObjectUpdate(({object:r},e)=>e.value.getNormalMatrix(r.matrixWorld)),qB=ze(new u0).onObjectUpdate(({object:r},e)=>e.value.copy(r.matrixWorld).invert()),v2=se(r=>r.renderer.overrideNodes.modelViewMatrix||Rg).once()().toVar("modelViewMatrix"),Rg=Cn.mul(Ar),q7=se(r=>(r.context.isHighPrecisionModelViewMatrix=!0,ze("mat4").onObjectUpdate(({object:e,camera:t})=>e.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld)))).once()().toVar("highpModelViewMatrix"),I7=se(r=>{const e=r.context.isHighPrecisionModelViewMatrix;return ze("mat3").onObjectUpdate(({object:t,camera:n})=>(e!==!0&&t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix)))}).once()().toVar("highpModelNormalViewMatrix"),_4=z1("position","vec3"),g0=_4.toVarying("positionLocal"),Qa=_4.toVarying("positionPrevious"),F1=se(r=>Ar.mul(g0).xyz.toVarying(r.getNamespace("v_positionWorld")),"vec3").once("POSITION")(),xA=se(r=>g0.transformDirection(Ar).toVarying(r.getNamespace("v_positionWorldDirection")).normalize().toVar("positionWorldDirection"),"vec3").once("POSITION")(),x0=se(r=>r.context.setupPositionView().toVarying(r.getNamespace("v_positionView")),"vec3").once("POSITION")(),n0=x0.negate().toVarying("v_positionViewDirection").normalize().toVar("positionViewDirection");class IB extends $e{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){const{renderer:t,material:n}=e;return t.coordinateSystem===Oo&&n.side===En?"false":e.getFrontFacing()}}const Cg=Pe(IB),x4=j(Cg).mul(2).sub(1),w5=z1("normal","vec3"),Rn=se(r=>r.geometry.hasAttribute("normal")===!1?(console.warn('THREE.TSL: Vertex attribute "normal" not found on geometry.'),re(0,1,0)):w5,"vec3").once()().toVar("normalLocal"),Pg=x0.dFdx().cross(x0.dFdy()).normalize().toVar("normalFlat"),Lr=se(r=>{let e;return r.material.flatShading===!0?e=Pg:e=zn(bA(Rn),"v_normalView").normalize(),e},"vec3").once()().toVar("normalView"),b4=se(r=>{let e=Lr.transformDirection(Cn);return r.material.flatShading!==!0&&(e=zn(e,"v_normalWorld")),e},"vec3").once()().normalize().toVar("normalWorld"),m0=se(r=>{let e=r.context.setupNormal().context({getUV:null});return r.material.flatShading!==!0&&(e=e.mul(x4)),e},"vec3").once()().toVar("transformedNormalView"),S5=m0.transformDirection(Cn).toVar("transformedNormalWorld"),As=se(r=>{let e=r.context.setupClearcoatNormal().context({getUV:null});return r.material.flatShading!==!0&&(e=e.mul(x4)),e},"vec3").once()().toVar("transformedClearcoatNormalView"),Bg=se(([r,e=Ar])=>{const t=on(e),n=r.div(re(t[0].dot(t[0]),t[1].dot(t[1]),t[2].dot(t[2])));return t.mul(n).xyz}),bA=se(([r],e)=>{const t=e.renderer.overrideNodes.modelNormalViewMatrix;if(t!==null)return t.transformDirection(r);const n=Mg.mul(r);return Cn.transformDirection(n)}),Qc=new ko,I8=new u0,Dg=ze(0).onReference(({material:r})=>r).onObjectUpdate(({material:r})=>r.refractionRatio),Q3=ze(1).onReference(({material:r})=>r).onObjectUpdate(function({material:r,scene:e}){return r.envMap?r.envMapIntensity:e.environmentIntensity}),TA=ze(new u0).onReference(function(r){return r.material}).onObjectUpdate(function({material:r,scene:e}){const t=e.environment!==null&&r.envMap===null?e.environmentRotation:r.envMapRotation;return t?(Qc.copy(t),I8.makeRotationFromEuler(Qc)):I8.identity(),I8}),Fg=n0.negate().reflect(m0),Lg=n0.negate().refract(m0,Dg),qg=Fg.transformDirection(Cn).toVar("reflectVector"),Ig=Lg.transformDirection(Cn).toVar("reflectVector"),Og=new s9;class OB extends u1{static get type(){return"CubeTextureNode"}constructor(e,t=null,n=null,i=null){super(e,t,n,i),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){const e=this.value;return e.mapping===ra?qg:e.mapping===ia?Ig:(console.error('THREE.CubeTextureNode: Mapping "%s" not supported.',e.mapping),re(0,0,0))}setUpdateMatrix(){}setupUV(e,t){const n=this.value;return(e.renderer.coordinateSystem===Ps||!n.isRenderTargetTexture)&&(t=re(t.x.negate(),t.yz)),TA.mul(t)}generateUV(e,t){return t.build(e,"vec3")}}const wA=_e(OB).setParameterLength(1,4).setName("cubeTexture"),Ns=(r=Og,e=null,t=null,n=null)=>{let i;return r&&r.isCubeTextureNode===!0?(i=ge(r.clone()),i.referenceNode=r.getSelf(),e!==null&&(i.uvNode=ge(e)),t!==null&&(i.levelNode=ge(t)),n!==null&&(i.biasNode=ge(n))):i=wA(r,e,t,n),i},kB=(r=Og)=>wA(r);class UB extends g2{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),n=this.referenceNode.getNodeType(),i=this.getNodeType();return e.format(t,n,i)}}class E5 extends $e{static get type(){return"ReferenceNode"}constructor(e,t,n=null,i=null){super(),this.property=e,this.uniformType=t,this.object=n,this.count=i,this.properties=e.split("."),this.reference=n,this.node=null,this.group=null,this.name=null,this.updateType=ht.OBJECT}element(e){return ge(new UB(this,ge(e)))}setGroup(e){return this.group=e,this}label(e){return this.name=e,this}setNodeType(e){let t=null;this.count!==null?t=y4(null,e,this.count):Array.isArray(this.getValueFromReference())?t=ar(null,e):e==="texture"?t=xt(null):e==="cubeTexture"?t=Ns(null):t=ze(null,e),this.group!==null&&t.setGroup(this.group),this.name!==null&&t.label(this.name),this.node=t.getSelf()}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:t}=this;let n=e[t[0]];for(let i=1;i<t.length;i++)n=n[t[i]];return n}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const Qt=(r,e,t)=>ge(new E5(r,e,t)),O7=(r,e,t,n)=>ge(new E5(r,e,n,t));class GB extends E5{static get type(){return"MaterialReferenceNode"}constructor(e,t,n=null){super(e,t,n),this.material=n,this.isMaterialReferenceNode=!0}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}}const R1=(r,e,t=null)=>ge(new GB(r,e,t)),N5=se(r=>(r.geometry.hasAttribute("tangent")===!1&&r.geometry.computeTangents(),z1("tangent","vec4")))(),T4=N5.xyz.toVar("tangentLocal"),w4=v2.mul(Ve(T4,0)).xyz.toVarying("v_tangentView").normalize().toVar("tangentView"),kg=w4.transformDirection(Cn).toVarying("v_tangentWorld").normalize().toVar("tangentWorld"),SA=w4.toVar("transformedTangentView"),VB=SA.transformDirection(Cn).normalize().toVar("transformedTangentWorld"),S4=se(([r,e],t)=>{let n=r.mul(N5.w).xyz;return t.material.flatShading!==!0&&(n=zn(n,e)),n}).once(),zB=S4(w5.cross(N5),"v_bitangentGeometry").normalize().toVar("bitangentGeometry"),HB=S4(Rn.cross(T4),"v_bitangentLocal").normalize().toVar("bitangentLocal"),Ug=S4(Lr.cross(w4),"v_bitangentView").normalize().toVar("bitangentView"),jB=S4(b4.cross(kg),"v_bitangentWorld").normalize().toVar("bitangentWorld"),Gg=S4(m0.cross(SA),"v_transformedBitangentView").normalize().toVar("transformedBitangentView"),$B=Gg.transformDirection(Cn).normalize().toVar("transformedBitangentWorld"),Ji=on(w4,Ug,Lr),Vg=n0.mul(Ji),WB=(r,e)=>r.sub(Vg.mul(e)),zg=(()=>{let r=s2.cross(n0);return r=r.cross(s2).normalize(),r=It(r,m0,Ai.mul(Zr.oneMinus()).oneMinus().pow2().pow2()).normalize(),r})(),QB=se(r=>{const{eye_pos:e,surf_norm:t,mapN:n,uv:i}=r,s=e.dFdx(),o=e.dFdy(),u=i.dFdx(),h=i.dFdy(),d=t,m=o.cross(d),y=d.cross(s),x=m.mul(u.x).add(y.mul(h.x)),b=m.mul(u.y).add(y.mul(h.y)),w=x.dot(x).max(b.dot(b)),S=x4.mul(w.inverseSqrt());return T0(x.mul(n.x,S),b.mul(n.y,S),d.mul(n.z)).normalize()});class YB extends _0{static get type(){return"NormalMapNode"}constructor(e,t=null){super("vec3"),this.node=e,this.scaleNode=t,this.normalMapType=pu}setup(e){const{normalMapType:t,scaleNode:n}=this;let i=this.node.mul(2).sub(1);n!==null&&(i=re(i.xy.mul(n),i.z));let s=null;return t===xT?s=bA(i):t===pu&&(e.hasGeometryAttribute("tangent")===!0?s=Ji.mul(i).normalize():s=QB({eye_pos:x0,surf_norm:Lr,mapN:i,uv:o0()})),s}}const k7=_e(YB).setParameterLength(1,2),XB=se(({textureNode:r,bumpScale:e})=>{const t=i=>r.cache().context({getUV:s=>i(s.uvNode||o0()),forceUVContext:!0}),n=j(t(i=>i));return xe(j(t(i=>i.add(i.dFdx()))).sub(n),j(t(i=>i.add(i.dFdy()))).sub(n)).mul(e)}),KB=se(r=>{const{surf_pos:e,surf_norm:t,dHdxy:n}=r,i=e.dFdx().normalize(),s=e.dFdy().normalize(),o=t,u=s.cross(o),h=o.cross(i),d=i.dot(u).mul(x4),m=d.sign().mul(n.x.mul(u).add(n.y.mul(h)));return d.abs().mul(t).sub(m).normalize()});class ZB extends _0{static get type(){return"BumpMapNode"}constructor(e,t=null){super("vec3"),this.textureNode=e,this.scaleNode=t}setup(){const e=this.scaleNode!==null?this.scaleNode:1,t=XB({textureNode:this.textureNode,bumpScale:e});return KB({surf_pos:x0,surf_norm:Lr,dHdxy:t})}}const Hg=_e(ZB).setParameterLength(1,2),Yc=new Map;class pe extends $e{static get type(){return"MaterialNode"}constructor(e){super(),this.scope=e}getCache(e,t){let n=Yc.get(e);return n===void 0&&(n=R1(e,t),Yc.set(e,n)),n}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const t=e.context.material,n=this.scope;let i=null;if(n===pe.COLOR){const s=t.color!==void 0?this.getColor(n):re();t.map&&t.map.isTexture===!0?i=s.mul(this.getTexture("map")):i=s}else if(n===pe.OPACITY){const s=this.getFloat(n);t.alphaMap&&t.alphaMap.isTexture===!0?i=s.mul(this.getTexture("alpha")):i=s}else if(n===pe.SPECULAR_STRENGTH)t.specularMap&&t.specularMap.isTexture===!0?i=this.getTexture("specular").r:i=j(1);else if(n===pe.SPECULAR_INTENSITY){const s=this.getFloat(n);t.specularIntensityMap&&t.specularIntensityMap.isTexture===!0?i=s.mul(this.getTexture(n).a):i=s}else if(n===pe.SPECULAR_COLOR){const s=this.getColor(n);t.specularColorMap&&t.specularColorMap.isTexture===!0?i=s.mul(this.getTexture(n).rgb):i=s}else if(n===pe.ROUGHNESS){const s=this.getFloat(n);t.roughnessMap&&t.roughnessMap.isTexture===!0?i=s.mul(this.getTexture(n).g):i=s}else if(n===pe.METALNESS){const s=this.getFloat(n);t.metalnessMap&&t.metalnessMap.isTexture===!0?i=s.mul(this.getTexture(n).b):i=s}else if(n===pe.EMISSIVE){const s=this.getFloat("emissiveIntensity"),o=this.getColor(n).mul(s);t.emissiveMap&&t.emissiveMap.isTexture===!0?i=o.mul(this.getTexture(n)):i=o}else if(n===pe.NORMAL)t.normalMap?(i=k7(this.getTexture("normal"),this.getCache("normalScale","vec2")),i.normalMapType=t.normalMapType):t.bumpMap?i=Hg(this.getTexture("bump").r,this.getFloat("bumpScale")):i=Lr;else if(n===pe.CLEARCOAT){const s=this.getFloat(n);t.clearcoatMap&&t.clearcoatMap.isTexture===!0?i=s.mul(this.getTexture(n).r):i=s}else if(n===pe.CLEARCOAT_ROUGHNESS){const s=this.getFloat(n);t.clearcoatRoughnessMap&&t.clearcoatRoughnessMap.isTexture===!0?i=s.mul(this.getTexture(n).r):i=s}else if(n===pe.CLEARCOAT_NORMAL)t.clearcoatNormalMap?i=k7(this.getTexture(n),this.getCache(n+"Scale","vec2")):i=Lr;else if(n===pe.SHEEN){const s=this.getColor("sheenColor").mul(this.getFloat("sheen"));t.sheenColorMap&&t.sheenColorMap.isTexture===!0?i=s.mul(this.getTexture("sheenColor").rgb):i=s}else if(n===pe.SHEEN_ROUGHNESS){const s=this.getFloat(n);t.sheenRoughnessMap&&t.sheenRoughnessMap.isTexture===!0?i=s.mul(this.getTexture(n).a):i=s,i=i.clamp(.07,1)}else if(n===pe.ANISOTROPY)if(t.anisotropyMap&&t.anisotropyMap.isTexture===!0){const s=this.getTexture(n);i=f5(Z2.x,Z2.y,Z2.y.negate(),Z2.x).mul(s.rg.mul(2).sub(xe(1)).normalize().mul(s.b))}else i=Z2;else if(n===pe.IRIDESCENCE_THICKNESS){const s=Qt("1","float",t.iridescenceThicknessRange);if(t.iridescenceThicknessMap){const o=Qt("0","float",t.iridescenceThicknessRange);i=s.sub(o).mul(this.getTexture(n).g).add(o)}else i=s}else if(n===pe.TRANSMISSION){const s=this.getFloat(n);t.transmissionMap?i=s.mul(this.getTexture(n).r):i=s}else if(n===pe.THICKNESS){const s=this.getFloat(n);t.thicknessMap?i=s.mul(this.getTexture(n).g):i=s}else if(n===pe.IOR)i=this.getFloat(n);else if(n===pe.LIGHT_MAP)i=this.getTexture(n).rgb.mul(this.getFloat("lightMapIntensity"));else if(n===pe.AO)i=this.getTexture(n).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else if(n===pe.LINE_DASH_OFFSET)i=t.dashOffset?this.getFloat(n):j(0);else{const s=this.getNodeType(e);i=this.getCache(n,s)}return i}}pe.ALPHA_TEST="alphaTest";pe.COLOR="color";pe.OPACITY="opacity";pe.SHININESS="shininess";pe.SPECULAR="specular";pe.SPECULAR_STRENGTH="specularStrength";pe.SPECULAR_INTENSITY="specularIntensity";pe.SPECULAR_COLOR="specularColor";pe.REFLECTIVITY="reflectivity";pe.ROUGHNESS="roughness";pe.METALNESS="metalness";pe.NORMAL="normal";pe.CLEARCOAT="clearcoat";pe.CLEARCOAT_ROUGHNESS="clearcoatRoughness";pe.CLEARCOAT_NORMAL="clearcoatNormal";pe.EMISSIVE="emissive";pe.ROTATION="rotation";pe.SHEEN="sheen";pe.SHEEN_ROUGHNESS="sheenRoughness";pe.ANISOTROPY="anisotropy";pe.IRIDESCENCE="iridescence";pe.IRIDESCENCE_IOR="iridescenceIOR";pe.IRIDESCENCE_THICKNESS="iridescenceThickness";pe.IOR="ior";pe.TRANSMISSION="transmission";pe.THICKNESS="thickness";pe.ATTENUATION_DISTANCE="attenuationDistance";pe.ATTENUATION_COLOR="attenuationColor";pe.LINE_SCALE="scale";pe.LINE_DASH_SIZE="dashSize";pe.LINE_GAP_SIZE="gapSize";pe.LINE_WIDTH="linewidth";pe.LINE_DASH_OFFSET="dashOffset";pe.POINT_SIZE="size";pe.DISPERSION="dispersion";pe.LIGHT_MAP="light";pe.AO="ao";const jg=Pe(pe,pe.ALPHA_TEST),$g=Pe(pe,pe.COLOR),Wg=Pe(pe,pe.SHININESS),Qg=Pe(pe,pe.EMISSIVE),EA=Pe(pe,pe.OPACITY),Yg=Pe(pe,pe.SPECULAR),U7=Pe(pe,pe.SPECULAR_INTENSITY),Xg=Pe(pe,pe.SPECULAR_COLOR),Lo=Pe(pe,pe.SPECULAR_STRENGTH),Y3=Pe(pe,pe.REFLECTIVITY),Kg=Pe(pe,pe.ROUGHNESS),Zg=Pe(pe,pe.METALNESS),Jg=Pe(pe,pe.NORMAL),ey=Pe(pe,pe.CLEARCOAT),ty=Pe(pe,pe.CLEARCOAT_ROUGHNESS),ny=Pe(pe,pe.CLEARCOAT_NORMAL),ry=Pe(pe,pe.ROTATION),iy=Pe(pe,pe.SHEEN),sy=Pe(pe,pe.SHEEN_ROUGHNESS),oy=Pe(pe,pe.ANISOTROPY),ay=Pe(pe,pe.IRIDESCENCE),Ay=Pe(pe,pe.IRIDESCENCE_IOR),ly=Pe(pe,pe.IRIDESCENCE_THICKNESS),uy=Pe(pe,pe.TRANSMISSION),cy=Pe(pe,pe.THICKNESS),hy=Pe(pe,pe.IOR),fy=Pe(pe,pe.ATTENUATION_DISTANCE),dy=Pe(pe,pe.ATTENUATION_COLOR),py=Pe(pe,pe.LINE_SCALE),my=Pe(pe,pe.LINE_DASH_SIZE),gy=Pe(pe,pe.LINE_GAP_SIZE),JB=Pe(pe,pe.LINE_WIDTH),yy=Pe(pe,pe.LINE_DASH_OFFSET),vy=Pe(pe,pe.POINT_SIZE),_y=Pe(pe,pe.DISPERSION),NA=Pe(pe,pe.LIGHT_MAP),xy=Pe(pe,pe.AO),Z2=ze(new qt).onReference(function(r){return r.material}).onRenderUpdate(function({material:r}){this.value.set(r.anisotropy*Math.cos(r.anisotropyRotation),r.anisotropy*Math.sin(r.anisotropyRotation))}),MA=se(r=>r.context.setupModelViewProjection(),"vec4").once()().toVarying("v_modelViewProjection");class r0 extends $e{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const t=this.getNodeType(e),n=this.scope;let i;if(n===r0.VERTEX)i=e.getVertexIndex();else if(n===r0.INSTANCE)i=e.getInstanceIndex();else if(n===r0.DRAW)i=e.getDrawIndex();else if(n===r0.INVOCATION_LOCAL)i=e.getInvocationLocalIndex();else if(n===r0.INVOCATION_SUBGROUP)i=e.getInvocationSubgroupIndex();else if(n===r0.SUBGROUP)i=e.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+n);let s;return e.shaderStage==="vertex"||e.shaderStage==="compute"?s=i:s=zn(this).build(e,t),s}}r0.VERTEX="vertex";r0.INSTANCE="instance";r0.SUBGROUP="subgroup";r0.INVOCATION_LOCAL="invocationLocal";r0.INVOCATION_SUBGROUP="invocationSubgroup";r0.DRAW="draw";const by=Pe(r0,r0.VERTEX),_i=Pe(r0,r0.INSTANCE),eD=Pe(r0,r0.SUBGROUP),tD=Pe(r0,r0.INVOCATION_SUBGROUP),nD=Pe(r0,r0.INVOCATION_LOCAL),Ty=Pe(r0,r0.DRAW);class wy extends $e{static get type(){return"InstanceNode"}constructor(e,t,n=null){super("void"),this.count=e,this.instanceMatrix=t,this.instanceColor=n,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=ht.FRAME,this.buffer=null,this.bufferColor=null}setup(e){const{count:t,instanceMatrix:n,instanceColor:i}=this;let{instanceMatrixNode:s,instanceColorNode:o}=this;if(s===null){if(t<=1e3)s=y4(n.array,"mat4",Math.max(t,1)).element(_i);else{const h=new sa(n.array,16,1);this.buffer=h;const d=n.usage===es?L7:Wa,m=[d(h,"vec4",16,0),d(h,"vec4",16,4),d(h,"vec4",16,8),d(h,"vec4",16,12)];s=i2(...m)}this.instanceMatrixNode=s}if(i&&o===null){const h=new pi(i.array,3),d=i.usage===es?L7:Wa;this.bufferColor=h,o=re(d(h,"vec3",3,0)),this.instanceColorNode=o}const u=s.mul(g0).xyz;if(g0.assign(u),e.hasGeometryAttribute("normal")){const h=Bg(Rn,s);Rn.assign(h)}this.instanceColorNode!==null&&n4("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.instanceMatrix.usage!==es&&this.buffer!==null&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version),this.instanceColor&&this.instanceColor.usage!==es&&this.bufferColor!==null&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version)}}const rD=_e(wy).setParameterLength(2,3);class iD extends wy{static get type(){return"InstancedMeshNode"}constructor(e){const{count:t,instanceMatrix:n,instanceColor:i}=e;super(t,n,i),this.instancedMesh=e}}const Sy=_e(iD).setParameterLength(1);class sD extends $e{static get type(){return"BatchNode"}constructor(e){super("void"),this.batchMesh=e,this.batchingIdNode=null}setup(e){this.batchingIdNode===null&&(e.getDrawIndex()===null?this.batchingIdNode=_i:this.batchingIdNode=Ty);const n=se(([w])=>{const S=Z(vi(d0(this.batchMesh._indirectTexture),0).x),N=Z(w).mod(S),C=Z(w).div(S);return d0(this.batchMesh._indirectTexture,P0(N,C)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(Z(this.batchingIdNode)),i=this.batchMesh._matricesTexture,s=Z(vi(d0(i),0).x),o=j(n).mul(4).toInt().toVar(),u=o.mod(s),h=o.div(s),d=i2(d0(i,P0(u,h)),d0(i,P0(u.add(1),h)),d0(i,P0(u.add(2),h)),d0(i,P0(u.add(3),h))),m=this.batchMesh._colorsTexture;if(m!==null){const S=se(([N])=>{const C=Z(vi(d0(m),0).x),P=N,B=P.mod(C),q=P.div(C);return d0(m,P0(B,q)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(n);n4("vec3","vBatchColor").assign(S)}const y=on(d);g0.assign(d.mul(g0));const x=Rn.div(re(y[0].dot(y[0]),y[1].dot(y[1]),y[2].dot(y[2]))),b=y.mul(x).xyz;Rn.assign(b),e.hasGeometryAttribute("tangent")&&T4.mulAssign(y)}}const Ey=_e(sD).setParameterLength(1);class oD extends g2{static get type(){return"StorageArrayElementNode"}constructor(e,t){super(e,t),this.isStorageArrayElementNode=!0}set storageBufferNode(e){this.node=e}get storageBufferNode(){return this.node}getMemberType(e,t){const n=this.storageBufferNode.structTypeNode;return n?n.getMemberType(e,t):"void"}setup(e){return e.isAvailable("storageBuffer")===!1&&this.node.isPBO===!0&&e.setupPBO(this.node),super.setup(e)}generate(e,t){let n;const i=e.context.assign;if(e.isAvailable("storageBuffer")===!1?this.node.isPBO===!0&&i!==!0&&(this.node.value.isInstancedBufferAttribute||e.shaderStage!=="compute")?n=e.generatePBO(this):n=this.node.build(e):n=super.generate(e),i!==!0){const s=this.getNodeType(e);n=e.format(n,s,t)}return n}}const aD=_e(oD).setParameterLength(2);class AD extends _A{static get type(){return"StorageBufferNode"}constructor(e,t=null,n=0){let i,s=null;t&&t.isStruct?(i="struct",s=t.layout,(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)&&(n=e.count)):t===null&&(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)?(i=Lp(e.itemSize),n=e.count):i=t,super(e,i,n),this.isStorageBufferNode=!0,this.structTypeNode=s,this.access=rn.READ_WRITE,this.isAtomic=!1,this.isPBO=!1,this._attribute=null,this._varying=null,this.global=!0,e.isStorageBufferAttribute!==!0&&e.isStorageInstancedBufferAttribute!==!0&&(e.isInstancedBufferAttribute?e.isStorageInstancedBufferAttribute=!0:e.isStorageBufferAttribute=!0)}getHash(e){if(this.bufferCount===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getInputType(){return this.value.isIndirectStorageBufferAttribute?"indirectStorageBuffer":"storageBuffer"}element(e){return aD(this,e)}setPBO(e){return this.isPBO=e,this}getPBO(){return this.isPBO}setAccess(e){return this.access=e,this}toReadOnly(){return this.setAccess(rn.READ_ONLY)}setAtomic(e){return this.isAtomic=e,this}toAtomic(){return this.setAtomic(!0)}getAttributeData(){return this._attribute===null&&(this._attribute=g4(this.value),this._varying=zn(this._attribute)),{attribute:this._attribute,varying:this._varying}}getNodeType(e){if(this.structTypeNode!==null)return this.structTypeNode.getNodeType(e);if(e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.getNodeType(e);const{attribute:t}=this.getAttributeData();return t.getNodeType(e)}getMemberType(e,t){return this.structTypeNode!==null?this.structTypeNode.getMemberType(e,t):"void"}generate(e){if(this.structTypeNode!==null&&this.structTypeNode.build(e),e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.generate(e);const{attribute:t,varying:n}=this.getAttributeData(),i=n.build(e);return e.registerTransform(i,t),i}}const o2=(r,e=null,t=0)=>ge(new AD(r,e,t)),lD=(r,e,t)=>(console.warn('THREE.TSL: "storageObject()" is deprecated. Use "storage().setPBO( true )" instead.'),o2(r,e,t).setPBO(!0)),Xc=new WeakMap;class Ny extends $e{static get type(){return"SkinningNode"}constructor(e){super("void"),this.skinnedMesh=e,this.updateType=ht.OBJECT,this.skinIndexNode=z1("skinIndex","uvec4"),this.skinWeightNode=z1("skinWeight","vec4"),this.bindMatrixNode=Qt("bindMatrix","mat4"),this.bindMatrixInverseNode=Qt("bindMatrixInverse","mat4"),this.boneMatricesNode=O7("skeleton.boneMatrices","mat4",e.skeleton.bones.length),this.positionNode=g0,this.toPositionNode=g0,this.previousBoneMatricesNode=null}getSkinnedPosition(e=this.boneMatricesNode,t=this.positionNode){const{skinIndexNode:n,skinWeightNode:i,bindMatrixNode:s,bindMatrixInverseNode:o}=this,u=e.element(n.x),h=e.element(n.y),d=e.element(n.z),m=e.element(n.w),y=s.mul(t),x=T0(u.mul(i.x).mul(y),h.mul(i.y).mul(y),d.mul(i.z).mul(y),m.mul(i.w).mul(y));return o.mul(x).xyz}getSkinnedNormal(e=this.boneMatricesNode,t=Rn){const{skinIndexNode:n,skinWeightNode:i,bindMatrixNode:s,bindMatrixInverseNode:o}=this,u=e.element(n.x),h=e.element(n.y),d=e.element(n.z),m=e.element(n.w);let y=T0(i.x.mul(u),i.y.mul(h),i.z.mul(d),i.w.mul(m));return y=o.mul(y).mul(s),y.transformDirection(t).xyz}getPreviousSkinnedPosition(e){const t=e.object;return this.previousBoneMatricesNode===null&&(t.skeleton.previousBoneMatrices=new Float32Array(t.skeleton.boneMatrices),this.previousBoneMatricesNode=O7("skeleton.previousBoneMatrices","mat4",t.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,Qa)}needsPreviousBoneMatrices(e){const t=e.renderer.getMRT();return t&&t.has("velocity")||Op(e.object).useVelocity===!0}setup(e){this.needsPreviousBoneMatrices(e)&&Qa.assign(this.getPreviousSkinnedPosition(e));const t=this.getSkinnedPosition();if(this.toPositionNode&&this.toPositionNode.assign(t),e.hasGeometryAttribute("normal")){const n=this.getSkinnedNormal();Rn.assign(n),e.hasGeometryAttribute("tangent")&&T4.assign(n)}return t}generate(e,t){if(t!=="void")return super.generate(e,t)}update(e){const t=e.object&&e.object.skeleton?e.object.skeleton:this.skinnedMesh.skeleton;Xc.get(t)!==e.frameId&&(Xc.set(t,e.frameId),this.previousBoneMatricesNode!==null&&t.previousBoneMatrices.set(t.boneMatrices),t.update())}}const My=r=>ge(new Ny(r)),uD=(r,e=null)=>{const t=new Ny(r);return t.positionNode=o2(new pi(r.geometry.getAttribute("position").array,3),"vec3").setPBO(!0).toReadOnly().element(_i).toVar(),t.skinIndexNode=o2(new pi(new Uint32Array(r.geometry.getAttribute("skinIndex").array),4),"uvec4").setPBO(!0).toReadOnly().element(_i).toVar(),t.skinWeightNode=o2(new pi(r.geometry.getAttribute("skinWeight").array,4),"vec4").setPBO(!0).toReadOnly().element(_i).toVar(),t.bindMatrixNode=ze(r.bindMatrix,"mat4"),t.bindMatrixInverseNode=ze(r.bindMatrixInverse,"mat4"),t.boneMatricesNode=y4(r.skeleton.boneMatrices,"mat4",r.skeleton.bones.length),t.toPositionNode=e,ge(t)};class cD extends $e{static get type(){return"LoopNode"}constructor(e=[]){super(),this.params=e}getVarName(e){return String.fromCharCode(105+e)}getProperties(e){const t=e.getNodeProperties(this);if(t.stackNode!==void 0)return t;const n={};for(let o=0,u=this.params.length-1;o<u;o++){const h=this.params[o],d=h.isNode!==!0&&h.name||this.getVarName(o),m=h.isNode!==!0&&h.type||"int";n[d]=V1(d,m)}const i=e.addStack();t.returnsNode=this.params[this.params.length-1](n,e),t.stackNode=i;const s=this.params[0];return s.isNode!==!0&&typeof s.update=="function"&&(t.updateNode=se(this.params[0].update)(n)),e.removeStack(),t}getNodeType(e){const{returnsNode:t}=this.getProperties(e);return t?t.getNodeType(e):"void"}setup(e){this.getProperties(e)}generate(e){const t=this.getProperties(e),n=this.params,i=t.stackNode;for(let u=0,h=n.length-1;u<h;u++){const d=n[u];let m=!1,y=null,x=null,b=null,w=null,S=null,N=null;d.isNode?d.getNodeType(e)==="bool"?(m=!0,w="bool",x=d.build(e,w)):(w="int",b=this.getVarName(u),y="0",x=d.build(e,w),S="<"):(w=d.type||"int",b=d.name||this.getVarName(u),y=d.start,x=d.end,S=d.condition,N=d.update,typeof y=="number"?y=e.generateConst(w,y):y&&y.isNode&&(y=y.build(e,w)),typeof x=="number"?x=e.generateConst(w,x):x&&x.isNode&&(x=x.build(e,w)),y!==void 0&&x===void 0?(y=y+" - 1",x="0",S=">="):x!==void 0&&y===void 0&&(y="0",S="<"),S===void 0&&(Number(y)>Number(x)?S=">=":S="<"));let C;if(m)C=`while ( ${x} )`;else{const P={start:y,end:x},B=P.start,q=P.end;let D;const I=()=>S.includes("<")?"+=":"-=";if(N!=null)switch(typeof N){case"function":D=e.flowStagesNode(t.updateNode,"void").code.replace(/\t|;/g,"");break;case"number":D=b+" "+I()+" "+e.generateConst(w,N);break;case"string":D=b+" "+N;break;default:N.isNode?D=b+" "+I()+" "+N.build(e):(console.error("THREE.TSL: 'Loop( { update: ... } )' is not a function, string or number."),D="break /* invalid update */")}else w==="int"||w==="uint"?N=S.includes("<")?"++":"--":N=I()+" 1.",D=b+" "+N;const U=e.getVar(w,b)+" = "+B,V=b+" "+S+" "+q;C=`for ( ${U}; ${V}; ${D} )`}e.addFlowCode((u===0?`
`:"")+e.tab+C+` {

`).addFlowTab()}const s=i.build(e,"void"),o=t.returnsNode?t.returnsNode.build(e):"";e.removeFlowTab().addFlowCode(`
`+e.tab+s);for(let u=0,h=this.params.length-1;u<h;u++)e.addFlowCode((u===0?"":e.tab)+`}

`).removeFlowTab();return e.addFlowTab(),o}}const Ot=(...r)=>ge(new cD(r2(r,"int"))).toStack(),hD=()=>V1("continue").toStack(),Ry=()=>V1("break").toStack(),fD=(...r)=>(console.warn("THREE.TSL: loop() has been renamed to Loop()."),Ot(...r)),O8=new WeakMap,Dn=new jt,Kc=se(({bufferMap:r,influence:e,stride:t,width:n,depth:i,offset:s})=>{const o=Z(by).mul(t).add(s),u=o.div(n),h=o.sub(u.mul(n));return d0(r,P0(h,u)).depth(i).xyz.mul(e)});function dD(r){const e=r.morphAttributes.position!==void 0,t=r.morphAttributes.normal!==void 0,n=r.morphAttributes.color!==void 0,i=r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color,s=i!==void 0?i.length:0;let o=O8.get(r);if(o===void 0||o.count!==s){let C=function(){S.dispose(),O8.delete(r),r.removeEventListener("dispose",C)};o!==void 0&&o.texture.dispose();const u=r.morphAttributes.position||[],h=r.morphAttributes.normal||[],d=r.morphAttributes.color||[];let m=0;e===!0&&(m=1),t===!0&&(m=2),n===!0&&(m=3);let y=r.attributes.position.count*m,x=1;const b=4096;y>b&&(x=Math.ceil(y/b),y=b);const w=new Float32Array(y*x*4*s),S=new KT(w,y,x,s);S.type=or,S.needsUpdate=!0;const N=m*4;for(let P=0;P<s;P++){const B=u[P],q=h[P],D=d[P],I=y*x*4*P;for(let U=0;U<B.count;U++){const V=U*N;e===!0&&(Dn.fromBufferAttribute(B,U),w[I+V+0]=Dn.x,w[I+V+1]=Dn.y,w[I+V+2]=Dn.z,w[I+V+3]=0),t===!0&&(Dn.fromBufferAttribute(q,U),w[I+V+4]=Dn.x,w[I+V+5]=Dn.y,w[I+V+6]=Dn.z,w[I+V+7]=0),n===!0&&(Dn.fromBufferAttribute(D,U),w[I+V+8]=Dn.x,w[I+V+9]=Dn.y,w[I+V+10]=Dn.z,w[I+V+11]=D.itemSize===4?Dn.w:1)}}o={count:s,texture:S,stride:m,size:new qt(y,x)},O8.set(r,o),r.addEventListener("dispose",C)}return o}class pD extends $e{static get type(){return"MorphNode"}constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=ze(1),this.updateType=ht.OBJECT}setup(e){const{geometry:t}=e,n=t.morphAttributes.position!==void 0,i=t.hasAttribute("normal")&&t.morphAttributes.normal!==void 0,s=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,o=s!==void 0?s.length:0,{texture:u,stride:h,size:d}=dD(t);n===!0&&g0.mulAssign(this.morphBaseInfluence),i===!0&&Rn.mulAssign(this.morphBaseInfluence);const m=Z(d.width);Ot(o,({i:y})=>{const x=j(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?x.assign(d0(this.mesh.morphTexture,P0(Z(y).add(1),Z(_i))).r):x.assign(Qt("morphTargetInfluences","float").element(y).toVar()),lt(x.notEqual(0),()=>{n===!0&&g0.addAssign(Kc({bufferMap:u,influence:x,stride:h,width:m,depth:y,offset:Z(0)})),i===!0&&Rn.addAssign(Kc({bufferMap:u,influence:x,stride:h,width:m,depth:y,offset:Z(1)}))})})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((t,n)=>t+n,0)}}const Cy=_e(pD).setParameterLength(1);class Fs extends $e{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class mD extends Fs{static get type(){return"AONode"}constructor(e=null){super(),this.aoNode=e}setup(e){e.context.ambientOcclusion.mulAssign(this.aoNode)}}class gD extends eg{static get type(){return"LightingContextNode"}constructor(e,t=null,n=null,i=null){super(e),this.lightingModel=t,this.backdropNode=n,this.backdropAlphaNode=i,this._value=null}getContext(){const{backdropNode:e,backdropAlphaNode:t}=this,n=re().toVar("directDiffuse"),i=re().toVar("directSpecular"),s=re().toVar("indirectDiffuse"),o=re().toVar("indirectSpecular"),u={directDiffuse:n,directSpecular:i,indirectDiffuse:s,indirectSpecular:o};return{radiance:re().toVar("radiance"),irradiance:re().toVar("irradiance"),iblIrradiance:re().toVar("iblIrradiance"),ambientOcclusion:j(1).toVar("ambientOcclusion"),reflectedLight:u,backdrop:e,backdropAlpha:t}}setup(e){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const Py=_e(gD);class yD extends Fs{static get type(){return"IrradianceNode"}constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}let Zs,Js;class R0 extends $e{static get type(){return"ScreenNode"}constructor(e){super(),this.scope=e,this.isViewportNode=!0}getNodeType(){return this.scope===R0.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=ht.NONE;return(this.scope===R0.SIZE||this.scope===R0.VIEWPORT)&&(e=ht.RENDER),this.updateType=e,e}update({renderer:e}){const t=e.getRenderTarget();this.scope===R0.VIEWPORT?t!==null?Js.copy(t.viewport):(e.getViewport(Js),Js.multiplyScalar(e.getPixelRatio())):t!==null?(Zs.width=t.width,Zs.height=t.height):e.getDrawingBufferSize(Zs)}setup(){const e=this.scope;let t=null;return e===R0.SIZE?t=ze(Zs||(Zs=new qt)):e===R0.VIEWPORT?t=ze(Js||(Js=new jt)):t=xe(E4.div(a4)),t}generate(e){if(this.scope===R0.COORDINATE){let t=e.getFragCoord();if(e.isFlipY()){const n=e.getNodeProperties(a4).outputNode.build(e);t=`${e.getType("vec2")}( ${t}.x, ${n}.y - ${t}.y )`}return t}return super.generate(e)}}R0.COORDINATE="coordinate";R0.VIEWPORT="viewport";R0.SIZE="size";R0.UV="uv";const Dr=Pe(R0,R0.UV),a4=Pe(R0,R0.SIZE),E4=Pe(R0,R0.COORDINATE),gs=Pe(R0,R0.VIEWPORT),By=gs.zw,Dy=E4.sub(gs.xy),vD=Dy.div(By),_D=se(()=>(console.warn('THREE.TSL: "viewportResolution" is deprecated. Use "screenSize" instead.'),a4),"vec2").once()(),xD=se(()=>(console.warn('THREE.TSL: "viewportTopLeft" is deprecated. Use "screenUV" instead.'),Dr),"vec2").once()(),bD=se(()=>(console.warn('THREE.TSL: "viewportBottomLeft" is deprecated. Use "screenUV.flipY()" instead.'),Dr.flipY()),"vec2").once()(),eo=new qt;class M5 extends u1{static get type(){return"ViewportTextureNode"}constructor(e=Dr,t=null,n=null){n===null&&(n=new od,n.minFilter=t2),super(n,e,t),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=ht.FRAME}updateBefore(e){const t=e.renderer;t.getDrawingBufferSize(eo);const n=this.value;(n.image.width!==eo.width||n.image.height!==eo.height)&&(n.image.width=eo.width,n.image.height=eo.height,n.needsUpdate=!0);const i=n.generateMipmaps;n.generateMipmaps=this.generateMipmaps,t.copyFramebufferToTexture(n),n.generateMipmaps=i}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const TD=_e(M5).setParameterLength(0,3),RA=_e(M5,null,null,{generateMipmaps:!0}).setParameterLength(0,3);let k8=null;class wD extends M5{static get type(){return"ViewportDepthTextureNode"}constructor(e=Dr,t=null){k8===null&&(k8=new Br),super(e,t,k8)}}const CA=_e(wD).setParameterLength(0,2);class wn extends $e{static get type(){return"ViewportDepthNode"}constructor(e,t=null){super("float"),this.scope=e,this.valueNode=t,this.isViewportDepthNode=!0}generate(e){const{scope:t}=this;return t===wn.DEPTH_BASE?e.getFragDepth():super.generate(e)}setup({camera:e}){const{scope:t}=this,n=this.valueNode;let i=null;if(t===wn.DEPTH_BASE)n!==null&&(i=Ly().assign(n));else if(t===wn.DEPTH)e.isPerspectiveCamera?i=Fy(x0.z,ui,ci):i=ys(x0.z,ui,ci);else if(t===wn.LINEAR_DEPTH)if(n!==null)if(e.isPerspectiveCamera){const s=PA(n,ui,ci);i=ys(s,ui,ci)}else i=n;else i=ys(x0.z,ui,ci);return i}}wn.DEPTH_BASE="depthBase";wn.DEPTH="depth";wn.LINEAR_DEPTH="linearDepth";const ys=(r,e,t)=>r.add(e).div(e.sub(t)),SD=(r,e,t)=>e.sub(t).mul(r).sub(e),Fy=(r,e,t)=>e.add(r).mul(t).div(t.sub(e).mul(r)),PA=(r,e,t)=>e.mul(t).div(t.sub(e).mul(r).sub(t)),BA=(r,e,t)=>{e=e.max(1e-6).toVar();const n=n1(r.negate().div(e)),i=n1(t.div(e));return n.div(i)},ED=(r,e,t)=>{const n=r.mul(g5(t.div(e)));return j(Math.E).pow(n).mul(e).negate()},Ly=_e(wn,wn.DEPTH_BASE),DA=Pe(wn,wn.DEPTH),Ya=_e(wn,wn.LINEAR_DEPTH).setParameterLength(0,1),ND=Ya(CA());DA.assign=r=>Ly(r);class ur extends $e{static get type(){return"ClippingNode"}constructor(e=ur.DEFAULT){super(),this.scope=e}setup(e){super.setup(e);const t=e.clippingContext,{intersectionPlanes:n,unionPlanes:i}=t;return this.hardwareClipping=e.material.hardwareClipping,this.scope===ur.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(n,i):this.scope===ur.HARDWARE?this.setupHardwareClipping(i,e):this.setupDefault(n,i)}setupAlphaToCoverage(e,t){return se(()=>{const n=j().toVar("distanceToPlane"),i=j().toVar("distanceToGradient"),s=j(1).toVar("clipOpacity"),o=t.length;if(this.hardwareClipping===!1&&o>0){const h=ar(t);Ot(o,({i:d})=>{const m=h.element(d);n.assign(x0.dot(m.xyz).negate().add(m.w)),i.assign(n.fwidth().div(2)),s.mulAssign(l1(i.negate(),i,n))})}const u=e.length;if(u>0){const h=ar(e),d=j(1).toVar("intersectionClipOpacity");Ot(u,({i:m})=>{const y=h.element(m);n.assign(x0.dot(y.xyz).negate().add(y.w)),i.assign(n.fwidth().div(2)),d.mulAssign(l1(i.negate(),i,n).oneMinus())}),s.mulAssign(d.oneMinus())}Bt.a.mulAssign(s),Bt.a.equal(0).discard()})()}setupDefault(e,t){return se(()=>{const n=t.length;if(this.hardwareClipping===!1&&n>0){const s=ar(t);Ot(n,({i:o})=>{const u=s.element(o);x0.dot(u.xyz).greaterThan(u.w).discard()})}const i=e.length;if(i>0){const s=ar(e),o=a1(!0).toVar("clipped");Ot(i,({i:u})=>{const h=s.element(u);o.assign(x0.dot(h.xyz).greaterThan(h.w).and(o))}),o.discard()}})()}setupHardwareClipping(e,t){const n=e.length;return t.enableHardwareClipping(n),se(()=>{const i=ar(e),s=v4(t.getClipDistance());Ot(n,({i:o})=>{const u=i.element(o),h=x0.dot(u.xyz).sub(u.w).negate();s.element(o).assign(h)})})()}}ur.ALPHA_TO_COVERAGE="alphaToCoverage";ur.DEFAULT="default";ur.HARDWARE="hardware";const MD=()=>ge(new ur),RD=()=>ge(new ur(ur.ALPHA_TO_COVERAGE)),CD=()=>ge(new ur(ur.HARDWARE)),PD=.05,Zc=se(([r])=>j1(At(1e4,kn(At(17,r.x).add(At(.1,r.y)))).mul(T0(.1,Zt(kn(At(13,r.y).add(r.x))))))),Jc=se(([r])=>Zc(xe(Zc(r.xy),r.z))),BD=se(([r])=>{const e=h0(i1(AA(r.xyz)),i1(lA(r.xyz))),t=j(1).div(j(PD).mul(e)).toVar("pixScale"),n=xe(Es(r1(n1(t))),Es(y5(n1(t)))),i=xe(Jc(r1(n.x.mul(r.xyz))),Jc(r1(n.y.mul(r.xyz)))),s=j1(n1(t)),o=T0(At(s.oneMinus(),i.x),At(s,i.y)),u=Mn(s,s.oneMinus()),h=re(o.mul(o).div(At(2,u).mul(wt(1,u))),o.sub(At(.5,u)).div(wt(1,u)),wt(1,wt(1,o).mul(wt(1,o)).div(At(2,u).mul(wt(1,u))))),d=o.lessThan(u.oneMinus()).select(o.lessThan(u).select(h.x,h.y),h.z);return A1(d,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class DD extends Tg{static get type(){return"VertexColorNode"}constructor(e){super(null,"vec4"),this.isVertexColorNode=!0,this.index=e}getAttributeName(){const e=this.index;return"color"+(e>0?e:"")}generate(e){const t=this.getAttributeName(e),n=e.hasGeometryAttribute(t);let i;return n===!0?i=super.generate(e):i=e.generateConst(this.nodeType,new jt(1,1,1,1)),i}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}const qy=(r=0)=>ge(new DD(r));class v0 extends su{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.maskNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.receivedShadowPositionNode=null,this.castShadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null,Object.defineProperty(this,"shadowPositionNode",{get:()=>this.receivedShadowPositionNode,set:e=>{console.warn('THREE.NodeMaterial: ".shadowPositionNode" was renamed to ".receivedShadowPositionNode".'),this.receivedShadowPositionNode=e}})}customProgramCacheKey(){return this.type+Fp(this)}build(e){this.setup(e)}setupObserver(e){return new fP(e)}setup(e){e.context.setupNormal=()=>this.setupNormal(e),e.context.setupPositionView=()=>this.setupPositionView(e),e.context.setupModelViewProjection=()=>this.setupModelViewProjection(e);const t=e.renderer,n=t.getRenderTarget();e.addStack();const i=this.setupVertex(e),s=this.vertexNode||i;e.stack.outputNode=s,this.setupHardwareClipping(e),this.geometryNode!==null&&(e.stack.outputNode=e.stack.outputNode.bypass(this.geometryNode)),e.addFlow("vertex",e.removeStack()),e.addStack();let o;const u=this.setupClipping(e);if((this.depthWrite===!0||this.depthTest===!0)&&(n!==null?n.depthBuffer===!0&&this.setupDepth(e):t.depth===!0&&this.setupDepth(e)),this.fragmentNode===null){this.setupDiffuseColor(e),this.setupVariants(e);const h=this.setupLighting(e);u!==null&&e.stack.add(u);const d=Ve(h,Bt.a).max(0);o=this.setupOutput(e,d),ms.assign(o);const m=this.outputNode!==null;if(m&&(o=this.outputNode),n!==null){const y=t.getMRT(),x=this.mrtNode;y!==null?(m&&ms.assign(o),o=y,x!==null&&(o=y.merge(x))):x!==null&&(o=x)}}else{let h=this.fragmentNode;h.isOutputStructNode!==!0&&(h=Ve(h)),o=this.setupOutput(e,h)}e.stack.outputNode=o,e.addFlow("fragment",e.removeStack()),e.observer=this.setupObserver(e)}setupClipping(e){if(e.clippingContext===null)return null;const{unionPlanes:t,intersectionPlanes:n}=e.clippingContext;let i=null;if(t.length>0||n.length>0){const s=e.renderer.samples;this.alphaToCoverage&&s>1?i=RD():e.stack.add(MD())}return i}setupHardwareClipping(e){if(this.hardwareClipping=!1,e.clippingContext===null)return;const t=e.clippingContext.unionPlanes.length;t>0&&t<=8&&e.isAvailable("clipDistance")&&(e.stack.add(CD()),this.hardwareClipping=!0)}setupDepth(e){const{renderer:t,camera:n}=e;let i=this.depthNode;if(i===null){const s=t.getMRT();s&&s.has("depth")?i=s.get("depth"):t.logarithmicDepthBuffer===!0&&(n.isPerspectiveCamera?i=BA(x0.z,ui,ci):i=ys(x0.z,ui,ci))}i!==null&&DA.assign(i).toStack()}setupPositionView(){return v2.mul(g0).xyz}setupModelViewProjection(){return y2.mul(x0)}setupVertex(e){return e.addStack(),this.setupPosition(e),e.context.vertex=e.removeStack(),MA}setupPosition(e){const{object:t,geometry:n}=e;if((n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color)&&Cy(t).toStack(),t.isSkinnedMesh===!0&&My(t).toStack(),this.displacementMap){const i=R1("displacementMap","texture"),s=R1("displacementScale","float"),o=R1("displacementBias","float");g0.addAssign(Rn.normalize().mul(i.x.mul(s).add(o)))}return t.isBatchedMesh&&Ey(t).toStack(),t.isInstancedMesh&&t.instanceMatrix&&t.instanceMatrix.isInstancedBufferAttribute===!0&&Sy(t).toStack(),this.positionNode!==null&&g0.assign(pg(this.positionNode,"POSITION")),g0}setupDiffuseColor({object:e,geometry:t}){this.maskNode!==null&&a1(this.maskNode).not().discard();let n=this.colorNode?Ve(this.colorNode):$g;this.vertexColors===!0&&t.hasAttribute("color")&&(n=n.mul(qy())),e.instanceColor&&(n=n4("vec3","vInstanceColor").mul(n)),e.isBatchedMesh&&e._colorsTexture&&(n=n4("vec3","vBatchColor").mul(n)),Bt.assign(n);const i=this.opacityNode?j(this.opacityNode):EA;Bt.a.assign(Bt.a.mul(i));let s=null;(this.alphaTestNode!==null||this.alphaTest>0)&&(s=this.alphaTestNode!==null?j(this.alphaTestNode):jg,Bt.a.lessThanEqual(s).discard()),this.alphaHash===!0&&Bt.a.lessThan(BD(g0)).discard(),this.transparent===!1&&this.blending===P1&&this.alphaToCoverage===!1?Bt.a.assign(1):s===null&&Bt.a.lessThanEqual(0).discard()}setupVariants(){}setupOutgoingLight(){return this.lights===!0?re(0):Bt.rgb}setupNormal(){return this.normalNode?re(this.normalNode):Jg}setupEnvironment(){let e=null;return this.envNode?e=this.envNode:this.envMap&&(e=this.envMap.isCubeTexture?R1("envMap","cubeTexture"):R1("envMap","texture")),e}setupLightMap(e){let t=null;return e.material.lightMap&&(t=new yD(NA)),t}setupLights(e){const t=[],n=this.setupEnvironment(e);n&&n.isLightingNode&&t.push(n);const i=this.setupLightMap(e);if(i&&i.isLightingNode&&t.push(i),this.aoNode!==null||e.material.aoMap){const o=this.aoNode!==null?this.aoNode:xy;t.push(new mD(o))}let s=this.lightsNode||e.lightsNode;return t.length>0&&(s=e.renderer.lighting.createNode([...s.getLights(),...t])),s}setupLightingModel(){}setupLighting(e){const{material:t}=e,{backdropNode:n,backdropAlphaNode:i,emissiveNode:s}=this,u=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let h=this.setupOutgoingLight(e);if(u&&u.getScope().hasLights){const d=this.setupLightingModel(e)||null;h=Py(u,d,n,i)}else n!==null&&(h=re(i!==null?It(h,n,i):n));return(s&&s.isNode===!0||t.emissive&&t.emissive.isColor===!0)&&(D7.assign(re(s||Qg)),h=h.add(D7)),h}setupFog(e,t){const n=e.fogNode;return n&&(ms.assign(t),t=Ve(n)),t}setupOutput(e,t){return this.fog===!0&&(t=this.setupFog(e,t)),t}setDefaultValues(e){for(const n in e){const i=e[n];this[n]===void 0&&(this[n]=i,i&&i.clone&&(this[n]=i.clone()))}const t=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const n in t)Object.getOwnPropertyDescriptor(this.constructor.prototype,n)===void 0&&t[n].get!==void 0&&Object.defineProperty(this.constructor.prototype,n,t[n])}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{},nodes:{}});const n=su.prototype.toJSON.call(this,e),i=Ua(this);n.inputNodes={};for(const{property:o,childNode:u}of i)n.inputNodes[o]=u.toJSON(e).uuid;function s(o){const u=[];for(const h in o){const d=o[h];delete d.metadata,u.push(d)}return u}if(t){const o=s(e.textures),u=s(e.images),h=s(e.nodes);o.length>0&&(n.textures=o),u.length>0&&(n.images=u),h.length>0&&(n.nodes=h)}return n}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.maskNode=e.maskNode,this.positionNode=e.positionNode,this.geometryNode=e.geometryNode,this.depthNode=e.depthNode,this.receivedShadowPositionNode=e.receivedShadowPositionNode,this.castShadowPositionNode=e.castShadowPositionNode,this.receivedShadowNode=e.receivedShadowNode,this.castShadowNode=e.castShadowNode,this.outputNode=e.outputNode,this.mrtNode=e.mrtNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,super.copy(e)}}const FD=new r5;class LD extends v0{static get type(){return"LineBasicNodeMaterial"}constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(FD),this.setValues(e)}}const qD=new gT;class ID extends v0{static get type(){return"LineDashedNodeMaterial"}constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(qD),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode?j(this.offsetNode):yy,t=this.dashScaleNode?j(this.dashScaleNode):py,n=this.dashSizeNode?j(this.dashSizeNode):my,i=this.gapSizeNode?j(this.gapSizeNode):gy;j3.assign(n),F7.assign(i);const s=zn(z1("lineDistance").mul(t));(e?s.add(e):s).mod(j3.add(F7)).greaterThan(j3).discard()}}let U8=null;class OD extends M5{static get type(){return"ViewportSharedTextureNode"}constructor(e=Dr,t=null){U8===null&&(U8=new od),super(e,t,U8)}updateReference(){return this}}const kD=_e(OD).setParameterLength(0,2),Iy=r=>ge(r).mul(.5).add(.5),UD=r=>ge(r).mul(2).sub(1),GD=new pT;class VD extends v0{static get type(){return"MeshNormalNodeMaterial"}constructor(e){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(GD),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?j(this.opacityNode):EA;Bt.assign(b5(Ve(Iy(m0),e),e5))}}class zD extends _0{static get type(){return"EquirectUVNode"}constructor(e=xA){super("vec2"),this.dirNode=e}setup(){const e=this.dirNode,t=e.z.atan(e.x).mul(1/(Math.PI*2)).add(.5),n=e.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return xe(t,n)}}const FA=_e(zD).setParameterLength(0,1);class Oy extends ZT{constructor(e=1,t={}){super(e,t),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,t){const n=t.minFilter,i=t.generateMipmaps;t.generateMipmaps=!0,this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const s=new x9(5,5,5),o=FA(xA),u=new v0;u.colorNode=xt(t,o,0),u.side=En,u.blending=Go;const h=new y0(s,u),d=new o9;d.add(h),t.minFilter===t2&&(t.minFilter=L1);const m=new JT(1,10,this),y=e.getMRT();return e.setMRT(null),m.update(e,d),e.setMRT(y),t.minFilter=n,t.currentGenerateMipmaps=i,h.geometry.dispose(),h.material.dispose(),this}}const qo=new WeakMap;class HD extends _0{static get type(){return"CubeMapNode"}constructor(e){super("vec3"),this.envNode=e,this._cubeTexture=null,this._cubeTextureNode=Ns(null);const t=new s9;t.isRenderTargetTexture=!0,this._defaultTexture=t,this.updateBeforeType=ht.RENDER}updateBefore(e){const{renderer:t,material:n}=e,i=this.envNode;if(i.isTextureNode||i.isMaterialReferenceNode){const s=i.isTextureNode?i.value:n[i.property];if(s&&s.isTexture){const o=s.mapping;if(o===l9||o===u9){if(qo.has(s)){const u=qo.get(s);eh(u,s.mapping),this._cubeTexture=u}else{const u=s.image;if(jD(u)){const h=new Oy(u.height);h.fromEquirectangularTexture(t,s),eh(h.texture,s.mapping),this._cubeTexture=h.texture,qo.set(s,h.texture),s.addEventListener("dispose",ky)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(e){return this.updateBefore(e),this._cubeTextureNode}}function jD(r){return r==null?!1:r.height>0}function ky(r){const e=r.target;e.removeEventListener("dispose",ky);const t=qo.get(e);t!==void 0&&(qo.delete(e),t.dispose())}function eh(r,e){e===l9?r.mapping=ra:e===u9&&(r.mapping=ia)}const Uy=_e(HD).setParameterLength(1);class LA extends Fs{static get type(){return"BasicEnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){e.context.environment=Uy(this.envNode)}}class $D extends Fs{static get type(){return"BasicLightMapNode"}constructor(e=null){super(),this.lightMapNode=e}setup(e){const t=j(1/Math.PI);e.context.irradianceLightMap=this.lightMapNode.mul(t)}}class R5{start(e){e.lightsNode.setupLights(e,e.lightsNode.getLightNodes(e)),this.indirect(e)}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class Gy extends R5{constructor(){super()}indirect({context:e}){const t=e.ambientOcclusion,n=e.reflectedLight,i=e.irradianceLightMap;n.indirectDiffuse.assign(Ve(0)),i?n.indirectDiffuse.addAssign(i):n.indirectDiffuse.addAssign(Ve(1,1,1,0)),n.indirectDiffuse.mulAssign(t),n.indirectDiffuse.mulAssign(Bt.rgb)}finish(e){const{material:t,context:n}=e,i=n.outgoingLight,s=e.context.environment;if(s)switch(t.combine){case YT:i.rgb.assign(It(i.rgb,i.rgb.mul(s.rgb),Lo.mul(Y3)));break;case QT:i.rgb.assign(It(i.rgb,s.rgb,Lo.mul(Y3)));break;case WT:i.rgb.addAssign(s.rgb.mul(Lo.mul(Y3)));break;default:console.warn("THREE.BasicLightingModel: Unsupported .combine value:",t.combine);break}}}const WD=new N1;class QD extends v0{static get type(){return"MeshBasicNodeMaterial"}constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(WD),this.setValues(e)}setupNormal(){return Lr}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new LA(t):null}setupLightMap(e){let t=null;return e.material.lightMap&&(t=new $D(NA)),t}setupOutgoingLight(){return Bt.rgb}setupLightingModel(){return new Gy}}const Ms=se(({f0:r,f90:e,dotVH:t})=>{const n=t.mul(-5.55473).sub(6.98316).mul(t).exp2();return r.mul(n.oneMinus()).add(e.mul(n))}),d2=se(r=>r.diffuseColor.mul(1/Math.PI)),YD=()=>j(.25),XD=se(({dotNH:r})=>Ha.mul(j(.5)).add(1).mul(j(1/Math.PI)).mul(r.pow(Ha))),KD=se(({lightDirection:r})=>{const e=r.add(n0).normalize(),t=m0.dot(e).clamp(),n=n0.dot(e).clamp(),i=Ms({f0:vn,f90:1,dotVH:n}),s=YD(),o=XD({dotNH:t});return i.mul(s).mul(o)});class Vy extends Gy{constructor(e=!0){super(),this.specular=e}direct({lightDirection:e,lightColor:t,reflectedLight:n}){const s=m0.dot(e).clamp().mul(t);n.directDiffuse.addAssign(s.mul(d2({diffuseColor:Bt.rgb}))),this.specular===!0&&n.directSpecular.addAssign(s.mul(KD({lightDirection:e})).mul(Lo))}indirect(e){const{ambientOcclusion:t,irradiance:n,reflectedLight:i}=e.context;i.indirectDiffuse.addAssign(n.mul(d2({diffuseColor:Bt}))),i.indirectDiffuse.mulAssign(t)}}const ZD=new H1;class JD extends v0{static get type(){return"MeshLambertNodeMaterial"}constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(ZD),this.setValues(e)}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new LA(t):null}setupLightingModel(){return new Vy(!1)}}const eF=new id;class tF extends v0{static get type(){return"MeshPhongNodeMaterial"}constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(eF),this.setValues(e)}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new LA(t):null}setupLightingModel(){return new Vy}setupVariants(){const e=(this.shininessNode?j(this.shininessNode):Wg).max(1e-4);Ha.assign(e);const t=this.specularNode||Yg;vn.assign(t)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}const zy=se(r=>{if(r.geometry.hasAttribute("normal")===!1)return j(0);const e=Lr.dFdx().abs().max(Lr.dFdy().abs());return e.x.max(e.y).max(e.z)}),qA=se(r=>{const{roughness:e}=r,t=zy();let n=e.max(.0525);return n=n.add(t),n=n.min(1),n}),Hy=se(({alpha:r,dotNL:e,dotNV:t})=>{const n=r.pow2(),i=e.mul(n.add(n.oneMinus().mul(t.pow2())).sqrt()),s=t.mul(n.add(n.oneMinus().mul(e.pow2())).sqrt());return hr(.5,i.add(s).max(Mm))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),nF=se(({alphaT:r,alphaB:e,dotTV:t,dotBV:n,dotTL:i,dotBL:s,dotNV:o,dotNL:u})=>{const h=u.mul(re(r.mul(t),e.mul(n),o).length()),d=o.mul(re(r.mul(i),e.mul(s),u).length());return hr(.5,h.add(d)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),jy=se(({alpha:r,dotNH:e})=>{const t=r.pow2(),n=e.pow2().mul(t.oneMinus()).oneMinus();return t.div(n.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),rF=j(1/Math.PI),iF=se(({alphaT:r,alphaB:e,dotNH:t,dotTH:n,dotBH:i})=>{const s=r.mul(e),o=re(e.mul(n),r.mul(i),s.mul(t)),u=o.dot(o),h=s.div(u);return rF.mul(s.mul(h.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),G7=se(r=>{const{lightDirection:e,f0:t,f90:n,roughness:i,f:s,USE_IRIDESCENCE:o,USE_ANISOTROPY:u}=r,h=r.normalView||m0,d=i.pow2(),m=e.add(n0).normalize(),y=h.dot(e).clamp(),x=h.dot(n0).clamp(),b=h.dot(m).clamp(),w=n0.dot(m).clamp();let S=Ms({f0:t,f90:n,dotVH:w}),N,C;if(e4(o)&&(S=p5.mix(S,s)),e4(u)){const P=Bo.dot(e),B=Bo.dot(n0),q=Bo.dot(m),D=s2.dot(e),I=s2.dot(n0),U=s2.dot(m);N=nF({alphaT:za,alphaB:d,dotTV:B,dotBV:I,dotTL:P,dotBL:D,dotNV:x,dotNL:y}),C=iF({alphaT:za,alphaB:d,dotNH:b,dotTH:q,dotBH:U})}else N=Hy({alpha:d,dotNL:y,dotNV:x}),C=jy({alpha:d,dotNH:b});return S.mul(N).mul(C)}),IA=se(({roughness:r,dotNV:e})=>{const t=Ve(-1,-.0275,-.572,.022),n=Ve(1,.0425,1.04,-.04),i=r.mul(t).add(n),s=i.x.mul(i.x).min(e.mul(-9.28).exp2()).mul(i.x).add(i.y);return xe(-1.04,1.04).mul(s).add(i.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),$y=se(r=>{const{dotNV:e,specularColor:t,specularF90:n,roughness:i}=r,s=IA({dotNV:e,roughness:i});return t.mul(s.x).add(n.mul(s.y))}),Wy=se(({f:r,f90:e,dotVH:t})=>{const n=t.oneMinus().saturate(),i=n.mul(n),s=n.mul(i,i).clamp(0,.9999);return r.sub(re(e).mul(s)).div(s.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),sF=se(({roughness:r,dotNH:e})=>{const t=r.pow2(),n=j(1).div(t),s=e.pow2().oneMinus().max(.0078125);return j(2).add(n).mul(s.pow(n.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),oF=se(({dotNV:r,dotNL:e})=>j(1).div(j(4).mul(e.add(r).sub(e.mul(r))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),aF=se(({lightDirection:r})=>{const e=r.add(n0).normalize(),t=m0.dot(r).clamp(),n=m0.dot(n0).clamp(),i=m0.dot(e).clamp(),s=sF({roughness:d5,dotNH:i}),o=oF({dotNV:n,dotNL:t});return Zi.mul(s).mul(o)}),AF=se(({N:r,V:e,roughness:t})=>{const s=.0078125,o=r.dot(e).saturate(),u=xe(t,o.oneMinus().sqrt());return u.assign(u.mul(.984375).add(s)),u}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),lF=se(({f:r})=>{const e=r.length();return h0(e.mul(e).add(r.z).div(e.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),r3=se(({v1:r,v2:e})=>{const t=r.dot(e),n=t.abs().toVar(),i=n.mul(.0145206).add(.4965155).mul(n).add(.8543985).toVar(),s=n.add(4.1616724).mul(n).add(3.417594).toVar(),o=i.div(s),u=t.greaterThan(0).select(o,h0(t.mul(t).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(o));return r.cross(e).mul(u)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),th=se(({N:r,V:e,P:t,mInv:n,p0:i,p1:s,p2:o,p3:u})=>{const h=s.sub(i).toVar(),d=u.sub(i).toVar(),m=h.cross(d),y=re().toVar();return lt(m.dot(t.sub(i)).greaterThanEqual(0),()=>{const x=e.sub(r.mul(e.dot(r))).normalize(),b=r.cross(x).negate(),w=n.mul(on(x,b,r).transpose()).toVar(),S=w.mul(i.sub(t)).normalize().toVar(),N=w.mul(s.sub(t)).normalize().toVar(),C=w.mul(o.sub(t)).normalize().toVar(),P=w.mul(u.sub(t)).normalize().toVar(),B=re(0).toVar();B.addAssign(r3({v1:S,v2:N})),B.addAssign(r3({v1:N,v2:C})),B.addAssign(r3({v1:C,v2:P})),B.addAssign(r3({v1:P,v2:S})),y.assign(re(lF({f:B})))}),y}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),C5=1/6,Qy=r=>At(C5,At(r,At(r,r.negate().add(3)).sub(3)).add(1)),V7=r=>At(C5,At(r,At(r,At(3,r).sub(6))).add(4)),Yy=r=>At(C5,At(r,At(r,At(-3,r).add(3)).add(3)).add(1)),z7=r=>At(C5,Rr(r,3)),nh=r=>Qy(r).add(V7(r)),rh=r=>Yy(r).add(z7(r)),ih=r=>T0(-1,V7(r).div(Qy(r).add(V7(r)))),sh=r=>T0(1,z7(r).div(Yy(r).add(z7(r)))),oh=(r,e,t)=>{const n=r.uvNode,i=At(n,e.zw).add(.5),s=r1(i),o=j1(i),u=nh(o.x),h=rh(o.x),d=ih(o.x),m=sh(o.x),y=ih(o.y),x=sh(o.y),b=xe(s.x.add(d),s.y.add(y)).sub(.5).mul(e.xy),w=xe(s.x.add(m),s.y.add(y)).sub(.5).mul(e.xy),S=xe(s.x.add(d),s.y.add(x)).sub(.5).mul(e.xy),N=xe(s.x.add(m),s.y.add(x)).sub(.5).mul(e.xy),C=nh(o.y).mul(T0(u.mul(r.sample(b).level(t)),h.mul(r.sample(w).level(t)))),P=rh(o.y).mul(T0(u.mul(r.sample(S).level(t)),h.mul(r.sample(N).level(t))));return C.add(P)},Xy=se(([r,e=j(3)])=>{const t=xe(r.size(Z(e))),n=xe(r.size(Z(e.add(1)))),i=hr(1,t),s=hr(1,n),o=oh(r,Ve(i,t),r1(e)),u=oh(r,Ve(s,n),y5(e));return j1(e).mix(o,u)}),ah=se(([r,e,t,n,i])=>{const s=re(dA(e.negate(),G1(r),hr(1,n))),o=re(i1(i[0].xyz),i1(i[1].xyz),i1(i[2].xyz));return G1(s).mul(t.mul(o))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),uF=se(([r,e])=>r.mul(A1(e.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),cF=RA(),hF=RA(),Ah=se(([r,e,t],{material:n})=>{const s=(n.side===En?cF:hF).sample(r),o=n1(a4.x).mul(uF(e,t));return Xy(s,o)}),lh=se(([r,e,t])=>(lt(t.notEqual(0),()=>{const n=g5(e).negate().div(t);return iA(n.negate().mul(r))}),re(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),fF=se(([r,e,t,n,i,s,o,u,h,d,m,y,x,b,w])=>{let S,N;if(w){S=Ve().toVar(),N=re().toVar();const D=m.sub(1).mul(w.mul(.025)),I=re(m.sub(D),m,m.add(D));Ot({start:0,end:3},({i:U})=>{const V=I.element(U),H=ah(r,e,y,V,u),z=o.add(H),k=d.mul(h.mul(Ve(z,1))),Y=xe(k.xy.div(k.w)).toVar();Y.addAssign(1),Y.divAssign(2),Y.assign(xe(Y.x,Y.y.oneMinus()));const X=Ah(Y,t,V);S.element(U).assign(X.element(U)),S.a.addAssign(X.a),N.element(U).assign(n.element(U).mul(lh(i1(H),x,b).element(U)))}),S.a.divAssign(3)}else{const D=ah(r,e,y,m,u),I=o.add(D),U=d.mul(h.mul(Ve(I,1))),V=xe(U.xy.div(U.w)).toVar();V.addAssign(1),V.divAssign(2),V.assign(xe(V.x,V.y.oneMinus())),S=Ah(V,t,m),N=n.mul(lh(i1(D),x,b))}const C=N.rgb.mul(S.rgb),P=r.dot(e).clamp(),B=re($y({dotNV:P,specularColor:i,specularF90:s,roughness:t})),q=N.r.add(N.g,N.b).div(3);return Ve(B.oneMinus().mul(C),S.a.oneMinus().mul(q).oneMinus())}),dF=on(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),pF=r=>{const e=r.sqrt();return re(1).add(e).div(re(1).sub(e))},uh=(r,e)=>r.sub(e).div(r.add(e)).pow2(),mF=(r,e)=>{const t=r.mul(2*Math.PI*1e-9),n=re(54856e-17,44201e-17,52481e-17),i=re(1681e3,1795300,2208400),s=re(43278e5,93046e5,66121e5),o=j(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(t.mul(2239900).add(e.x).cos()).mul(t.pow2().mul(-45282e5).exp());let u=n.mul(s.mul(2*Math.PI).sqrt()).mul(i.mul(t).add(e).cos()).mul(t.pow2().negate().mul(s).exp());return u=re(u.x.add(o),u.y,u.z).div(10685e-11),dF.mul(u)},gF=se(({outsideIOR:r,eta2:e,cosTheta1:t,thinFilmThickness:n,baseF0:i})=>{const s=It(r,e,l1(0,.03,n)),u=r.div(s).pow2().mul(t.pow2().oneMinus()).oneMinus();lt(u.lessThan(0),()=>re(1));const h=u.sqrt(),d=uh(s,r),m=Ms({f0:d,f90:1,dotVH:t}),y=m.oneMinus(),x=s.lessThan(r).select(Math.PI,0),b=j(Math.PI).sub(x),w=pF(i.clamp(0,.9999)),S=uh(w,s.toVec3()),N=Ms({f0:S,f90:1,dotVH:h}),C=re(w.x.lessThan(s).select(Math.PI,0),w.y.lessThan(s).select(Math.PI,0),w.z.lessThan(s).select(Math.PI,0)),P=s.mul(n,h,2),B=re(b).add(C),q=m.mul(N).clamp(1e-5,.9999),D=q.sqrt(),I=y.pow2().mul(N).div(re(1).sub(q)),V=m.add(I).toVar(),H=I.sub(y).toVar();return Ot({start:1,end:2,condition:"<=",name:"m"},({m:z})=>{H.mulAssign(D);const k=mF(j(z).mul(P),j(z).mul(B)).mul(2);V.addAssign(H.mul(k))}),V.max(re(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),yF=se(({normal:r,viewDir:e,roughness:t})=>{const n=r.dot(e).saturate(),i=t.pow2(),s=B0(t.lessThan(.25),j(-339.2).mul(i).add(j(161.4).mul(t)).sub(25.9),j(-8.48).mul(i).add(j(14.3).mul(t)).sub(9.95)),o=B0(t.lessThan(.25),j(44).mul(i).sub(j(23.7).mul(t)).add(3.26),j(1.97).mul(i).sub(j(3.27).mul(t)).add(.72));return B0(t.lessThan(.25),0,j(.1).mul(t).sub(.025)).add(s.mul(n).add(o).exp()).mul(1/Math.PI).saturate()}),G8=re(.04),V8=j(1);class Ky extends R5{constructor(e=!1,t=!1,n=!1,i=!1,s=!1,o=!1){super(),this.clearcoat=e,this.sheen=t,this.iridescence=n,this.anisotropy=i,this.transmission=s,this.dispersion=o,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(e){if(this.clearcoat===!0&&(this.clearcoatRadiance=re().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=re().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=re().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=re().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=re().toVar("sheenSpecularIndirect")),this.iridescence===!0){const t=m0.dot(n0).clamp();this.iridescenceFresnel=gF({outsideIOR:j(1),eta2:Y9,cosTheta1:t,thinFilmThickness:X9,baseF0:vn}),this.iridescenceF0=Wy({f:this.iridescenceFresnel,f90:1,dotVH:t})}if(this.transmission===!0){const t=F1,n=Eg.sub(F1).normalize(),i=S5,s=e.context;s.backdrop=fF(i,n,Zr,Bt,vn,s4,t,Ar,Cn,y2,Do,K9,J9,Z9,this.dispersion?eA:null),s.backdropAlpha=ja,Bt.a.mulAssign(It(1,s.backdrop.a,ja))}super.start(e)}computeMultiscattering(e,t,n){const i=m0.dot(n0).clamp(),s=IA({roughness:Zr,dotNV:i}),u=(this.iridescenceF0?p5.mix(vn,this.iridescenceF0):vn).mul(s.x).add(n.mul(s.y)),d=s.x.add(s.y).oneMinus(),m=vn.add(vn.oneMinus().mul(.047619)),y=u.mul(m).div(d.mul(m).oneMinus());e.addAssign(u),t.addAssign(y.mul(d))}direct({lightDirection:e,lightColor:t,reflectedLight:n}){const s=m0.dot(e).clamp().mul(t);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(s.mul(aF({lightDirection:e}))),this.clearcoat===!0){const u=As.dot(e).clamp().mul(t);this.clearcoatSpecularDirect.addAssign(u.mul(G7({lightDirection:e,f0:G8,f90:V8,roughness:i4,normalView:As})))}n.directDiffuse.addAssign(s.mul(d2({diffuseColor:Bt.rgb}))),n.directSpecular.addAssign(s.mul(G7({lightDirection:e,f0:vn,f90:1,roughness:Zr,iridescence:this.iridescence,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:e,lightPosition:t,halfWidth:n,halfHeight:i,reflectedLight:s,ltc_1:o,ltc_2:u}){const h=t.add(n).sub(i),d=t.sub(n).sub(i),m=t.sub(n).add(i),y=t.add(n).add(i),x=m0,b=n0,w=x0.toVar(),S=AF({N:x,V:b,roughness:Zr}),N=o.sample(S).toVar(),C=u.sample(S).toVar(),P=on(re(N.x,0,N.y),re(0,1,0),re(N.z,0,N.w)).toVar(),B=vn.mul(C.x).add(vn.oneMinus().mul(C.y)).toVar();s.directSpecular.addAssign(e.mul(B).mul(th({N:x,V:b,P:w,mInv:P,p0:h,p1:d,p2:m,p3:y}))),s.directDiffuse.addAssign(e.mul(Bt).mul(th({N:x,V:b,P:w,mInv:on(1,0,0,0,1,0,0,0,1),p0:h,p1:d,p2:m,p3:y})))}indirect(e){this.indirectDiffuse(e),this.indirectSpecular(e),this.ambientOcclusion(e)}indirectDiffuse(e){const{irradiance:t,reflectedLight:n}=e.context;n.indirectDiffuse.addAssign(t.mul(d2({diffuseColor:Bt})))}indirectSpecular(e){const{radiance:t,iblIrradiance:n,reflectedLight:i}=e.context;if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(n.mul(Zi,yF({normal:m0,viewDir:n0,roughness:d5}))),this.clearcoat===!0){const m=As.dot(n0).clamp(),y=$y({dotNV:m,specularColor:G8,specularF90:V8,roughness:i4});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(y))}const s=re().toVar("singleScattering"),o=re().toVar("multiScattering"),u=n.mul(1/Math.PI);this.computeMultiscattering(s,o,s4);const h=s.add(o),d=Bt.mul(h.r.max(h.g).max(h.b).oneMinus());i.indirectSpecular.addAssign(t.mul(s)),i.indirectSpecular.addAssign(o.mul(u)),i.indirectDiffuse.addAssign(d.mul(u))}ambientOcclusion(e){const{ambientOcclusion:t,reflectedLight:n}=e.context,s=m0.dot(n0).clamp().add(t),o=Zr.mul(-16).oneMinus().negate().exp2(),u=t.sub(s.pow(o).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(t),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(t),n.indirectDiffuse.mulAssign(t),n.indirectSpecular.mulAssign(u)}finish({context:e}){const{outgoingLight:t}=e;if(this.clearcoat===!0){const n=As.dot(n0).clamp(),i=Ms({dotVH:n,f0:G8,f90:V8}),s=t.mul(Va.mul(i).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(Va));t.assign(s)}if(this.sheen===!0){const n=Zi.r.max(Zi.g).max(Zi.b).mul(.157).oneMinus(),i=t.mul(n).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);t.assign(i)}}}const ch=j(1),H7=j(-2),i3=j(.8),z8=j(-1),s3=j(.4),H8=j(2),o3=j(.305),j8=j(3),hh=j(.21),vF=j(4),fh=j(4),_F=j(16),xF=se(([r])=>{const e=re(Zt(r)).toVar(),t=j(-1).toVar();return lt(e.x.greaterThan(e.z),()=>{lt(e.x.greaterThan(e.y),()=>{t.assign(B0(r.x.greaterThan(0),0,3))}).Else(()=>{t.assign(B0(r.y.greaterThan(0),1,4))})}).Else(()=>{lt(e.z.greaterThan(e.y),()=>{t.assign(B0(r.z.greaterThan(0),2,5))}).Else(()=>{t.assign(B0(r.y.greaterThan(0),1,4))})}),t}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),bF=se(([r,e])=>{const t=xe().toVar();return lt(e.equal(0),()=>{t.assign(xe(r.z,r.y).div(Zt(r.x)))}).ElseIf(e.equal(1),()=>{t.assign(xe(r.x.negate(),r.z.negate()).div(Zt(r.y)))}).ElseIf(e.equal(2),()=>{t.assign(xe(r.x.negate(),r.y).div(Zt(r.z)))}).ElseIf(e.equal(3),()=>{t.assign(xe(r.z.negate(),r.y).div(Zt(r.x)))}).ElseIf(e.equal(4),()=>{t.assign(xe(r.x.negate(),r.z).div(Zt(r.y)))}).Else(()=>{t.assign(xe(r.x,r.y).div(Zt(r.z)))}),At(.5,t.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),TF=se(([r])=>{const e=j(0).toVar();return lt(r.greaterThanEqual(i3),()=>{e.assign(ch.sub(r).mul(z8.sub(H7)).div(ch.sub(i3)).add(H7))}).ElseIf(r.greaterThanEqual(s3),()=>{e.assign(i3.sub(r).mul(H8.sub(z8)).div(i3.sub(s3)).add(z8))}).ElseIf(r.greaterThanEqual(o3),()=>{e.assign(s3.sub(r).mul(j8.sub(H8)).div(s3.sub(o3)).add(H8))}).ElseIf(r.greaterThanEqual(hh),()=>{e.assign(o3.sub(r).mul(vF.sub(j8)).div(o3.sub(hh)).add(j8))}).Else(()=>{e.assign(j(-2).mul(n1(At(1.16,r))))}),e}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),Zy=se(([r,e])=>{const t=r.toVar();t.assign(At(2,t).sub(1));const n=re(t,1).toVar();return lt(e.equal(0),()=>{n.assign(n.zyx)}).ElseIf(e.equal(1),()=>{n.assign(n.xzy),n.xz.mulAssign(-1)}).ElseIf(e.equal(2),()=>{n.x.mulAssign(-1)}).ElseIf(e.equal(3),()=>{n.assign(n.zyx),n.xz.mulAssign(-1)}).ElseIf(e.equal(4),()=>{n.assign(n.xzy),n.xy.mulAssign(-1)}).ElseIf(e.equal(5),()=>{n.z.mulAssign(-1)}),n}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),Jy=se(([r,e,t,n,i,s])=>{const o=j(t),u=re(e),h=A1(TF(o),H7,s),d=j1(h),m=r1(h),y=re(j7(r,u,m,n,i,s)).toVar();return lt(d.notEqual(0),()=>{const x=re(j7(r,u,m.add(1),n,i,s)).toVar();y.assign(It(y,x,d))}),y}),j7=se(([r,e,t,n,i,s])=>{const o=j(t).toVar(),u=re(e),h=j(xF(u)).toVar(),d=j(h0(fh.sub(o),0)).toVar();o.assign(h0(o,fh));const m=j(Es(o)).toVar(),y=xe(bF(u,h).mul(m.sub(2)).add(1)).toVar();return lt(h.greaterThan(2),()=>{y.y.addAssign(m),h.subAssign(3)}),y.x.addAssign(h.mul(m)),y.x.addAssign(d.mul(At(3,_F))),y.y.addAssign(At(4,Es(s).sub(m))),y.x.mulAssign(n),y.y.mulAssign(i),r.sample(y).grad(xe(),xe())}),$8=se(({envMap:r,mipInt:e,outputDirection:t,theta:n,axis:i,CUBEUV_TEXEL_WIDTH:s,CUBEUV_TEXEL_HEIGHT:o,CUBEUV_MAX_MIP:u})=>{const h=S1(n),d=t.mul(h).add(i.cross(t).mul(kn(n))).add(i.mul(i.dot(t).mul(h.oneMinus())));return j7(r,d,e,s,o,u)}),ev=se(({n:r,latitudinal:e,poleAxis:t,outputDirection:n,weights:i,samples:s,dTheta:o,mipInt:u,envMap:h,CUBEUV_TEXEL_WIDTH:d,CUBEUV_TEXEL_HEIGHT:m,CUBEUV_MAX_MIP:y})=>{const x=re(B0(e,t,_5(t,n))).toVar();lt(x.equal(re(0)),()=>{x.assign(re(n.z,0,n.x.negate()))}),x.assign(G1(x));const b=re().toVar();return b.addAssign(i.element(0).mul($8({theta:0,axis:x,outputDirection:n,mipInt:u,envMap:h,CUBEUV_TEXEL_WIDTH:d,CUBEUV_TEXEL_HEIGHT:m,CUBEUV_MAX_MIP:y}))),Ot({start:Z(1),end:r},({i:w})=>{lt(w.greaterThanEqual(s),()=>{Ry()});const S=j(o.mul(j(w))).toVar();b.addAssign(i.element(w).mul($8({theta:S.mul(-1),axis:x,outputDirection:n,mipInt:u,envMap:h,CUBEUV_TEXEL_WIDTH:d,CUBEUV_TEXEL_HEIGHT:m,CUBEUV_MAX_MIP:y}))),b.addAssign(i.element(w).mul($8({theta:S,axis:x,outputDirection:n,mipInt:u,envMap:h,CUBEUV_TEXEL_WIDTH:d,CUBEUV_TEXEL_HEIGHT:m,CUBEUV_MAX_MIP:y})))}),Ve(b,1)}),ls=4,dh=[.125,.215,.35,.446,.526,.582],$i=20,W8=new So(-1,1,1,-1,0,1),wF=new e2(90,1),ph=new D0;let Q8=null,Y8=0,X8=0;const ji=(1+Math.sqrt(5))/2,V2=1/ji,mh=[new Ce(-ji,V2,0),new Ce(ji,V2,0),new Ce(-V2,0,ji),new Ce(V2,0,ji),new Ce(0,ji,-V2),new Ce(0,ji,V2),new Ce(-1,1,-1),new Ce(1,1,-1),new Ce(-1,1,1),new Ce(1,1,1)],SF=new Ce,tv=new WeakMap,EF=[3,1,5,0,4,2],K8=Zy(o0(),z1("faceIndex")).normalize(),OA=re(K8.x,K8.y,K8.z);class NF{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(e,t=0,n=.1,i=100,s={}){const{size:o=256,position:u=SF,renderTarget:h=null}=s;if(this._setSize(o),this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromScene() called before the backend is initialized. Try using .fromSceneAsync() instead.");const m=h||this._allocateTarget();return s.renderTarget=m,this.fromSceneAsync(e,t,n,i,s),m}Q8=this._renderer.getRenderTarget(),Y8=this._renderer.getActiveCubeFace(),X8=this._renderer.getActiveMipmapLevel();const d=h||this._allocateTarget();return d.depthBuffer=!0,this._init(d),this._sceneToCubeUV(e,n,i,d,u),t>0&&this._blur(d,0,0,t),this._applyPMREM(d),this._cleanup(d),d}async fromSceneAsync(e,t=0,n=.1,i=100,s={}){return this._hasInitialized===!1&&await this._renderer.init(),this.fromScene(e,t,n,i,s)}fromEquirectangular(e,t=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using .fromEquirectangularAsync() instead."),this._setSizeFromTexture(e);const n=t||this._allocateTarget();return this.fromEquirectangularAsync(e,n),n}return this._fromTexture(e,t)}async fromEquirectangularAsync(e,t=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,t)}fromCubemap(e,t=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(e);const n=t||this._allocateTarget();return this.fromCubemapAsync(e,t),n}return this._fromTexture(e,t)}async fromCubemapAsync(e,t=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,t)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=yh(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=vh(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(e){e.mapping===ra||e.mapping===ia?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4)}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Q8,Y8,X8),e.scissorTest=!1,a3(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSizeFromTexture(e),Q8=this._renderer.getRenderTarget(),Y8=this._renderer.getActiveCubeFace(),X8=this._renderer.getActiveMipmapLevel();const n=t||this._allocateTarget();return this._init(n),this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTarget(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize;return gh(e,t)}_init(e){if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e.width||this._pingPongRenderTarget.height!==e.height){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=gh(e.width,e.height);const{_lodMax:t}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas,lodMeshes:this._lodMeshes}=MF(t)),this._blurMaterial=RF(t,e.width,e.height)}}async _compileMaterial(e){const t=new y0(this._lodPlanes[0],e);await this._renderer.compile(t,W8)}_sceneToCubeUV(e,t,n,i,s){const o=wF;o.near=t,o.far=n;const u=[1,1,1,1,-1,1],h=[1,-1,1,-1,1,-1],d=this._renderer,m=d.autoClear;d.getClearColor(ph),d.autoClear=!1;let y=this._backgroundBox;if(y===null){const w=new N1({name:"PMREM.Background",side:En,depthWrite:!1,depthTest:!1});y=new y0(new x9,w)}let x=!1;const b=e.background;b?b.isColor&&(y.material.color.copy(b),e.background=null,x=!0):(y.material.color.copy(ph),x=!0),d.setRenderTarget(i),d.clear(),x&&d.render(y,o);for(let w=0;w<6;w++){const S=w%3;S===0?(o.up.set(0,u[w],0),o.position.set(s.x,s.y,s.z),o.lookAt(s.x+h[w],s.y,s.z)):S===1?(o.up.set(0,0,u[w]),o.position.set(s.x,s.y,s.z),o.lookAt(s.x,s.y+h[w],s.z)):(o.up.set(0,u[w],0),o.position.set(s.x,s.y,s.z),o.lookAt(s.x,s.y,s.z+h[w]));const N=this._cubeSize;a3(i,S*N,w>2?N:0,N,N),d.render(e,o)}d.autoClear=m,e.background=b}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===ra||e.mapping===ia;i?this._cubemapMaterial===null&&(this._cubemapMaterial=yh(e)):this._equirectMaterial===null&&(this._equirectMaterial=vh(e));const s=i?this._cubemapMaterial:this._equirectMaterial;s.fragmentNode.value=e;const o=this._lodMeshes[0];o.material=s;const u=this._cubeSize;a3(t,0,0,3*u,2*u),n.setRenderTarget(t),n.render(o,W8)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),u=mh[(i-s-1)%mh.length];this._blur(e,s-1,s,o,u)}t.autoClear=n}_blur(e,t,n,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",s),this._halfBlur(o,e,n,n,i,"longitudinal",s)}_halfBlur(e,t,n,i,s,o,u){const h=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,y=this._lodMeshes[i];y.material=d;const x=tv.get(d),b=this._sizeLods[n]-1,w=isFinite(s)?Math.PI/(2*b):2*Math.PI/(2*$i-1),S=s/w,N=isFinite(s)?1+Math.floor(m*S):$i;N>$i&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${N} samples when the maximum is set to ${$i}`);const C=[];let P=0;for(let U=0;U<$i;++U){const V=U/S,H=Math.exp(-V*V/2);C.push(H),U===0?P+=H:U<N&&(P+=2*H)}for(let U=0;U<C.length;U++)C[U]=C[U]/P;e.texture.frame=(e.texture.frame||0)+1,x.envMap.value=e.texture,x.samples.value=N,x.weights.array=C,x.latitudinal.value=o==="latitudinal"?1:0,u&&(x.poleAxis.value=u);const{_lodMax:B}=this;x.dTheta.value=w,x.mipInt.value=B-n;const q=this._sizeLods[i],D=3*q*(i>B-ls?i-B+ls:0),I=4*(this._cubeSize-q);a3(t,D,I,3*q,2*q),h.setRenderTarget(t),h.render(y,W8)}}function MF(r){const e=[],t=[],n=[],i=[];let s=r;const o=r-ls+1+dh.length;for(let u=0;u<o;u++){const h=Math.pow(2,s);t.push(h);let d=1/h;u>r-ls?d=dh[u-r+ls-1]:u===0&&(d=0),n.push(d);const m=1/(h-2),y=-m,x=1+m,b=[y,y,x,y,x,x,y,y,x,x,y,x],w=6,S=6,N=3,C=2,P=1,B=new Float32Array(N*S*w),q=new Float32Array(C*S*w),D=new Float32Array(P*S*w);for(let U=0;U<w;U++){const V=U%3*2/3-1,H=U>2?0:-1,z=[V,H,0,V+2/3,H,0,V+2/3,H+1,0,V,H,0,V+2/3,H+1,0,V,H+1,0],k=EF[U];B.set(z,N*S*k),q.set(b,C*S*k);const Y=[k,k,k,k,k,k];D.set(Y,P*S*k)}const I=new pr;I.setAttribute("position",new Cr(B,N)),I.setAttribute("uv",new Cr(q,C)),I.setAttribute("faceIndex",new Cr(D,P)),e.push(I),i.push(new y0(I,null)),s>ls&&s--}return{lodPlanes:e,sizeLods:t,sigmas:n,lodMeshes:i}}function gh(r,e){const t={magFilter:L1,minFilter:L1,generateMipmaps:!1,type:xn,format:Er,colorSpace:wo},n=new wi(r,e,t);return n.texture.mapping=E6,n.texture.name="PMREM.cubeUv",n.texture.isPMREMTexture=!0,n.scissorTest=!0,n}function a3(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function kA(r){const e=new v0;return e.depthTest=!1,e.depthWrite=!1,e.blending=Go,e.name=`PMREM_${r}`,e}function RF(r,e,t){const n=ar(new Array($i).fill(0)),i=ze(new Ce(0,1,0)),s=ze(0),o=j($i),u=ze(0),h=ze(1),d=xt(null),m=ze(0),y=j(1/e),x=j(1/t),b=j(r),w={n:o,latitudinal:u,weights:n,poleAxis:i,outputDirection:OA,dTheta:s,samples:h,envMap:d,mipInt:m,CUBEUV_TEXEL_WIDTH:y,CUBEUV_TEXEL_HEIGHT:x,CUBEUV_MAX_MIP:b},S=kA("blur");return S.fragmentNode=ev({...w,latitudinal:u.equal(1)}),tv.set(S,w),S}function yh(r){const e=kA("cubemap");return e.fragmentNode=Ns(r,OA),e}function vh(r){const e=kA("equirect");return e.fragmentNode=xt(r,FA(OA),0),e}const _h=new WeakMap;function CF(r){const e=Math.log2(r)-2,t=1/r;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:t,maxMip:e}}function PF(r,e,t){const n=BF(e);let i=n.get(r);if((i!==void 0?i.pmremVersion:-1)!==r.pmremVersion){const o=r.image;if(r.isCubeTexture)if(FF(o))i=t.fromCubemap(r,i);else return null;else if(LF(o))i=t.fromEquirectangular(r,i);else return null;i.pmremVersion=r.pmremVersion,n.set(r,i)}return i.texture}function BF(r){let e=_h.get(r);return e===void 0&&(e=new WeakMap,_h.set(r,e)),e}class DF extends _0{static get type(){return"PMREMNode"}constructor(e,t=null,n=null){super("vec3"),this._value=e,this._pmrem=null,this.uvNode=t,this.levelNode=n,this._generator=null;const i=new i9;i.isRenderTargetTexture=!0,this._texture=xt(i),this._width=ze(0),this._height=ze(0),this._maxMip=ze(0),this.updateBeforeType=ht.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const t=CF(e.image.height);this._texture.value=e,this._width.value=t.texelWidth,this._height.value=t.texelHeight,this._maxMip.value=t.maxMip}updateBefore(e){let t=this._pmrem;const n=t?t.pmremVersion:-1,i=this._value;n!==i.pmremVersion&&(i.isPMREMTexture===!0?t=i:t=PF(i,e.renderer,this._generator),t!==null&&(this._pmrem=t,this.updateFromTexture(t)))}setup(e){this._generator===null&&(this._generator=new NF(e.renderer)),this.updateBefore(e);let t=this.uvNode;t===null&&e.context.getUV&&(t=e.context.getUV(this)),t=TA.mul(re(t.x,t.y.negate(),t.z));let n=this.levelNode;return n===null&&e.context.getTextureLevel&&(n=e.context.getTextureLevel(this)),Jy(this._texture,t,n,this._width,this._height,this._maxMip)}dispose(){super.dispose(),this._generator!==null&&this._generator.dispose()}}function FF(r){if(r==null)return!1;let e=0;const t=6;for(let n=0;n<t;n++)r[n]!==void 0&&e++;return e===t}function LF(r){return r==null?!1:r.height>0}const UA=_e(DF).setParameterLength(1,3),xh=new WeakMap;class qF extends Fs{static get type(){return"EnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){const{material:t}=e;let n=this.envNode;if(n.isTextureNode||n.isMaterialReferenceNode){const y=n.isTextureNode?n.value:t[n.property];let x=xh.get(y);x===void 0&&(x=UA(y),xh.set(y,x)),n=x}const s=t.useAnisotropy===!0||t.anisotropy>0?zg:m0,o=n.context(bh(Zr,s)).mul(Q3),u=n.context(IF(S5)).mul(Math.PI).mul(Q3),h=Fo(o),d=Fo(u);e.context.radiance.addAssign(h),e.context.iblIrradiance.addAssign(d);const m=e.context.lightingModel.clearcoatRadiance;if(m){const y=n.context(bh(i4,As)).mul(Q3),x=Fo(y);m.addAssign(x)}}}const bh=(r,e)=>{let t=null;return{getUV:()=>(t===null&&(t=n0.negate().reflect(e),t=r.mul(r).mix(t,e).normalize(),t=t.transformDirection(Cn)),t),getTextureLevel:()=>r}},IF=r=>({getUV:()=>r,getTextureLevel:()=>j(1)}),OF=new hT;class nv extends v0{static get type(){return"MeshStandardNodeMaterial"}constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(OF),this.setValues(e)}setupEnvironment(e){let t=super.setupEnvironment(e);return t===null&&e.environmentNode&&(t=e.environmentNode),t?new qF(t):null}setupLightingModel(){return new Ky}setupSpecular(){const e=It(re(.04),Bt.rgb,r4);vn.assign(e),s4.assign(1)}setupVariants(){const e=this.metalnessNode?j(this.metalnessNode):Zg;r4.assign(e);let t=this.roughnessNode?j(this.roughnessNode):Kg;t=qA({roughness:t}),Zr.assign(t),this.setupSpecular(),Bt.assign(Ve(Bt.rgb.mul(e.oneMinus()),Bt.a))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}const kF=new fT;class UF extends nv{static get type(){return"MeshPhysicalNodeMaterial"}constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(kF),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const e=this.iorNode?j(this.iorNode):hy;Do.assign(e),vn.assign(It(Mn(cA(Do.sub(1).div(Do.add(1))).mul(Xg),re(1)).mul(U7),Bt.rgb,r4)),s4.assign(It(U7,1,r4))}setupLightingModel(){return new Ky(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const t=this.clearcoatNode?j(this.clearcoatNode):ey,n=this.clearcoatRoughnessNode?j(this.clearcoatRoughnessNode):ty;Va.assign(t),i4.assign(qA({roughness:n}))}if(this.useSheen){const t=this.sheenNode?re(this.sheenNode):iy,n=this.sheenRoughnessNode?j(this.sheenRoughnessNode):sy;Zi.assign(t),d5.assign(n)}if(this.useIridescence){const t=this.iridescenceNode?j(this.iridescenceNode):ay,n=this.iridescenceIORNode?j(this.iridescenceIORNode):Ay,i=this.iridescenceThicknessNode?j(this.iridescenceThicknessNode):ly;p5.assign(t),Y9.assign(n),X9.assign(i)}if(this.useAnisotropy){const t=(this.anisotropyNode?xe(this.anisotropyNode):oy).toVar();Ai.assign(t.length()),lt(Ai.equal(0),()=>{t.assign(xe(1,0))}).Else(()=>{t.divAssign(xe(Ai)),Ai.assign(Ai.saturate())}),za.assign(Ai.pow2().mix(Zr.pow2(),1)),Bo.assign(Ji[0].mul(t.x).add(Ji[1].mul(t.y))),s2.assign(Ji[1].mul(t.x).sub(Ji[0].mul(t.y)))}if(this.useTransmission){const t=this.transmissionNode?j(this.transmissionNode):uy,n=this.thicknessNode?j(this.thicknessNode):cy,i=this.attenuationDistanceNode?j(this.attenuationDistanceNode):fy,s=this.attenuationColorNode?re(this.attenuationColorNode):dy;if(ja.assign(t),K9.assign(n),Z9.assign(i),J9.assign(s),this.useDispersion){const o=this.dispersionNode?j(this.dispersionNode):_y;eA.assign(o)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?re(this.clearcoatNormalNode):ny}setup(e){e.context.setupClearcoatNormal=()=>this.setupClearcoatNormal(e),super.setup(e)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,this.dispersionNode=e.dispersionNode,this.anisotropyNode=e.anisotropyNode,super.copy(e)}}const GF=se(({normal:r,lightDirection:e,builder:t})=>{const n=r.dot(e),i=xe(n.mul(.5).add(.5),0);if(t.material.gradientMap){const s=R1("gradientMap","texture").context({getUV:()=>i});return re(s.r)}else{const s=i.fwidth().mul(.5);return It(re(.7),re(1),l1(j(.7).sub(s.x),j(.7).add(s.x),i.x))}});class VF extends R5{direct({lightDirection:e,lightColor:t,reflectedLight:n},i){const s=GF({normal:w5,lightDirection:e,builder:i}).mul(t);n.directDiffuse.addAssign(s.mul(d2({diffuseColor:Bt.rgb})))}indirect(e){const{ambientOcclusion:t,irradiance:n,reflectedLight:i}=e.context;i.indirectDiffuse.addAssign(n.mul(d2({diffuseColor:Bt}))),i.indirectDiffuse.mulAssign(t)}}const zF=new dT;class HF extends v0{static get type(){return"MeshToonNodeMaterial"}constructor(e){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(zF),this.setValues(e)}setupLightingModel(){return new VF}}class jF extends _0{static get type(){return"MatcapUVNode"}constructor(){super("vec2")}setup(){const e=re(n0.z,0,n0.x.negate()).normalize(),t=n0.cross(e);return xe(e.dot(m0),t.dot(m0)).mul(.495).add(.5)}}const rv=Pe(jF),$F=new mT;class WF extends v0{static get type(){return"MeshMatcapNodeMaterial"}constructor(e){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues($F),this.setValues(e)}setupVariants(e){const t=rv;let n;e.material.matcap?n=R1("matcap","texture").context({getUV:()=>t}):n=re(It(.2,.8,t.y)),Bt.rgb.mulAssign(n.rgb)}}class QF extends _0{static get type(){return"RotateNode"}constructor(e,t){super(),this.positionNode=e,this.rotationNode=t}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:t,positionNode:n}=this;if(this.getNodeType(e)==="vec2"){const s=t.cos(),o=t.sin();return f5(s,o,o.negate(),s).mul(n)}else{const s=t,o=i2(Ve(1,0,0,0),Ve(0,S1(s.x),kn(s.x).negate(),0),Ve(0,kn(s.x),S1(s.x),0),Ve(0,0,0,1)),u=i2(Ve(S1(s.y),0,kn(s.y),0),Ve(0,1,0,0),Ve(kn(s.y).negate(),0,S1(s.y),0),Ve(0,0,0,1)),h=i2(Ve(S1(s.z),kn(s.z).negate(),0,0),Ve(kn(s.z),S1(s.z),0,0),Ve(0,0,1,0),Ve(0,0,0,1));return o.mul(u).mul(h).mul(Ve(n,1)).xyz}}}const P5=_e(QF).setParameterLength(2),YF=new yT;class iv extends v0{static get type(){return"SpriteNodeMaterial"}constructor(e){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.transparent=!0,this.setDefaultValues(YF),this.setValues(e)}setupPositionView(e){const{object:t,camera:n}=e,i=this.sizeAttenuation,{positionNode:s,rotationNode:o,scaleNode:u}=this,h=v2.mul(re(s||0));let d=xe(Ar[0].xyz.length(),Ar[1].xyz.length());if(u!==null&&(d=d.mul(xe(u))),i===!1)if(n.isPerspectiveCamera)d=d.mul(h.z.negate());else{const b=j(2).div(y2.element(1).element(1));d=d.mul(b.mul(2))}let m=_4.xy;if(t.center&&t.center.isVector2===!0){const b=rB("center","vec2",t);m=m.sub(b.sub(.5))}m=m.mul(d);const y=j(o||ry),x=P5(m,y);return Ve(h.xy.add(x),h.zw)}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(e){this._useSizeAttenuation!==e&&(this._useSizeAttenuation=e,this.needsUpdate=!0)}}const XF=new sd;class KF extends iv{static get type(){return"PointsNodeMaterial"}constructor(e){super(),this.sizeNode=null,this.isPointsNodeMaterial=!0,this.setDefaultValues(XF),this.setValues(e)}setupPositionView(){const{positionNode:e}=this;return v2.mul(re(e||g0)).xyz}setupVertex(e){const t=super.setupVertex(e);if(e.material.isNodeMaterial!==!0)return t;const{rotationNode:n,scaleNode:i,sizeNode:s}=this,o=_4.xy.toVar(),u=gs.z.div(gs.w);if(n&&n.isNode){const d=j(n);o.assign(P5(o,d))}let h=s!==null?xe(s):vy;return this.sizeAttenuation===!0&&(h=h.mul(h.div(x0.z.negate()))),i&&i.isNode&&(h=h.mul(xe(i))),o.mulAssign(h.mul(2)),o.assign(o.div(gs.z)),o.y.assign(o.y.mul(u)),o.assign(o.mul(t.w)),t.addAssign(Ve(o,0,0)),t}get alphaToCoverage(){return this._useAlphaToCoverage}set alphaToCoverage(e){this._useAlphaToCoverage!==e&&(this._useAlphaToCoverage=e,this.needsUpdate=!0)}}class ZF extends R5{constructor(){super(),this.shadowNode=j(1).toVar("shadowMask")}direct({lightNode:e}){e.shadowNode!==null&&this.shadowNode.mulAssign(e.shadowNode)}finish({context:e}){Bt.a.mulAssign(this.shadowNode.oneMinus()),e.outgoingLight.rgb.assign(Bt.rgb)}}const JF=new vT;class eL extends v0{static get type(){return"ShadowNodeMaterial"}constructor(e){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.transparent=!0,this.setDefaultValues(JF),this.setValues(e)}setupLightingModel(){return new ZF}}Ds("vec3");Ds("vec3");Ds("vec3");class tL{constructor(e,t){this.nodes=e,this.info=t,this._context=typeof self<"u"?self:null,this._animationLoop=null,this._requestId=null}start(){const e=(t,n)=>{this._requestId=this._context.requestAnimationFrame(e),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this._animationLoop!==null&&this._animationLoop(t,n)};e()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}getAnimationLoop(){return this._animationLoop}setAnimationLoop(e){this._animationLoop=e}getContext(){return this._context}setContext(e){this._context=e}dispose(){this.stop()}}class qr{constructor(){this.weakMap=new WeakMap}get(e){let t=this.weakMap;for(let n=0;n<e.length-1;n++)if(t=t.get(e[n]),t===void 0)return;return t.get(e[e.length-1])}set(e,t){let n=this.weakMap;for(let i=0;i<e.length-1;i++){const s=e[i];n.has(s)===!1&&n.set(s,new WeakMap),n=n.get(s)}return n.set(e[e.length-1],t),this}delete(e){let t=this.weakMap;for(let n=0;n<e.length-1;n++)if(t=t.get(e[n]),t===void 0)return!1;return t.delete(e[e.length-1])}}let nL=0;function rL(r){const e=Object.keys(r);let t=Object.getPrototypeOf(r);for(;t;){const n=Object.getOwnPropertyDescriptors(t);for(const i in n)if(n[i]!==void 0){const s=n[i];s&&typeof s.get=="function"&&e.push(i)}t=Object.getPrototypeOf(t)}return e}class iL{constructor(e,t,n,i,s,o,u,h,d,m){this.id=nL++,this._nodes=e,this._geometries=t,this.renderer=n,this.object=i,this.material=s,this.scene=o,this.camera=u,this.lightsNode=h,this.context=d,this.geometry=i.geometry,this.version=s.version,this.drawRange=null,this.attributes=null,this.pipeline=null,this.group=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=m,this.clippingContextCacheKey=m!==null?m.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.material.addEventListener("dispose",this.onMaterialDispose)}updateClipping(e){this.clippingContext=e}get clippingNeedsUpdate(){return this.clippingContext===null||this.clippingContext.cacheKey===this.clippingContextCacheKey?!1:(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return this.material.hardwareClipping===!0?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().observer)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getBindingGroup(e){for(const t of this.getBindings())if(t.name===e)return t}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(e){this.geometry=e,this.attributes=null}getAttributes(){if(this.attributes!==null)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,t=this.geometry,n=[],i=new Set;for(const s of e){const o=s.node&&s.node.attribute?s.node.attribute:t.getAttribute(s.name);if(o===void 0)continue;n.push(o);const u=o.isInterleavedBufferAttribute?o.data:o;i.add(u)}return this.attributes=n,this.vertexBuffers=Array.from(i.values()),n}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:e,material:t,geometry:n,group:i,drawRange:s}=this,o=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),u=this.getIndex(),h=u!==null;let d=1;if(n.isInstancedBufferGeometry===!0?d=n.instanceCount:e.count!==void 0&&(d=Math.max(0,e.count)),d===0)return null;if(o.instanceCount=d,e.isBatchedMesh===!0)return o;let m=1;t.wireframe===!0&&!e.isPoints&&!e.isLineSegments&&!e.isLine&&!e.isLineLoop&&(m=2);let y=s.start*m,x=(s.start+s.count)*m;i!==null&&(y=Math.max(y,i.start*m),x=Math.min(x,(i.start+i.count)*m));const b=n.attributes.position;let w=1/0;h?w=u.count:b!=null&&(w=b.count),y=Math.max(y,0),x=Math.min(x,w);const S=x-y;return S<0||S===1/0?null:(o.vertexCount=S,o.firstVertex=y,o)}getGeometryCacheKey(){const{geometry:e}=this;let t="";for(const n of Object.keys(e.attributes).sort()){const i=e.attributes[n];t+=n+",",i.data&&(t+=i.data.stride+","),i.offset&&(t+=i.offset+","),i.itemSize&&(t+=i.itemSize+","),i.normalized&&(t+="n,")}for(const n of Object.keys(e.morphAttributes).sort()){const i=e.morphAttributes[n];t+="morph-"+n+",";for(let s=0,o=i.length;s<o;s++){const u=i[s];t+=u.id+","}}return e.index&&(t+="index,"),t}getMaterialCacheKey(){const{object:e,material:t}=this;let n=t.customProgramCacheKey();for(const i of rL(t)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(i))continue;const s=t[i];let o;if(s!==null){const u=typeof s;u==="number"?o=s!==0?"1":"0":u==="object"?(o="{",s.isTexture&&(o+=s.mapping),o+="}"):o=String(s)}else o=String(s);n+=o+","}return n+=this.clippingContextCacheKey+",",e.geometry&&(n+=this.getGeometryCacheKey()),e.skeleton&&(n+=e.skeleton.bones.length+","),e.isBatchedMesh&&(n+=e._matricesTexture.uuid+",",e._colorsTexture!==null&&(n+=e._colorsTexture.uuid+",")),e.count>1&&(n+=e.uuid+","),n+=e.receiveShadow+",",Dp(n)}get needsGeometryUpdate(){return this.geometry.id!==this.object.geometry.id}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let e=0;return this.material.isShadowPassMaterial!==!0&&(e=this._nodes.getCacheKey(this.scene,this.lightsNode)),this.camera.isArrayCamera&&(e=ka(e,this.camera.cameras.length)),this.object.receiveShadow&&(e=ka(e,1)),e}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.onDispose()}}const qi=[];class sL{constructor(e,t,n,i,s,o){this.renderer=e,this.nodes=t,this.geometries=n,this.pipelines=i,this.bindings=s,this.info=o,this.chainMaps={}}get(e,t,n,i,s,o,u,h){const d=this.getChainMap(h);qi[0]=e,qi[1]=t,qi[2]=o,qi[3]=s;let m=d.get(qi);return m===void 0?(m=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,t,n,i,s,o,u,h),d.set(qi,m)):(m.updateClipping(u),m.needsGeometryUpdate&&m.setGeometry(e.geometry),(m.version!==t.version||m.needsUpdate)&&(m.initialCacheKey!==m.getCacheKey()?(m.dispose(),m=this.get(e,t,n,i,s,o,u,h)):m.version=t.version)),qi.length=0,m}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new qr)}dispose(){this.chainMaps={}}createRenderObject(e,t,n,i,s,o,u,h,d,m,y){const x=this.getChainMap(y),b=new iL(e,t,n,i,s,o,u,h,d,m);return b.onDispose=()=>{this.pipelines.delete(b),this.bindings.delete(b),this.nodes.delete(b),x.delete(b.getChainArray())},b}}class Ei{constructor(){this.data=new WeakMap}get(e){let t=this.data.get(e);return t===void 0&&(t={},this.data.set(e,t)),t}delete(e){let t=null;return this.data.has(e)&&(t=this.data.get(e),this.data.delete(e)),t}has(e){return this.data.has(e)}dispose(){this.data=new WeakMap}}const lr={VERTEX:1,INDEX:2,STORAGE:3,INDIRECT:4},hi=16,oL=211,aL=212;class AL extends Ei{constructor(e){super(),this.backend=e}delete(e){const t=super.delete(e);return t!==null&&this.backend.destroyAttribute(e),t}update(e,t){const n=this.get(e);if(n.version===void 0)t===lr.VERTEX?this.backend.createAttribute(e):t===lr.INDEX?this.backend.createIndexAttribute(e):t===lr.STORAGE?this.backend.createStorageAttribute(e):t===lr.INDIRECT&&this.backend.createIndirectStorageAttribute(e),n.version=this._getBufferAttribute(e).version;else{const i=this._getBufferAttribute(e);(n.version<i.version||i.usage===es)&&(this.backend.updateAttribute(e),n.version=i.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}function sv(r){return r.index!==null?r.index.version:r.attributes.position.version}function Th(r){const e=[],t=r.index,n=r.attributes.position;if(t!==null){const s=t.array;for(let o=0,u=s.length;o<u;o+=3){const h=s[o+0],d=s[o+1],m=s[o+2];e.push(h,d,d,m,m,h)}}else{const s=n.array;for(let o=0,u=s.length/3-1;o<u;o+=3){const h=o+0,d=o+1,m=o+2;e.push(h,d,d,m,m,h)}}const i=new(NT(e)?ST:ET)(e,1);return i.version=sv(r),i}class lL extends Ei{constructor(e,t){super(),this.attributes=e,this.info=t,this.wireframes=new WeakMap,this.attributeCall=new WeakMap}has(e){const t=e.geometry;return super.has(t)&&this.get(t).initialized===!0}updateForRender(e){this.has(e)===!1&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const t=e.geometry,n=this.get(t);n.initialized=!0,this.info.memory.geometries++;const i=()=>{this.info.memory.geometries--;const s=t.index,o=e.getAttributes();s!==null&&this.attributes.delete(s);for(const h of o)this.attributes.delete(h);const u=this.wireframes.get(t);u!==void 0&&this.attributes.delete(u),t.removeEventListener("dispose",i)};t.addEventListener("dispose",i)}updateAttributes(e){const t=e.getAttributes();for(const s of t)s.isStorageBufferAttribute||s.isStorageInstancedBufferAttribute?this.updateAttribute(s,lr.STORAGE):this.updateAttribute(s,lr.VERTEX);const n=this.getIndex(e);n!==null&&this.updateAttribute(n,lr.INDEX);const i=e.geometry.indirect;i!==null&&this.updateAttribute(i,lr.INDIRECT)}updateAttribute(e,t){const n=this.info.render.calls;e.isInterleavedBufferAttribute?this.attributeCall.get(e)===void 0?(this.attributes.update(e,t),this.attributeCall.set(e,n)):this.attributeCall.get(e.data)!==n&&(this.attributes.update(e,t),this.attributeCall.set(e.data,n),this.attributeCall.set(e,n)):this.attributeCall.get(e)!==n&&(this.attributes.update(e,t),this.attributeCall.set(e,n))}getIndirect(e){return e.geometry.indirect}getIndex(e){const{geometry:t,material:n}=e;let i=t.index;if(n.wireframe===!0){const s=this.wireframes;let o=s.get(t);o===void 0?(o=Th(t),s.set(t,o)):o.version!==sv(t)&&(this.attributes.delete(o),o=Th(t),s.set(t,o)),i=o}return i}}class uL{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0},this.compute={calls:0,frameCalls:0,timestamp:0},this.memory={geometries:0,textures:0}}update(e,t,n){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=n*(t/3):e.isPoints?this.render.points+=n*t:e.isLineSegments?this.render.lines+=n*(t/2):e.isLine?this.render.lines+=n*(t-1):console.error("THREE.WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class ov{constructor(e){this.cacheKey=e,this.usedTimes=0}}class cL extends ov{constructor(e,t,n){super(e),this.vertexProgram=t,this.fragmentProgram=n}}class hL extends ov{constructor(e,t){super(e),this.computeProgram=t,this.isComputePipeline=!0}}let fL=0;class Z8{constructor(e,t,n,i=null,s=null){this.id=fL++,this.code=e,this.stage=t,this.name=n,this.transforms=i,this.attributes=s,this.usedTimes=0}}class dL extends Ei{constructor(e,t){super(),this.backend=e,this.nodes=t,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,t){const{backend:n}=this,i=this.get(e);if(this._needsComputeUpdate(e)){const s=i.pipeline;s&&(s.usedTimes--,s.computeProgram.usedTimes--);const o=this.nodes.getForCompute(e);let u=this.programs.compute.get(o.computeShader);u===void 0&&(s&&s.computeProgram.usedTimes===0&&this._releaseProgram(s.computeProgram),u=new Z8(o.computeShader,"compute",e.name,o.transforms,o.nodeAttributes),this.programs.compute.set(o.computeShader,u),n.createProgram(u));const h=this._getComputeCacheKey(e,u);let d=this.caches.get(h);d===void 0&&(s&&s.usedTimes===0&&this._releasePipeline(s),d=this._getComputePipeline(e,u,h,t)),d.usedTimes++,u.usedTimes++,i.version=e.version,i.pipeline=d}return i.pipeline}getForRender(e,t=null){const{backend:n}=this,i=this.get(e);if(this._needsRenderUpdate(e)){const s=i.pipeline;s&&(s.usedTimes--,s.vertexProgram.usedTimes--,s.fragmentProgram.usedTimes--);const o=e.getNodeBuilderState(),u=e.material?e.material.name:"";let h=this.programs.vertex.get(o.vertexShader);h===void 0&&(s&&s.vertexProgram.usedTimes===0&&this._releaseProgram(s.vertexProgram),h=new Z8(o.vertexShader,"vertex",u),this.programs.vertex.set(o.vertexShader,h),n.createProgram(h));let d=this.programs.fragment.get(o.fragmentShader);d===void 0&&(s&&s.fragmentProgram.usedTimes===0&&this._releaseProgram(s.fragmentProgram),d=new Z8(o.fragmentShader,"fragment",u),this.programs.fragment.set(o.fragmentShader,d),n.createProgram(d));const m=this._getRenderCacheKey(e,h,d);let y=this.caches.get(m);y===void 0?(s&&s.usedTimes===0&&this._releasePipeline(s),y=this._getRenderPipeline(e,h,d,m,t)):e.pipeline=y,y.usedTimes++,h.usedTimes++,d.usedTimes++,i.pipeline=y}return i.pipeline}delete(e){const t=this.get(e).pipeline;return t&&(t.usedTimes--,t.usedTimes===0&&this._releasePipeline(t),t.isComputePipeline?(t.computeProgram.usedTimes--,t.computeProgram.usedTimes===0&&this._releaseProgram(t.computeProgram)):(t.fragmentProgram.usedTimes--,t.vertexProgram.usedTimes--,t.vertexProgram.usedTimes===0&&this._releaseProgram(t.vertexProgram),t.fragmentProgram.usedTimes===0&&this._releaseProgram(t.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,t,n,i){n=n||this._getComputeCacheKey(e,t);let s=this.caches.get(n);return s===void 0&&(s=new hL(n,t),this.caches.set(n,s),this.backend.createComputePipeline(s,i)),s}_getRenderPipeline(e,t,n,i,s){i=i||this._getRenderCacheKey(e,t,n);let o=this.caches.get(i);return o===void 0&&(o=new cL(i,t,n),this.caches.set(i,o),e.pipeline=o,this.backend.createRenderPipeline(e,s)),o}_getComputeCacheKey(e,t){return e.id+","+t.id}_getRenderCacheKey(e,t,n){return t.id+","+n.id+","+this.backend.getRenderCacheKey(e)}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const t=e.code,n=e.stage;this.programs[n].delete(t)}_needsComputeUpdate(e){const t=this.get(e);return t.pipeline===void 0||t.version!==e.version}_needsRenderUpdate(e){return this.get(e).pipeline===void 0||this.backend.needsRenderUpdate(e)}}class pL extends Ei{constructor(e,t,n,i,s,o){super(),this.backend=e,this.textures=n,this.pipelines=s,this.attributes=i,this.nodes=t,this.info=o,this.pipelines.bindings=this}getForRender(e){const t=e.getBindings();for(const n of t){const i=this.get(n);i.bindGroup===void 0&&(this._init(n),this.backend.createBindings(n,t,0),i.bindGroup=n)}return t}getForCompute(e){const t=this.nodes.getForCompute(e).bindings;for(const n of t){const i=this.get(n);i.bindGroup===void 0&&(this._init(n),this.backend.createBindings(n,t,0),i.bindGroup=n)}return t}updateForCompute(e){this._updateBindings(this.getForCompute(e))}updateForRender(e){this._updateBindings(this.getForRender(e))}_updateBindings(e){for(const t of e)this._update(t,e)}_init(e){for(const t of e.bindings)if(t.isSampledTexture)this.textures.updateTexture(t.texture);else if(t.isStorageBuffer){const n=t.attribute,i=n.isIndirectStorageBufferAttribute?lr.INDIRECT:lr.STORAGE;this.attributes.update(n,i)}}_update(e,t){const{backend:n}=this;let i=!1,s=!0,o=0,u=0;for(const h of e.bindings)if(!(h.isNodeUniformsGroup&&this.nodes.updateGroup(h)===!1)){if(h.isStorageBuffer){const d=h.attribute,m=d.isIndirectStorageBufferAttribute?lr.INDIRECT:lr.STORAGE;this.attributes.update(d,m)}if(h.isUniformBuffer)h.update()&&n.updateBinding(h);else if(h.isSampler)h.update();else if(h.isSampledTexture){const d=this.textures.get(h.texture);h.needsBindingsUpdate(d.generation)&&(i=!0);const m=h.update(),y=h.texture;m&&this.textures.updateTexture(y);const x=n.get(y);if(x.externalTexture!==void 0||d.isDefaultTexture?s=!1:(o=o*10+y.id,u+=y.version),n.isWebGPUBackend===!0&&x.texture===void 0&&x.externalTexture===void 0&&(console.error("Bindings._update: binding should be available:",h,m,y,h.textureNode.value,i),this.textures.updateTexture(y),i=!0),y.isStorageTexture===!0){const b=this.get(y);h.store===!0?b.needsMipmap=!0:this.textures.needsMipmaps(y)&&b.needsMipmap===!0&&(this.backend.generateMipmaps(y),b.needsMipmap=!1)}}}i===!0&&this.backend.updateBindings(e,t,s?o:0,u)}}function mL(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?r.z-e.z:r.id-e.id}function wh(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function Sh(r){return(r.transmission>0||r.transmissionNode)&&r.side===Pr&&r.forceSinglePass===!1}class gL{constructor(e,t,n){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=e.getNode(t,n),this.lightsArray=[],this.scene=t,this.camera=n,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,t,n,i,s,o,u){let h=this.renderItems[this.renderItemsIndex];return h===void 0?(h={id:e.id,object:e,geometry:t,material:n,groupOrder:i,renderOrder:e.renderOrder,z:s,group:o,clippingContext:u},this.renderItems[this.renderItemsIndex]=h):(h.id=e.id,h.object=e,h.geometry=t,h.material=n,h.groupOrder=i,h.renderOrder=e.renderOrder,h.z=s,h.group=o,h.clippingContext=u),this.renderItemsIndex++,h}push(e,t,n,i,s,o,u){const h=this.getNextRenderItem(e,t,n,i,s,o,u);e.occlusionTest===!0&&this.occlusionQueryCount++,n.transparent===!0||n.transmission>0?(Sh(n)&&this.transparentDoublePass.push(h),this.transparent.push(h)):this.opaque.push(h)}unshift(e,t,n,i,s,o,u){const h=this.getNextRenderItem(e,t,n,i,s,o,u);n.transparent===!0||n.transmission>0?(Sh(n)&&this.transparentDoublePass.unshift(h),this.transparent.unshift(h)):this.opaque.unshift(h)}pushBundle(e){this.bundles.push(e)}pushLight(e){this.lightsArray.push(e)}sort(e,t){this.opaque.length>1&&this.opaque.sort(e||mL),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(t||wh),this.transparent.length>1&&this.transparent.sort(t||wh)}finish(){this.lightsNode.setLights(this.lightsArray);for(let e=this.renderItemsIndex,t=this.renderItems.length;e<t;e++){const n=this.renderItems[e];if(n.id===null)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.groupOrder=null,n.renderOrder=null,n.z=null,n.group=null,n.clippingContext=null}}}const to=[];class yL{constructor(e){this.lighting=e,this.lists=new qr}get(e,t){const n=this.lists;to[0]=e,to[1]=t;let i=n.get(to);return i===void 0&&(i=new gL(this.lighting,e,t),n.set(to,i)),to.length=0,i}dispose(){this.lists=new qr}}let vL=0;class _L{constructor(){this.id=vL++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new jt,this.scissor=!1,this.scissorValue=new jt,this.renderTarget=null,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.activeMipmapLevel=0,this.sampleCount=1,this.width=0,this.height=0,this.occlusionQueryCount=0,this.clippingContext=null,this.isRenderContext=!0}getCacheKey(){return av(this)}}function av(r){const{textures:e,activeCubeFace:t}=r,n=[t];for(const i of e)n.push(i.id);return l5(n)}const no=[],xL=new o9,bL=new r9;class TL{constructor(){this.chainMaps={}}get(e,t,n=null){no[0]=e,no[1]=t;let i;if(n===null)i="default";else{const u=n.texture.format;i=`${n.textures.length}:${u}:${n.samples}:${n.depthBuffer}:${n.stencilBuffer}`}const s=this._getChainMap(i);let o=s.get(no);return o===void 0&&(o=new _L,s.set(no,o)),no.length=0,n!==null&&(o.sampleCount=n.samples===0?1:n.samples),o}getForClear(e=null){return this.get(xL,bL,e)}_getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new qr)}dispose(){this.chainMaps={}}}const wL=new Ce;class SL extends Ei{constructor(e,t,n){super(),this.renderer=e,this.backend=t,this.info=n}updateRenderTarget(e,t=0){const n=this.get(e),i=e.samples===0?1:e.samples,s=n.depthTextureMips||(n.depthTextureMips={}),o=e.textures,u=this.getSize(o[0]),h=u.width>>t,d=u.height>>t;let m=e.depthTexture||s[t];const y=e.depthBuffer===!0||e.stencilBuffer===!0;let x=!1;m===void 0&&y&&(m=new Br,m.format=e.stencilBuffer?gi:yi,m.type=e.stencilBuffer?mi:M0,m.image.width=h,m.image.height=d,m.image.depth=u.depth,m.isArrayTexture=e.multiview===!0&&u.depth>1,s[t]=m),(n.width!==u.width||u.height!==n.height)&&(x=!0,m&&(m.needsUpdate=!0,m.image.width=h,m.image.height=d,m.image.depth=m.isArrayTexture?m.image.depth:1)),n.width=u.width,n.height=u.height,n.textures=o,n.depthTexture=m||null,n.depth=e.depthBuffer,n.stencil=e.stencilBuffer,n.renderTarget=e,n.sampleCount!==i&&(x=!0,m&&(m.needsUpdate=!0),n.sampleCount=i);const b={sampleCount:i};if(e.isXRRenderTarget!==!0){for(let w=0;w<o.length;w++){const S=o[w];x&&(S.needsUpdate=!0),this.updateTexture(S,b)}m&&this.updateTexture(m,b)}if(n.initialized!==!0){n.initialized=!0;const w=()=>{e.removeEventListener("dispose",w);for(let S=0;S<o.length;S++)this._destroyTexture(o[S]);m&&this._destroyTexture(m),this.delete(e)};e.addEventListener("dispose",w)}}updateTexture(e,t={}){const n=this.get(e);if(n.initialized===!0&&n.version===e.version)return;const i=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,s=this.backend;if(i&&n.initialized===!0&&(s.destroySampler(e),s.destroyTexture(e)),e.isFramebufferTexture){const d=this.renderer.getRenderTarget();d?e.type=d.texture.type:e.type=Un}const{width:o,height:u,depth:h}=this.getSize(e);if(t.width=o,t.height=u,t.depth=h,t.needsMipmaps=this.needsMipmaps(e),t.levels=t.needsMipmaps?this.getMipLevels(e,o,u):1,i||e.isStorageTexture===!0)s.createSampler(e),s.createTexture(e,t),n.generation=e.version;else if(n.initialized!==!0&&s.createSampler(e),e.version>0){const m=e.image;if(m===void 0)console.warn("THREE.Renderer: Texture marked for update but image is undefined.");else if(m.complete===!1)console.warn("THREE.Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const y=[];for(const x of e.images)y.push(x);t.images=y}else t.image=m;(n.isDefaultTexture===void 0||n.isDefaultTexture===!0)&&(s.createTexture(e,t),n.isDefaultTexture=!1,n.generation=e.version),e.source.dataReady===!0&&s.updateTexture(e,t),t.needsMipmaps&&e.mipmaps.length===0&&s.generateMipmaps(e)}}else s.createDefaultTexture(e),n.isDefaultTexture=!0,n.generation=e.version;if(n.initialized!==!0){n.initialized=!0,n.generation=e.version,this.info.memory.textures++;const d=()=>{e.removeEventListener("dispose",d),this._destroyTexture(e)};e.addEventListener("dispose",d)}n.version=e.version}getSize(e,t=wL){let n=e.images?e.images[0]:e.image;return n?(n.image!==void 0&&(n=n.image),t.width=n.width||1,t.height=n.height||1,t.depth=e.isCubeTexture?6:n.depth||1):t.width=t.height=t.depth=1,t}getMipLevels(e,t,n){let i;return e.isCompressedTexture?e.mipmaps?i=e.mipmaps.length:i=1:i=Math.floor(Math.log2(Math.max(t,n)))+1,i}needsMipmaps(e){return e.isCompressedTexture===!0||e.generateMipmaps}_destroyTexture(e){this.has(e)===!0&&(this.backend.destroySampler(e),this.backend.destroyTexture(e),this.delete(e),this.info.memory.textures--)}}class GA extends D0{constructor(e,t,n,i=1){super(e,t,n),this.a=i}set(e,t,n,i=1){return this.a=i,super.set(e,t,n)}copy(e){return e.a!==void 0&&(this.a=e.a),super.copy(e)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class Av extends kt{static get type(){return"ParameterNode"}constructor(e,t=null){super(e,t),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}const EL=(r,e)=>ge(new Av(r,e));class NL extends $e{static get type(){return"StackNode"}constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this._expressionNode=null,this.isStackNode=!0}getNodeType(e){return this.outputNode?this.outputNode.getNodeType(e):"void"}getMemberType(e,t){return this.outputNode?this.outputNode.getMemberType(e,t):"void"}add(e){return this.nodes.push(e),this}If(e,t){const n=new as(t);return this._currentCond=B0(e,n),this.add(this._currentCond)}ElseIf(e,t){const n=new as(t),i=B0(e,n);return this._currentCond.elseNode=i,this._currentCond=i,this}Else(e){return this._currentCond.elseNode=new as(e),this}Switch(e){return this._expressionNode=ge(e),this}Case(...e){const t=[];if(e.length>=2)for(let u=0;u<e.length-1;u++)t.push(this._expressionNode.equal(ge(e[u])));else throw new Error("TSL: Invalid parameter length. Case() requires at least two parameters.");const n=e[e.length-1],i=new as(n);let s=t[0];for(let u=1;u<t.length;u++)s=s.or(t[u]);const o=B0(s,i);return this._currentCond===null?(this._currentCond=o,this.add(this._currentCond)):(this._currentCond.elseNode=o,this._currentCond=o,this)}Default(e){return this.Else(e),this}build(e,...t){const n=W9();t4(this);const i=e.buildStage;for(const s of this.nodes)if(i==="setup")s.build(e);else if(i==="analyze")s.build(e,this);else if(i==="generate"){const o=e.getDataFromNode(s,"any").stages,u=o&&o[e.shaderStage];if(s.isVarNode&&u&&u.length===1&&u[0]&&u[0].isStackNode)continue;s.build(e,"void")}return t4(n),this.outputNode?this.outputNode.build(e,...t):super.build(e,...t)}else(...e){return console.warn("THREE.TSL: .else() has been renamed to .Else()."),this.Else(...e)}elseif(...e){return console.warn("THREE.TSL: .elseif() has been renamed to .ElseIf()."),this.ElseIf(...e)}}const X3=_e(NL).setParameterLength(0,1);function ML(r){return Object.entries(r).map(([e,t])=>typeof t=="string"?{name:e,type:t,atomic:!1}:{name:e,type:t.type,atomic:t.atomic||!1})}class RL extends $e{static get type(){return"StructTypeNode"}constructor(e,t=null){super("struct"),this.membersLayout=ML(e),this.name=t,this.isStructLayoutNode=!0}getLength(){const t=Float32Array.BYTES_PER_ELEMENT;let n=0;for(const i of this.membersLayout){const s=i.type,o=pP(s)*t,u=mP(s),h=n%8,d=h%u,m=h+d;n+=d,m!==0&&8-m<o&&(n+=8-m),n+=o}return Math.ceil(n/8)*8/t}getMemberType(e,t){const n=this.membersLayout.find(i=>i.name===t);return n?n.type:"void"}getNodeType(e){return e.getStructTypeFromNode(this,this.membersLayout,this.name).name}setup(e){e.addInclude(this)}generate(e){return this.getNodeType(e)}}class CL extends $e{static get type(){return"StructNode"}constructor(e,t){super("vec3"),this.structLayoutNode=e,this.values=t,this.isStructNode=!0}getNodeType(e){return this.structLayoutNode.getNodeType(e)}getMemberType(e,t){return this.structLayoutNode.getMemberType(e,t)}generate(e){const t=e.getVarFromNode(this),n=t.type,i=e.getPropertyName(t);return e.addLineFlowCode(`${i} = ${e.generateStruct(n,this.structLayoutNode.membersLayout,this.values)}`,this),t.name}}const PL=(r,e=null)=>{const t=new RL(r,e),n=(...i)=>{let s=null;if(i.length>0)if(i[0].isNode){s={};const o=Object.keys(r);for(let u=0;u<i.length;u++)s[o[u]]=i[u]}else s=i[0];return ge(new CL(t,s))};return n.layout=t,n.isStruct=!0,n};class lv extends $e{static get type(){return"OutputStructNode"}constructor(...e){super(),this.members=e,this.isOutputStructNode=!0}getNodeType(e){const t=e.getNodeProperties(this);if(t.membersLayout===void 0){const n=this.members,i=[];for(let s=0;s<n.length;s++){const o="m"+s,u=n[s].getNodeType(e);i.push({name:o,type:u,index:s})}t.membersLayout=i,t.structType=e.getOutputStructTypeFromNode(this,t.membersLayout)}return t.structType.name}generate(e){const t=e.getOutputStructName(),n=this.members,i=t!==""?t+".":"";for(let s=0;s<n.length;s++){const o=n[s].build(e);e.addLineFlowCode(`${i}m${s} = ${o}`,this)}return t}}const BL=_e(lv);function uv(r,e){for(let t=0;t<r.length;t++)if(r[t].name===e)return t;return-1}class DL extends lv{static get type(){return"MRTNode"}constructor(e){super(),this.outputNodes=e,this.isMRTNode=!0}has(e){return this.outputNodes[e]!==void 0}get(e){return this.outputNodes[e]}merge(e){const t={...this.outputNodes,...e.outputNodes};return cv(t)}setup(e){const t=this.outputNodes,n=e.renderer.getRenderTarget(),i=[],s=n.textures;for(const o in t){const u=uv(s,o);i[u]=Ve(t[o])}return this.members=i,super.setup(e)}}const cv=_e(DL),FL=se(([r])=>{const e=r.toUint().mul(747796405).add(2891336453),t=e.shiftRight(e.shiftRight(28).add(4)).bitXor(e).mul(277803737);return t.shiftRight(22).bitXor(t).toFloat().mul(1/2**32)}),$7=(r,e)=>Rr(At(4,r.mul(wt(1,r))),e),LL=(r,e)=>r.lessThan(.5)?$7(r.mul(2),e).div(2):wt(1,$7(At(wt(1,r),2),e).div(2)),qL=(r,e,t)=>Rr(hr(Rr(r,e),T0(Rr(r,e),Rr(wt(1,r),t))),1/e),IL=(r,e)=>kn($a.mul(e.mul(r).sub(1))).div($a.mul(e.mul(r).sub(1))),E1=se(([r])=>r.fract().sub(.5).abs()).setLayout({name:"tri",type:"float",inputs:[{name:"x",type:"float"}]}),OL=se(([r])=>re(E1(r.z.add(E1(r.y.mul(1)))),E1(r.z.add(E1(r.x.mul(1)))),E1(r.y.add(E1(r.x.mul(1)))))).setLayout({name:"tri3",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),kL=se(([r,e,t])=>{const n=re(r).toVar(),i=j(1.4).toVar(),s=j(0).toVar(),o=re(n).toVar();return Ot({start:j(0),end:j(3),type:"float",condition:"<="},()=>{const u=re(OL(o.mul(2))).toVar();n.addAssign(u.add(t.mul(j(.1).mul(e)))),o.mulAssign(1.8),i.mulAssign(1.5),n.mulAssign(1.2);const h=j(E1(n.z.add(E1(n.x.add(E1(n.y)))))).toVar();s.addAssign(h.div(i)),o.addAssign(.14)}),s}).setLayout({name:"triNoise3D",type:"float",inputs:[{name:"position",type:"vec3"},{name:"speed",type:"float"},{name:"time",type:"float"}]});class UL extends $e{static get type(){return"FunctionOverloadingNode"}constructor(e=[],...t){super(),this.functionNodes=e,this.parametersNodes=t,this._candidateFnCall=null,this.global=!0}getNodeType(){return this.functionNodes[0].shaderNode.layout.type}setup(e){const t=this.parametersNodes;let n=this._candidateFnCall;if(n===null){let i=null,s=-1;for(const o of this.functionNodes){const h=o.shaderNode.layout;if(h===null)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const d=h.inputs;if(t.length===d.length){let m=0;for(let y=0;y<t.length;y++){const x=t[y],b=d[y];x.getNodeType(e)===b.type?m++:m=0}m>s&&(i=o,s=m)}}this._candidateFnCall=n=i(...t)}return n}}const GL=_e(UL),K0=r=>(...e)=>GL(r,...e),_2=ze(0).setGroup(He).onRenderUpdate(r=>r.time),hv=ze(0).setGroup(He).onRenderUpdate(r=>r.deltaTime),VL=ze(0,"uint").setGroup(He).onRenderUpdate(r=>r.frameId),zL=(r=1)=>(console.warn('TSL: timerLocal() is deprecated. Use "time" instead.'),_2.mul(r)),HL=(r=1)=>(console.warn('TSL: timerGlobal() is deprecated. Use "time" instead.'),_2.mul(r)),jL=(r=1)=>(console.warn('TSL: timerDelta() is deprecated. Use "deltaTime" instead.'),hv.mul(r)),$L=(r=_2)=>r.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5),WL=(r=_2)=>r.fract().round(),QL=(r=_2)=>r.add(.5).fract().mul(2).sub(1).abs(),YL=(r=_2)=>r.fract(),XL=se(([r,e,t=xe(.5)])=>P5(r.sub(t),e).add(t)),KL=se(([r,e,t=xe(.5)])=>{const n=r.sub(t),i=n.dot(n),o=i.mul(i).mul(e);return r.add(n.mul(o))}),ZL=se(({position:r=null,horizontal:e=!0,vertical:t=!1})=>{let n;r!==null?(n=Ar.toVar(),n[3][0]=r.x,n[3][1]=r.y,n[3][2]=r.z):n=Ar;const i=Cn.mul(n);return e4(e)&&(i[0][0]=Ar[0].length(),i[0][1]=0,i[0][2]=0),e4(t)&&(i[1][0]=0,i[1][1]=Ar[1].length(),i[1][2]=0),i[2][0]=0,i[2][1]=0,i[2][2]=1,y2.mul(i).mul(g0)}),JL=se(([r=null])=>{const e=Ya();return Ya(CA(r)).sub(e).lessThan(0).select(Dr,r)});class eq extends $e{static get type(){return"SpriteSheetUVNode"}constructor(e,t=o0(),n=j(0)){super("vec2"),this.countNode=e,this.uvNode=t,this.frameNode=n}setup(){const{frameNode:e,uvNode:t,countNode:n}=this,{width:i,height:s}=n,o=e.mod(i.mul(s)).floor(),u=o.mod(i),h=s.sub(o.add(1).div(i).ceil()),d=n.reciprocal(),m=xe(u,h);return t.add(m).mul(d)}}const tq=_e(eq).setParameterLength(3);class nq extends $e{static get type(){return"TriplanarTexturesNode"}constructor(e,t=null,n=null,i=j(1),s=g0,o=Rn){super("vec4"),this.textureXNode=e,this.textureYNode=t,this.textureZNode=n,this.scaleNode=i,this.positionNode=s,this.normalNode=o}setup(){const{textureXNode:e,textureYNode:t,textureZNode:n,scaleNode:i,positionNode:s,normalNode:o}=this;let u=o.abs().normalize();u=u.div(u.dot(re(1)));const h=s.yz.mul(i),d=s.zx.mul(i),m=s.xy.mul(i),y=e.value,x=t!==null?t.value:y,b=n!==null?n.value:y,w=xt(y,h).mul(u.x),S=xt(x,d).mul(u.y),N=xt(b,m).mul(u.z);return T0(w,S,N)}}const fv=_e(nq).setParameterLength(1,6),rq=(...r)=>fv(...r),z2=new c9,Ii=new Ce,H2=new Ce,J8=new Ce,ro=new u0,A3=new Ce(0,0,-1),Hr=new jt,io=new Ce,l3=new Ce,so=new jt,u3=new qt,Xa=new wi,iq=Dr.flipX();Xa.depthTexture=new Br(1,1);let c3=!1;class VA extends u1{static get type(){return"ReflectorNode"}constructor(e={}){super(e.defaultTexture||Xa.texture,iq),this._reflectorBaseNode=e.reflector||new sq(this,e),this._depthNode=null,this.setUpdateMatrix(!1)}get reflector(){return this._reflectorBaseNode}get target(){return this._reflectorBaseNode.target}getDepthNode(){if(this._depthNode===null){if(this._reflectorBaseNode.depth!==!0)throw new Error("THREE.ReflectorNode: Depth node can only be requested when the reflector is created with { depth: true }. ");this._depthNode=ge(new VA({defaultTexture:Xa.depthTexture,reflector:this._reflectorBaseNode}))}return this._depthNode}setup(e){return e.object.isQuadMesh||this._reflectorBaseNode.build(e),super.setup(e)}clone(){const e=new this.constructor(this.reflectorNode);return e._reflectorBaseNode=this._reflectorBaseNode,e}dispose(){super.dispose(),this._reflectorBaseNode.dispose()}}class sq extends $e{static get type(){return"ReflectorBaseNode"}constructor(e,t={}){super();const{target:n=new i5,resolution:i=1,generateMipmaps:s=!1,bounces:o=!0,depth:u=!1}=t;this.textureNode=e,this.target=n,this.resolution=i,this.generateMipmaps=s,this.bounces=o,this.depth=u,this.updateBeforeType=o?ht.RENDER:ht.FRAME,this.virtualCameras=new WeakMap,this.renderTargets=new Map,this.forceUpdate=!1,this.hasOutput=!1}_updateResolution(e,t){const n=this.resolution;t.getDrawingBufferSize(u3),e.setSize(Math.round(u3.width*n),Math.round(u3.height*n))}setup(e){return this._updateResolution(Xa,e.renderer),super.setup(e)}dispose(){super.dispose();for(const e of this.renderTargets.values())e.dispose()}getVirtualCamera(e){let t=this.virtualCameras.get(e);return t===void 0&&(t=e.clone(),this.virtualCameras.set(e,t)),t}getRenderTarget(e){let t=this.renderTargets.get(e);return t===void 0&&(t=new wi(0,0,{type:xn}),this.generateMipmaps===!0&&(t.texture.minFilter=XT,t.texture.generateMipmaps=!0),this.depth===!0&&(t.depthTexture=new Br),this.renderTargets.set(e,t)),t}updateBefore(e){if(this.bounces===!1&&c3)return!1;c3=!0;const{scene:t,camera:n,renderer:i,material:s}=e,{target:o}=this,u=this.getVirtualCamera(n),h=this.getRenderTarget(u);i.getDrawingBufferSize(u3),this._updateResolution(h,i),H2.setFromMatrixPosition(o.matrixWorld),J8.setFromMatrixPosition(n.matrixWorld),ro.extractRotation(o.matrixWorld),Ii.set(0,0,1),Ii.applyMatrix4(ro),io.subVectors(H2,J8);const d=io.dot(Ii)>0;let m=!1;if(d===!0&&this.forceUpdate===!1){if(this.hasOutput===!1){c3=!1;return}m=!0}io.reflect(Ii).negate(),io.add(H2),ro.extractRotation(n.matrixWorld),A3.set(0,0,-1),A3.applyMatrix4(ro),A3.add(J8),l3.subVectors(H2,A3),l3.reflect(Ii).negate(),l3.add(H2),u.coordinateSystem=n.coordinateSystem,u.position.copy(io),u.up.set(0,1,0),u.up.applyMatrix4(ro),u.up.reflect(Ii),u.lookAt(l3),u.near=n.near,u.far=n.far,u.updateMatrixWorld(),u.projectionMatrix.copy(n.projectionMatrix),z2.setFromNormalAndCoplanarPoint(Ii,H2),z2.applyMatrix4(u.matrixWorldInverse),Hr.set(z2.normal.x,z2.normal.y,z2.normal.z,z2.constant);const y=u.projectionMatrix;so.x=(Math.sign(Hr.x)+y.elements[8])/y.elements[0],so.y=(Math.sign(Hr.y)+y.elements[9])/y.elements[5],so.z=-1,so.w=(1+y.elements[10])/y.elements[14],Hr.multiplyScalar(1/Hr.dot(so));const x=0;y.elements[2]=Hr.x,y.elements[6]=Hr.y,y.elements[10]=i.coordinateSystem===Ps?Hr.z-x:Hr.z+1-x,y.elements[14]=Hr.w,this.textureNode.value=h.texture,this.depth===!0&&(this.textureNode.getDepthNode().value=h.depthTexture),s.visible=!1;const b=i.getRenderTarget(),w=i.getMRT(),S=i.autoClear;i.setMRT(null),i.setRenderTarget(h),i.autoClear=!0,m?(i.clear(),this.hasOutput=!1):(i.render(t,u),this.hasOutput=!0),i.setMRT(w),i.setRenderTarget(b),i.autoClear=S,s.visible=!0,c3=!1,this.forceUpdate=!1}}const oq=r=>ge(new VA(r)),e6=new So(-1,1,1,-1,0,1);class aq extends pr{constructor(e=!1){super();const t=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new xi([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new xi(t,2))}}const Aq=new aq;class B5 extends y0{constructor(e=null){super(Aq,e),this.camera=e6,this.isQuadMesh=!0}async renderAsync(e){return e.renderAsync(this,e6)}render(e){e.render(this,e6)}}const lq=new qt;class uq extends u1{static get type(){return"RTTNode"}constructor(e,t=null,n=null,i={type:xn}){const s=new wi(t,n,i);super(s.texture,o0()),this.node=e,this.width=t,this.height=n,this.pixelRatio=1,this.renderTarget=s,this.textureNeedsUpdate=!0,this.autoUpdate=!0,this._rttNode=null,this._quadMesh=new B5(new v0),this.updateBeforeType=ht.RENDER}get autoSize(){return this.width===null}setup(e){return this._rttNode=this.node.context(e.getSharedContext()),this._quadMesh.material.name="RTT",this._quadMesh.material.needsUpdate=!0,super.setup(e)}setSize(e,t){this.width=e,this.height=t;const n=e*this.pixelRatio,i=t*this.pixelRatio;this.renderTarget.setSize(n,i),this.textureNeedsUpdate=!0}setPixelRatio(e){this.pixelRatio=e,this.setSize(this.width,this.height)}updateBefore({renderer:e}){if(this.textureNeedsUpdate===!1&&this.autoUpdate===!1)return;if(this.textureNeedsUpdate=!1,this.autoSize===!0){this.pixelRatio=e.getPixelRatio();const n=e.getSize(lq);this.setSize(n.width,n.height)}this._quadMesh.material.fragmentNode=this._rttNode;const t=e.getRenderTarget();e.setRenderTarget(this.renderTarget),this._quadMesh.render(e),e.setRenderTarget(t)}clone(){const e=new u1(this.value,this.uvNode,this.levelNode);return e.sampler=this.sampler,e.referenceNode=this,e}}const dv=(r,...e)=>ge(new uq(ge(r),...e)),cq=(r,...e)=>r.isTextureNode?r:r.isPassNode?r.getTextureNode():dv(r,...e),J2=se(([r,e,t],n)=>{let i;n.renderer.coordinateSystem===Ps?(r=xe(r.x,r.y.oneMinus()).mul(2).sub(1),i=Ve(re(r,e),1)):i=Ve(re(r.x,r.y.oneMinus(),e).mul(2).sub(1),1);const s=Ve(t.mul(i));return s.xyz.div(s.w)}),hq=se(([r,e])=>{const t=e.mul(Ve(r,1)),n=t.xy.div(t.w).mul(.5).add(.5).toVar();return xe(n.x,n.y.oneMinus())}),fq=se(([r,e,t])=>{const n=vi(d0(e)),i=P0(r.mul(n)).toVar(),s=d0(e,i).toVar(),o=d0(e,i.sub(P0(2,0))).toVar(),u=d0(e,i.sub(P0(1,0))).toVar(),h=d0(e,i.add(P0(1,0))).toVar(),d=d0(e,i.add(P0(2,0))).toVar(),m=d0(e,i.add(P0(0,2))).toVar(),y=d0(e,i.add(P0(0,1))).toVar(),x=d0(e,i.sub(P0(0,1))).toVar(),b=d0(e,i.sub(P0(0,2))).toVar(),w=Zt(wt(j(2).mul(u).sub(o),s)).toVar(),S=Zt(wt(j(2).mul(h).sub(d),s)).toVar(),N=Zt(wt(j(2).mul(y).sub(m),s)).toVar(),C=Zt(wt(j(2).mul(x).sub(b),s)).toVar(),P=J2(r,s,t).toVar(),B=w.lessThan(S).select(P.sub(J2(r.sub(xe(j(1).div(n.x),0)),u,t)),P.negate().add(J2(r.add(xe(j(1).div(n.x),0)),h,t))),q=N.lessThan(C).select(P.sub(J2(r.add(xe(0,j(1).div(n.y))),y,t)),P.negate().add(J2(r.sub(xe(0,j(1).div(n.y))),x,t)));return G1(_5(B,q))});class K3 extends pi{constructor(e,t,n=Float32Array){const i=ArrayBuffer.isView(e)?e:new n(e*t);super(i,t),this.isStorageInstancedBufferAttribute=!0}}class dq extends Cr{constructor(e,t,n=Float32Array){const i=ArrayBuffer.isView(e)?e:new n(e*t);super(i,t),this.isStorageBufferAttribute=!0}}const pq=(r,e="float")=>{let t,n;e.isStruct===!0?(t=e.layout.getLength(),n=Ga("float")):(t=qp(e),n=Ga(e));const i=new dq(r,t,n);return o2(i,e,r)},mq=(r,e="float")=>{let t,n;e.isStruct===!0?(t=e.layout.getLength(),n=Ga("float")):(t=qp(e),n=Ga(e));const i=new K3(r,t,n);return o2(i,e,r)};class gq extends $e{static get type(){return"PointUVNode"}constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}const yq=Pe(gq),oo=new ko,t6=new u0;class Sn extends $e{static get type(){return"SceneNode"}constructor(e=Sn.BACKGROUND_BLURRINESS,t=null){super(),this.scope=e,this.scene=t}setup(e){const t=this.scope,n=this.scene!==null?this.scene:e.scene;let i;return t===Sn.BACKGROUND_BLURRINESS?i=Qt("backgroundBlurriness","float",n):t===Sn.BACKGROUND_INTENSITY?i=Qt("backgroundIntensity","float",n):t===Sn.BACKGROUND_ROTATION?i=ze("mat4").label("backgroundRotation").setGroup(He).onRenderUpdate(()=>{const s=n.background;return s!==null&&s.isTexture&&s.mapping!==TT?(oo.copy(n.backgroundRotation),oo.x*=-1,oo.y*=-1,oo.z*=-1,t6.makeRotationFromEuler(oo)):t6.identity(),t6}):console.error("THREE.SceneNode: Unknown scope:",t),i}}Sn.BACKGROUND_BLURRINESS="backgroundBlurriness";Sn.BACKGROUND_INTENSITY="backgroundIntensity";Sn.BACKGROUND_ROTATION="backgroundRotation";const pv=Pe(Sn,Sn.BACKGROUND_BLURRINESS),W7=Pe(Sn,Sn.BACKGROUND_INTENSITY),mv=Pe(Sn,Sn.BACKGROUND_ROTATION);class vq extends u1{static get type(){return"StorageTextureNode"}constructor(e,t,n=null){super(e,t),this.storeNode=n,this.isStorageTextureNode=!0,this.access=rn.WRITE_ONLY}getInputType(){return"storageTexture"}setup(e){super.setup(e);const t=e.getNodeProperties(this);return t.storeNode=this.storeNode,t}setAccess(e){return this.access=e,this}generate(e,t){let n;return this.storeNode!==null?n=this.generateStore(e):n=super.generate(e,t),n}toReadWrite(){return this.setAccess(rn.READ_WRITE)}toReadOnly(){return this.setAccess(rn.READ_ONLY)}toWriteOnly(){return this.setAccess(rn.WRITE_ONLY)}generateStore(e){const t=e.getNodeProperties(this),{uvNode:n,storeNode:i,depthNode:s}=t,o=super.generate(e,"property"),u=n.build(e,"uvec2"),h=i.build(e,"vec4"),d=s?s.build(e,"int"):null,m=e.generateTextureStore(e,o,u,d,h);e.addLineFlowCode(m,this)}clone(){const e=super.clone();return e.storeNode=this.storeNode,e}}const gv=_e(vq).setParameterLength(1,3),_q=(r,e,t)=>{const n=gv(r,e,t);return t!==null&&n.toStack(),n},xq=se(({texture:r,uv:e})=>{const n=re().toVar();return lt(e.x.lessThan(1e-4),()=>{n.assign(re(1,0,0))}).ElseIf(e.y.lessThan(1e-4),()=>{n.assign(re(0,1,0))}).ElseIf(e.z.lessThan(1e-4),()=>{n.assign(re(0,0,1))}).ElseIf(e.x.greaterThan(1-1e-4),()=>{n.assign(re(-1,0,0))}).ElseIf(e.y.greaterThan(1-1e-4),()=>{n.assign(re(0,-1,0))}).ElseIf(e.z.greaterThan(1-1e-4),()=>{n.assign(re(0,0,-1))}).Else(()=>{const s=r.sample(e.add(re(-.01,0,0))).r.sub(r.sample(e.add(re(.01,0,0))).r),o=r.sample(e.add(re(0,-.01,0))).r.sub(r.sample(e.add(re(0,.01,0))).r),u=r.sample(e.add(re(0,0,-.01))).r.sub(r.sample(e.add(re(0,0,.01))).r);n.assign(re(s,o,u))}),n.normalize()});class bq extends u1{static get type(){return"Texture3DNode"}constructor(e,t=null,n=null){super(e,t,n),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return re(.5,.5,.5)}setUpdateMatrix(){}setupUV(e,t){const n=this.value;return e.isFlipY()&&(n.isRenderTargetTexture===!0||n.isFramebufferTexture===!0)&&(this.sampler?t=t.flipY():t=t.setY(Z(vi(this,this.levelNode).y).sub(t.y).sub(1))),t}generateUV(e,t){return t.build(e,"vec3")}normal(e){return xq({texture:this,uv:e})}}const yv=_e(bq).setParameterLength(1,3);class Tq extends E5{static get type(){return"UserDataNode"}constructor(e,t,n=null){super(e,t,n),this.userData=n}updateReference(e){return this.reference=this.userData!==null?this.userData:e.object.userData,this.reference}}const wq=(r,e,t)=>ge(new Tq(r,e,t)),Eh=new WeakMap;class Sq extends _0{static get type(){return"VelocityNode"}constructor(){super("vec2"),this.projectionMatrix=null,this.updateType=ht.OBJECT,this.updateAfterType=ht.OBJECT,this.previousModelWorldMatrix=ze(new u0),this.previousProjectionMatrix=ze(new u0).setGroup(He),this.previousCameraViewMatrix=ze(new u0)}setProjectionMatrix(e){this.projectionMatrix=e}update({frameId:e,camera:t,object:n}){const i=Nh(n);this.previousModelWorldMatrix.value.copy(i);const s=vv(t);s.frameId!==e&&(s.frameId=e,s.previousProjectionMatrix===void 0?(s.previousProjectionMatrix=new u0,s.previousCameraViewMatrix=new u0,s.currentProjectionMatrix=new u0,s.currentCameraViewMatrix=new u0,s.previousProjectionMatrix.copy(this.projectionMatrix||t.projectionMatrix),s.previousCameraViewMatrix.copy(t.matrixWorldInverse)):(s.previousProjectionMatrix.copy(s.currentProjectionMatrix),s.previousCameraViewMatrix.copy(s.currentCameraViewMatrix)),s.currentProjectionMatrix.copy(this.projectionMatrix||t.projectionMatrix),s.currentCameraViewMatrix.copy(t.matrixWorldInverse),this.previousProjectionMatrix.value.copy(s.previousProjectionMatrix),this.previousCameraViewMatrix.value.copy(s.previousCameraViewMatrix))}updateAfter({object:e}){Nh(e).copy(e.matrixWorld)}setup(){const e=this.projectionMatrix===null?y2:ze(this.projectionMatrix),t=this.previousCameraViewMatrix.mul(this.previousModelWorldMatrix),n=e.mul(v2).mul(g0),i=this.previousProjectionMatrix.mul(t).mul(Qa),s=n.xy.div(n.w),o=i.xy.div(i.w);return wt(s,o)}}function vv(r){let e=Eh.get(r);return e===void 0&&(e={},Eh.set(r,e)),e}function Nh(r,e=0){const t=vv(r);let n=t[e];return n===void 0&&(t[e]=n=new u0,t[e].copy(r.matrixWorld)),n}const Eq=Pe(Sq),_v=se(([r,e])=>Mn(1,r.oneMinus().div(e)).oneMinus()).setLayout({name:"blendBurn",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),xv=se(([r,e])=>Mn(r.div(e.oneMinus()),1)).setLayout({name:"blendDodge",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),bv=se(([r,e])=>r.oneMinus().mul(e.oneMinus()).oneMinus()).setLayout({name:"blendScreen",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),Tv=se(([r,e])=>It(r.mul(2).mul(e),r.oneMinus().mul(2).mul(e.oneMinus()).oneMinus(),v5(.5,r))).setLayout({name:"blendOverlay",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),Nq=se(([r,e])=>{const t=e.a.add(r.a.mul(e.a.oneMinus()));return Ve(e.rgb.mul(e.a).add(r.rgb.mul(r.a).mul(e.a.oneMinus())).div(t),t)}).setLayout({name:"blendColor",type:"vec4",inputs:[{name:"base",type:"vec4"},{name:"blend",type:"vec4"}]}),Mq=se(([r])=>Ve(r.rgb.mul(r.a),r.a),{color:"vec4",return:"vec4"}),Rq=se(([r])=>(lt(r.a.equal(0),()=>Ve(0)),Ve(r.rgb.div(r.a),r.a)),{color:"vec4",return:"vec4"}),Cq=(...r)=>(console.warn('THREE.TSL: "burn" has been renamed. Use "blendBurn" instead.'),_v(r)),Pq=(...r)=>(console.warn('THREE.TSL: "dodge" has been renamed. Use "blendDodge" instead.'),xv(r)),Bq=(...r)=>(console.warn('THREE.TSL: "screen" has been renamed. Use "blendScreen" instead.'),bv(r)),Dq=(...r)=>(console.warn('THREE.TSL: "overlay" has been renamed. Use "blendOverlay" instead.'),Tv(r)),Fq=se(([r])=>zA(r.rgb)),Lq=se(([r,e=j(1)])=>e.mix(zA(r.rgb),r.rgb)),qq=se(([r,e=j(1)])=>{const t=T0(r.r,r.g,r.b).div(3),n=r.r.max(r.g.max(r.b)),i=n.sub(t).mul(e).mul(-3);return It(r.rgb,n,i)}),Iq=se(([r,e=j(1)])=>{const t=re(.57735,.57735,.57735),n=e.cos();return re(r.rgb.mul(n).add(t.cross(r.rgb).mul(e.sin()).add(t.mul(Si(t,r.rgb).mul(n.oneMinus())))))}),zA=(r,e=re(W0.getLuminanceCoefficients(new Ce)))=>Si(r,e),Oq=se(([r,e=re(1),t=re(0),n=re(1),i=j(1),s=re(W0.getLuminanceCoefficients(new Ce,wo))])=>{const o=r.rgb.dot(re(s)),u=h0(r.rgb.mul(e).add(t),0).toVar(),h=u.pow(n).toVar();return lt(u.r.greaterThan(0),()=>{u.r.assign(h.r)}),lt(u.g.greaterThan(0),()=>{u.g.assign(h.g)}),lt(u.b.greaterThan(0),()=>{u.b.assign(h.b)}),u.assign(o.add(u.sub(o).mul(i))),Ve(u.rgb,r.a)});class kq extends _0{static get type(){return"PosterizeNode"}constructor(e,t){super(),this.sourceNode=e,this.stepsNode=t}setup(){const{sourceNode:e,stepsNode:t}=this;return e.mul(t).floor().div(t)}}const Uq=_e(kq).setParameterLength(2),h3=new qt;class wv extends u1{static get type(){return"PassTextureNode"}constructor(e,t){super(t),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return e.object.isQuadMesh&&this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class Mh extends wv{static get type(){return"PassMultipleTextureNode"}constructor(e,t,n=!1){super(e,null),this.textureName=t,this.previousTexture=n}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(e){return this.updateTexture(),super.setup(e)}clone(){return new this.constructor(this.passNode,this.textureName,this.previousTexture)}}class c1 extends _0{static get type(){return"PassNode"}constructor(e,t,n,i={}){super("vec4"),this.scope=e,this.scene=t,this.camera=n,this.options=i,this._pixelRatio=1,this._width=1,this._height=1;const s=new Br;s.isRenderTargetTexture=!0,s.name="depth";const o=new wi(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:xn,...i});o.texture.name="output",o.depthTexture=s,this.renderTarget=o,this._textures={output:o.texture,depth:s},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=ze(0),this._cameraFar=ze(0),this._mrt=null,this._layers=null,this._resolution=1,this.isPassNode=!0,this.updateBeforeType=ht.FRAME,this.global=!0}setResolution(e){return this._resolution=e,this}getResolution(){return this._resolution}setLayers(e){return this._layers=e,this}getLayers(){return this._layers}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getTexture(e){let t=this._textures[e];return t===void 0&&(t=this.renderTarget.texture.clone(),t.name=e,this._textures[e]=t,this.renderTarget.textures.push(t)),t}getPreviousTexture(e){let t=this._previousTextures[e];return t===void 0&&(t=this.getTexture(e).clone(),this._previousTextures[e]=t),t}toggleTexture(e){const t=this._previousTextures[e];if(t!==void 0){const n=this._textures[e],i=this.renderTarget.textures.indexOf(n);this.renderTarget.textures[i]=t,this._textures[e]=t,this._previousTextures[e]=n,this._textureNodes[e].updateTexture(),this._previousTextureNodes[e].updateTexture()}}getTextureNode(e="output"){let t=this._textureNodes[e];return t===void 0&&(t=ge(new Mh(this,e)),t.updateTexture(),this._textureNodes[e]=t),t}getPreviousTextureNode(e="output"){let t=this._previousTextureNodes[e];return t===void 0&&(this._textureNodes[e]===void 0&&this.getTextureNode(e),t=ge(new Mh(this,e,!0)),t.updateTexture(),this._previousTextureNodes[e]=t),t}getViewZNode(e="depth"){let t=this._viewZNodes[e];if(t===void 0){const n=this._cameraNear,i=this._cameraFar;this._viewZNodes[e]=t=PA(this.getTextureNode(e),n,i)}return t}getLinearDepthNode(e="depth"){let t=this._linearDepthNodes[e];if(t===void 0){const n=this._cameraNear,i=this._cameraFar,s=this.getViewZNode(e);this._linearDepthNodes[e]=t=ys(s,n,i)}return t}setup({renderer:e}){return this.renderTarget.samples=this.options.samples===void 0?e.samples:this.options.samples,e.backend.isWebGLBackend===!0&&(this.renderTarget.samples=0),this.renderTarget.texture.type=e.getColorBufferType(),this.scope===c1.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:t}=e,{scene:n}=this;let i,s;const o=t.getOutputRenderTarget();o&&o.isXRRenderTarget===!0?(s=1,i=t.xr.getCamera(),t.xr.updateCamera(i),h3.set(o.width,o.height)):(i=this.camera,s=t.getPixelRatio(),t.getSize(h3)),this._pixelRatio=s,this.setSize(h3.width,h3.height);const u=t.getRenderTarget(),h=t.getMRT(),d=i.layers.mask;this._cameraNear.value=i.near,this._cameraFar.value=i.far,this._layers!==null&&(i.layers.mask=this._layers.mask);for(const m in this._previousTextures)this.toggleTexture(m);t.setRenderTarget(this.renderTarget),t.setMRT(this._mrt),t.render(n,i),t.setRenderTarget(u),t.setMRT(h),i.layers.mask=d}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio*this._resolution,i=this._height*this._pixelRatio*this._resolution;this.renderTarget.setSize(n,i)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}c1.COLOR="color";c1.DEPTH="depth";const Gq=(r,e,t)=>ge(new c1(c1.COLOR,r,e,t)),Vq=(r,e)=>ge(new wv(r,e)),zq=(r,e,t)=>ge(new c1(c1.DEPTH,r,e,t));class Hq extends c1{static get type(){return"ToonOutlinePassNode"}constructor(e,t,n,i,s){super(c1.COLOR,e,t),this.colorNode=n,this.thicknessNode=i,this.alphaNode=s,this._materialCache=new WeakMap}updateBefore(e){const{renderer:t}=e,n=t.getRenderObjectFunction();t.setRenderObjectFunction((i,s,o,u,h,d,m,y)=>{if((h.isMeshToonMaterial||h.isMeshToonNodeMaterial)&&h.wireframe===!1){const x=this._getOutlineMaterial(h);t.renderObject(i,s,o,u,x,d,m,y)}t.renderObject(i,s,o,u,h,d,m,y)}),super.updateBefore(e),t.setRenderObjectFunction(n)}_createMaterial(){const e=new v0;e.isMeshToonOutlineMaterial=!0,e.name="Toon_Outline",e.side=En;const t=Rn.negate(),n=y2.mul(v2),i=j(1),s=n.mul(Ve(g0,1)),o=n.mul(Ve(g0.add(t),1)),u=G1(s.sub(o));return e.vertexNode=s.add(u.mul(this.thicknessNode).mul(s.w).mul(i)),e.colorNode=Ve(this.colorNode,this.alphaNode),e}_getOutlineMaterial(e){let t=this._materialCache.get(e);return t===void 0&&(t=this._createMaterial(),this._materialCache.set(e,t)),t}}const jq=(r,e,t=new D0(0,0,0),n=.003,i=1)=>ge(new Hq(r,e,ge(t),ge(n),ge(i))),Sv=se(([r,e])=>r.mul(e).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Ev=se(([r,e])=>(r=r.mul(e),r.div(r.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Nv=se(([r,e])=>{r=r.mul(e),r=r.sub(.004).max(0);const t=r.mul(r.mul(6.2).add(.5)),n=r.mul(r.mul(6.2).add(1.7)).add(.06);return t.div(n).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),$q=se(([r])=>{const e=r.mul(r.add(.0245786)).sub(90537e-9),t=r.mul(r.add(.432951).mul(.983729)).add(.238081);return e.div(t)}),Mv=se(([r,e])=>{const t=on(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),n=on(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return r=r.mul(e).div(.6),r=t.mul(r),r=$q(r),r=n.mul(r),r.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Wq=on(re(1.6605,-.1246,-.0182),re(-.5876,1.1329,-.1006),re(-.0728,-.0083,1.1187)),Qq=on(re(.6274,.0691,.0164),re(.3293,.9195,.088),re(.0433,.0113,.8956)),Yq=se(([r])=>{const e=re(r).toVar(),t=re(e.mul(e)).toVar(),n=re(t.mul(t)).toVar();return j(15.5).mul(n.mul(t)).sub(At(40.14,n.mul(e))).add(At(31.96,n).sub(At(6.868,t.mul(e))).add(At(.4298,t).add(At(.1191,e).sub(.00232))))}),Rv=se(([r,e])=>{const t=re(r).toVar(),n=on(re(.856627153315983,.137318972929847,.11189821299995),re(.0951212405381588,.761241990602591,.0767994186031903),re(.0482516061458583,.101439036467562,.811302368396859)),i=on(re(1.1271005818144368,-.1413297634984383,-.14132976349843826),re(-.11060664309660323,1.157823702216272,-.11060664309660294),re(-.016493938717834573,-.016493938717834257,1.2519364065950405)),s=j(-12.47393),o=j(4.026069);return t.mulAssign(e),t.assign(Qq.mul(t)),t.assign(n.mul(t)),t.assign(h0(t,1e-10)),t.assign(n1(t)),t.assign(t.sub(s).div(o.sub(s))),t.assign(A1(t,0,1)),t.assign(Yq(t)),t.assign(i.mul(t)),t.assign(Rr(h0(re(0),t),re(2.2))),t.assign(Wq.mul(t)),t.assign(A1(t,0,1)),t}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Cv=se(([r,e])=>{const t=j(.76),n=j(.15);r=r.mul(e);const i=Mn(r.r,Mn(r.g,r.b)),s=B0(i.lessThan(.08),i.sub(At(6.25,i.mul(i))),.04);r.subAssign(s);const o=h0(r.r,h0(r.g,r.b));lt(o.lessThan(t),()=>r);const u=wt(1,t),h=wt(1,u.mul(u).div(o.add(u.sub(t))));r.mulAssign(h.div(o));const d=wt(1,hr(1,n.mul(o.sub(h)).add(1)));return It(r,re(h),d)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class N0 extends $e{static get type(){return"CodeNode"}constructor(e="",t=[],n=""){super("code"),this.isCodeNode=!0,this.global=!0,this.code=e,this.includes=t,this.language=n}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const t=this.getIncludes(e);for(const i of t)i.build(e);const n=e.getCodeFromNode(this,this.getNodeType(e));return n.code=this.code,n.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}const D5=_e(N0).setParameterLength(1,3),Xq=(r,e)=>D5(r,e,"js"),Kq=(r,e)=>D5(r,e,"wgsl"),Zq=(r,e)=>D5(r,e,"glsl");class Pv extends N0{static get type(){return"FunctionNode"}constructor(e="",t=[],n=""){super(e,t,n)}getNodeType(e){return this.getNodeFunction(e).type}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const t=e.getDataFromNode(this);let n=t.nodeFunction;return n===void 0&&(n=e.parser.parseFunction(this.code),t.nodeFunction=n),n}generate(e,t){super.generate(e);const n=this.getNodeFunction(e),i=n.name,s=n.type,o=e.getCodeFromNode(this,s);i!==""&&(o.name=i);const u=e.getPropertyName(o),h=this.getNodeFunction(e).getCode(u);return o.code=h+`
`,t==="property"?u:e.format(`${u}()`,s,t)}}const Bv=(r,e=[],t="")=>{for(let s=0;s<e.length;s++){const o=e[s];typeof o=="function"&&(e[s]=o.functionNode)}const n=ge(new Pv(r,e,t)),i=(...s)=>n.call(...s);return i.functionNode=n,i},Jq=(r,e)=>Bv(r,e,"glsl"),eI=(r,e)=>Bv(r,e,"wgsl");class tI extends $e{static get type(){return"ScriptableValueNode"}constructor(e=null){super(),this._value=e,this._cache=null,this.inputType=null,this.outputType=null,this.events=new A9,this.isScriptableValueNode=!0}get isScriptableOutputNode(){return this.outputType!==null}set value(e){this._value!==e&&(this._cache&&this.inputType==="URL"&&this.value.value instanceof ArrayBuffer&&(URL.revokeObjectURL(this._cache),this._cache=null),this._value=e,this.events.dispatchEvent({type:"change"}),this.refresh())}get value(){return this._value}refresh(){this.events.dispatchEvent({type:"refresh"})}getValue(){const e=this.value;if(e&&this._cache===null&&this.inputType==="URL"&&e.value instanceof ArrayBuffer)this._cache=URL.createObjectURL(new Blob([e.value]));else if(e&&e.value!==null&&e.value!==void 0&&((this.inputType==="URL"||this.inputType==="String")&&typeof e.value=="string"||this.inputType==="Number"&&typeof e.value=="number"||this.inputType==="Vector2"&&e.value.isVector2||this.inputType==="Vector3"&&e.value.isVector3||this.inputType==="Vector4"&&e.value.isVector4||this.inputType==="Color"&&e.value.isColor||this.inputType==="Matrix3"&&e.value.isMatrix3||this.inputType==="Matrix4"&&e.value.isMatrix4))return e.value;return this._cache||e}getNodeType(e){return this.value&&this.value.isNode?this.value.getNodeType(e):"float"}setup(){return this.value&&this.value.isNode?this.value:j()}serialize(e){super.serialize(e),this.value!==null?this.inputType==="ArrayBuffer"?e.value=kp(this.value):e.value=this.value?this.value.toJSON(e.meta).uuid:null:e.value=null,e.inputType=this.inputType,e.outputType=this.outputType}deserialize(e){super.deserialize(e);let t=null;e.value!==null&&(e.inputType==="ArrayBuffer"?t=Up(e.value):e.inputType==="Texture"?t=e.meta.textures[e.value]:t=e.meta.nodes[e.value]||null),this.value=t,this.inputType=e.inputType,this.outputType=e.outputType}}const Z3=_e(tI).setParameterLength(1);class Dv extends Map{get(e,t=null,...n){if(this.has(e))return super.get(e);if(t!==null){const i=t(...n);return this.set(e,i),i}}}class nI{constructor(e){this.scriptableNode=e}get parameters(){return this.scriptableNode.parameters}get layout(){return this.scriptableNode.getLayout()}getInputLayout(e){return this.scriptableNode.getInputLayout(e)}get(e){const t=this.parameters[e];return t?t.getValue():null}}const J3=new Dv;class rI extends $e{static get type(){return"ScriptableNode"}constructor(e=null,t={}){super(),this.codeNode=e,this.parameters=t,this._local=new Dv,this._output=Z3(null),this._outputs={},this._source=this.source,this._method=null,this._object=null,this._value=null,this._needsOutputUpdate=!0,this.onRefresh=this.onRefresh.bind(this),this.isScriptableNode=!0}get source(){return this.codeNode?this.codeNode.code:""}setLocal(e,t){return this._local.set(e,t)}getLocal(e){return this._local.get(e)}onRefresh(){this._refresh()}getInputLayout(e){for(const t of this.getLayout())if(t.inputType&&(t.id===e||t.name===e))return t}getOutputLayout(e){for(const t of this.getLayout())if(t.outputType&&(t.id===e||t.name===e))return t}setOutput(e,t){const n=this._outputs;return n[e]===void 0?n[e]=Z3(t):n[e].value=t,this}getOutput(e){return this._outputs[e]}getParameter(e){return this.parameters[e]}setParameter(e,t){const n=this.parameters;return t&&t.isScriptableNode?(this.deleteParameter(e),n[e]=t,n[e].getDefaultOutput().events.addEventListener("refresh",this.onRefresh)):t&&t.isScriptableValueNode?(this.deleteParameter(e),n[e]=t,n[e].events.addEventListener("refresh",this.onRefresh)):n[e]===void 0?(n[e]=Z3(t),n[e].events.addEventListener("refresh",this.onRefresh)):n[e].value=t,this}getValue(){return this.getDefaultOutput().getValue()}deleteParameter(e){let t=this.parameters[e];return t&&(t.isScriptableNode&&(t=t.getDefaultOutput()),t.events.removeEventListener("refresh",this.onRefresh)),this}clearParameters(){for(const e of Object.keys(this.parameters))this.deleteParameter(e);return this.needsUpdate=!0,this}call(e,...t){const i=this.getObject()[e];if(typeof i=="function")return i(...t)}async callAsync(e,...t){const i=this.getObject()[e];if(typeof i=="function")return i.constructor.name==="AsyncFunction"?await i(...t):i(...t)}getNodeType(e){return this.getDefaultOutputNode().getNodeType(e)}refresh(e=null){e!==null?this.getOutput(e).refresh():this._refresh()}getObject(){if(this.needsUpdate&&this.dispose(),this._object!==null)return this._object;const e=()=>this.refresh(),t=(d,m)=>this.setOutput(d,m),n=new nI(this),i=J3.get("THREE"),s=J3.get("TSL"),o=this.getMethod(),u=[n,this._local,J3,e,t,i,s];this._object=o(...u);const h=this._object.layout;if(h&&(h.cache===!1&&this._local.clear(),this._output.outputType=h.outputType||null,Array.isArray(h.elements)))for(const d of h.elements){const m=d.id||d.name;d.inputType&&(this.getParameter(m)===void 0&&this.setParameter(m,null),this.getParameter(m).inputType=d.inputType),d.outputType&&(this.getOutput(m)===void 0&&this.setOutput(m,null),this.getOutput(m).outputType=d.outputType)}return this._object}deserialize(e){super.deserialize(e);for(const t in this.parameters){let n=this.parameters[t];n.isScriptableNode&&(n=n.getDefaultOutput()),n.events.addEventListener("refresh",this.onRefresh)}}getLayout(){return this.getObject().layout}getDefaultOutputNode(){const e=this.getDefaultOutput().value;return e&&e.isNode?e:j()}getDefaultOutput(){return this._exec()._output}getMethod(){if(this.needsUpdate&&this.dispose(),this._method!==null)return this._method;const e=["parameters","local","global","refresh","setOutput","THREE","TSL"],n=["layout","init","main","dispose"].join(", "),i="var "+n+`; var output = {};
`,s=`
return { ...output, `+n+" };",o=i+this.codeNode.code+s;return this._method=new Function(...e,o),this._method}dispose(){this._method!==null&&(this._object&&typeof this._object.dispose=="function"&&this._object.dispose(),this._method=null,this._object=null,this._source=null,this._value=null,this._needsOutputUpdate=!0,this._output.value=null,this._outputs={})}setup(){return this.getDefaultOutputNode()}getCacheKey(e){const t=[Dp(this.source),this.getDefaultOutputNode().getCacheKey(e)];for(const n in this.parameters)t.push(this.parameters[n].getCacheKey(e));return l5(t)}set needsUpdate(e){e===!0&&this.dispose()}get needsUpdate(){return this.source!==this._source}_exec(){return this.codeNode===null?this:(this._needsOutputUpdate===!0&&(this._value=this.call("main"),this._needsOutputUpdate=!1),this._output.value=this._value,this)}_refresh(){this.needsUpdate=!0,this._exec(),this._output.refresh()}}const iI=_e(rI).setParameterLength(1,2);function Fv(r){let e;const t=r.context.getViewZ;return t!==void 0&&(e=t(this)),(e||x0.z).negate()}const HA=se(([r,e],t)=>{const n=Fv(t);return l1(r,e,n)}),jA=se(([r],e)=>{const t=Fv(e);return r.mul(r,t,t).negate().exp().oneMinus()}),A4=se(([r,e])=>Ve(e.toFloat().mix(ms.rgb,r.toVec3()),ms.a));function sI(r,e,t){return console.warn('THREE.TSL: "rangeFog( color, near, far )" is deprecated. Use "fog( color, rangeFogFactor( near, far ) )" instead.'),A4(r,HA(e,t))}function oI(r,e){return console.warn('THREE.TSL: "densityFog( color, density )" is deprecated. Use "fog( color, densityFogFactor( density ) )" instead.'),A4(r,jA(e))}let Oi=null,ki=null;class aI extends $e{static get type(){return"RangeNode"}constructor(e=j(),t=j()){super(),this.minNode=e,this.maxNode=t}getVectorLength(e){const t=e.getTypeLength(di(this.minNode.value)),n=e.getTypeLength(di(this.maxNode.value));return t>n?t:n}getNodeType(e){return e.object.count>1?e.getTypeFromLength(this.getVectorLength(e)):"float"}setup(e){const t=e.object;let n=null;if(t.count>1){const i=this.minNode.value,s=this.maxNode.value,o=e.getTypeLength(di(i)),u=e.getTypeLength(di(s));Oi=Oi||new jt,ki=ki||new jt,Oi.setScalar(0),ki.setScalar(0),o===1?Oi.setScalar(i):i.isColor?Oi.set(i.r,i.g,i.b,1):Oi.set(i.x,i.y,i.z||0,i.w||0),u===1?ki.setScalar(s):s.isColor?ki.set(s.r,s.g,s.b,1):ki.set(s.x,s.y,s.z||0,s.w||0);const h=4,d=h*t.count,m=new Float32Array(d);for(let x=0;x<d;x++){const b=x%h,w=Oi.getComponent(b),S=ki.getComponent(b);m[x]=v9.lerp(w,S,Math.random())}const y=this.getNodeType(e);if(t.count<=4096)n=y4(m,"vec4",t.count).element(_i).convert(y);else{const x=new pi(m,4);e.geometry.setAttribute("__range"+this.id,x),n=Wa(x).convert(y)}}else n=j(0);return n}}const AI=_e(aI).setParameterLength(2);class lI extends $e{static get type(){return"ComputeBuiltinNode"}constructor(e,t){super(t),this._builtinName=e}getHash(e){return this.getBuiltinName(e)}getNodeType(){return this.nodeType}setBuiltinName(e){return this._builtinName=e,this}getBuiltinName(){return this._builtinName}hasBuiltin(e){return e.hasBuiltin(this._builtinName)}generate(e,t){const n=this.getBuiltinName(e),i=this.getNodeType(e);return e.shaderStage==="compute"?e.format(n,i,t):(console.warn(`ComputeBuiltinNode: Compute built-in value ${n} can not be accessed in the ${e.shaderStage} stage`),e.generateConst(i))}serialize(e){super.serialize(e),e.global=this.global,e._builtinName=this._builtinName}deserialize(e){super.deserialize(e),this.global=e.global,this._builtinName=e._builtinName}}const N4=(r,e)=>ge(new lI(r,e)),uI=N4("numWorkgroups","uvec3"),cI=N4("workgroupId","uvec3"),hI=N4("globalId","uvec3"),fI=N4("localId","uvec3"),dI=N4("subgroupSize","uint");class pI extends $e{constructor(e){super(),this.scope=e}generate(e){const{scope:t}=this,{renderer:n}=e;n.backend.isWebGLBackend===!0?e.addFlowCode(`	// ${t}Barrier 
`):e.addLineFlowCode(`${t}Barrier()`,this)}}const $A=_e(pI),mI=()=>$A("workgroup").toStack(),gI=()=>$A("storage").toStack(),yI=()=>$A("texture").toStack();class vI extends g2{constructor(e,t){super(e,t),this.isWorkgroupInfoElementNode=!0}generate(e,t){let n;const i=e.context.assign;if(n=super.generate(e),i!==!0){const s=this.getNodeType(e);n=e.format(n,s,t)}return n}}class _I extends $e{constructor(e,t,n=0){super(t),this.bufferType=t,this.bufferCount=n,this.isWorkgroupInfoNode=!0,this.elementType=t,this.scope=e}label(e){return this.name=e,this}setScope(e){return this.scope=e,this}getElementType(){return this.elementType}getInputType(){return`${this.scope}Array`}element(e){return ge(new vI(this,e))}generate(e){return e.getScopedArray(this.name||`${this.scope}Array_${this.id}`,this.scope.toLowerCase(),this.bufferType,this.bufferCount)}}const xI=(r,e)=>ge(new _I("Workgroup",r,e));class F0 extends $e{static get type(){return"AtomicFunctionNode"}constructor(e,t,n){super("uint"),this.method=e,this.pointerNode=t,this.valueNode=n,this.parents=!0}getInputType(e){return this.pointerNode.getNodeType(e)}getNodeType(e){return this.getInputType(e)}generate(e){const t=e.getNodeProperties(this),n=t.parents,i=this.method,s=this.getNodeType(e),o=this.getInputType(e),u=this.pointerNode,h=this.valueNode,d=[];d.push(`&${u.build(e,o)}`),h!==null&&d.push(h.build(e,o));const m=`${e.getMethod(i,s)}( ${d.join(", ")} )`;if(n.length===1&&n[0].isStackNode===!0)e.addLineFlowCode(m,this);else return t.constNode===void 0&&(t.constNode=V1(m,s).toConst()),t.constNode.build(e)}}F0.ATOMIC_LOAD="atomicLoad";F0.ATOMIC_STORE="atomicStore";F0.ATOMIC_ADD="atomicAdd";F0.ATOMIC_SUB="atomicSub";F0.ATOMIC_MAX="atomicMax";F0.ATOMIC_MIN="atomicMin";F0.ATOMIC_AND="atomicAnd";F0.ATOMIC_OR="atomicOr";F0.ATOMIC_XOR="atomicXor";const bI=_e(F0),m1=(r,e,t)=>bI(r,e,t).toStack(),TI=r=>m1(F0.ATOMIC_LOAD,r,null),wI=(r,e)=>m1(F0.ATOMIC_STORE,r,e),SI=(r,e)=>m1(F0.ATOMIC_ADD,r,e),EI=(r,e)=>m1(F0.ATOMIC_SUB,r,e),NI=(r,e)=>m1(F0.ATOMIC_MAX,r,e),MI=(r,e)=>m1(F0.ATOMIC_MIN,r,e),RI=(r,e)=>m1(F0.ATOMIC_AND,r,e),CI=(r,e)=>m1(F0.ATOMIC_OR,r,e),PI=(r,e)=>m1(F0.ATOMIC_XOR,r,e);let f3;function F5(r){f3=f3||new WeakMap;let e=f3.get(r);return e===void 0&&f3.set(r,e={}),e}function WA(r){const e=F5(r);return e.shadowMatrix||(e.shadowMatrix=ze("mat4").setGroup(He).onRenderUpdate(t=>((r.castShadow!==!0||t.renderer.shadowMap.enabled===!1)&&r.shadow.updateMatrices(r),r.shadow.matrix)))}function Lv(r,e=F1){const t=WA(r).mul(e);return t.xyz.div(t.w)}function QA(r){const e=F5(r);return e.position||(e.position=ze(new Ce).setGroup(He).onRenderUpdate((t,n)=>n.value.setFromMatrixPosition(r.matrixWorld)))}function qv(r){const e=F5(r);return e.targetPosition||(e.targetPosition=ze(new Ce).setGroup(He).onRenderUpdate((t,n)=>n.value.setFromMatrixPosition(r.target.matrixWorld)))}function YA(r){const e=F5(r);return e.viewPosition||(e.viewPosition=ze(new Ce).setGroup(He).onRenderUpdate(({camera:t},n)=>{n.value=n.value||new Ce,n.value.setFromMatrixPosition(r.matrixWorld),n.value.applyMatrix4(t.matrixWorldInverse)}))}const XA=r=>Cn.transformDirection(QA(r).sub(qv(r))),BI=r=>r.sort((e,t)=>e.id-t.id),DI=(r,e)=>{for(const t of e)if(t.isAnalyticLightNode&&t.light.id===r)return t;return null},n6=new WeakMap,ao=[];class KA extends $e{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=re().toVar(),this.totalSpecularNode=re().toVar(),this.outgoingLightNode=re().toVar(),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const e=this._lights;for(let n=0;n<e.length;n++){const i=e[n];if(ao.push(i.id),ao.push(i.castShadow?1:0),i.isSpotLight===!0){const s=i.map!==null?i.map.id:-1,o=i.colorNode?i.colorNode.getCacheKey():-1;ao.push(s,o)}}const t=l5(ao);return ao.length=0,t}getHash(e){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(e);const t=[];for(const n of this._lightNodes)t.push(n.getSelf().getHash());this._lightNodesHash="lights-"+t.join(",")}return this._lightNodesHash}analyze(e){const t=e.getNodeProperties(this);for(const n of t.nodes)n.build(e);t.outputNode.build(e)}setupLightsNode(e){const t=[],n=this._lightNodes,i=BI(this._lights),s=e.renderer.library;for(const o of i)if(o.isNode)t.push(ge(o));else{let u=null;if(n!==null&&(u=DI(o.id,n)),u===null){const h=s.getLightNodeClass(o.constructor);if(h===null){console.warn(`LightsNode.setupNodeLights: Light node not found for ${o.constructor.name}`);continue}let d=null;n6.has(o)?d=n6.get(o):(d=ge(new h(o)),n6.set(o,d)),t.push(d)}}this._lightNodes=t}setupDirectLight(e,t,n){const{lightingModel:i,reflectedLight:s}=e.context;i.direct({...n,lightNode:t,reflectedLight:s},e)}setupDirectRectAreaLight(e,t,n){const{lightingModel:i,reflectedLight:s}=e.context;i.directRectArea({...n,lightNode:t,reflectedLight:s},e)}setupLights(e,t){for(const n of t)n.build(e)}getLightNodes(e){return this._lightNodes===null&&this.setupLightsNode(e),this._lightNodes}setup(e){const t=e.lightsNode;e.lightsNode=this;let n=this.outgoingLightNode;const i=e.context,s=i.lightingModel,o=e.getNodeProperties(this);if(s){const{totalDiffuseNode:u,totalSpecularNode:h}=this;i.outgoingLight=n;const d=e.addStack();o.nodes=d.nodes,s.start(e);const{backdrop:m,backdropAlpha:y}=i,{directDiffuse:x,directSpecular:b,indirectDiffuse:w,indirectSpecular:S}=i.reflectedLight;let N=x.add(w);m!==null&&(y!==null?N=re(y.mix(N,m)):N=re(m),i.material.transparent=!0),u.assign(N),h.assign(b.add(S)),n.assign(u.add(h)),s.finish(e),n=n.bypass(e.removeStack())}else o.nodes=[];return e.lightsNode=t,n}setLights(e){return this._lights=e,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}const FI=(r=[])=>ge(new KA).setLights(r);class LI extends $e{static get type(){return"ShadowBaseNode"}constructor(e){super(),this.light=e,this.updateBeforeType=ht.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({context:e,material:t}){ZA.assign(t.receivedShadowPositionNode||e.shadowPositionWorld||F1)}}const ZA=Ds("vec3","shadowPositionWorld");function qI(r,e={}){return e.toneMapping=r.toneMapping,e.toneMappingExposure=r.toneMappingExposure,e.outputColorSpace=r.outputColorSpace,e.renderTarget=r.getRenderTarget(),e.activeCubeFace=r.getActiveCubeFace(),e.activeMipmapLevel=r.getActiveMipmapLevel(),e.renderObjectFunction=r.getRenderObjectFunction(),e.pixelRatio=r.getPixelRatio(),e.mrt=r.getMRT(),e.clearColor=r.getClearColor(e.clearColor||new D0),e.clearAlpha=r.getClearAlpha(),e.autoClear=r.autoClear,e.scissorTest=r.getScissorTest(),e}function II(r,e){return e=qI(r,e),r.setMRT(null),r.setRenderObjectFunction(null),r.setClearColor(0,1),r.autoClear=!0,e}function OI(r,e){r.toneMapping=e.toneMapping,r.toneMappingExposure=e.toneMappingExposure,r.outputColorSpace=e.outputColorSpace,r.setRenderTarget(e.renderTarget,e.activeCubeFace,e.activeMipmapLevel),r.setRenderObjectFunction(e.renderObjectFunction),r.setPixelRatio(e.pixelRatio),r.setMRT(e.mrt),r.setClearColor(e.clearColor,e.clearAlpha),r.autoClear=e.autoClear,r.setScissorTest(e.scissorTest)}function kI(r,e={}){return e.background=r.background,e.backgroundNode=r.backgroundNode,e.overrideMaterial=r.overrideMaterial,e}function UI(r,e){return e=kI(r,e),r.background=null,r.backgroundNode=null,r.overrideMaterial=null,e}function GI(r,e){r.background=e.background,r.backgroundNode=e.backgroundNode,r.overrideMaterial=e.overrideMaterial}function VI(r,e,t){return t=II(r,t),t=UI(e,t),t}function zI(r,e,t){OI(r,t),GI(e,t)}const Rh=new WeakMap,Iv=se(({depthTexture:r,shadowCoord:e,depthLayer:t})=>{let n=xt(r,e.xy).label("t_basic");return r.isArrayTexture&&(n=n.depth(t)),n.compare(e.z)}),Ov=se(({depthTexture:r,shadowCoord:e,shadow:t,depthLayer:n})=>{const i=(N,C)=>{let P=xt(r,N);return r.isArrayTexture&&(P=P.depth(n)),P.compare(C)},s=Qt("mapSize","vec2",t).setGroup(He),o=Qt("radius","float",t).setGroup(He),u=xe(1).div(s),h=u.x.negate().mul(o),d=u.y.negate().mul(o),m=u.x.mul(o),y=u.y.mul(o),x=h.div(2),b=d.div(2),w=m.div(2),S=y.div(2);return T0(i(e.xy.add(xe(h,d)),e.z),i(e.xy.add(xe(0,d)),e.z),i(e.xy.add(xe(m,d)),e.z),i(e.xy.add(xe(x,b)),e.z),i(e.xy.add(xe(0,b)),e.z),i(e.xy.add(xe(w,b)),e.z),i(e.xy.add(xe(h,0)),e.z),i(e.xy.add(xe(x,0)),e.z),i(e.xy,e.z),i(e.xy.add(xe(w,0)),e.z),i(e.xy.add(xe(m,0)),e.z),i(e.xy.add(xe(x,S)),e.z),i(e.xy.add(xe(0,S)),e.z),i(e.xy.add(xe(w,S)),e.z),i(e.xy.add(xe(h,y)),e.z),i(e.xy.add(xe(0,y)),e.z),i(e.xy.add(xe(m,y)),e.z)).mul(1/17)}),kv=se(({depthTexture:r,shadowCoord:e,shadow:t,depthLayer:n})=>{const i=(y,x)=>{let b=xt(r,y);return r.isArrayTexture&&(b=b.depth(n)),b.compare(x)},s=Qt("mapSize","vec2",t).setGroup(He),o=xe(1).div(s),u=o.x,h=o.y,d=e.xy,m=j1(d.mul(s).add(.5));return d.subAssign(m.mul(o)),T0(i(d,e.z),i(d.add(xe(u,0)),e.z),i(d.add(xe(0,h)),e.z),i(d.add(o),e.z),It(i(d.add(xe(u.negate(),0)),e.z),i(d.add(xe(u.mul(2),0)),e.z),m.x),It(i(d.add(xe(u.negate(),h)),e.z),i(d.add(xe(u.mul(2),h)),e.z),m.x),It(i(d.add(xe(0,h.negate())),e.z),i(d.add(xe(0,h.mul(2))),e.z),m.y),It(i(d.add(xe(u,h.negate())),e.z),i(d.add(xe(u,h.mul(2))),e.z),m.y),It(It(i(d.add(xe(u.negate(),h.negate())),e.z),i(d.add(xe(u.mul(2),h.negate())),e.z),m.x),It(i(d.add(xe(u.negate(),h.mul(2))),e.z),i(d.add(xe(u.mul(2),h.mul(2))),e.z),m.x),m.y)).mul(1/9)}),Uv=se(({depthTexture:r,shadowCoord:e,depthLayer:t})=>{const n=j(1).toVar();let i=xt(r).sample(e.xy);r.isArrayTexture&&(i=i.depth(t)),i=i.rg;const s=v5(e.z,i.x);return lt(s.notEqual(j(1)),()=>{const o=e.z.sub(i.x),u=h0(0,i.y.mul(i.y));let h=u.div(u.add(o.mul(o)));h=A1(wt(h,.3).div(.95-.3)),n.assign(A1(h0(s,h)))}),n}),HI=se(([r,e,t])=>{let n=F1.sub(r).length();return n=n.sub(e).div(t.sub(e)),n=n.saturate(),n}),jI=r=>{const e=r.shadow.camera,t=Qt("near","float",e).setGroup(He),n=Qt("far","float",e).setGroup(He),i=Ng(r);return HI(i,t,n)},Gv=r=>{let e=Rh.get(r);if(e===void 0){const t=r.isPointLight?jI(r):null;e=new v0,e.colorNode=Ve(0,0,0,1),e.depthNode=t,e.isShadowPassMaterial=!0,e.name="ShadowMaterial",e.fog=!1,Rh.set(r,e)}return e},Ch=new qr,j2=[],Vv=(r,e,t,n)=>{j2[0]=r,j2[1]=e;let i=Ch.get(j2);return(i===void 0||i.shadowType!==t||i.useVelocity!==n)&&(i=(s,o,u,h,d,m,...y)=>{(s.castShadow===!0||s.receiveShadow&&t===B3)&&(n&&(Op(s).useVelocity=!0),s.onBeforeShadow(r,s,u,e.camera,h,o.overrideMaterial,m),r.renderObject(s,o,u,h,d,m,...y),s.onAfterShadow(r,s,u,e.camera,h,o.overrideMaterial,m))},i.shadowType=t,i.useVelocity=n,Ch.set(j2,i)),j2[0]=null,j2[1]=null,i},$I=se(({samples:r,radius:e,size:t,shadowPass:n,depthLayer:i})=>{const s=j(0).toVar("meanVertical"),o=j(0).toVar("squareMeanVertical"),u=r.lessThanEqual(j(1)).select(j(0),j(2).div(r.sub(1))),h=r.lessThanEqual(j(1)).select(j(0),j(-1));Ot({start:Z(0),end:Z(r),type:"int",condition:"<"},({i:m})=>{const y=h.add(j(m).mul(u));let x=n.sample(T0(E4.xy,xe(0,y).mul(e)).div(t));n.value.isArrayTexture&&(x=x.depth(i)),x=x.x,s.addAssign(x),o.addAssign(x.mul(x))}),s.divAssign(r),o.divAssign(r);const d=p1(o.sub(s.mul(s)));return xe(s,d)}),WI=se(({samples:r,radius:e,size:t,shadowPass:n,depthLayer:i})=>{const s=j(0).toVar("meanHorizontal"),o=j(0).toVar("squareMeanHorizontal"),u=r.lessThanEqual(j(1)).select(j(0),j(2).div(r.sub(1))),h=r.lessThanEqual(j(1)).select(j(0),j(-1));Ot({start:Z(0),end:Z(r),type:"int",condition:"<"},({i:m})=>{const y=h.add(j(m).mul(u));let x=n.sample(T0(E4.xy,xe(y,0).mul(e)).div(t));n.value.isArrayTexture&&(x=x.depth(i)),s.addAssign(x.x),o.addAssign(T0(x.y.mul(x.y),x.x.mul(x.x)))}),s.divAssign(r),o.divAssign(r);const d=p1(o.sub(s.mul(s)));return xe(s,d)}),QI=[Iv,Ov,kv,Uv];let r6;const d3=new B5;class zv extends LI{static get type(){return"ShadowNode"}constructor(e,t=null){super(e),this.shadow=t||e.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this._cameraFrameId=new WeakMap,this.isShadowNode=!0,this.depthLayer=0}setupShadowFilter(e,{filterFn:t,depthTexture:n,shadowCoord:i,shadow:s,depthLayer:o}){const u=i.x.greaterThanEqual(0).and(i.x.lessThanEqual(1)).and(i.y.greaterThanEqual(0)).and(i.y.lessThanEqual(1)).and(i.z.lessThanEqual(1)),h=t({depthTexture:n,shadowCoord:i,shadow:s,depthLayer:o});return u.select(h,j(1))}setupShadowCoord(e,t){const{shadow:n}=this,{renderer:i}=e,s=Qt("bias","float",n).setGroup(He);let o=t,u;if(n.camera.isOrthographicCamera||i.logarithmicDepthBuffer!==!0)o=o.xyz.div(o.w),u=o.z,i.coordinateSystem===Ps&&(u=u.mul(2).sub(1));else{const h=o.w;o=o.xy.div(h);const d=Qt("near","float",n.camera).setGroup(He),m=Qt("far","float",n.camera).setGroup(He);u=BA(h.negate(),d,m)}return o=re(o.x,o.y.oneMinus(),u.add(s)),o}getShadowFilterFn(e){return QI[e]}setupRenderTarget(e,t){const n=new Br(e.mapSize.width,e.mapSize.height);n.name="ShadowDepthTexture",n.compareFunction=f9;const i=t.createRenderTarget(e.mapSize.width,e.mapSize.height);return i.texture.name="ShadowMap",i.texture.type=e.mapType,i.depthTexture=n,{shadowMap:i,depthTexture:n}}setupShadow(e){const{renderer:t}=e,{light:n,shadow:i}=this,s=t.shadowMap.type,{depthTexture:o,shadowMap:u}=this.setupRenderTarget(i,e);if(i.camera.updateProjectionMatrix(),s===B3&&i.isPointLightShadow!==!0){o.compareFunction=null,u.depth>1?(u._vsmShadowMapVertical||(u._vsmShadowMapVertical=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:Yi,type:xn,depth:u.depth,depthBuffer:!1}),u._vsmShadowMapVertical.texture.name="VSMVertical"),this.vsmShadowMapVertical=u._vsmShadowMapVertical,u._vsmShadowMapHorizontal||(u._vsmShadowMapHorizontal=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:Yi,type:xn,depth:u.depth,depthBuffer:!1}),u._vsmShadowMapHorizontal.texture.name="VSMHorizontal"),this.vsmShadowMapHorizontal=u._vsmShadowMapHorizontal):(this.vsmShadowMapVertical=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:Yi,type:xn,depthBuffer:!1}),this.vsmShadowMapHorizontal=e.createRenderTarget(i.mapSize.width,i.mapSize.height,{format:Yi,type:xn,depthBuffer:!1}));let C=xt(o);o.isArrayTexture&&(C=C.depth(this.depthLayer));let P=xt(this.vsmShadowMapVertical.texture);o.isArrayTexture&&(P=P.depth(this.depthLayer));const B=Qt("blurSamples","float",i).setGroup(He),q=Qt("radius","float",i).setGroup(He),D=Qt("mapSize","vec2",i).setGroup(He);let I=this.vsmMaterialVertical||(this.vsmMaterialVertical=new v0);I.fragmentNode=$I({samples:B,radius:q,size:D,shadowPass:C,depthLayer:this.depthLayer}).context(e.getSharedContext()),I.name="VSMVertical",I=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new v0),I.fragmentNode=WI({samples:B,radius:q,size:D,shadowPass:P,depthLayer:this.depthLayer}).context(e.getSharedContext()),I.name="VSMHorizontal"}const h=Qt("intensity","float",i).setGroup(He),d=Qt("normalBias","float",i).setGroup(He),m=WA(n).mul(ZA.add(S5.mul(d))),y=this.setupShadowCoord(e,m),x=i.filterNode||this.getShadowFilterFn(t.shadowMap.type)||null;if(x===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const b=s===B3&&i.isPointLightShadow!==!0?this.vsmShadowMapHorizontal.texture:o,w=this.setupShadowFilter(e,{filterFn:x,shadowTexture:u.texture,depthTexture:b,shadowCoord:y,shadow:i,depthLayer:this.depthLayer});let S=xt(u.texture,y);o.isArrayTexture&&(S=S.depth(this.depthLayer));const N=It(1,w.rgb.mix(S,1),h.mul(S.a)).toVar();return this.shadowMap=u,this.shadow.map=u,N}setup(e){if(e.renderer.shadowMap.enabled!==!1)return se(()=>{let t=this._node;return this.setupShadowPosition(e),t===null&&(this._node=t=this.setupShadow(e)),e.material.shadowNode&&console.warn('THREE.NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),e.material.receivedShadowNode&&(t=e.material.receivedShadowNode(t)),t})()}renderShadow(e){const{shadow:t,shadowMap:n,light:i}=this,{renderer:s,scene:o}=e;t.updateMatrices(i),n.setSize(t.mapSize.width,t.mapSize.height,n.depth),s.render(o,t.camera)}updateShadow(e){const{shadowMap:t,light:n,shadow:i}=this,{renderer:s,scene:o,camera:u}=e,h=s.shadowMap.type,d=t.depthTexture.version;this._depthVersionCached=d;const m=i.camera.layers.mask;(i.camera.layers.mask&4294967294)===0&&(i.camera.layers.mask=u.layers.mask);const y=s.getRenderObjectFunction(),x=s.getMRT(),b=x?x.has("velocity"):!1;r6=VI(s,o,r6),o.overrideMaterial=Gv(n),s.setRenderObjectFunction(Vv(s,i,h,b)),s.setClearColor(0,0),s.setRenderTarget(t),this.renderShadow(e),s.setRenderObjectFunction(y),h===B3&&i.isPointLightShadow!==!0&&this.vsmPass(s),i.camera.layers.mask=m,zI(s,o,r6)}vsmPass(e){const{shadow:t}=this,n=this.shadowMap.depth;this.vsmShadowMapVertical.setSize(t.mapSize.width,t.mapSize.height,n),this.vsmShadowMapHorizontal.setSize(t.mapSize.width,t.mapSize.height,n),e.setRenderTarget(this.vsmShadowMapVertical),d3.material=this.vsmMaterialVertical,d3.render(e),e.setRenderTarget(this.vsmShadowMapHorizontal),d3.material=this.vsmMaterialHorizontal,d3.render(e)}dispose(){this.shadowMap.dispose(),this.shadowMap=null,this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null),super.dispose()}updateBefore(e){const{shadow:t}=this;let n=t.needsUpdate||t.autoUpdate;n&&(this._cameraFrameId[e.camera]===e.frameId&&(n=!1),this._cameraFrameId[e.camera]=e.frameId),n&&(this.updateShadow(e),this.shadowMap.depthTexture.version===this._depthVersionCached&&(t.needsUpdate=!1))}}const Hv=(r,e)=>ge(new zv(r,e)),YI=new D0,Tr=se(([r,e])=>{const t=r.toVar(),n=Zt(t),i=hr(1,h0(n.x,h0(n.y,n.z)));n.mulAssign(i),t.mulAssign(i.mul(e.mul(2).oneMinus()));const s=xe(t.xy).toVar(),u=e.mul(1.5).oneMinus();return lt(n.z.greaterThanEqual(u),()=>{lt(t.z.greaterThan(0),()=>{s.x.assign(wt(4,t.x))})}).ElseIf(n.x.greaterThanEqual(u),()=>{const h=o4(t.x);s.x.assign(t.z.mul(h).add(h.mul(2)))}).ElseIf(n.y.greaterThanEqual(u),()=>{const h=o4(t.y);s.x.assign(t.x.add(h.mul(2)).add(2)),s.y.assign(t.z.mul(h).sub(2))}),xe(.125,.25).mul(s).add(xe(.375,.75)).flipY()}).setLayout({name:"cubeToUV",type:"vec2",inputs:[{name:"pos",type:"vec3"},{name:"texelSizeY",type:"float"}]}),jv=se(({depthTexture:r,bd3D:e,dp:t,texelSize:n})=>xt(r,Tr(e,n.y)).compare(t)),$v=se(({depthTexture:r,bd3D:e,dp:t,texelSize:n,shadow:i})=>{const s=Qt("radius","float",i).setGroup(He),o=xe(-1,1).mul(s).mul(n.y);return xt(r,Tr(e.add(o.xyy),n.y)).compare(t).add(xt(r,Tr(e.add(o.yyy),n.y)).compare(t)).add(xt(r,Tr(e.add(o.xyx),n.y)).compare(t)).add(xt(r,Tr(e.add(o.yyx),n.y)).compare(t)).add(xt(r,Tr(e,n.y)).compare(t)).add(xt(r,Tr(e.add(o.xxy),n.y)).compare(t)).add(xt(r,Tr(e.add(o.yxy),n.y)).compare(t)).add(xt(r,Tr(e.add(o.xxx),n.y)).compare(t)).add(xt(r,Tr(e.add(o.yxx),n.y)).compare(t)).mul(1/9)}),XI=se(({filterFn:r,depthTexture:e,shadowCoord:t,shadow:n})=>{const i=t.xyz.toVar(),s=i.length(),o=ze("float").setGroup(He).onRenderUpdate(()=>n.camera.near),u=ze("float").setGroup(He).onRenderUpdate(()=>n.camera.far),h=Qt("bias","float",n).setGroup(He),d=ze(n.mapSize).setGroup(He),m=j(1).toVar();return lt(s.sub(u).lessThanEqual(0).and(s.sub(o).greaterThanEqual(0)),()=>{const y=s.sub(o).div(u.sub(o)).toVar();y.addAssign(h);const x=i.normalize(),b=xe(1).div(d.mul(xe(4,2)));m.assign(r({depthTexture:e,bd3D:x,dp:y,texelSize:b,shadow:n}))}),m}),Ph=new jt,$2=new qt,Ao=new qt;class KI extends zv{static get type(){return"PointShadowNode"}constructor(e,t=null){super(e,t)}getShadowFilterFn(e){return e===_T?jv:$v}setupShadowCoord(e,t){return t}setupShadowFilter(e,{filterFn:t,shadowTexture:n,depthTexture:i,shadowCoord:s,shadow:o}){return XI({filterFn:t,shadowTexture:n,depthTexture:i,shadowCoord:s,shadow:o})}renderShadow(e){const{shadow:t,shadowMap:n,light:i}=this,{renderer:s,scene:o}=e,u=t.getFrameExtents();Ao.copy(t.mapSize),Ao.multiply(u),n.setSize(Ao.width,Ao.height),$2.copy(t.mapSize);const h=s.autoClear,d=s.getClearColor(YI),m=s.getClearAlpha();s.autoClear=!1,s.setClearColor(t.clearColor,t.clearAlpha),s.clear();const y=t.getViewportCount();for(let x=0;x<y;x++){const b=t.getViewport(x),w=$2.x*b.x,S=Ao.y-$2.y-$2.y*b.y;Ph.set(w,S,$2.x*b.z,$2.y*b.w),n.viewport.copy(Ph),t.updateMatrices(i,x),s.render(o,t.camera)}s.autoClear=h,s.setClearColor(d,m)}}const Wv=(r,e)=>ge(new KI(r,e));class x2 extends Fs{static get type(){return"AnalyticLightNode"}constructor(e=null){super(),this.light=e,this.color=new D0,this.colorNode=e&&e.colorNode||ze(this.color).setGroup(He),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=ht.FRAME}getHash(){return this.light.uuid}getLightVector(e){return YA(this.light).sub(e.context.positionView||x0)}setupDirect(){}setupDirectRectArea(){}setupShadowNode(){return Hv(this.light)}setupShadow(e){const{renderer:t}=e;if(t.shadowMap.enabled===!1)return;let n=this.shadowColorNode;if(n===null){const i=this.light.shadow.shadowNode;let s;i!==void 0?s=ge(i):s=this.setupShadowNode(),this.shadowNode=s,this.shadowColorNode=n=this.colorNode.mul(s),this.baseColorNode=this.colorNode}this.colorNode=n}setup(e){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?e.object.receiveShadow&&this.setupShadow(e):this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null);const t=this.setupDirect(e),n=this.setupDirectRectArea(e);t&&e.lightsNode.setupDirectLight(e,this,t),n&&e.lightsNode.setupDirectRectAreaLight(e,this,n)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}const JA=se(({lightDistance:r,cutoffDistance:e,decayExponent:t})=>{const n=r.pow(t).max(.01).reciprocal();return e.greaterThan(0).select(n.mul(r.div(e).pow4().oneMinus().clamp().pow2()),n)}),Qv=({color:r,lightVector:e,cutoffDistance:t,decayExponent:n})=>{const i=e.normalize(),s=e.length(),o=JA({lightDistance:s,cutoffDistance:t,decayExponent:n}),u=r.mul(o);return{lightDirection:i,lightColor:u}};class ZI extends x2{static get type(){return"PointLightNode"}constructor(e=null){super(e),this.cutoffDistanceNode=ze(0).setGroup(He),this.decayExponentNode=ze(2).setGroup(He)}update(e){const{light:t}=this;super.update(e),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}setupShadowNode(){return Wv(this.light)}setupDirect(e){return Qv({color:this.colorNode,lightVector:this.getLightVector(e),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode})}}const JI=se(([r=o0()])=>{const e=r.mul(2),t=e.x.floor(),n=e.y.floor();return t.add(n).mod(2).sign()}),eO=se(([r=o0()],{renderer:e,material:t})=>{const n=hA(r.mul(2).sub(1));let i;if(t.alphaToCoverage&&e.samples>1){const s=j(n.fwidth()).toVar();i=l1(s.oneMinus(),s.add(1),n).oneMinus()}else i=B0(n.greaterThan(1),0,1);return i}),Io=se(([r,e,t])=>{const n=j(t).toVar(),i=j(e).toVar(),s=a1(r).toVar();return B0(s,i,n)}).setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]}),Ka=se(([r,e])=>{const t=a1(e).toVar(),n=j(r).toVar();return B0(t,n.negate(),n)}).setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]}),b0=se(([r])=>{const e=j(r).toVar();return Z(r1(e))}).setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]}),s0=se(([r,e])=>{const t=j(r).toVar();return e.assign(b0(t)),t.sub(j(e))}),tO=se(([r,e,t,n,i,s])=>{const o=j(s).toVar(),u=j(i).toVar(),h=j(n).toVar(),d=j(t).toVar(),m=j(e).toVar(),y=j(r).toVar(),x=j(wt(1,u)).toVar();return wt(1,o).mul(y.mul(x).add(m.mul(u))).add(o.mul(d.mul(x).add(h.mul(u))))}).setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]}),nO=se(([r,e,t,n,i,s])=>{const o=j(s).toVar(),u=j(i).toVar(),h=re(n).toVar(),d=re(t).toVar(),m=re(e).toVar(),y=re(r).toVar(),x=j(wt(1,u)).toVar();return wt(1,o).mul(y.mul(x).add(m.mul(u))).add(o.mul(d.mul(x).add(h.mul(u))))}).setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]}),Yv=K0([tO,nO]),rO=se(([r,e,t,n,i,s,o,u,h,d,m])=>{const y=j(m).toVar(),x=j(d).toVar(),b=j(h).toVar(),w=j(u).toVar(),S=j(o).toVar(),N=j(s).toVar(),C=j(i).toVar(),P=j(n).toVar(),B=j(t).toVar(),q=j(e).toVar(),D=j(r).toVar(),I=j(wt(1,b)).toVar(),U=j(wt(1,x)).toVar();return j(wt(1,y)).toVar().mul(U.mul(D.mul(I).add(q.mul(b))).add(x.mul(B.mul(I).add(P.mul(b))))).add(y.mul(U.mul(C.mul(I).add(N.mul(b))).add(x.mul(S.mul(I).add(w.mul(b))))))}).setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),iO=se(([r,e,t,n,i,s,o,u,h,d,m])=>{const y=j(m).toVar(),x=j(d).toVar(),b=j(h).toVar(),w=re(u).toVar(),S=re(o).toVar(),N=re(s).toVar(),C=re(i).toVar(),P=re(n).toVar(),B=re(t).toVar(),q=re(e).toVar(),D=re(r).toVar(),I=j(wt(1,b)).toVar(),U=j(wt(1,x)).toVar();return j(wt(1,y)).toVar().mul(U.mul(D.mul(I).add(q.mul(b))).add(x.mul(B.mul(I).add(P.mul(b))))).add(y.mul(U.mul(C.mul(I).add(N.mul(b))).add(x.mul(S.mul(I).add(w.mul(b))))))}).setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),Xv=K0([rO,iO]),sO=se(([r,e,t])=>{const n=j(t).toVar(),i=j(e).toVar(),s=Fe(r).toVar(),o=Fe(s.bitAnd(Fe(7))).toVar(),u=j(Io(o.lessThan(Fe(4)),i,n)).toVar(),h=j(At(2,Io(o.lessThan(Fe(4)),n,i))).toVar();return Ka(u,a1(o.bitAnd(Fe(1)))).add(Ka(h,a1(o.bitAnd(Fe(2)))))}).setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]}),oO=se(([r,e,t,n])=>{const i=j(n).toVar(),s=j(t).toVar(),o=j(e).toVar(),u=Fe(r).toVar(),h=Fe(u.bitAnd(Fe(15))).toVar(),d=j(Io(h.lessThan(Fe(8)),o,s)).toVar(),m=j(Io(h.lessThan(Fe(4)),s,Io(h.equal(Fe(12)).or(h.equal(Fe(14))),o,i))).toVar();return Ka(d,a1(h.bitAnd(Fe(1)))).add(Ka(m,a1(h.bitAnd(Fe(2)))))}).setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),k0=K0([sO,oO]),aO=se(([r,e,t])=>{const n=j(t).toVar(),i=j(e).toVar(),s=Bs(r).toVar();return re(k0(s.x,i,n),k0(s.y,i,n),k0(s.z,i,n))}).setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]}),AO=se(([r,e,t,n])=>{const i=j(n).toVar(),s=j(t).toVar(),o=j(e).toVar(),u=Bs(r).toVar();return re(k0(u.x,o,s,i),k0(u.y,o,s,i),k0(u.z,o,s,i))}).setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),rr=K0([aO,AO]),lO=se(([r])=>{const e=j(r).toVar();return At(.6616,e)}).setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]}),uO=se(([r])=>{const e=j(r).toVar();return At(.982,e)}).setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]}),cO=se(([r])=>{const e=re(r).toVar();return At(.6616,e)}).setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),Kv=K0([lO,cO]),hO=se(([r])=>{const e=re(r).toVar();return At(.982,e)}).setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),Zv=K0([uO,hO]),In=se(([r,e])=>{const t=Z(e).toVar(),n=Fe(r).toVar();return n.shiftLeft(t).bitOr(n.shiftRight(Z(32).sub(t)))}).setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]}),Jv=se(([r,e,t])=>{r.subAssign(t),r.bitXorAssign(In(t,Z(4))),t.addAssign(e),e.subAssign(r),e.bitXorAssign(In(r,Z(6))),r.addAssign(t),t.subAssign(e),t.bitXorAssign(In(e,Z(8))),e.addAssign(r),r.subAssign(t),r.bitXorAssign(In(t,Z(16))),t.addAssign(e),e.subAssign(r),e.bitXorAssign(In(r,Z(19))),r.addAssign(t),t.subAssign(e),t.bitXorAssign(In(e,Z(4))),e.addAssign(r)}),M4=se(([r,e,t])=>{const n=Fe(t).toVar(),i=Fe(e).toVar(),s=Fe(r).toVar();return n.bitXorAssign(i),n.subAssign(In(i,Z(14))),s.bitXorAssign(n),s.subAssign(In(n,Z(11))),i.bitXorAssign(s),i.subAssign(In(s,Z(25))),n.bitXorAssign(i),n.subAssign(In(i,Z(16))),s.bitXorAssign(n),s.subAssign(In(n,Z(4))),i.bitXorAssign(s),i.subAssign(In(s,Z(14))),n.bitXorAssign(i),n.subAssign(In(i,Z(24))),n}).setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]}),sn=se(([r])=>{const e=Fe(r).toVar();return j(e).div(j(Fe(Z(4294967295))))}).setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]}),s1=se(([r])=>{const e=j(r).toVar();return e.mul(e).mul(e).mul(e.mul(e.mul(6).sub(15)).add(10))}).setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]}),fO=se(([r])=>{const e=Z(r).toVar(),t=Fe(Fe(1)).toVar(),n=Fe(Fe(Z(3735928559)).add(t.shiftLeft(Fe(2))).add(Fe(13))).toVar();return M4(n.add(Fe(e)),n,n)}).setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]}),dO=se(([r,e])=>{const t=Z(e).toVar(),n=Z(r).toVar(),i=Fe(Fe(2)).toVar(),s=Fe().toVar(),o=Fe().toVar(),u=Fe().toVar();return s.assign(o.assign(u.assign(Fe(Z(3735928559)).add(i.shiftLeft(Fe(2))).add(Fe(13))))),s.addAssign(Fe(n)),o.addAssign(Fe(t)),M4(s,o,u)}).setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),pO=se(([r,e,t])=>{const n=Z(t).toVar(),i=Z(e).toVar(),s=Z(r).toVar(),o=Fe(Fe(3)).toVar(),u=Fe().toVar(),h=Fe().toVar(),d=Fe().toVar();return u.assign(h.assign(d.assign(Fe(Z(3735928559)).add(o.shiftLeft(Fe(2))).add(Fe(13))))),u.addAssign(Fe(s)),h.addAssign(Fe(i)),d.addAssign(Fe(n)),M4(u,h,d)}).setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),mO=se(([r,e,t,n])=>{const i=Z(n).toVar(),s=Z(t).toVar(),o=Z(e).toVar(),u=Z(r).toVar(),h=Fe(Fe(4)).toVar(),d=Fe().toVar(),m=Fe().toVar(),y=Fe().toVar();return d.assign(m.assign(y.assign(Fe(Z(3735928559)).add(h.shiftLeft(Fe(2))).add(Fe(13))))),d.addAssign(Fe(u)),m.addAssign(Fe(o)),y.addAssign(Fe(s)),Jv(d,m,y),d.addAssign(Fe(i)),M4(d,m,y)}).setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]}),gO=se(([r,e,t,n,i])=>{const s=Z(i).toVar(),o=Z(n).toVar(),u=Z(t).toVar(),h=Z(e).toVar(),d=Z(r).toVar(),m=Fe(Fe(5)).toVar(),y=Fe().toVar(),x=Fe().toVar(),b=Fe().toVar();return y.assign(x.assign(b.assign(Fe(Z(3735928559)).add(m.shiftLeft(Fe(2))).add(Fe(13))))),y.addAssign(Fe(d)),x.addAssign(Fe(h)),b.addAssign(Fe(u)),Jv(y,x,b),y.addAssign(Fe(o)),x.addAssign(Fe(s)),M4(y,x,b)}).setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]}),Vt=K0([fO,dO,pO,mO,gO]),yO=se(([r,e])=>{const t=Z(e).toVar(),n=Z(r).toVar(),i=Fe(Vt(n,t)).toVar(),s=Bs().toVar();return s.x.assign(i.bitAnd(Z(255))),s.y.assign(i.shiftRight(Z(8)).bitAnd(Z(255))),s.z.assign(i.shiftRight(Z(16)).bitAnd(Z(255))),s}).setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),vO=se(([r,e,t])=>{const n=Z(t).toVar(),i=Z(e).toVar(),s=Z(r).toVar(),o=Fe(Vt(s,i,n)).toVar(),u=Bs().toVar();return u.x.assign(o.bitAnd(Z(255))),u.y.assign(o.shiftRight(Z(8)).bitAnd(Z(255))),u.z.assign(o.shiftRight(Z(16)).bitAnd(Z(255))),u}).setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),ir=K0([yO,vO]),_O=se(([r])=>{const e=xe(r).toVar(),t=Z().toVar(),n=Z().toVar(),i=j(s0(e.x,t)).toVar(),s=j(s0(e.y,n)).toVar(),o=j(s1(i)).toVar(),u=j(s1(s)).toVar(),h=j(Yv(k0(Vt(t,n),i,s),k0(Vt(t.add(Z(1)),n),i.sub(1),s),k0(Vt(t,n.add(Z(1))),i,s.sub(1)),k0(Vt(t.add(Z(1)),n.add(Z(1))),i.sub(1),s.sub(1)),o,u)).toVar();return Kv(h)}).setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]}),xO=se(([r])=>{const e=re(r).toVar(),t=Z().toVar(),n=Z().toVar(),i=Z().toVar(),s=j(s0(e.x,t)).toVar(),o=j(s0(e.y,n)).toVar(),u=j(s0(e.z,i)).toVar(),h=j(s1(s)).toVar(),d=j(s1(o)).toVar(),m=j(s1(u)).toVar(),y=j(Xv(k0(Vt(t,n,i),s,o,u),k0(Vt(t.add(Z(1)),n,i),s.sub(1),o,u),k0(Vt(t,n.add(Z(1)),i),s,o.sub(1),u),k0(Vt(t.add(Z(1)),n.add(Z(1)),i),s.sub(1),o.sub(1),u),k0(Vt(t,n,i.add(Z(1))),s,o,u.sub(1)),k0(Vt(t.add(Z(1)),n,i.add(Z(1))),s.sub(1),o,u.sub(1)),k0(Vt(t,n.add(Z(1)),i.add(Z(1))),s,o.sub(1),u.sub(1)),k0(Vt(t.add(Z(1)),n.add(Z(1)),i.add(Z(1))),s.sub(1),o.sub(1),u.sub(1)),h,d,m)).toVar();return Zv(y)}).setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]}),el=K0([_O,xO]),bO=se(([r])=>{const e=xe(r).toVar(),t=Z().toVar(),n=Z().toVar(),i=j(s0(e.x,t)).toVar(),s=j(s0(e.y,n)).toVar(),o=j(s1(i)).toVar(),u=j(s1(s)).toVar(),h=re(Yv(rr(ir(t,n),i,s),rr(ir(t.add(Z(1)),n),i.sub(1),s),rr(ir(t,n.add(Z(1))),i,s.sub(1)),rr(ir(t.add(Z(1)),n.add(Z(1))),i.sub(1),s.sub(1)),o,u)).toVar();return Kv(h)}).setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),TO=se(([r])=>{const e=re(r).toVar(),t=Z().toVar(),n=Z().toVar(),i=Z().toVar(),s=j(s0(e.x,t)).toVar(),o=j(s0(e.y,n)).toVar(),u=j(s0(e.z,i)).toVar(),h=j(s1(s)).toVar(),d=j(s1(o)).toVar(),m=j(s1(u)).toVar(),y=re(Xv(rr(ir(t,n,i),s,o,u),rr(ir(t.add(Z(1)),n,i),s.sub(1),o,u),rr(ir(t,n.add(Z(1)),i),s,o.sub(1),u),rr(ir(t.add(Z(1)),n.add(Z(1)),i),s.sub(1),o.sub(1),u),rr(ir(t,n,i.add(Z(1))),s,o,u.sub(1)),rr(ir(t.add(Z(1)),n,i.add(Z(1))),s.sub(1),o,u.sub(1)),rr(ir(t,n.add(Z(1)),i.add(Z(1))),s,o.sub(1),u.sub(1)),rr(ir(t.add(Z(1)),n.add(Z(1)),i.add(Z(1))),s.sub(1),o.sub(1),u.sub(1)),h,d,m)).toVar();return Zv(y)}).setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),tl=K0([bO,TO]),wO=se(([r])=>{const e=j(r).toVar(),t=Z(b0(e)).toVar();return sn(Vt(t))}).setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]}),SO=se(([r])=>{const e=xe(r).toVar(),t=Z(b0(e.x)).toVar(),n=Z(b0(e.y)).toVar();return sn(Vt(t,n))}).setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]}),EO=se(([r])=>{const e=re(r).toVar(),t=Z(b0(e.x)).toVar(),n=Z(b0(e.y)).toVar(),i=Z(b0(e.z)).toVar();return sn(Vt(t,n,i))}).setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]}),NO=se(([r])=>{const e=Ve(r).toVar(),t=Z(b0(e.x)).toVar(),n=Z(b0(e.y)).toVar(),i=Z(b0(e.z)).toVar(),s=Z(b0(e.w)).toVar();return sn(Vt(t,n,i,s))}).setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]}),MO=K0([wO,SO,EO,NO]),RO=se(([r])=>{const e=j(r).toVar(),t=Z(b0(e)).toVar();return re(sn(Vt(t,Z(0))),sn(Vt(t,Z(1))),sn(Vt(t,Z(2))))}).setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]}),CO=se(([r])=>{const e=xe(r).toVar(),t=Z(b0(e.x)).toVar(),n=Z(b0(e.y)).toVar();return re(sn(Vt(t,n,Z(0))),sn(Vt(t,n,Z(1))),sn(Vt(t,n,Z(2))))}).setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),PO=se(([r])=>{const e=re(r).toVar(),t=Z(b0(e.x)).toVar(),n=Z(b0(e.y)).toVar(),i=Z(b0(e.z)).toVar();return re(sn(Vt(t,n,i,Z(0))),sn(Vt(t,n,i,Z(1))),sn(Vt(t,n,i,Z(2))))}).setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),BO=se(([r])=>{const e=Ve(r).toVar(),t=Z(b0(e.x)).toVar(),n=Z(b0(e.y)).toVar(),i=Z(b0(e.z)).toVar(),s=Z(b0(e.w)).toVar();return re(sn(Vt(t,n,i,s,Z(0))),sn(Vt(t,n,i,s,Z(1))),sn(Vt(t,n,i,s,Z(2))))}).setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]}),e_=K0([RO,CO,PO,BO]),Za=se(([r,e,t,n])=>{const i=j(n).toVar(),s=j(t).toVar(),o=Z(e).toVar(),u=re(r).toVar(),h=j(0).toVar(),d=j(1).toVar();return Ot(o,()=>{h.addAssign(d.mul(el(u))),d.mulAssign(i),u.mulAssign(s)}),h}).setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),t_=se(([r,e,t,n])=>{const i=j(n).toVar(),s=j(t).toVar(),o=Z(e).toVar(),u=re(r).toVar(),h=re(0).toVar(),d=j(1).toVar();return Ot(o,()=>{h.addAssign(d.mul(tl(u))),d.mulAssign(i),u.mulAssign(s)}),h}).setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),DO=se(([r,e,t,n])=>{const i=j(n).toVar(),s=j(t).toVar(),o=Z(e).toVar(),u=re(r).toVar();return xe(Za(u,o,s,i),Za(u.add(re(Z(19),Z(193),Z(17))),o,s,i))}).setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),FO=se(([r,e,t,n])=>{const i=j(n).toVar(),s=j(t).toVar(),o=Z(e).toVar(),u=re(r).toVar(),h=re(t_(u,o,s,i)).toVar(),d=j(Za(u.add(re(Z(19),Z(193),Z(17))),o,s,i)).toVar();return Ve(h,d)}).setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),LO=se(([r,e,t,n,i,s,o])=>{const u=Z(o).toVar(),h=j(s).toVar(),d=Z(i).toVar(),m=Z(n).toVar(),y=Z(t).toVar(),x=Z(e).toVar(),b=xe(r).toVar(),w=re(e_(xe(x.add(m),y.add(d)))).toVar(),S=xe(w.x,w.y).toVar();S.subAssign(.5),S.mulAssign(h),S.addAssign(.5);const N=xe(xe(j(x),j(y)).add(S)).toVar(),C=xe(N.sub(b)).toVar();return lt(u.equal(Z(2)),()=>Zt(C.x).add(Zt(C.y))),lt(u.equal(Z(3)),()=>h0(Zt(C.x),Zt(C.y))),Si(C,C)}).setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),qO=se(([r,e,t,n,i,s,o,u,h])=>{const d=Z(h).toVar(),m=j(u).toVar(),y=Z(o).toVar(),x=Z(s).toVar(),b=Z(i).toVar(),w=Z(n).toVar(),S=Z(t).toVar(),N=Z(e).toVar(),C=re(r).toVar(),P=re(e_(re(N.add(b),S.add(x),w.add(y)))).toVar();P.subAssign(.5),P.mulAssign(m),P.addAssign(.5);const B=re(re(j(N),j(S),j(w)).add(P)).toVar(),q=re(B.sub(C)).toVar();return lt(d.equal(Z(2)),()=>Zt(q.x).add(Zt(q.y)).add(Zt(q.z))),lt(d.equal(Z(3)),()=>h0(Zt(q.x),Zt(q.y),Zt(q.z))),Si(q,q)}).setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Ls=K0([LO,qO]),IO=se(([r,e,t])=>{const n=Z(t).toVar(),i=j(e).toVar(),s=xe(r).toVar(),o=Z().toVar(),u=Z().toVar(),h=xe(s0(s.x,o),s0(s.y,u)).toVar(),d=j(1e6).toVar();return Ot({start:-1,end:Z(1),name:"x",condition:"<="},({x:m})=>{Ot({start:-1,end:Z(1),name:"y",condition:"<="},({y})=>{const x=j(Ls(h,m,y,o,u,i,n)).toVar();d.assign(Mn(d,x))})}),lt(n.equal(Z(0)),()=>{d.assign(p1(d))}),d}).setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),OO=se(([r,e,t])=>{const n=Z(t).toVar(),i=j(e).toVar(),s=xe(r).toVar(),o=Z().toVar(),u=Z().toVar(),h=xe(s0(s.x,o),s0(s.y,u)).toVar(),d=xe(1e6,1e6).toVar();return Ot({start:-1,end:Z(1),name:"x",condition:"<="},({x:m})=>{Ot({start:-1,end:Z(1),name:"y",condition:"<="},({y})=>{const x=j(Ls(h,m,y,o,u,i,n)).toVar();lt(x.lessThan(d.x),()=>{d.y.assign(d.x),d.x.assign(x)}).ElseIf(x.lessThan(d.y),()=>{d.y.assign(x)})})}),lt(n.equal(Z(0)),()=>{d.assign(p1(d))}),d}).setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),kO=se(([r,e,t])=>{const n=Z(t).toVar(),i=j(e).toVar(),s=xe(r).toVar(),o=Z().toVar(),u=Z().toVar(),h=xe(s0(s.x,o),s0(s.y,u)).toVar(),d=re(1e6,1e6,1e6).toVar();return Ot({start:-1,end:Z(1),name:"x",condition:"<="},({x:m})=>{Ot({start:-1,end:Z(1),name:"y",condition:"<="},({y})=>{const x=j(Ls(h,m,y,o,u,i,n)).toVar();lt(x.lessThan(d.x),()=>{d.z.assign(d.y),d.y.assign(d.x),d.x.assign(x)}).ElseIf(x.lessThan(d.y),()=>{d.z.assign(d.y),d.y.assign(x)}).ElseIf(x.lessThan(d.z),()=>{d.z.assign(x)})})}),lt(n.equal(Z(0)),()=>{d.assign(p1(d))}),d}).setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),UO=se(([r,e,t])=>{const n=Z(t).toVar(),i=j(e).toVar(),s=re(r).toVar(),o=Z().toVar(),u=Z().toVar(),h=Z().toVar(),d=re(s0(s.x,o),s0(s.y,u),s0(s.z,h)).toVar(),m=j(1e6).toVar();return Ot({start:-1,end:Z(1),name:"x",condition:"<="},({x:y})=>{Ot({start:-1,end:Z(1),name:"y",condition:"<="},({y:x})=>{Ot({start:-1,end:Z(1),name:"z",condition:"<="},({z:b})=>{const w=j(Ls(d,y,x,b,o,u,h,i,n)).toVar();m.assign(Mn(m,w))})})}),lt(n.equal(Z(0)),()=>{m.assign(p1(m))}),m}).setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),GO=K0([IO,UO]),VO=se(([r,e,t])=>{const n=Z(t).toVar(),i=j(e).toVar(),s=re(r).toVar(),o=Z().toVar(),u=Z().toVar(),h=Z().toVar(),d=re(s0(s.x,o),s0(s.y,u),s0(s.z,h)).toVar(),m=xe(1e6,1e6).toVar();return Ot({start:-1,end:Z(1),name:"x",condition:"<="},({x:y})=>{Ot({start:-1,end:Z(1),name:"y",condition:"<="},({y:x})=>{Ot({start:-1,end:Z(1),name:"z",condition:"<="},({z:b})=>{const w=j(Ls(d,y,x,b,o,u,h,i,n)).toVar();lt(w.lessThan(m.x),()=>{m.y.assign(m.x),m.x.assign(w)}).ElseIf(w.lessThan(m.y),()=>{m.y.assign(w)})})})}),lt(n.equal(Z(0)),()=>{m.assign(p1(m))}),m}).setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),zO=K0([OO,VO]),HO=se(([r,e,t])=>{const n=Z(t).toVar(),i=j(e).toVar(),s=re(r).toVar(),o=Z().toVar(),u=Z().toVar(),h=Z().toVar(),d=re(s0(s.x,o),s0(s.y,u),s0(s.z,h)).toVar(),m=re(1e6,1e6,1e6).toVar();return Ot({start:-1,end:Z(1),name:"x",condition:"<="},({x:y})=>{Ot({start:-1,end:Z(1),name:"y",condition:"<="},({y:x})=>{Ot({start:-1,end:Z(1),name:"z",condition:"<="},({z:b})=>{const w=j(Ls(d,y,x,b,o,u,h,i,n)).toVar();lt(w.lessThan(m.x),()=>{m.z.assign(m.y),m.y.assign(m.x),m.x.assign(w)}).ElseIf(w.lessThan(m.y),()=>{m.z.assign(m.y),m.y.assign(w)}).ElseIf(w.lessThan(m.z),()=>{m.z.assign(w)})})})}),lt(n.equal(Z(0)),()=>{m.assign(p1(m))}),m}).setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),jO=K0([kO,HO]),$O=se(([r])=>{const e=r.y,t=r.z,n=re().toVar();return lt(e.lessThan(1e-4),()=>{n.assign(re(t,t,t))}).Else(()=>{let i=r.x;i=i.sub(r1(i)).mul(6).toVar();const s=Z(uA(i)),o=i.sub(j(s)),u=t.mul(e.oneMinus()),h=t.mul(e.mul(o).oneMinus()),d=t.mul(e.mul(o.oneMinus()).oneMinus());lt(s.equal(Z(0)),()=>{n.assign(re(t,d,u))}).ElseIf(s.equal(Z(1)),()=>{n.assign(re(h,t,u))}).ElseIf(s.equal(Z(2)),()=>{n.assign(re(u,t,d))}).ElseIf(s.equal(Z(3)),()=>{n.assign(re(u,h,t))}).ElseIf(s.equal(Z(4)),()=>{n.assign(re(d,u,t))}).Else(()=>{n.assign(re(t,u,h))})}),n}).setLayout({name:"mx_hsvtorgb",type:"vec3",inputs:[{name:"hsv",type:"vec3"}]}),WO=se(([r])=>{const e=re(r).toVar(),t=j(e.x).toVar(),n=j(e.y).toVar(),i=j(e.z).toVar(),s=j(Mn(t,Mn(n,i))).toVar(),o=j(h0(t,h0(n,i))).toVar(),u=j(o.sub(s)).toVar(),h=j().toVar(),d=j().toVar(),m=j().toVar();return m.assign(o),lt(o.greaterThan(0),()=>{d.assign(u.div(o))}).Else(()=>{d.assign(0)}),lt(d.lessThanEqual(0),()=>{h.assign(0)}).Else(()=>{lt(t.greaterThanEqual(o),()=>{h.assign(n.sub(i).div(u))}).ElseIf(n.greaterThanEqual(o),()=>{h.assign(T0(2,i.sub(t).div(u)))}).Else(()=>{h.assign(T0(4,t.sub(n).div(u)))}),h.mulAssign(1/6),lt(h.lessThan(0),()=>{h.addAssign(1)})}),re(h,d,m)}).setLayout({name:"mx_rgbtohsv",type:"vec3",inputs:[{name:"c",type:"vec3"}]}),QO=se(([r])=>{const e=re(r).toVar(),t=Q9(rA(e,re(.04045))).toVar(),n=re(e.div(12.92)).toVar(),i=re(Rr(h0(e.add(re(.055)),re(0)).div(1.055),re(2.4))).toVar();return It(n,i,t)}).setLayout({name:"mx_srgb_texture_to_lin_rec709",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),n_=(r,e)=>{r=j(r),e=j(e);const t=xe(e.dFdx(),e.dFdy()).length().mul(.7071067811865476);return l1(r.sub(t),r.add(t),e)},r_=(r,e,t,n)=>It(r,e,t[n].clamp()),YO=(r,e,t=o0())=>r_(r,e,t,"x"),XO=(r,e,t=o0())=>r_(r,e,t,"y"),i_=(r,e,t,n,i)=>It(r,e,n_(t,n[i])),KO=(r,e,t,n=o0())=>i_(r,e,t,n,"x"),ZO=(r,e,t,n=o0())=>i_(r,e,t,n,"y"),JO=(r=1,e=0,t=o0())=>t.mul(r).add(e),ek=(r,e=1)=>(r=j(r),r.abs().pow(e).mul(r.sign())),tk=(r,e=1,t=.5)=>j(r).sub(t).mul(e).add(t),nk=(r=o0(),e=1,t=0)=>el(r.convert("vec2|vec3")).mul(e).add(t),rk=(r=o0(),e=1,t=0)=>tl(r.convert("vec2|vec3")).mul(e).add(t),ik=(r=o0(),e=1,t=0)=>(r=r.convert("vec2|vec3"),Ve(tl(r),el(r.add(xe(19,73)))).mul(e).add(t)),sk=(r=o0(),e=1)=>GO(r.convert("vec2|vec3"),e,Z(1)),ok=(r=o0(),e=1)=>zO(r.convert("vec2|vec3"),e,Z(1)),ak=(r=o0(),e=1)=>jO(r.convert("vec2|vec3"),e,Z(1)),Ak=(r=o0())=>MO(r.convert("vec2|vec3")),lk=(r=o0(),e=3,t=2,n=.5,i=1)=>Za(r,Z(e),t,n).mul(i),uk=(r=o0(),e=3,t=2,n=.5,i=1)=>DO(r,Z(e),t,n).mul(i),ck=(r=o0(),e=3,t=2,n=.5,i=1)=>t_(r,Z(e),t,n).mul(i),hk=(r=o0(),e=3,t=2,n=.5,i=1)=>FO(r,Z(e),t,n).mul(i),fk=se(([r,e,t])=>{const n=G1(r).toVar(),i=wt(j(.5).mul(e.sub(t)),F1).div(n).toVar(),s=wt(j(-.5).mul(e.sub(t)),F1).div(n).toVar(),o=re().toVar();o.x=n.x.greaterThan(j(0)).select(i.x,s.x),o.y=n.y.greaterThan(j(0)).select(i.y,s.y),o.z=n.z.greaterThan(j(0)).select(i.z,s.z);const u=Mn(o.x,o.y,o.z).toVar();return F1.add(n.mul(u)).toVar().sub(t)}),s_=se(([r,e])=>{const t=r.x,n=r.y,i=r.z;let s=e.element(0).mul(.886227);return s=s.add(e.element(1).mul(2*.511664).mul(n)),s=s.add(e.element(2).mul(2*.511664).mul(i)),s=s.add(e.element(3).mul(2*.511664).mul(t)),s=s.add(e.element(4).mul(2*.429043).mul(t).mul(n)),s=s.add(e.element(5).mul(2*.429043).mul(n).mul(i)),s=s.add(e.element(6).mul(i.mul(i).mul(.743125).sub(.247708))),s=s.add(e.element(7).mul(2*.429043).mul(t).mul(i)),s=s.add(e.element(8).mul(.429043).mul(At(t,t).sub(At(n,n)))),s});var M=Object.freeze({__proto__:null,BRDF_GGX:G7,BRDF_Lambert:d2,BasicPointShadowFilter:jv,BasicShadowFilter:Iv,Break:Ry,Const:rg,Continue:hD,DFGApprox:IA,D_GGX:jy,Discard:_g,EPSILON:Mm,F_Schlick:Ms,Fn:se,INFINITY:WP,If:lt,Loop:Ot,NodeAccess:rn,NodeShaderStage:xo,NodeType:gP,NodeUpdateType:ht,PCFShadowFilter:Ov,PCFSoftShadowFilter:kv,PI:$a,PI2:QP,PointShadowFilter:$v,Return:uB,Schlick_to_F0:Wy,ScriptableNodeResources:J3,ShaderNode:as,Stack:h5,Switch:IP,TBNViewMatrix:Ji,VSMShadowFilter:Uv,V_GGX_SmithCorrelated:Hy,Var:ng,abs:Zt,acesFilmicToneMapping:Mv,acos:oA,add:T0,addMethodChaining:me,addNodeElement:fB,agxToneMapping:Rv,all:Rm,alphaT:za,and:hm,anisotropy:Ai,anisotropyB:s2,anisotropyT:Bo,any:Cm,append:GP,array:sm,arrayBuffer:kP,asin:Fm,assign:om,atan:aA,atan2:Zm,atomicAdd:SI,atomicAnd:RI,atomicFunc:m1,atomicLoad:TI,atomicMax:NI,atomicMin:MI,atomicOr:CI,atomicStore:wI,atomicSub:EI,atomicXor:PI,attenuationColor:J9,attenuationDistance:Z9,attribute:z1,attributeArray:pq,backgroundBlurriness:pv,backgroundIntensity:W7,backgroundRotation:mv,batch:Ey,billboarding:ZL,bitAnd:mm,bitNot:gm,bitOr:ym,bitXor:vm,bitangentGeometry:zB,bitangentLocal:HB,bitangentView:Ug,bitangentWorld:jB,bitcast:YP,blendBurn:_v,blendColor:Nq,blendDodge:xv,blendOverlay:Tv,blendScreen:bv,blur:ev,bool:a1,buffer:y4,bufferAttribute:g4,bumpMap:Hg,burn:Cq,bvec2:Yp,bvec3:Q9,bvec4:Jp,bypass:mg,cache:Fo,call:am,cameraFar:ci,cameraIndex:T5,cameraNear:ui,cameraNormalMatrix:SB,cameraPosition:Eg,cameraProjectionMatrix:y2,cameraProjectionMatrixInverse:TB,cameraViewMatrix:Cn,cameraWorldMatrix:wB,cbrt:Qm,cdl:Oq,ceil:y5,checker:JI,cineonToneMapping:Nv,clamp:A1,clearcoat:Va,clearcoatRoughness:i4,code:D5,color:Wp,colorSpaceToWorking:b5,colorToDirection:UD,compute:dg,computeSkinning:uD,cond:Jm,context:x5,convert:tm,convertColorSpace:tB,convertToTexture:cq,cos:S1,cross:_5,cubeTexture:Ns,cubeTextureBase:wA,cubeToUV:Tr,dFdx:AA,dFdy:lA,dashSize:j3,debug:bg,decrement:Sm,decrementBefore:Tm,defaultBuildStages:R7,defaultShaderStages:Gp,defined:e4,degrees:Bm,deltaTime:hv,densityFog:oI,densityFogFactor:jA,depth:DA,depthPass:zq,difference:Hm,diffuseColor:Bt,directPointLight:Qv,directionToColor:Iy,dispersion:eA,distance:zm,div:hr,dodge:Pq,dot:Si,drawIndex:Ty,dynamicBufferAttribute:fg,element:em,emissive:D7,equal:nA,equals:Gm,equirectUV:FA,exp:iA,exp2:Es,expression:V1,faceDirection:x4,faceForward:pA,faceforward:XP,float:j,floor:r1,fog:A4,fract:j1,frameGroup:im,frameId:VL,frontFacing:Cg,fwidth:km,gain:LL,gapSize:F7,getConstNodeType:$p,getCurrentStack:W9,getDirection:Zy,getDistanceAttenuation:JA,getGeometryRoughness:zy,getNormalFromDepth:fq,getParallaxCorrectNormal:fk,getRoughness:qA,getScreenPosition:hq,getShIrradianceAt:s_,getShadowMaterial:Gv,getShadowRenderObjectFunction:Vv,getTextureIndex:uv,getViewPosition:J2,globalId:hI,glsl:Zq,glslFn:Jq,grayscale:Fq,greaterThan:rA,greaterThanEqual:cm,hash:FL,highpModelNormalViewMatrix:I7,highpModelViewMatrix:q7,hue:Iq,increment:wm,incrementBefore:bm,instance:rD,instanceIndex:_i,instancedArray:mq,instancedBufferAttribute:Wa,instancedDynamicBufferAttribute:L7,instancedMesh:Sy,int:Z,inverseSqrt:sA,inversesqrt:KP,invocationLocalIndex:nD,invocationSubgroupIndex:tD,ior:Do,iridescence:p5,iridescenceIOR:Y9,iridescenceThickness:X9,ivec2:P0,ivec3:Xp,ivec4:Kp,js:Xq,label:tg,length:i1,lengthSq:hA,lessThan:lm,lessThanEqual:um,lightPosition:QA,lightProjectionUV:Lv,lightShadowMatrix:WA,lightTargetDirection:XA,lightTargetPosition:qv,lightViewPosition:YA,lightingContext:Py,lights:FI,linearDepth:Ya,linearToneMapping:Sv,localId:fI,log:g5,log2:n1,logarithmicDepthToViewZ:ED,loop:fD,luminance:zA,mat2:f5,mat3:on,mat4:i2,matcapUV:rv,materialAO:xy,materialAlphaTest:jg,materialAnisotropy:oy,materialAnisotropyVector:Z2,materialAttenuationColor:dy,materialAttenuationDistance:fy,materialClearcoat:ey,materialClearcoatNormal:ny,materialClearcoatRoughness:ty,materialColor:$g,materialDispersion:_y,materialEmissive:Qg,materialEnvIntensity:Q3,materialEnvRotation:TA,materialIOR:hy,materialIridescence:ay,materialIridescenceIOR:Ay,materialIridescenceThickness:ly,materialLightMap:NA,materialLineDashOffset:yy,materialLineDashSize:my,materialLineGapSize:gy,materialLineScale:py,materialLineWidth:JB,materialMetalness:Zg,materialNormal:Jg,materialOpacity:EA,materialPointSize:vy,materialReference:R1,materialReflectivity:Y3,materialRefractionRatio:Dg,materialRotation:ry,materialRoughness:Kg,materialSheen:iy,materialSheenRoughness:sy,materialShininess:Wg,materialSpecular:Yg,materialSpecularColor:Xg,materialSpecularIntensity:U7,materialSpecularStrength:Lo,materialThickness:cy,materialTransmission:uy,max:h0,maxMipLevel:wg,mediumpModelViewMatrix:Rg,metalness:r4,min:Mn,mix:It,mixElement:Xm,mod:m4,modInt:Nm,modelDirection:PB,modelNormalMatrix:Mg,modelPosition:BB,modelRadius:LB,modelScale:DB,modelViewMatrix:v2,modelViewPosition:FB,modelViewProjection:MA,modelWorldMatrix:Ar,modelWorldMatrixInverse:qB,morphReference:Cy,mrt:cv,mul:At,mx_aastep:n_,mx_cell_noise_float:Ak,mx_contrast:tk,mx_fractal_noise_float:lk,mx_fractal_noise_vec2:uk,mx_fractal_noise_vec3:ck,mx_fractal_noise_vec4:hk,mx_hsvtorgb:$O,mx_noise_float:nk,mx_noise_vec3:rk,mx_noise_vec4:ik,mx_ramplr:YO,mx_ramptb:XO,mx_rgbtohsv:WO,mx_safepower:ek,mx_splitlr:KO,mx_splittb:ZO,mx_srgb_texture_to_lin_rec709:QO,mx_transform_uv:JO,mx_worley_noise_float:sk,mx_worley_noise_vec2:ok,mx_worley_noise_vec3:ak,namespace:pg,negate:Lm,neutralToneMapping:Cv,nodeArray:r2,nodeImmutable:Pe,nodeObject:ge,nodeObjects:d4,nodeProxy:_e,normalFlat:Pg,normalGeometry:w5,normalLocal:Rn,normalMap:k7,normalView:Lr,normalWorld:b4,normalize:G1,not:dm,notEqual:Am,numWorkgroups:uI,objectDirection:EB,objectGroup:tA,objectPosition:Ng,objectRadius:CB,objectScale:MB,objectViewPosition:RB,objectWorldMatrix:NB,oneMinus:qm,or:fm,orthographicDepthToViewZ:SD,oscSawtooth:YL,oscSine:$L,oscSquare:WL,oscTriangle:QL,output:ms,outputStruct:BL,overlay:Dq,overloadingFn:K0,parabola:$7,parallaxDirection:Vg,parallaxUV:WB,parameter:EL,pass:Gq,passTexture:Vq,pcurve:qL,perspectiveDepthToViewZ:PA,pmremTexture:UA,pointShadow:Wv,pointUV:yq,pointWidth:zP,positionGeometry:_4,positionLocal:g0,positionPrevious:Qa,positionView:x0,positionViewDirection:n0,positionWorld:F1,positionWorldDirection:xA,posterize:Uq,pow:Rr,pow2:cA,pow3:jm,pow4:$m,premult:Mq,property:Ds,radians:Pm,rand:Ym,range:AI,rangeFog:sI,rangeFogFactor:HA,reciprocal:Om,reference:Qt,referenceBuffer:O7,reflect:Vm,reflectVector:qg,reflectView:Fg,reflector:oq,refract:dA,refractVector:Ig,refractView:Lg,reinhardToneMapping:Ev,remainder:Em,remap:yg,remapClamp:vg,renderGroup:He,renderOutput:xg,rendererReference:ug,rotate:P5,rotateUV:XL,roughness:Zr,round:Im,rtt:dv,sRGBTransferEOTF:og,sRGBTransferOETF:ag,sampler:yB,samplerComparison:vB,saturate:fA,saturation:Lq,screen:Bq,screenCoordinate:E4,screenSize:a4,screenUV:Dr,scriptable:iI,scriptableValue:Z3,select:B0,setCurrentStack:t4,shaderStages:C7,shadow:Hv,shadowPositionWorld:ZA,shapeCircle:eO,sharedUniformGroup:m5,sheen:Zi,sheenRoughness:d5,shiftLeft:_m,shiftRight:xm,shininess:Ha,sign:o4,sin:kn,sinc:IL,skinning:My,smoothstep:l1,smoothstepElement:Km,specularColor:vn,specularF90:s4,spherizeUV:KL,split:UP,spritesheetUV:tq,sqrt:p1,stack:X3,step:v5,storage:o2,storageBarrier:gI,storageObject:lD,storageTexture:gv,string:OP,struct:PL,sub:wt,subgroupIndex:eD,subgroupSize:dI,tan:Dm,tangentGeometry:N5,tangentLocal:T4,tangentView:w4,tangentWorld:kg,temp:ig,texture:xt,texture3D:yv,textureBarrier:yI,textureBicubic:Xy,textureCubeUV:Jy,textureLoad:d0,textureSize:vi,textureStore:_q,thickness:K9,time:_2,timerDelta:jL,timerGlobal:HL,timerLocal:zL,toneMapping:cg,toneMappingExposure:hg,toonOutlinePass:jq,transformDirection:Wm,transformNormal:Bg,transformNormalToView:bA,transformedBentNormalView:zg,transformedBitangentView:Gg,transformedBitangentWorld:$B,transformedClearcoatNormalView:As,transformedNormalView:m0,transformedNormalWorld:S5,transformedTangentView:SA,transformedTangentWorld:VB,transmission:ja,transpose:Um,triNoise3D:kL,triplanarTexture:rq,triplanarTextures:fv,trunc:uA,tslFn:VP,uint:Fe,uniform:ze,uniformArray:ar,uniformCubeTexture:kB,uniformGroup:rm,uniformTexture:gB,uniforms:xB,unpremult:Rq,userData:wq,uv:o0,uvec2:Qp,uvec3:Bs,uvec4:Zp,varying:zn,varyingProperty:n4,vec2:xe,vec3:re,vec4:Ve,vectorComponents:m2,velocity:Eq,vertexColor:qy,vertexIndex:by,vertexStage:sg,vibrance:qq,viewZToLogarithmicDepth:BA,viewZToOrthographicDepth:ys,viewZToPerspectiveDepth:Fy,viewport:gs,viewportBottomLeft:bD,viewportCoordinate:Dy,viewportDepthTexture:CA,viewportLinearDepth:ND,viewportMipTexture:RA,viewportResolution:_D,viewportSafeUV:JL,viewportSharedTexture:kD,viewportSize:By,viewportTexture:TD,viewportTopLeft:xD,viewportUV:vD,wgsl:Kq,wgslFn:eI,workgroupArray:xI,workgroupBarrier:mI,workgroupId:cI,workingToColorSpace:Ag,xor:pm});const yr=new GA;class dk extends Ei{constructor(e,t){super(),this.renderer=e,this.nodes=t}update(e,t,n){const i=this.renderer,s=this.nodes.getBackgroundNode(e)||e.background;let o=!1;if(s===null)i._clearColor.getRGB(yr),yr.a=i._clearColor.a;else if(s.isColor===!0)s.getRGB(yr),yr.a=1,o=!0;else if(s.isNode===!0){const h=this.get(e),d=s;yr.copy(i._clearColor);let m=h.backgroundMesh;if(m===void 0){let S=function(){s.removeEventListener("dispose",S),m.material.dispose(),m.geometry.dispose()};const x=x5(Ve(d).mul(W7),{getUV:()=>mv.mul(b4),getTextureLevel:()=>pv});let b=MA;b=b.setZ(b.w);const w=new v0;w.name="Background.material",w.side=En,w.depthTest=!1,w.depthWrite=!1,w.allowOverride=!1,w.fog=!1,w.lights=!1,w.vertexNode=b,w.colorNode=x,h.backgroundMeshNode=x,h.backgroundMesh=m=new y0(new p2(1,32,32),w),m.frustumCulled=!1,m.name="Background.mesh",m.onBeforeRender=function(N,C,P){this.matrixWorld.copyPosition(P.matrixWorld)},s.addEventListener("dispose",S)}const y=d.getCacheKey();h.backgroundCacheKey!==y&&(h.backgroundMeshNode.node=Ve(d).mul(W7),h.backgroundMeshNode.needsUpdate=!0,m.material.needsUpdate=!0,h.backgroundCacheKey=y),t.unshift(m,m.geometry,m.material,0,0,null,null)}else console.error("THREE.Renderer: Unsupported background configuration.",s);const u=i.xr.getEnvironmentBlendMode();if(u==="additive"?yr.set(0,0,0,1):u==="alpha-blend"&&yr.set(0,0,0,0),i.autoClear===!0||o===!0){const h=n.clearColorValue;h.r=yr.r,h.g=yr.g,h.b=yr.b,h.a=yr.a,(i.backend.isWebGLBackend===!0||i.alpha===!0)&&(h.r*=h.a,h.g*=h.a,h.b*=h.a),n.depthClearValue=i._clearDepth,n.stencilClearValue=i._clearStencil,n.clearColor=i.autoClearColor===!0,n.clearDepth=i.autoClearDepth===!0,n.clearStencil=i.autoClearStencil===!0}else n.clearColor=!1,n.clearDepth=!1,n.clearStencil=!1}}let pk=0;class Q7{constructor(e="",t=[],n=0,i=[]){this.name=e,this.bindings=t,this.index=n,this.bindingsReference=i,this.id=pk++}}class mk{constructor(e,t,n,i,s,o,u,h,d,m=[]){this.vertexShader=e,this.fragmentShader=t,this.computeShader=n,this.transforms=m,this.nodeAttributes=i,this.bindings=s,this.updateNodes=o,this.updateBeforeNodes=u,this.updateAfterNodes=h,this.observer=d,this.usedTimes=0}createBindings(){const e=[];for(const t of this.bindings)if(t.bindings[0].groupNode.shared!==!0){const i=new Q7(t.name,[],t.index,t);e.push(i);for(const s of t.bindings)i.bindings.push(s.clone())}else e.push(t);return e}}class Bh{constructor(e,t,n=null){this.isNodeAttribute=!0,this.name=e,this.type=t,this.node=n}}class gk{constructor(e,t,n){this.isNodeUniform=!0,this.name=e,this.type=t,this.node=n.getSelf()}get value(){return this.node.value}set value(e){this.node.value=e}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class o_{constructor(e,t,n=!1,i=null){this.isNodeVar=!0,this.name=e,this.type=t,this.readOnly=n,this.count=i}}class yk extends o_{constructor(e,t,n=null,i=null){super(e,t),this.needsInterpolation=!1,this.isNodeVarying=!0,this.interpolationType=n,this.interpolationSampling=i}}class vk{constructor(e,t,n=""){this.name=e,this.type=t,this.code=n,Object.defineProperty(this,"isNodeCode",{value:!0})}}let _k=0;class i6{constructor(e=null){this.id=_k++,this.nodesData=new WeakMap,this.parent=e}getData(e){let t=this.nodesData.get(e);return t===void 0&&this.parent!==null&&(t=this.parent.getData(e)),t}setData(e,t){this.nodesData.set(e,t)}}class xk{constructor(e,t){this.name=e,this.members=t,this.output=!1}}class Ni{constructor(e,t){this.name=e,this.value=t,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class bk extends Ni{constructor(e,t=0){super(e,t),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class Tk extends Ni{constructor(e,t=new qt){super(e,t),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class wk extends Ni{constructor(e,t=new Ce){super(e,t),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class Sk extends Ni{constructor(e,t=new jt){super(e,t),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class Ek extends Ni{constructor(e,t=new D0){super(e,t),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class Nk extends Ni{constructor(e,t=new ad){super(e,t),this.isMatrix2Uniform=!0,this.boundary=8,this.itemSize=4}}class Mk extends Ni{constructor(e,t=new u4){super(e,t),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class Rk extends Ni{constructor(e,t=new u0){super(e,t),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class Ck extends bk{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Pk extends Tk{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Bk extends wk{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Dk extends Sk{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Fk extends Ek{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Lk extends Nk{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class qk extends Mk{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class Ik extends Rk{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}const Dh=new WeakMap,Ok=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),p3=r=>/e/g.test(r)?String(r).replace(/\+/g,""):(r=Number(r),r+(r%1?"":".0"));class a_{constructor(e,t,n){this.object=e,this.material=e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=t,this.parser=n,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.observer=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.declarations={},this.flow={code:""},this.chaining=[],this.stack=X3(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new i6,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null}getBindGroupsCache(){let e=Dh.get(this.renderer);return e===void 0&&(e=new qr,Dh.set(this.renderer,e)),e}createRenderTarget(e,t,n){return new wi(e,t,n)}createCubeRenderTarget(e,t){return new Oy(e,t)}includes(e){return this.nodes.includes(e)}getOutputStructName(){}_getBindGroup(e,t){const n=this.getBindGroupsCache(),i=[];let s=!0;for(const u of t)i.push(u),s=s&&u.groupNode.shared!==!0;let o;return s?(o=n.get(i),o===void 0&&(o=new Q7(e,i,this.bindingsIndexes[e].group,i),n.set(i,o))):o=new Q7(e,i,this.bindingsIndexes[e].group,i),o}getBindGroupArray(e,t){const n=this.bindings[t];let i=n[e];return i===void 0&&(this.bindingsIndexes[e]===void 0&&(this.bindingsIndexes[e]={binding:0,group:Object.keys(this.bindingsIndexes).length}),n[e]=i=[]),i}getBindings(){let e=this.bindGroups;if(e===null){const t={},n=this.bindings;for(const i of C7)for(const s in n[i]){const o=n[i][s];(t[s]||(t[s]=[])).push(...o)}e=[];for(const i in t){const s=t[i],o=this._getBindGroup(i,s);e.push(o)}this.bindGroups=e}return e}sortBindingGroups(){const e=this.getBindings();e.sort((t,n)=>t.bindings[0].groupNode.order-n.bindings[0].groupNode.order);for(let t=0;t<e.length;t++){const n=e[t];this.bindingsIndexes[n.name].group=t,n.index=t}}setHashNode(e,t){this.hashNodes[t]=e}addNode(e){this.nodes.includes(e)===!1&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}addSequentialNode(e){this.sequentialNodes.includes(e)===!1&&this.sequentialNodes.push(e)}buildUpdateNodes(){for(const e of this.nodes)e.getUpdateType()!==ht.NONE&&this.updateNodes.push(e.getSelf());for(const e of this.sequentialNodes){const t=e.getUpdateBeforeType(),n=e.getUpdateAfterType();t!==ht.NONE&&this.updateBeforeNodes.push(e.getSelf()),n!==ht.NONE&&this.updateAfterNodes.push(e.getSelf())}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(e){return e.magFilter===L1||e.magFilter===N6||e.magFilter===Uo||e.magFilter===t2||e.minFilter===L1||e.minFilter===N6||e.minFilter===Uo||e.minFilter===t2}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,t){return this.flowNodes[e].push(t),t}setContext(e){this.context=e}getContext(){return this.context}getSharedContext(){return{...this.context},this.context}setCache(e){this.cache=e}getCache(){return this.cache}getCacheFromNode(e,t=!0){const n=this.getDataFromNode(e);return n.cache===void 0&&(n.cache=new i6(t?this.getCache():null)),n.cache}isAvailable(){return!1}getVertexIndex(){console.warn("Abstract function.")}getInstanceIndex(){console.warn("Abstract function.")}getDrawIndex(){console.warn("Abstract function.")}getFrontFacing(){console.warn("Abstract function.")}getFragCoord(){console.warn("Abstract function.")}isFlipY(){return!1}increaseUsage(e){const t=this.getDataFromNode(e);return t.usageCount=t.usageCount===void 0?1:t.usageCount+1,t.usageCount}generateTexture(){console.warn("Abstract function.")}generateTextureLod(){console.warn("Abstract function.")}generateArrayDeclaration(e,t){return this.getType(e)+"[ "+t+" ]"}generateArray(e,t,n=null){let i=this.generateArrayDeclaration(e,t)+"( ";for(let s=0;s<t;s++){const o=n?n[s]:null;o!==null?i+=o.build(this,e):i+=this.generateConst(e),s<t-1&&(i+=", ")}return i+=" )",i}generateStruct(e,t,n=null){const i=[];for(const s of t){const{name:o,type:u}=s;n&&n[o]&&n[o].isNode?i.push(n[o].build(this,u)):i.push(this.generateConst(u))}return e+"( "+i.join(", ")+" )"}generateConst(e,t=null){if(t===null&&(e==="float"||e==="int"||e==="uint"?t=0:e==="bool"?t=!1:e==="color"?t=new D0:e==="vec2"?t=new qt:e==="vec3"?t=new Ce:e==="vec4"&&(t=new jt)),e==="float")return p3(t);if(e==="int")return`${Math.round(t)}`;if(e==="uint")return t>=0?`${Math.round(t)}u`:"0u";if(e==="bool")return t?"true":"false";if(e==="color")return`${this.getType("vec3")}( ${p3(t.r)}, ${p3(t.g)}, ${p3(t.b)} )`;const n=this.getTypeLength(e),i=this.getComponentType(e),s=o=>this.generateConst(i,o);if(n===2)return`${this.getType(e)}( ${s(t.x)}, ${s(t.y)} )`;if(n===3)return`${this.getType(e)}( ${s(t.x)}, ${s(t.y)}, ${s(t.z)} )`;if(n===4&&e!=="mat2")return`${this.getType(e)}( ${s(t.x)}, ${s(t.y)}, ${s(t.z)}, ${s(t.w)} )`;if(n>=4&&t&&(t.isMatrix2||t.isMatrix3||t.isMatrix4))return`${this.getType(e)}( ${t.elements.map(s).join(", ")} )`;if(n>4)return`${this.getType(e)}()`;throw new Error(`NodeBuilder: Type '${e}' not found in generate constant attempt.`)}getType(e){return e==="color"?"vec3":e}hasGeometryAttribute(e){return this.geometry&&this.geometry.getAttribute(e)!==void 0}getAttribute(e,t){const n=this.attributes;for(const s of n)if(s.name===e)return s;const i=new Bh(e,t);return this.registerDeclaration(i),n.push(i),i}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return e==="void"||e==="property"||e==="sampler"||e==="samplerComparison"||e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="depthTexture"||e==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(e){const t=e.type;if(e.isDataTexture){if(t===hn)return"int";if(t===M0)return"uint"}return"float"}getElementType(e){return e==="mat2"?"vec2":e==="mat3"?"vec3":e==="mat4"?"vec4":this.getComponentType(e)}getComponentType(e){if(e=this.getVectorType(e),e==="float"||e==="bool"||e==="int"||e==="uint")return e;const t=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return t===null?null:t[1]==="b"?"bool":t[1]==="i"?"int":t[1]==="u"?"uint":"float"}getVectorType(e){return e==="color"?"vec3":e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="texture3D"?"vec4":e}getTypeFromLength(e,t="float"){if(e===1)return t;let n=Lp(e);const i=t==="float"?"":t[0];return/mat2/.test(t)===!0&&(n=n.replace("vec","mat")),i+n}getTypeFromArray(e){return Ok.get(e.constructor)}isInteger(e){return/int|uint|(i|u)vec/.test(e)}getTypeFromAttribute(e){let t=e;e.isInterleavedBufferAttribute&&(t=e.data);const n=t.array,i=e.itemSize,s=e.normalized;let o;return!(e instanceof Ad)&&s!==!0&&(o=this.getTypeFromArray(n)),this.getTypeFromLength(i,o)}getTypeLength(e){const t=this.getVectorType(e),n=/vec([2-4])/.exec(t);return n!==null?Number(n[1]):t==="float"||t==="bool"||t==="int"||t==="uint"?1:/mat2/.test(e)===!0?4:/mat3/.test(e)===!0?9:/mat4/.test(e)===!0?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,t){return this.getTypeFromLength(this.getTypeLength(e),t)}getIntegerType(e){const t=this.getComponentType(e);return t==="int"||t==="uint"?e:this.changeComponentType(e,"int")}addStack(){return this.stack=X3(this.stack),this.stacks.push(W9()||this.stack),t4(this.stack),this.stack}removeStack(){const e=this.stack;return this.stack=e.parent,t4(this.stacks.pop()),e}getDataFromNode(e,t=this.shaderStage,n=null){n=n===null?e.isGlobal(this)?this.globalCache:this.cache:n;let i=n.getData(e);return i===void 0&&(i={},n.setData(e,i)),i[t]===void 0&&(i[t]={}),i[t]}getNodeProperties(e,t="any"){const n=this.getDataFromNode(e,t);return n.properties||(n.properties={outputNode:null})}getBufferAttributeFromNode(e,t){const n=this.getDataFromNode(e);let i=n.bufferAttribute;if(i===void 0){const s=this.uniforms.index++;i=new Bh("nodeAttribute"+s,t,e),this.bufferAttributes.push(i),n.bufferAttribute=i}return i}getStructTypeFromNode(e,t,n=null,i=this.shaderStage){const s=this.getDataFromNode(e,i,this.globalCache);let o=s.structType;if(o===void 0){const u=this.structs.index++;n===null&&(n="StructType"+u),o=new xk(n,t),this.structs[i].push(o),s.structType=o}return o}getOutputStructTypeFromNode(e,t){const n=this.getStructTypeFromNode(e,t,"OutputType","fragment");return n.output=!0,n}getUniformFromNode(e,t,n=this.shaderStage,i=null){const s=this.getDataFromNode(e,n,this.globalCache);let o=s.uniform;if(o===void 0){const u=this.uniforms.index++;o=new gk(i||"nodeUniform"+u,t,e),this.uniforms[n].push(o),this.registerDeclaration(o),s.uniform=o}return o}getArrayCount(e){let t=null;return e.isArrayNode?t=e.count:e.isVarNode&&e.node.isArrayNode&&(t=e.node.count),t}getVarFromNode(e,t=null,n=e.getNodeType(this),i=this.shaderStage,s=!1){const o=this.getDataFromNode(e,i);let u=o.variable;if(u===void 0){const h=s?"_const":"_var",d=this.vars[i]||(this.vars[i]=[]),m=this.vars[h]||(this.vars[h]=0);t===null&&(t=(s?"nodeConst":"nodeVar")+m,this.vars[h]++);const y=this.getArrayCount(e);u=new o_(t,n,s,y),s||d.push(u),this.registerDeclaration(u),o.variable=u}return u}isDeterministic(e){if(e.isMathNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0)&&(e.cNode?this.isDeterministic(e.cNode):!0);if(e.isOperatorNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0);if(e.isArrayNode){if(e.values!==null){for(const t of e.values)if(!this.isDeterministic(t))return!1}return!0}else if(e.isConstNode)return!0;return!1}getVaryingFromNode(e,t=null,n=e.getNodeType(this),i=null,s=null){const o=this.getDataFromNode(e,"any");let u=o.varying;if(u===void 0){const h=this.varyings,d=h.length;t===null&&(t="nodeVarying"+d),u=new yk(t,n,i,s),h.push(u),this.registerDeclaration(u),o.varying=u}return u}get namespace(){return this.context.namespace}getOutputNamespace(){return this.getNamespace("outputNode")}getNamespace(e=""){const t=this.namespace;let n;return t?n=e?t+"_"+e:t:n=e,n}registerDeclaration(e){const t=this.shaderStage,n=this.declarations[t]||(this.declarations[t]={}),i=this.getPropertyName(e);let s=1,o=i;for(;n[o]!==void 0;)o=i+"_"+s++;s>1&&(e.name=o,console.warn(`THREE.TSL: Declaration name '${i}' of '${e.type}' already in use. Renamed to '${o}'.`)),n[o]=e}getCodeFromNode(e,t,n=this.shaderStage){const i=this.getDataFromNode(e);let s=i.code;if(s===void 0){const o=this.codes[n]||(this.codes[n]=[]),u=o.length;s=new vk("nodeCode"+u,t),o.push(s),i.code=s}return s}addFlowCodeHierarchy(e,t){const{flowCodes:n,flowCodeBlock:i}=this.getDataFromNode(e);let s=!0,o=t;for(;o;){if(i.get(o)===!0){s=!1;break}o=this.getDataFromNode(o).parentNodeBlock}if(s)for(const u of n)this.addLineFlowCode(u)}addLineFlowCodeBlock(e,t,n){const i=this.getDataFromNode(e),s=i.flowCodes||(i.flowCodes=[]),o=i.flowCodeBlock||(i.flowCodeBlock=new WeakMap);s.push(t),o.set(n,!0)}addLineFlowCode(e,t=null){return e===""?this:(t!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(t,e,this.context.nodeBlock),e=this.tab+e,/;\s*$/.test(e)||(e=e+`;
`),this.flow.code+=e,this)}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const t=e.getNodeType(this),n=this.flowChildNode(e,t);return this.flowsData.set(e,n),n}addInclude(e){this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(e)}buildFunctionNode(e){const t=new Pv,n=this.currentFunctionNode;return this.currentFunctionNode=t,t.code=this.buildFunctionCode(e),this.currentFunctionNode=n,t}flowShaderNode(e){const t=e.layout,n={[Symbol.iterator](){let o=0;const u=Object.values(this);return{next:()=>({value:u[o],done:o++>=u.length})}}};for(const o of t.inputs)n[o.name]=new Av(o.type,o.name);e.layout=null;const i=e.call(n),s=this.flowStagesNode(i,t.type);return e.layout=t,s}flowStagesNode(e,t=null){const n=this.flow,i=this.vars,s=this.declarations,o=this.cache,u=this.buildStage,h=this.stack,d={code:""};this.flow=d,this.vars={},this.declarations={},this.cache=new i6,this.stack=X3();for(const m of R7)this.setBuildStage(m),d.result=e.build(this,t);return d.vars=this.getVars(this.shaderStage),this.flow=n,this.vars=i,this.declarations=s,this.cache=o,this.stack=h,this.setBuildStage(u),d}getFunctionOperator(){return null}buildFunctionCode(){console.warn("Abstract function.")}flowChildNode(e,t=null){const n=this.flow,i={code:""};return this.flow=i,i.result=e.build(this,t),this.flow=n,i}flowNodeFromShaderStage(e,t,n=null,i=null){const s=this.tab,o=this.cache,u=this.shaderStage,h=this.context;this.setShaderStage(e);const d={...this.context};delete d.nodeBlock,this.cache=this.globalCache,this.tab="	",this.context=d;let m=null;if(this.buildStage==="generate"){const y=this.flowChildNode(t,n);i!==null&&(y.code+=`${this.tab+i} = ${y.result};
`),this.flowCode[e]=this.flowCode[e]+y.code,m=y}else m=t.build(this);return this.setShaderStage(u),this.cache=o,this.tab=s,this.context=h,m}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){console.warn("Abstract function.")}getVaryings(){console.warn("Abstract function.")}getVar(e,t,n=null){return`${n!==null?this.generateArrayDeclaration(e,n):this.getType(e)} ${t}`}getVars(e){let t="";const n=this.vars[e];if(n!==void 0)for(const i of n)t+=`${this.getVar(i.type,i.name)}; `;return t}getUniforms(){console.warn("Abstract function.")}getCodes(e){const t=this.codes[e];let n="";if(t!==void 0)for(const i of t)n+=i.code+`
`;return n}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){console.warn("Abstract function.")}build(){const{object:e,material:t,renderer:n}=this;if(t!==null){let i=n.library.fromMaterial(t);i===null&&(console.error(`NodeMaterial: Material "${t.type}" is not compatible.`),i=new v0),i.build(this)}else this.addFlow("compute",e);for(const i of R7){this.setBuildStage(i),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const s of C7){this.setShaderStage(s);const o=this.flowNodes[s];for(const u of o)i==="generate"?this.flowNode(u):u.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(e,t){if(t==="float"||t==="int"||t==="uint")return new Ck(e);if(t==="vec2"||t==="ivec2"||t==="uvec2")return new Pk(e);if(t==="vec3"||t==="ivec3"||t==="uvec3")return new Bk(e);if(t==="vec4"||t==="ivec4"||t==="uvec4")return new Dk(e);if(t==="color")return new Fk(e);if(t==="mat2")return new Lk(e);if(t==="mat3")return new qk(e);if(t==="mat4")return new Ik(e);throw new Error(`Uniform "${t}" not declared.`)}format(e,t,n){if(t=this.getVectorType(t),n=this.getVectorType(n),t===n||n===null||this.isReference(n))return e;const i=this.getTypeLength(t),s=this.getTypeLength(n);return i===16&&s===9?`${this.getType(n)}( ${e}[ 0 ].xyz, ${e}[ 1 ].xyz, ${e}[ 2 ].xyz )`:i===9&&s===4?`${this.getType(n)}( ${e}[ 0 ].xy, ${e}[ 1 ].xy )`:i>4||s>4||s===0?e:i===s?`${this.getType(n)}( ${e} )`:i>s?(e=n==="bool"?`all( ${e} )`:`${e}.${"xyz".slice(0,s)}`,this.format(e,this.getTypeFromLength(s,this.getComponentType(t)),n)):s===4&&i>1?`${this.getType(n)}( ${this.format(e,t,"vec3")}, 1.0 )`:i===2?`${this.getType(n)}( ${this.format(e,t,"vec2")}, 0.0 )`:(i===1&&s>1&&t!==this.getComponentType(n)&&(e=`${this.getType(this.getComponentType(n))}( ${e} )`),`${this.getType(n)}( ${e} )`)}getSignature(){return`// Three.js r${Mf} - Node System
`}*[Symbol.iterator](){}createNodeMaterial(e="NodeMaterial"){throw new Error(`THREE.NodeBuilder: createNodeMaterial() was deprecated. Use new ${e}() instead.`)}}class Fh{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,t){let n=e.get(t);return n===void 0&&(n={renderMap:new WeakMap,frameMap:new WeakMap},e.set(t,n)),n}updateBeforeNode(e){const t=e.getUpdateBeforeType(),n=e.updateReference(this);if(t===ht.FRAME){const{frameMap:i}=this._getMaps(this.updateBeforeMap,n);i.get(n)!==this.frameId&&e.updateBefore(this)!==!1&&i.set(n,this.frameId)}else if(t===ht.RENDER){const{renderMap:i}=this._getMaps(this.updateBeforeMap,n);i.get(n)!==this.renderId&&e.updateBefore(this)!==!1&&i.set(n,this.renderId)}else t===ht.OBJECT&&e.updateBefore(this)}updateAfterNode(e){const t=e.getUpdateAfterType(),n=e.updateReference(this);if(t===ht.FRAME){const{frameMap:i}=this._getMaps(this.updateAfterMap,n);i.get(n)!==this.frameId&&e.updateAfter(this)!==!1&&i.set(n,this.frameId)}else if(t===ht.RENDER){const{renderMap:i}=this._getMaps(this.updateAfterMap,n);i.get(n)!==this.renderId&&e.updateAfter(this)!==!1&&i.set(n,this.renderId)}else t===ht.OBJECT&&e.updateAfter(this)}updateNode(e){const t=e.getUpdateType(),n=e.updateReference(this);if(t===ht.FRAME){const{frameMap:i}=this._getMaps(this.updateMap,n);i.get(n)!==this.frameId&&e.update(this)!==!1&&i.set(n,this.frameId)}else if(t===ht.RENDER){const{renderMap:i}=this._getMaps(this.updateMap,n);i.get(n)!==this.renderId&&e.update(this)!==!1&&i.set(n,this.renderId)}else t===ht.OBJECT&&e.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class nl{constructor(e,t,n=null,i="",s=!1){this.type=e,this.name=t,this.count=n,this.qualifier=i,this.isConst=s}}nl.isNodeFunctionInput=!0;class kk extends x2{static get type(){return"DirectionalLightNode"}constructor(e=null){super(e)}setupDirect(){const e=this.colorNode;return{lightDirection:XA(this.light),lightColor:e}}}const s6=new u0,m3=new u0;let lo=null;class Uk extends x2{static get type(){return"RectAreaLightNode"}constructor(e=null){super(e),this.halfHeight=ze(new Ce).setGroup(He),this.halfWidth=ze(new Ce).setGroup(He),this.updateType=ht.RENDER}update(e){super.update(e);const{light:t}=this,n=e.camera.matrixWorldInverse;m3.identity(),s6.copy(t.matrixWorld),s6.premultiply(n),m3.extractRotation(s6),this.halfWidth.value.set(t.width*.5,0,0),this.halfHeight.value.set(0,t.height*.5,0),this.halfWidth.value.applyMatrix4(m3),this.halfHeight.value.applyMatrix4(m3)}setupDirectRectArea(e){let t,n;e.isAvailable("float32Filterable")?(t=xt(lo.LTC_FLOAT_1),n=xt(lo.LTC_FLOAT_2)):(t=xt(lo.LTC_HALF_1),n=xt(lo.LTC_HALF_2));const{colorNode:i,light:s}=this,o=YA(s);return{lightColor:i,lightPosition:o,halfWidth:this.halfWidth,halfHeight:this.halfHeight,ltc_1:t,ltc_2:n}}static setLTC(e){lo=e}}class rl extends x2{static get type(){return"SpotLightNode"}constructor(e=null){super(e),this.coneCosNode=ze(0).setGroup(He),this.penumbraCosNode=ze(0).setGroup(He),this.cutoffDistanceNode=ze(0).setGroup(He),this.decayExponentNode=ze(0).setGroup(He),this.colorNode=ze(this.color).setGroup(He)}update(e){super.update(e);const{light:t}=this;this.coneCosNode.value=Math.cos(t.angle),this.penumbraCosNode.value=Math.cos(t.angle*(1-t.penumbra)),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}getSpotAttenuation(e,t){const{coneCosNode:n,penumbraCosNode:i}=this;return l1(n,i,t)}getLightCoord(e){const t=e.getNodeProperties(this);let n=t.projectionUV;return n===void 0&&(n=Lv(this.light,e.context.positionWorld),t.projectionUV=n),n}setupDirect(e){const{colorNode:t,cutoffDistanceNode:n,decayExponentNode:i,light:s}=this,o=this.getLightVector(e),u=o.normalize(),h=u.dot(XA(s)),d=this.getSpotAttenuation(e,h),m=o.length(),y=JA({lightDistance:m,cutoffDistance:n,decayExponent:i});let x=t.mul(d).mul(y),b,w;return s.colorNode?(w=this.getLightCoord(e),b=s.colorNode(w)):s.map&&(w=this.getLightCoord(e),b=xt(s.map,w.xy).onRenderUpdate(()=>s.map)),b&&(x=w.mul(2).sub(1).abs().lessThan(1).all().select(x.mul(b),x)),{lightColor:x,lightDirection:u}}}class Gk extends rl{static get type(){return"IESSpotLightNode"}getSpotAttenuation(e,t){const n=this.light.iesMap;let i=null;if(n&&n.isTexture===!0){const s=t.acos().mul(1/Math.PI);i=xt(n,xe(s,0),0).r}else i=super.getSpotAttenuation(t);return i}}const Vk=se(([r,e])=>{const t=r.abs().sub(e);return i1(h0(t,0)).add(Mn(h0(t.x,t.y),0))});class zk extends rl{static get type(){return"ProjectorLightNode"}update(e){super.update(e);const t=this.light;if(this.penumbraCosNode.value=Math.min(Math.cos(t.angle*(1-t.penumbra)),.99999),t.aspect===null){let n=1;t.map!==null&&(n=t.map.width/t.map.height),t.shadow.aspect=n}else t.shadow.aspect=t.aspect}getSpotAttenuation(e){const t=this.penumbraCosNode,n=this.getLightCoord(e),i=n.xyz.div(n.w),s=Vk(i.xy.sub(xe(.5)),xe(.5)),o=hr(-1,wt(1,oA(t)).sub(1));return fA(s.mul(-2).mul(o))}}class Hk extends x2{static get type(){return"AmbientLightNode"}constructor(e=null){super(e)}setup({context:e}){e.irradiance.addAssign(this.colorNode)}}class jk extends x2{static get type(){return"HemisphereLightNode"}constructor(e=null){super(e),this.lightPositionNode=QA(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=ze(new D0).setGroup(He)}update(e){const{light:t}=this;super.update(e),this.lightPositionNode.object3d=t,this.groundColorNode.value.copy(t.groundColor).multiplyScalar(t.intensity)}setup(e){const{colorNode:t,groundColorNode:n,lightDirectionNode:i}=this,o=b4.dot(i).mul(.5).add(.5),u=It(n,t,o);e.context.irradiance.addAssign(u)}}class $k extends x2{static get type(){return"LightProbeNode"}constructor(e=null){super(e);const t=[];for(let n=0;n<9;n++)t.push(new Ce);this.lightProbe=ar(t)}update(e){const{light:t}=this;super.update(e);for(let n=0;n<9;n++)this.lightProbe.array[n].copy(t.sh.coefficients[n]).multiplyScalar(t.intensity)}setup(e){const t=s_(b4,this.lightProbe);e.context.irradiance.addAssign(t)}}class A_{parseFunction(){console.warn("Abstract function.")}}class il{constructor(e,t,n="",i=""){this.type=e,this.inputs=t,this.name=n,this.precision=i}getCode(){console.warn("Abstract function.")}}il.isNodeFunction=!0;const Wk=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,Qk=/[a-z_0-9]+/ig,Lh="#pragma main",Yk=r=>{r=r.trim();const e=r.indexOf(Lh),t=e!==-1?r.slice(e+Lh.length):r,n=t.match(Wk);if(n!==null&&n.length===5){const i=n[4],s=[];let o=null;for(;(o=Qk.exec(i))!==null;)s.push(o);const u=[];let h=0;for(;h<s.length;){const w=s[h][0]==="const";w===!0&&h++;let S=s[h][0];S==="in"||S==="out"||S==="inout"?h++:S="";const N=s[h++][0];let C=Number.parseInt(s[h][0]);Number.isNaN(C)===!1?h++:C=null;const P=s[h++][0];u.push(new nl(N,P,C,S,w))}const d=t.substring(n[0].length),m=n[3]!==void 0?n[3]:"",y=n[2],x=n[1]!==void 0?n[1]:"",b=e!==-1?r.slice(0,e):"";return{type:y,inputs:u,name:m,precision:x,inputsCode:i,blockCode:d,headerCode:b}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class Xk extends il{constructor(e){const{type:t,inputs:n,name:i,precision:s,inputsCode:o,blockCode:u,headerCode:h}=Yk(e);super(t,n,i,s),this.inputsCode=o,this.blockCode=u,this.headerCode=h}getCode(e=this.name){let t;const n=this.blockCode;if(n!==""){const{type:i,inputsCode:s,headerCode:o,precision:u}=this;let h=`${i} ${e} ( ${s.trim()} )`;u!==""&&(h=`${u} ${h}`),t=o+h+n}else t="";return t}}class Kk extends A_{parseFunction(e){return new Xk(e)}}const qh=new WeakMap,jr=[],Ui=[];class Zk extends Ei{constructor(e,t){super(),this.renderer=e,this.backend=t,this.nodeFrame=new Fh,this.nodeBuilderCache=new Map,this.callHashCache=new qr,this.groupsData=new qr,this.cacheLib={}}updateGroup(e){const t=e.groupNode,n=t.name;if(n===tA.name)return!0;if(n===He.name){const s=this.get(e),o=this.nodeFrame.renderId;return s.renderId!==o?(s.renderId=o,!0):!1}if(n===im.name){const s=this.get(e),o=this.nodeFrame.frameId;return s.frameId!==o?(s.frameId=o,!0):!1}jr[0]=t,jr[1]=e;let i=this.groupsData.get(jr);return i===void 0&&this.groupsData.set(jr,i={}),jr.length=0,i.version!==t.version?(i.version=t.version,!0):!1}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const t=this.get(e);let n=t.nodeBuilderState;if(n===void 0){const{nodeBuilderCache:i}=this,s=this.getForRenderCacheKey(e);if(n=i.get(s),n===void 0){const o=this.backend.createNodeBuilder(e.object,this.renderer);o.scene=e.scene,o.material=e.material,o.camera=e.camera,o.context.material=e.material,o.lightsNode=e.lightsNode,o.environmentNode=this.getEnvironmentNode(e.scene),o.fogNode=this.getFogNode(e.scene),o.clippingContext=e.clippingContext,this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview&&o.enableMultiview(),o.build(),n=this._createNodeBuilderState(o),i.set(s,n)}n.usedTimes++,t.nodeBuilderState=n}return n}delete(e){if(e.isRenderObject){const t=this.get(e).nodeBuilderState;t.usedTimes--,t.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const t=this.get(e);let n=t.nodeBuilderState;if(n===void 0){const i=this.backend.createNodeBuilder(e,this.renderer);i.build(),n=this._createNodeBuilderState(i),t.nodeBuilderState=n}return n}_createNodeBuilderState(e){return new mk(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes,e.updateAfterNodes,e.observer,e.transforms)}getEnvironmentNode(e){this.updateEnvironment(e);let t=null;if(e.environmentNode&&e.environmentNode.isNode)t=e.environmentNode;else{const n=this.get(e);n.environmentNode&&(t=n.environmentNode)}return t}getBackgroundNode(e){this.updateBackground(e);let t=null;if(e.backgroundNode&&e.backgroundNode.isNode)t=e.backgroundNode;else{const n=this.get(e);n.backgroundNode&&(t=n.backgroundNode)}return t}getFogNode(e){return this.updateFog(e),e.fogNode||this.get(e).fogNode||null}getCacheKey(e,t){jr[0]=e,jr[1]=t;const n=this.renderer.info.calls,i=this.callHashCache.get(jr)||{};if(i.callId!==n){const s=this.getEnvironmentNode(e),o=this.getFogNode(e);t&&Ui.push(t.getCacheKey(!0)),s&&Ui.push(s.getCacheKey()),o&&Ui.push(o.getCacheKey()),Ui.push(this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview?1:0),Ui.push(this.renderer.shadowMap.enabled?1:0),i.callId=n,i.cacheKey=l5(Ui),this.callHashCache.set(jr,i),Ui.length=0}return jr.length=0,i.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(e){const t=this.get(e),n=e.background;if(n){const i=e.backgroundBlurriness===0&&t.backgroundBlurriness>0||e.backgroundBlurriness>0&&t.backgroundBlurriness===0;if(t.background!==n||i){const s=this.getCacheNode("background",n,()=>{if(n.isCubeTexture===!0||n.mapping===l9||n.mapping===u9||n.mapping===E6){if(e.backgroundBlurriness>0||n.mapping===E6)return UA(n);{let o;return n.isCubeTexture===!0?o=Ns(n):o=xt(n),Uy(o)}}else{if(n.isTexture===!0)return xt(n,Dr.flipY()).setUpdateMatrix(!0);n.isColor!==!0&&console.error("WebGPUNodes: Unsupported background configuration.",n)}},i);t.backgroundNode=s,t.background=n,t.backgroundBlurriness=e.backgroundBlurriness}}else t.backgroundNode&&(delete t.backgroundNode,delete t.background)}getCacheNode(e,t,n,i=!1){const s=this.cacheLib[e]||(this.cacheLib[e]=new WeakMap);let o=s.get(t);return(o===void 0||i)&&(o=n(),s.set(t,o)),o}updateFog(e){const t=this.get(e),n=e.fog;if(n){if(t.fog!==n){const i=this.getCacheNode("fog",n,()=>{if(n.isFogExp2){const s=Qt("color","color",n).setGroup(He),o=Qt("density","float",n).setGroup(He);return A4(s,jA(o))}else if(n.isFog){const s=Qt("color","color",n).setGroup(He),o=Qt("near","float",n).setGroup(He),u=Qt("far","float",n).setGroup(He);return A4(s,HA(o,u))}else console.error("THREE.Renderer: Unsupported fog configuration.",n)});t.fogNode=i,t.fog=n}}else delete t.fogNode,delete t.fog}updateEnvironment(e){const t=this.get(e),n=e.environment;if(n){if(t.environment!==n){const i=this.getCacheNode("environment",n,()=>{if(n.isCubeTexture===!0)return Ns(n);if(n.isTexture===!0)return xt(n);console.error("Nodes: Unsupported environment configuration.",n)});t.environmentNode=i,t.environment=n}}else t.environmentNode&&(delete t.environmentNode,delete t.environment)}getNodeFrame(e=this.renderer,t=null,n=null,i=null,s=null){const o=this.nodeFrame;return o.renderer=e,o.scene=t,o.object=n,o.camera=i,o.material=s,o}getNodeFrameForRender(e){return this.getNodeFrame(e.renderer,e.scene,e.object,e.camera,e.material)}getOutputCacheKey(){const e=this.renderer;return e.toneMapping+","+e.currentColorSpace+","+e.xr.isPresenting}hasOutputChange(e){return qh.get(e)!==this.getOutputCacheKey()}getOutputNode(e){const t=this.renderer,n=this.getOutputCacheKey(),i=e.isArrayTexture?yv(e,re(Dr,v4("gl_ViewID_OVR"))).renderOutput(t.toneMapping,t.currentColorSpace):xt(e,Dr).renderOutput(t.toneMapping,t.currentColorSpace);return qh.set(e,n),i}updateBefore(e){const t=e.getNodeBuilderState();for(const n of t.updateBeforeNodes)this.getNodeFrameForRender(e).updateBeforeNode(n)}updateAfter(e){const t=e.getNodeBuilderState();for(const n of t.updateAfterNodes)this.getNodeFrameForRender(e).updateAfterNode(n)}updateForCompute(e){const t=this.getNodeFrame(),n=this.getForCompute(e);for(const i of n.updateNodes)t.updateNode(i)}updateForRender(e){const t=this.getNodeFrameForRender(e),n=e.getNodeBuilderState();for(const i of n.updateNodes)t.updateNode(i)}needsRefresh(e){const t=this.getNodeFrameForRender(e);return e.getMonitor().needsRefresh(e,t)}dispose(){super.dispose(),this.nodeFrame=new Fh,this.nodeBuilderCache=new Map,this.cacheLib={}}}const o6=new c9;class Ja{constructor(e=null){this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new u4,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,e!==null&&(this.viewNormalMatrix=e.viewNormalMatrix,this.clippingGroupContexts=e.clippingGroupContexts,this.shadowPass=e.shadowPass,this.viewMatrix=e.viewMatrix)}projectPlanes(e,t,n){const i=e.length;for(let s=0;s<i;s++){o6.copy(e[s]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const o=t[n+s],u=o6.normal;o.x=-u.x,o.y=-u.y,o.z=-u.z,o.w=o6.constant}}updateGlobal(e,t){this.shadowPass=e.overrideMaterial!==null&&e.overrideMaterial.isShadowPassMaterial,this.viewMatrix=t.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(e,t){let n=!1;e.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(e.intersectionPlanes),this.unionPlanes=Array.from(e.unionPlanes),this.parentVersion=e.version),this.clipIntersection!==t.clipIntersection&&(this.clipIntersection=t.clipIntersection,this.clipIntersection?this.unionPlanes.length=e.unionPlanes.length:this.intersectionPlanes.length=e.intersectionPlanes.length);const i=t.clippingPlanes,s=i.length;let o,u;if(this.clipIntersection?(o=this.intersectionPlanes,u=e.intersectionPlanes.length):(o=this.unionPlanes,u=e.unionPlanes.length),o.length!==u+s){o.length=u+s;for(let h=0;h<s;h++)o[u+h]=new jt;n=!0}this.projectPlanes(i,o,u),n&&(this.version++,this.cacheKey=`${this.intersectionPlanes.length}:${this.unionPlanes.length}`)}getGroupContext(e){if(this.shadowPass&&!e.clipShadows)return this;let t=this.clippingGroupContexts.get(e);return t===void 0&&(t=new Ja(this),this.clippingGroupContexts.set(e,t)),t.update(this,e),t}get unionClippingCount(){return this.unionPlanes.length}}class Jk{constructor(e,t){this.bundleGroup=e,this.camera=t}}const uo=[];class eU{constructor(){this.bundles=new qr}get(e,t){const n=this.bundles;uo[0]=e,uo[1]=t;let i=n.get(uo);return i===void 0&&(i=new Jk(e,t),n.set(uo,i)),uo.length=0,i}dispose(){this.bundles=new qr}}class l_{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(e){if(e.isNodeMaterial)return e;let t=null;const n=this.getMaterialNodeClass(e.type);if(n!==null){t=new n;for(const i in e)t[i]=e[i]}return t}addToneMapping(e,t){this.addType(e,t,this.toneMappingNodes)}getToneMappingFunction(e){return this.toneMappingNodes.get(e)||null}getMaterialNodeClass(e){return this.materialNodes.get(e)||null}addMaterial(e,t){this.addType(e,t,this.materialNodes)}getLightNodeClass(e){return this.lightNodes.get(e)||null}addLight(e,t){this.addClass(e,t,this.lightNodes)}addType(e,t,n){if(n.has(t)){console.warn(`Redefinition of node ${t}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof t=="function"||typeof t=="object")throw new Error(`Base class ${t} is not a class.`);n.set(t,e)}addClass(e,t,n){if(n.has(t)){console.warn(`Redefinition of node ${t.name}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof t!="function")throw new Error(`Base class ${t.name} is not a class.`);n.set(t,e)}}const tU=new KA,co=[];class nU extends qr{constructor(){super()}createNode(e=[]){return new KA().setLights(e)}getNode(e,t){if(e.isQuadMesh)return tU;co[0]=e,co[1]=t;let n=this.get(co);return n===void 0&&(n=this.createNode(),this.set(co,n)),co.length=0,n}}class bo extends wi{constructor(e=1,t=1,n={}){super(e,t,n),this.isXRRenderTarget=!0,this.hasExternalTextures=!1,this.autoAllocateDepthBuffer=!0}copy(e){return super.copy(e),this.hasExternalTextures=e.hasExternalTextures,this.autoAllocateDepthBuffer=e.autoAllocateDepthBuffer,this}}const Ih=new Ce,Oh=new Ce;class rU extends A9{constructor(e,t=!1){super(),this.enabled=!1,this.isPresenting=!1,this.cameraAutoUpdate=!0,this._renderer=e,this._cameraL=new e2,this._cameraL.viewport=new jt,this._cameraR=new e2,this._cameraR.viewport=new jt,this._cameras=[this._cameraL,this._cameraR],this._cameraXR=new eT,this._currentDepthNear=null,this._currentDepthFar=null,this._controllers=[],this._controllerInputSources=[],this._xrRenderTarget=null,this._layers=[],this._supportsLayers=!1,this._frameBufferTargets=null,this._createXRLayer=lU.bind(this),this._gl=null,this._currentAnimationContext=null,this._currentAnimationLoop=null,this._currentPixelRatio=null,this._currentSize=new qt,this._onSessionEvent=oU.bind(this),this._onSessionEnd=aU.bind(this),this._onInputSourcesChange=AU.bind(this),this._onAnimationFrame=uU.bind(this),this._referenceSpace=null,this._referenceSpaceType="local-floor",this._customReferenceSpace=null,this._framebufferScaleFactor=1,this._foveation=1,this._session=null,this._glBaseLayer=null,this._glBinding=null,this._glProjLayer=null,this._xrFrame=null,this._useLayers=typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype,this._useMultiviewIfPossible=t,this._useMultiview=!1}getController(e){return this._getController(e).getTargetRaySpace()}getControllerGrip(e){return this._getController(e).getGripSpace()}getHand(e){return this._getController(e).getHandSpace()}getFoveation(){if(!(this._glProjLayer===null&&this._glBaseLayer===null))return this._foveation}setFoveation(e){this._foveation=e,this._glProjLayer!==null&&(this._glProjLayer.fixedFoveation=e),this._glBaseLayer!==null&&this._glBaseLayer.fixedFoveation!==void 0&&(this._glBaseLayer.fixedFoveation=e)}getFramebufferScaleFactor(){return this._framebufferScaleFactor}setFramebufferScaleFactor(e){this._framebufferScaleFactor=e,this.isPresenting===!0&&console.warn("THREE.XRManager: Cannot change framebuffer scale while presenting.")}getReferenceSpaceType(){return this._referenceSpaceType}setReferenceSpaceType(e){this._referenceSpaceType=e,this.isPresenting===!0&&console.warn("THREE.XRManager: Cannot change reference space type while presenting.")}getReferenceSpace(){return this._customReferenceSpace||this._referenceSpace}setReferenceSpace(e){this._customReferenceSpace=e}getCamera(){return this._cameraXR}getEnvironmentBlendMode(){if(this._session!==null)return this._session.environmentBlendMode}getFrame(){return this._xrFrame}useMultiview(){return this._useMultiview}createQuadLayer(e,t,n,i,s,o,u,h={}){const d=new tT(e,t),m=new bo(s,o,{format:Er,type:Un,depthTexture:new Br(s,o,h.stencil?mi:M0,void 0,void 0,void 0,void 0,void 0,void 0,h.stencil?gi:yi),stencilBuffer:h.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});m.autoAllocateDepthBuffer=!0;const y=new N1({color:16777215,side:hs});y.map=m.texture,y.map.offset.y=1,y.map.repeat.y=-1;const x=new y0(d,y);x.position.copy(n),x.quaternion.copy(i);const b={type:"quad",width:e,height:t,translation:n,quaternion:i,pixelwidth:s,pixelheight:o,plane:x,material:y,rendercall:u,renderTarget:m};if(this._layers.push(b),this._session!==null){b.plane.material=new N1({color:16777215,side:hs}),b.plane.material.blending=Eo,b.plane.material.blendEquation=M1,b.plane.material.blendSrc=oi,b.plane.material.blendDst=oi,b.xrlayer=this._createXRLayer(b);const w=this._session.renderState.layers;w.unshift(b.xrlayer),this._session.updateRenderState({layers:w})}else m.isXRRenderTarget=!1;return x}createCylinderLayer(e,t,n,i,s,o,u,h,d={}){const m=new Nf(e,e,e*t/n,64,64,!0,Math.PI-t/2,t),y=new bo(o,u,{format:Er,type:Un,depthTexture:new Br(o,u,d.stencil?mi:M0,void 0,void 0,void 0,void 0,void 0,void 0,d.stencil?gi:yi),stencilBuffer:d.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});y.autoAllocateDepthBuffer=!0;const x=new N1({color:16777215,side:En});x.map=y.texture,x.map.offset.y=1,x.map.repeat.y=-1;const b=new y0(m,x);b.position.copy(i),b.quaternion.copy(s);const w={type:"cylinder",radius:e,centralAngle:t,aspectratio:n,translation:i,quaternion:s,pixelwidth:o,pixelheight:u,plane:b,material:x,rendercall:h,renderTarget:y};if(this._layers.push(w),this._session!==null){w.plane.material=new N1({color:16777215,side:En}),w.plane.material.blending=Eo,w.plane.material.blendEquation=M1,w.plane.material.blendSrc=oi,w.plane.material.blendDst=oi,w.xrlayer=this._createXRLayer(w);const S=this._session.renderState.layers;S.unshift(w.xrlayer),this._session.updateRenderState({layers:S})}else y.isXRRenderTarget=!1;return b}renderLayers(){const e=new Ce,t=new S6,n=this._renderer,i=this.isPresenting,s=n.getOutputRenderTarget(),o=n._frameBufferTarget;this.isPresenting=!1;const u=new qt;n.getSize(u);const h=n._quad;for(const d of this._layers)if(d.renderTarget.isXRRenderTarget=this._session!==null,d.renderTarget.hasExternalTextures=d.renderTarget.isXRRenderTarget,d.renderTarget.isXRRenderTarget&&this._supportsLayers){d.xrlayer.transform=new XRRigidTransform(d.plane.getWorldPosition(e),d.plane.getWorldQuaternion(t));const m=this._glBinding.getSubImage(d.xrlayer,this._xrFrame);n.backend.setXRRenderTargetTextures(d.renderTarget,m.colorTexture,void 0),n._setXRLayerSize(d.renderTarget.width,d.renderTarget.height),n.setOutputRenderTarget(d.renderTarget),n.setRenderTarget(null),n._frameBufferTarget=null,this._frameBufferTargets||(this._frameBufferTargets=new WeakMap);const{frameBufferTarget:y,quad:x}=this._frameBufferTargets.get(d.renderTarget)||{frameBufferTarget:null,quad:null};y?(n._frameBufferTarget=y,n._quad=x):(n._quad=new B5(new v0),this._frameBufferTargets.set(d.renderTarget,{frameBufferTarget:n._getFrameBufferTarget(),quad:n._quad})),d.rendercall(),n._frameBufferTarget=null}else n.setRenderTarget(d.renderTarget),d.rendercall();n.setRenderTarget(null),n.setOutputRenderTarget(s),n._frameBufferTarget=o,n._setXRLayerSize(u.x,u.y),n._quad=h,this.isPresenting=i}getSession(){return this._session}async setSession(e){const t=this._renderer,n=t.backend;this._gl=t.getContext();const i=this._gl,s=i.getContextAttributes();if(this._session=e,e!==null){if(n.isWebGPUBackend===!0)throw new Error('THREE.XRManager: XR is currently not supported with a WebGPU backend. Use WebGL by passing "{ forceWebGL: true }" to the constructor of the renderer.');if(e.addEventListener("select",this._onSessionEvent),e.addEventListener("selectstart",this._onSessionEvent),e.addEventListener("selectend",this._onSessionEvent),e.addEventListener("squeeze",this._onSessionEvent),e.addEventListener("squeezestart",this._onSessionEvent),e.addEventListener("squeezeend",this._onSessionEvent),e.addEventListener("end",this._onSessionEnd),e.addEventListener("inputsourceschange",this._onInputSourcesChange),await n.makeXRCompatible(),this._currentPixelRatio=t.getPixelRatio(),t.getSize(this._currentSize),this._currentAnimationContext=t._animation.getContext(),this._currentAnimationLoop=t._animation.getAnimationLoop(),t._animation.stop(),this._useLayers===!0){let o=null,u=null,h=null;t.depth&&(h=t.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,o=t.stencil?gi:yi,u=t.stencil?mi:M0);const d={colorFormat:i.RGBA8,depthFormat:h,scaleFactor:this._framebufferScaleFactor,clearOnAccess:!1};this._useMultiviewIfPossible&&t.hasFeature("OVR_multiview2")&&(d.textureType="texture-array",this._useMultiview=!0);const m=new XRWebGLBinding(e,i),y=m.createProjectionLayer(d),x=[y];this._glBinding=m,this._glProjLayer=y,t.setPixelRatio(1),t._setXRLayerSize(y.textureWidth,y.textureHeight);const b=this._useMultiview?2:1,w=new Br(y.textureWidth,y.textureHeight,u,void 0,void 0,void 0,void 0,void 0,void 0,o,b);if(this._xrRenderTarget=new bo(y.textureWidth,y.textureHeight,{format:Er,type:Un,colorSpace:t.outputColorSpace,depthTexture:w,stencilBuffer:t.stencil,samples:s.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1,depth:this._useMultiview?2:1,multiview:this._useMultiview}),this._xrRenderTarget.hasExternalTextures=!0,this._xrRenderTarget.depth=this._useMultiview?2:1,this._supportsLayers=e.enabledFeatures.includes("layers"),this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType()),this._supportsLayers)for(const S of this._layers)S.plane.material=new N1({color:16777215,side:S.type==="cylinder"?En:hs}),S.plane.material.blending=Eo,S.plane.material.blendEquation=M1,S.plane.material.blendSrc=oi,S.plane.material.blendDst=oi,S.xrlayer=this._createXRLayer(S),x.unshift(S.xrlayer);e.updateRenderState({layers:x})}else{const o={antialias:t.samples>0,alpha:!0,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:this.getFramebufferScaleFactor()},u=new XRWebGLLayer(e,i,o);this._glBaseLayer=u,e.updateRenderState({baseLayer:u}),t.setPixelRatio(1),t._setXRLayerSize(u.framebufferWidth,u.framebufferHeight),this._xrRenderTarget=new bo(u.framebufferWidth,u.framebufferHeight,{format:Er,type:Un,colorSpace:t.outputColorSpace,stencilBuffer:t.stencil,resolveDepthBuffer:u.ignoreDepthValues===!1,resolveStencilBuffer:u.ignoreDepthValues===!1}),this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType())}this.setFoveation(this.getFoveation()),t._animation.setAnimationLoop(this._onAnimationFrame),t._animation.setContext(e),t._animation.start(),this.isPresenting=!0,this.dispatchEvent({type:"sessionstart"})}}updateCamera(e){const t=this._session;if(t===null)return;const n=e.near,i=e.far,s=this._cameraXR,o=this._cameraL,u=this._cameraR;s.near=u.near=o.near=n,s.far=u.far=o.far=i,s.isMultiViewCamera=this._useMultiview,(this._currentDepthNear!==s.near||this._currentDepthFar!==s.far)&&(t.updateRenderState({depthNear:s.near,depthFar:s.far}),this._currentDepthNear=s.near,this._currentDepthFar=s.far),o.layers.mask=e.layers.mask|2,u.layers.mask=e.layers.mask|4,s.layers.mask=o.layers.mask|u.layers.mask;const h=e.parent,d=s.cameras;kh(s,h);for(let m=0;m<d.length;m++)kh(d[m],h);d.length===2?iU(s,o,u):s.projectionMatrix.copy(o.projectionMatrix),sU(e,s,h)}_getController(e){let t=this._controllers[e];return t===void 0&&(t=new nT,this._controllers[e]=t),t}}function iU(r,e,t){Ih.setFromMatrixPosition(e.matrixWorld),Oh.setFromMatrixPosition(t.matrixWorld);const n=Ih.distanceTo(Oh),i=e.projectionMatrix.elements,s=t.projectionMatrix.elements,o=i[14]/(i[10]-1),u=i[14]/(i[10]+1),h=(i[9]+1)/i[5],d=(i[9]-1)/i[5],m=(i[8]-1)/i[0],y=(s[8]+1)/s[0],x=o*m,b=o*y,w=n/(-m+y),S=w*-m;if(e.matrixWorld.decompose(r.position,r.quaternion,r.scale),r.translateX(S),r.translateZ(w),r.matrixWorld.compose(r.position,r.quaternion,r.scale),r.matrixWorldInverse.copy(r.matrixWorld).invert(),i[10]===-1)r.projectionMatrix.copy(e.projectionMatrix),r.projectionMatrixInverse.copy(e.projectionMatrixInverse);else{const N=o+w,C=u+w,P=x-S,B=b+(n-S),q=h*u/C*N,D=d*u/C*N;r.projectionMatrix.makePerspective(P,B,q,D,N,C),r.projectionMatrixInverse.copy(r.projectionMatrix).invert()}}function kh(r,e){e===null?r.matrixWorld.copy(r.matrix):r.matrixWorld.multiplyMatrices(e.matrixWorld,r.matrix),r.matrixWorldInverse.copy(r.matrixWorld).invert()}function sU(r,e,t){t===null?r.matrix.copy(e.matrixWorld):(r.matrix.copy(t.matrixWorld),r.matrix.invert(),r.matrix.multiply(e.matrixWorld)),r.matrix.decompose(r.position,r.quaternion,r.scale),r.updateMatrixWorld(!0),r.projectionMatrix.copy(e.projectionMatrix),r.projectionMatrixInverse.copy(e.projectionMatrixInverse),r.isPerspectiveCamera&&(r.fov=wT*2*Math.atan(1/r.projectionMatrix.elements[5]),r.zoom=1)}function oU(r){const e=this._controllerInputSources.indexOf(r.inputSource);if(e===-1)return;const t=this._controllers[e];if(t!==void 0){const n=this.getReferenceSpace();t.update(r.inputSource,r.frame,n),t.dispatchEvent({type:r.type,data:r.inputSource})}}function aU(){const r=this._session,e=this._renderer;r.removeEventListener("select",this._onSessionEvent),r.removeEventListener("selectstart",this._onSessionEvent),r.removeEventListener("selectend",this._onSessionEvent),r.removeEventListener("squeeze",this._onSessionEvent),r.removeEventListener("squeezestart",this._onSessionEvent),r.removeEventListener("squeezeend",this._onSessionEvent),r.removeEventListener("end",this._onSessionEnd),r.removeEventListener("inputsourceschange",this._onInputSourcesChange);for(let t=0;t<this._controllers.length;t++){const n=this._controllerInputSources[t];n!==null&&(this._controllerInputSources[t]=null,this._controllers[t].disconnect(n))}if(this._currentDepthNear=null,this._currentDepthFar=null,e._resetXRState(),this._session=null,this._xrRenderTarget=null,this._supportsLayers===!0)for(const t of this._layers)t.renderTarget=new bo(t.pixelwidth,t.pixelheight,{format:Er,type:Un,depthTexture:new Br(t.pixelwidth,t.pixelheight,t.stencilBuffer?mi:M0,void 0,void 0,void 0,void 0,void 0,void 0,t.stencilBuffer?gi:yi),stencilBuffer:t.stencilBuffer,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),t.renderTarget.isXRRenderTarget=!1,t.plane.material=t.material,t.material.map=t.renderTarget.texture,t.material.map.offset.y=1,t.material.map.repeat.y=-1,delete t.xrlayer;this.isPresenting=!1,this._useMultiview=!1,e._animation.stop(),e._animation.setAnimationLoop(this._currentAnimationLoop),e._animation.setContext(this._currentAnimationContext),e._animation.start(),e.setPixelRatio(this._currentPixelRatio),e.setSize(this._currentSize.width,this._currentSize.height,!1),this.dispatchEvent({type:"sessionend"})}function AU(r){const e=this._controllers,t=this._controllerInputSources;for(let n=0;n<r.removed.length;n++){const i=r.removed[n],s=t.indexOf(i);s>=0&&(t[s]=null,e[s].disconnect(i))}for(let n=0;n<r.added.length;n++){const i=r.added[n];let s=t.indexOf(i);if(s===-1){for(let u=0;u<e.length;u++)if(u>=t.length){t.push(i),s=u;break}else if(t[u]===null){t[u]=i,s=u;break}if(s===-1)break}const o=e[s];o&&o.connect(i)}}function lU(r){return r.type==="quad"?this._glBinding.createQuadLayer({transform:new XRRigidTransform(r.translation,r.quaternion),width:r.width/2,height:r.height/2,space:this._referenceSpace,viewPixelWidth:r.pixelwidth,viewPixelHeight:r.pixelheight,clearOnAccess:!1}):this._glBinding.createCylinderLayer({transform:new XRRigidTransform(r.translation,r.quaternion),radius:r.radius,centralAngle:r.centralAngle,aspectRatio:r.aspectRatio,space:this._referenceSpace,viewPixelWidth:r.pixelwidth,viewPixelHeight:r.pixelheight,clearOnAccess:!1})}function uU(r,e){if(e===void 0)return;const t=this._cameraXR,n=this._renderer,i=n.backend,s=this._glBaseLayer,o=this.getReferenceSpace(),u=e.getViewerPose(o);if(this._xrFrame=e,u!==null){const h=u.views;this._glBaseLayer!==null&&i.setXRTarget(s.framebuffer);let d=!1;h.length!==t.cameras.length&&(t.cameras.length=0,d=!0);for(let m=0;m<h.length;m++){const y=h[m];let x;if(this._useLayers===!0){const w=this._glBinding.getViewSubImage(this._glProjLayer,y);x=w.viewport,m===0&&i.setXRRenderTargetTextures(this._xrRenderTarget,w.colorTexture,this._glProjLayer.ignoreDepthValues&&!this._useMultiview?void 0:w.depthStencilTexture)}else x=s.getViewport(y);let b=this._cameras[m];b===void 0&&(b=new e2,b.layers.enable(m),b.viewport=new jt,this._cameras[m]=b),b.matrix.fromArray(y.transform.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale),b.projectionMatrix.fromArray(y.projectionMatrix),b.projectionMatrixInverse.copy(b.projectionMatrix).invert(),b.viewport.set(x.x,x.y,x.width,x.height),m===0&&(t.matrix.copy(b.matrix),t.matrix.decompose(t.position,t.quaternion,t.scale)),d===!0&&t.cameras.push(b)}n.setOutputRenderTarget(this._xrRenderTarget)}for(let h=0;h<this._controllers.length;h++){const d=this._controllerInputSources[h],m=this._controllers[h];d!==null&&m!==void 0&&m.update(d,e,o)}this._currentAnimationLoop&&this._currentAnimationLoop(r,e),e.detectedPlanes&&this.dispatchEvent({type:"planesdetected",data:e}),this._xrFrame=null}const Uh=new o9,g3=new qt,a6=new jt,A6=new wf,l6=new Gb,y3=new u0,ni=new jt;class cU{constructor(e,t={}){this.isRenderer=!0;const{logarithmicDepthBuffer:n=!1,alpha:i=!0,depth:s=!0,stencil:o=!1,antialias:u=!1,samples:h=0,getFallback:d=null,colorBufferType:m=xn,multiview:y=!1}=t;this.domElement=e.getDomElement(),this.backend=e,this.samples=h||u===!0?4:0,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=i,this.logarithmicDepthBuffer=n,this.outputColorSpace=e5,this.toneMapping=cs,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=s,this.stencil=o,this.info=new uL,this.overrideNodes={modelViewMatrix:null,modelNormalViewMatrix:null},this.library=new l_,this.lighting=new nU,this._getFallback=d,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new jt(0,0,this._width,this._height),this._scissor=new jt(0,0,this._width,this._height),this._scissorTest=!1,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new B5(new v0),this._quad.material.name="Renderer_output",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const x=this.alpha===!0?0:1;this._clearColor=new GA(0,0,0,x),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._outputRenderTarget=null,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._colorBufferType=m,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:Ub},this.xr=new rU(this,y),this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(b,w,S)=>{await this.compileAsync(b,w);const N=this._renderLists.get(b,w),C=this._renderContexts.get(b,w,this._renderTarget),P=b.overrideMaterial||S.material,B=this._objects.get(S,P,b,w,N.lightsNode,C,C.clippingContext),{fragmentShader:q,vertexShader:D}=B.getNodeBuilderState();return{fragmentShader:q,vertexShader:D}}}}async init(){if(this._initialized)throw new Error("Renderer: Backend has already been initialized.");return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(e,t)=>{let n=this.backend;try{await n.init(this)}catch(i){if(this._getFallback!==null)try{this.backend=n=this._getFallback(i),await n.init(this)}catch(s){t(s);return}else{t(i);return}}this._nodes=new Zk(this,n),this._animation=new tL(this._nodes,this.info),this._attributes=new AL(n),this._background=new dk(this,this._nodes),this._geometries=new lL(this._attributes,this.info),this._textures=new SL(this,n,this.info),this._pipelines=new dL(n,this._nodes),this._bindings=new pL(n,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new sL(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new yL(this.lighting),this._bundles=new eU,this._renderContexts=new TL,this._animation.start(),this._initialized=!0,e(this)}),this._initPromise)}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(e,t,n=null){if(this._isDeviceLost===!0)return;this._initialized===!1&&await this.init();const i=this._nodes.nodeFrame,s=i.renderId,o=this._currentRenderContext,u=this._currentRenderObjectFunction,h=this._compilationPromises,d=e.isScene===!0?e:Uh;n===null&&(n=e);const m=this._renderTarget,y=this._renderContexts.get(n,t,m),x=this._activeMipmapLevel,b=[];this._currentRenderContext=y,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=b,i.renderId++,i.update(),y.depth=this.depth,y.stencil=this.stencil,y.clippingContext||(y.clippingContext=new Ja),y.clippingContext.updateGlobal(d,t),d.onBeforeRender(this,e,t,m);const w=this._renderLists.get(e,t);if(w.begin(),this._projectObject(e,t,0,w,y.clippingContext),n!==e&&n.traverseVisible(function(B){B.isLight&&B.layers.test(t.layers)&&w.pushLight(B)}),w.finish(),m!==null){this._textures.updateRenderTarget(m,x);const B=this._textures.get(m);y.textures=B.textures,y.depthTexture=B.depthTexture}else y.textures=null,y.depthTexture=null;this._background.update(d,w,y);const S=w.opaque,N=w.transparent,C=w.transparentDoublePass,P=w.lightsNode;this.opaque===!0&&S.length>0&&this._renderObjects(S,t,d,P),this.transparent===!0&&N.length>0&&this._renderTransparents(N,C,t,d,P),i.renderId=s,this._currentRenderContext=o,this._currentRenderObjectFunction=u,this._compilationPromises=h,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(b)}async renderAsync(e,t){this._initialized===!1&&await this.init(),this._renderScene(e,t)}async waitForGPU(){await this.backend.waitForGPU()}set highPrecision(e){e===!0?(this.overrideNodes.modelViewMatrix=q7,this.overrideNodes.modelNormalViewMatrix=I7):this.highPrecision&&(this.overrideNodes.modelViewMatrix=null,this.overrideNodes.modelNormalViewMatrix=null)}get highPrecision(){return this.overrideNodes.modelViewMatrix===q7&&this.overrideNodes.modelNormalViewMatrix===I7}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getColorBufferType(){return this._colorBufferType}_onDeviceLost(e){let t=`THREE.WebGPURenderer: ${e.api} Device Lost:

Message: ${e.message}`;e.reason&&(t+=`
Reason: ${e.reason}`),console.error(t),this._isDeviceLost=!0}_renderBundle(e,t,n){const{bundleGroup:i,camera:s,renderList:o}=e,u=this._currentRenderContext,h=this._bundles.get(i,s),d=this.backend.get(h);d.renderContexts===void 0&&(d.renderContexts=new Set);const m=i.version!==d.version,y=d.renderContexts.has(u)===!1||m;if(d.renderContexts.add(u),y){this.backend.beginBundle(u),(d.renderObjects===void 0||m)&&(d.renderObjects=[]),this._currentRenderBundle=h;const{transparentDoublePass:x,transparent:b,opaque:w}=o;this.opaque===!0&&w.length>0&&this._renderObjects(w,s,t,n),this.transparent===!0&&b.length>0&&this._renderTransparents(b,x,s,t,n),this._currentRenderBundle=null,this.backend.finishBundle(u,h),d.version=i.version}else{const{renderObjects:x}=d;for(let b=0,w=x.length;b<w;b++){const S=x[b];this._nodes.needsRefresh(S)&&(this._nodes.updateBefore(S),this._nodes.updateForRender(S),this._bindings.updateForRender(S),this._nodes.updateAfter(S))}}this.backend.addBundle(u,h)}render(e,t){if(this._initialized===!1)return console.warn("THREE.Renderer: .render() called before the backend is initialized. Try using .renderAsync() instead."),this.renderAsync(e,t);this._renderScene(e,t)}_getFrameBufferTarget(){const{currentToneMapping:e,currentColorSpace:t}=this;if(e!==cs===!1&&t!==wo===!1)return null;const{width:s,height:o}=this.getDrawingBufferSize(g3),{depth:u,stencil:h}=this;let d=this._frameBufferTarget;d===null&&(d=new wi(s,o,{depthBuffer:u,stencilBuffer:h,type:this._colorBufferType,format:Er,colorSpace:wo,generateMipmaps:!1,minFilter:L1,magFilter:L1,samples:this.samples}),d.isPostProcessingRenderTarget=!0,this._frameBufferTarget=d);const m=this.getOutputRenderTarget();return d.depthBuffer=u,d.stencilBuffer=h,m!==null?d.setSize(m.width,m.height,m.depth):d.setSize(s,o,1),d.viewport.copy(this._viewport),d.scissor.copy(this._scissor),d.viewport.multiplyScalar(this._pixelRatio),d.scissor.multiplyScalar(this._pixelRatio),d.scissorTest=this._scissorTest,d.multiview=m!==null?m.multiview:!1,d.resolveDepthBuffer=m!==null?m.resolveDepthBuffer:!0,d.autoAllocateDepthBuffer=m!==null?m.autoAllocateDepthBuffer:!1,d}_renderScene(e,t,n=!0){if(this._isDeviceLost===!0)return;const i=n?this._getFrameBufferTarget():null,s=this._nodes.nodeFrame,o=s.renderId,u=this._currentRenderContext,h=this._currentRenderObjectFunction,d=e.isScene===!0?e:Uh,m=this._renderTarget||this._outputRenderTarget,y=this._activeCubeFace,x=this._activeMipmapLevel;let b;i!==null?(b=i,this.setRenderTarget(b)):b=m;const w=this._renderContexts.get(e,t,b);this._currentRenderContext=w,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,s.renderId=this.info.calls;const S=this.coordinateSystem,N=this.xr;if(t.coordinateSystem!==S&&N.isPresenting===!1&&(t.coordinateSystem=S,t.updateProjectionMatrix(),t.isArrayCamera))for(const X of t.cameras)X.coordinateSystem=S,X.updateProjectionMatrix();e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),t.parent===null&&t.matrixWorldAutoUpdate===!0&&t.updateMatrixWorld(),N.enabled===!0&&N.isPresenting===!0&&(N.cameraAutoUpdate===!0&&N.updateCamera(t),t=N.getCamera());let C=this._viewport,P=this._scissor,B=this._pixelRatio;b!==null&&(C=b.viewport,P=b.scissor,B=1),this.getDrawingBufferSize(g3),a6.set(0,0,g3.width,g3.height);const q=C.minDepth===void 0?0:C.minDepth,D=C.maxDepth===void 0?1:C.maxDepth;w.viewportValue.copy(C).multiplyScalar(B).floor(),w.viewportValue.width>>=x,w.viewportValue.height>>=x,w.viewportValue.minDepth=q,w.viewportValue.maxDepth=D,w.viewport=w.viewportValue.equals(a6)===!1,w.scissorValue.copy(P).multiplyScalar(B).floor(),w.scissor=this._scissorTest&&w.scissorValue.equals(a6)===!1,w.scissorValue.width>>=x,w.scissorValue.height>>=x,w.clippingContext||(w.clippingContext=new Ja),w.clippingContext.updateGlobal(d,t),d.onBeforeRender(this,e,t,b);const I=t.isArrayCamera?l6:A6;t.isArrayCamera||(y3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),I.setFromProjectionMatrix(y3,S));const U=this._renderLists.get(e,t);if(U.begin(),this._projectObject(e,t,0,U,w.clippingContext),U.finish(),this.sortObjects===!0&&U.sort(this._opaqueSort,this._transparentSort),b!==null){this._textures.updateRenderTarget(b,x);const X=this._textures.get(b);w.textures=X.textures,w.depthTexture=X.depthTexture,w.width=X.width,w.height=X.height,w.renderTarget=b,w.depth=b.depthBuffer,w.stencil=b.stencilBuffer}else w.textures=null,w.depthTexture=null,w.width=this.domElement.width,w.height=this.domElement.height,w.depth=this.depth,w.stencil=this.stencil;w.width>>=x,w.height>>=x,w.activeCubeFace=y,w.activeMipmapLevel=x,w.occlusionQueryCount=U.occlusionQueryCount,this._background.update(d,U,w),w.camera=t,this.backend.beginRender(w);const{bundles:V,lightsNode:H,transparentDoublePass:z,transparent:k,opaque:Y}=U;return V.length>0&&this._renderBundles(V,d,H),this.opaque===!0&&Y.length>0&&this._renderObjects(Y,t,d,H),this.transparent===!0&&k.length>0&&this._renderTransparents(k,z,t,d,H),this.backend.finishRender(w),s.renderId=o,this._currentRenderContext=u,this._currentRenderObjectFunction=h,i!==null&&(this.setRenderTarget(m,y,x),this._renderOutput(b)),d.onAfterRender(this,e,t,b),w}_setXRLayerSize(e,t){this._width=e,this._height=t,this.setViewport(0,0,e,t)}_renderOutput(e){const t=this._quad;this._nodes.hasOutputChange(e.texture)&&(t.material.fragmentNode=this._nodes.getOutputNode(e.texture),t.material.needsUpdate=!0);const n=this.autoClear,i=this.xr.enabled;this.autoClear=!1,this.xr.enabled=!1,this._renderScene(t,t.camera,!1),this.autoClear=n,this.xr.enabled=i}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(e){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(e)}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(e=1){this._pixelRatio!==e&&(this._pixelRatio=e,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(e,t,n){this.xr&&this.xr.isPresenting||(this._width=e,this._height=t,this._pixelRatio=n,this.domElement.width=Math.floor(e*n),this.domElement.height=Math.floor(t*n),this.setViewport(0,0,e,t),this._initialized&&this.backend.updateSize())}setSize(e,t,n=!0){this.xr&&this.xr.isPresenting||(this._width=e,this._height=t,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(t*this._pixelRatio),n===!0&&(this.domElement.style.width=e+"px",this.domElement.style.height=t+"px"),this.setViewport(0,0,e,t),this._initialized&&this.backend.updateSize())}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){const t=this._scissor;return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e}setScissor(e,t,n,i){const s=this._scissor;e.isVector4?s.copy(e):s.set(e,t,n,i)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e,this.backend.setScissorTest(e)}getViewport(e){return e.copy(this._viewport)}setViewport(e,t,n,i,s=0,o=1){const u=this._viewport;e.isVector4?u.copy(e):u.set(e,t,n,i),u.minDepth=s,u.maxDepth=o}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e,t=1){this._clearColor.set(e),this._clearColor.a=t}getClearAlpha(){return this._clearColor.a}setClearAlpha(e){this._clearColor.a=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const t=this._currentRenderContext;return t&&this.backend.isOccluded(t,e)}clear(e=!0,t=!0,n=!0){if(this._initialized===!1)return console.warn("THREE.Renderer: .clear() called before the backend is initialized. Try using .clearAsync() instead."),this.clearAsync(e,t,n);const i=this._renderTarget||this._getFrameBufferTarget();let s=null;if(i!==null){this._textures.updateRenderTarget(i);const o=this._textures.get(i);s=this._renderContexts.getForClear(i),s.textures=o.textures,s.depthTexture=o.depthTexture,s.width=o.width,s.height=o.height,s.renderTarget=i,s.depth=i.depthBuffer,s.stencil=i.stencilBuffer,s.clearColorValue=this.backend.getClearColor(),s.activeCubeFace=this.getActiveCubeFace(),s.activeMipmapLevel=this.getActiveMipmapLevel()}this.backend.clear(e,t,n,s),i!==null&&this._renderTarget===null&&this._renderOutput(i)}clearColor(){return this.clear(!0,!1,!1)}clearDepth(){return this.clear(!1,!0,!1)}clearStencil(){return this.clear(!1,!1,!0)}async clearAsync(e=!0,t=!0,n=!0){this._initialized===!1&&await this.init(),this.clear(e,t,n)}async clearColorAsync(){this.clearAsync(!0,!1,!1)}async clearDepthAsync(){this.clearAsync(!1,!0,!1)}async clearStencilAsync(){this.clearAsync(!1,!1,!0)}get currentToneMapping(){return this.isOutputTarget?this.toneMapping:cs}get currentColorSpace(){return this.isOutputTarget?this.outputColorSpace:wo}get isOutputTarget(){return this._renderTarget===this._outputRenderTarget||this._renderTarget===null}dispose(){this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this._frameBufferTarget!==null&&this._frameBufferTarget.dispose(),Object.values(this.backend.timestampQueryPool).forEach(e=>{e!==null&&e.dispose()}),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e,t=0,n=0){this._renderTarget=e,this._activeCubeFace=t,this._activeMipmapLevel=n}getRenderTarget(){return this._renderTarget}setOutputRenderTarget(e){this._outputRenderTarget=e}getOutputRenderTarget(){return this._outputRenderTarget}_resetXRState(){this.backend.setXRTarget(null),this.setOutputRenderTarget(null),this.setRenderTarget(null),this._frameBufferTarget.dispose(),this._frameBufferTarget=null}setRenderObjectFunction(e){this._renderObjectFunction=e}getRenderObjectFunction(){return this._renderObjectFunction}compute(e){if(this._isDeviceLost===!0)return;if(this._initialized===!1)return console.warn("THREE.Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(e);const t=this._nodes.nodeFrame,n=t.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,t.renderId=this.info.calls;const i=this.backend,s=this._pipelines,o=this._bindings,u=this._nodes,h=Array.isArray(e)?e:[e];if(h[0]===void 0||h[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");i.beginCompute(e);for(const d of h){if(s.has(d)===!1){const x=()=>{d.removeEventListener("dispose",x),s.delete(d),o.delete(d),u.delete(d)};d.addEventListener("dispose",x);const b=d.onInitFunction;b!==null&&b.call(d,{renderer:this})}u.updateForCompute(d),o.updateForCompute(d);const m=o.getForCompute(d),y=s.getForCompute(d,m);i.compute(e,d,m,y)}i.finishCompute(e),t.renderId=n}async computeAsync(e){this._initialized===!1&&await this.init(),this.compute(e)}async hasFeatureAsync(e){return this._initialized===!1&&await this.init(),this.backend.hasFeature(e)}async resolveTimestampsAsync(e="render"){return this._initialized===!1&&await this.init(),this.backend.resolveTimestampsAsync(e)}hasFeature(e){return this._initialized===!1?(console.warn("THREE.Renderer: .hasFeature() called before the backend is initialized. Try using .hasFeatureAsync() instead."),!1):this.backend.hasFeature(e)}hasInitialized(){return this._initialized}async initTextureAsync(e){this._initialized===!1&&await this.init(),this._textures.updateTexture(e)}initTexture(e){this._initialized===!1&&console.warn("THREE.Renderer: .initTexture() called before the backend is initialized. Try using .initTextureAsync() instead."),this._textures.updateTexture(e)}copyFramebufferToTexture(e,t=null){if(t!==null)if(t.isVector2)t=ni.set(t.x,t.y,e.image.width,e.image.height).floor();else if(t.isVector4)t=ni.copy(t).floor();else{console.error("THREE.Renderer.copyFramebufferToTexture: Invalid rectangle.");return}else t=ni.set(0,0,e.image.width,e.image.height);let n=this._currentRenderContext,i;n!==null?i=n.renderTarget:(i=this._renderTarget||this._getFrameBufferTarget(),i!==null&&(this._textures.updateRenderTarget(i),n=this._textures.get(i))),this._textures.updateTexture(e,{renderTarget:i}),this.backend.copyFramebufferToTexture(e,n,t)}copyTextureToTexture(e,t,n=null,i=null,s=0,o=0){this._textures.updateTexture(e),this._textures.updateTexture(t),this.backend.copyTextureToTexture(e,t,n,i,s,o)}async readRenderTargetPixelsAsync(e,t,n,i,s,o=0,u=0){return this.backend.copyTextureToBuffer(e.textures[o],t,n,i,s,u)}_projectObject(e,t,n,i,s){if(e.visible===!1)return;if(e.layers.test(t.layers)){if(e.isGroup)n=e.renderOrder,e.isClippingGroup&&e.enabled&&(s=s.getGroupContext(e));else if(e.isLOD)e.autoUpdate===!0&&e.update(t);else if(e.isLight)i.pushLight(e);else if(e.isSprite){const h=t.isArrayCamera?l6:A6;if(!e.frustumCulled||h.intersectsSprite(e,t)){this.sortObjects===!0&&ni.setFromMatrixPosition(e.matrixWorld).applyMatrix4(y3);const{geometry:d,material:m}=e;m.visible&&i.push(e,d,m,n,ni.z,null,s)}}else if(e.isLineLoop)console.error("THREE.Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if(e.isMesh||e.isLine||e.isPoints){const h=t.isArrayCamera?l6:A6;if(!e.frustumCulled||h.intersectsObject(e,t)){const{geometry:d,material:m}=e;if(this.sortObjects===!0&&(d.boundingSphere===null&&d.computeBoundingSphere(),ni.copy(d.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(y3)),Array.isArray(m)){const y=d.groups;for(let x=0,b=y.length;x<b;x++){const w=y[x],S=m[w.materialIndex];S&&S.visible&&i.push(e,d,S,n,ni.z,w,s)}}else m.visible&&i.push(e,d,m,n,ni.z,null,s)}}}if(e.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const h=i;i=this._renderLists.get(e,t),i.begin(),h.pushBundle({bundleGroup:e,camera:t,renderList:i}),i.finish()}const u=e.children;for(let h=0,d=u.length;h<d;h++)this._projectObject(u[h],t,n,i,s)}_renderBundles(e,t,n){for(const i of e)this._renderBundle(i,t,n)}_renderTransparents(e,t,n,i,s){if(t.length>0){for(const{material:o}of t)o.side=En;this._renderObjects(t,n,i,s,"backSide");for(const{material:o}of t)o.side=hs;this._renderObjects(e,n,i,s);for(const{material:o}of t)o.side=Pr}else this._renderObjects(e,n,i,s)}_renderObjects(e,t,n,i,s=null){for(let o=0,u=e.length;o<u;o++){const{object:h,geometry:d,material:m,group:y,clippingContext:x}=e[o];this._currentRenderObjectFunction(h,n,t,d,m,y,i,x,s)}}renderObject(e,t,n,i,s,o,u,h=null,d=null){let m,y,x;if(e.onBeforeRender(this,t,n,i,s,o),s.allowOverride===!0&&t.overrideMaterial!==null){const b=t.overrideMaterial;s.positionNode&&s.positionNode.isNode&&(m=b.positionNode,b.positionNode=s.positionNode),b.alphaTest=s.alphaTest,b.alphaMap=s.alphaMap,b.transparent=s.transparent||s.transmission>0,b.isShadowPassMaterial&&(b.side=s.shadowSide===null?s.side:s.shadowSide,s.depthNode&&s.depthNode.isNode&&(x=b.depthNode,b.depthNode=s.depthNode),s.castShadowNode&&s.castShadowNode.isNode&&(y=b.colorNode,b.colorNode=s.castShadowNode),s.castShadowPositionNode&&s.castShadowPositionNode.isNode&&(m=b.positionNode,b.positionNode=s.castShadowPositionNode)),s=b}s.transparent===!0&&s.side===Pr&&s.forceSinglePass===!1?(s.side=En,this._handleObjectFunction(e,s,t,n,u,o,h,"backSide"),s.side=hs,this._handleObjectFunction(e,s,t,n,u,o,h,d),s.side=Pr):this._handleObjectFunction(e,s,t,n,u,o,h,d),m!==void 0&&(t.overrideMaterial.positionNode=m),x!==void 0&&(t.overrideMaterial.depthNode=x),y!==void 0&&(t.overrideMaterial.colorNode=y),e.onAfterRender(this,t,n,i,s,o)}_renderObjectDirect(e,t,n,i,s,o,u,h){const d=this._objects.get(e,t,n,i,s,this._currentRenderContext,u,h);d.drawRange=e.geometry.drawRange,d.group=o;const m=this._nodes.needsRefresh(d);m&&(this._nodes.updateBefore(d),this._geometries.updateForRender(d),this._nodes.updateForRender(d),this._bindings.updateForRender(d)),this._pipelines.updateForRender(d),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(d),d.bundle=this._currentRenderBundle.bundleGroup),this.backend.draw(d,this.info),m&&this._nodes.updateAfter(d)}_createObjectPipeline(e,t,n,i,s,o,u,h){const d=this._objects.get(e,t,n,i,s,this._currentRenderContext,u,h);d.drawRange=e.geometry.drawRange,d.group=o,this._nodes.updateBefore(d),this._geometries.updateForRender(d),this._nodes.updateForRender(d),this._bindings.updateForRender(d),this._pipelines.getForRender(d,this._compilationPromises),this._nodes.updateAfter(d)}get compile(){return this.compileAsync}}class sl{constructor(e=""){this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}clone(){return Object.assign(new this.constructor,this)}}function hU(r){return r+(hi-r%hi)%hi}class u_ extends sl{constructor(e,t=null){super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=t}get byteLength(){return hU(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}}class c_ extends u_{constructor(e,t=null){super(e,t),this.isUniformBuffer=!0}}let fU=0;class h_ extends c_{constructor(e,t){super("UniformBuffer_"+fU++,e?e.value:null),this.nodeUniform=e,this.groupNode=t}get buffer(){return this.nodeUniform.value}}class dU extends c_{constructor(e){super(e),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let e=this._buffer;if(e===null){const t=this.byteLength;e=new Float32Array(new ArrayBuffer(t)),this._buffer=e}return e}get byteLength(){const e=this.bytesPerElement;let t=0;for(let n=0,i=this.uniforms.length;n<i;n++){const s=this.uniforms[n],o=s.boundary,u=s.itemSize*e,h=t%hi,d=h%o,m=h+d;t+=d,m!==0&&hi-m<u&&(t+=hi-m),s.offset=t/e,t+=u}return Math.ceil(t/hi)*hi}update(){let e=!1;for(const t of this.uniforms)this.updateByType(t)===!0&&(e=!0);return e}updateByType(e){if(e.isNumberUniform)return this.updateNumber(e);if(e.isVector2Uniform)return this.updateVector2(e);if(e.isVector3Uniform)return this.updateVector3(e);if(e.isVector4Uniform)return this.updateVector4(e);if(e.isColorUniform)return this.updateColor(e);if(e.isMatrix3Uniform)return this.updateMatrix3(e);if(e.isMatrix4Uniform)return this.updateMatrix4(e);console.error("THREE.WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let t=!1;const n=this.values,i=e.getValue(),s=e.offset,o=e.getType();if(n[s]!==i){const u=this._getBufferForType(o);u[s]=n[s]=i,t=!0}return t}updateVector2(e){let t=!1;const n=this.values,i=e.getValue(),s=e.offset,o=e.getType();if(n[s+0]!==i.x||n[s+1]!==i.y){const u=this._getBufferForType(o);u[s+0]=n[s+0]=i.x,u[s+1]=n[s+1]=i.y,t=!0}return t}updateVector3(e){let t=!1;const n=this.values,i=e.getValue(),s=e.offset,o=e.getType();if(n[s+0]!==i.x||n[s+1]!==i.y||n[s+2]!==i.z){const u=this._getBufferForType(o);u[s+0]=n[s+0]=i.x,u[s+1]=n[s+1]=i.y,u[s+2]=n[s+2]=i.z,t=!0}return t}updateVector4(e){let t=!1;const n=this.values,i=e.getValue(),s=e.offset,o=e.getType();if(n[s+0]!==i.x||n[s+1]!==i.y||n[s+2]!==i.z||n[s+4]!==i.w){const u=this._getBufferForType(o);u[s+0]=n[s+0]=i.x,u[s+1]=n[s+1]=i.y,u[s+2]=n[s+2]=i.z,u[s+3]=n[s+3]=i.w,t=!0}return t}updateColor(e){let t=!1;const n=this.values,i=e.getValue(),s=e.offset;if(n[s+0]!==i.r||n[s+1]!==i.g||n[s+2]!==i.b){const o=this.buffer;o[s+0]=n[s+0]=i.r,o[s+1]=n[s+1]=i.g,o[s+2]=n[s+2]=i.b,t=!0}return t}updateMatrix3(e){let t=!1;const n=this.values,i=e.getValue().elements,s=e.offset;if(n[s+0]!==i[0]||n[s+1]!==i[1]||n[s+2]!==i[2]||n[s+4]!==i[3]||n[s+5]!==i[4]||n[s+6]!==i[5]||n[s+8]!==i[6]||n[s+9]!==i[7]||n[s+10]!==i[8]){const o=this.buffer;o[s+0]=n[s+0]=i[0],o[s+1]=n[s+1]=i[1],o[s+2]=n[s+2]=i[2],o[s+4]=n[s+4]=i[3],o[s+5]=n[s+5]=i[4],o[s+6]=n[s+6]=i[5],o[s+8]=n[s+8]=i[6],o[s+9]=n[s+9]=i[7],o[s+10]=n[s+10]=i[8],t=!0}return t}updateMatrix4(e){let t=!1;const n=this.values,i=e.getValue().elements,s=e.offset;return mU(n,i,s)===!1&&(this.buffer.set(i,s),pU(n,i,s),t=!0),t}_getBufferForType(e){return e==="int"||e==="ivec2"||e==="ivec3"||e==="ivec4"?new Int32Array(this.buffer.buffer):e==="uint"||e==="uvec2"||e==="uvec3"||e==="uvec4"?new Uint32Array(this.buffer.buffer):this.buffer}}function pU(r,e,t){for(let n=0,i=e.length;n<i;n++)r[t+n]=e[n]}function mU(r,e,t){for(let n=0,i=e.length;n<i;n++)if(r[t+n]!==e[n])return!1;return!0}let gU=0;class f_ extends dU{constructor(e,t){super(e),this.id=gU++,this.groupNode=t,this.isNodeUniformsGroup=!0}}let yU=0;class vU extends sl{constructor(e,t){super(e),this.id=yU++,this.texture=t,this.version=t?t.version:0,this.store=!1,this.generation=null,this.isSampledTexture=!0}needsBindingsUpdate(e){const{texture:t}=this;return e!==this.generation?(this.generation=e,!0):t.isVideoTexture}update(){const{texture:e,version:t}=this;return t!==e.version?(this.version=e.version,!0):!1}}class L5 extends vU{constructor(e,t,n,i=null){super(e,t?t.value:null),this.textureNode=t,this.groupNode=n,this.access=i}needsBindingsUpdate(e){return this.textureNode.value!==this.texture||super.needsBindingsUpdate(e)}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class d_ extends L5{constructor(e,t,n,i=null){super(e,t,n,i),this.isSampledCubeTexture=!0}}class p_ extends L5{constructor(e,t,n,i=null){super(e,t,n,i),this.isSampledTexture3D=!0}}const _U={textureDimensions:"textureSize",equals:"equal"},xU={low:"lowp",medium:"mediump",high:"highp"},Gh={swizzleAssign:!0,storageBuffer:!1},Vh={perspective:"smooth",linear:"noperspective"},zh={centroid:"centroid","flat first":"flat","flat either":"flat"},Hh=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
precision lowp sampler2DArrayShadow;
precision lowp samplerCubeShadow;
`;class bU extends a_{constructor(e,t){super(e,t,new Kk),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]}}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==l2}getMethod(e){return _U[e]||e}getOutputStructName(){return""}buildFunctionCode(e){const t=e.layout,n=this.flowShaderNode(e),i=[];for(const o of t.inputs)i.push(this.getType(o.type)+" "+o.name);return`${this.getType(t.type)} ${t.name}( ${i.join(", ")} ) {

	${n.vars}

${n.code}
	return ${n.result};

}`}setupPBO(e){const t=e.value;if(t.pbo===void 0){const n=t.array,i=t.count*t.itemSize,{itemSize:s}=t,o=t.array.constructor.name.toLowerCase().includes("int");let u=o?m9:p9;s===2?u=o?g9:Yi:s===3?u=o?$T:d9:s===4&&(u=o?y9:Er);const h={Float32Array:or,Uint8Array:Un,Uint16Array:ts,Uint32Array:M0,Int8Array:No,Int16Array:Mo,Int32Array:hn,Uint8ClampedArray:Un},d=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(i/s))));let m=Math.ceil(i/s/d);d*m*s<i&&m++;const y=d*m*s,x=new n.constructor(y);x.set(n,0),t.array=x;const b=new cT(t.array,d,m,u,h[t.array.constructor.name]||or);b.needsUpdate=!0,b.isPBOTexture=!0;const w=new u1(b,null,null);w.setPrecision("high"),t.pboNode=w,t.pbo=w.value,this.getUniformFromNode(t.pboNode,"texture",this.shaderStage,this.context.label)}}getPropertyName(e,t=this.shaderStage){return e.isNodeUniform&&e.node.isTextureNode!==!0&&e.node.isBufferNode!==!0?t.charAt(0)+"_"+e.name:super.getPropertyName(e,t)}generatePBO(e){const{node:t,indexNode:n}=e,i=t.value;if(this.renderer.backend.has(i)){const m=this.renderer.backend.get(i);m.pbo=i.pbo}const s=this.getUniformFromNode(i.pboNode,"texture",this.shaderStage,this.context.label),o=this.getPropertyName(s);this.increaseUsage(n);const u=n.build(this,"uint"),h=this.getDataFromNode(e);let d=h.propertyName;if(d===void 0){const m=this.getVarFromNode(e);d=this.getPropertyName(m);const y=this.getDataFromNode(t);let x=y.propertySizeName;x===void 0&&(x=d+"Size",this.getVarFromNode(t,x,"uint"),this.addLineFlowCode(`${x} = uint( textureSize( ${o}, 0 ).x )`,e),y.propertySizeName=x);const{itemSize:b}=i,w="."+m2.join("").slice(0,b),S=`ivec2(${u} % ${x}, ${u} / ${x})`,N=this.generateTextureLoad(null,o,S,null,"0");let C="vec4";i.pbo.type===M0?C="uvec4":i.pbo.type===hn&&(C="ivec4"),this.addLineFlowCode(`${d} = ${C}(${N})${w}`,e),h.propertyName=d}return d}generateTextureLoad(e,t,n,i,s="0"){return i?`texelFetch( ${t}, ivec3( ${n}, ${i} ), ${s} )`:`texelFetch( ${t}, ${n}, ${s} )`}generateTexture(e,t,n,i){return e.isDepthTexture?(i&&(n=`vec4( ${n}, ${i} )`),`texture( ${t}, ${n} ).x`):(i&&(n=`vec3( ${n}, ${i} )`),`texture( ${t}, ${n} )`)}generateTextureLevel(e,t,n,i){return`textureLod( ${t}, ${n}, ${i} )`}generateTextureBias(e,t,n,i){return`texture( ${t}, ${n}, ${i} )`}generateTextureGrad(e,t,n,i){return`textureGrad( ${t}, ${n}, ${i[0]}, ${i[1]} )`}generateTextureCompare(e,t,n,i,s,o=this.shaderStage){if(o==="fragment")return s?`texture( ${t}, vec4( ${n}, ${s}, ${i} ) )`:`texture( ${t}, vec3( ${n}, ${i} ) )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${o} shader.`)}getVars(e){const t=[],n=this.vars[e];if(n!==void 0)for(const i of n)t.push(`${this.getVar(i.type,i.name,i.count)};`);return t.join(`
	`)}getUniforms(e){const t=this.uniforms[e],n=[],i={};for(const o of t){let u=null,h=!1;if(o.type==="texture"||o.type==="texture3D"){const m=o.node.value;let y="";(m.isDataTexture===!0||m.isData3DTexture===!0)&&(m.type===M0?y="u":m.type===hn&&(y="i")),o.type==="texture3D"&&m.isArrayTexture===!1?u=`${y}sampler3D ${o.name};`:m.compareFunction?m.isArrayTexture===!0?u=`sampler2DArrayShadow ${o.name};`:u=`sampler2DShadow ${o.name};`:m.isArrayTexture===!0||m.isDataArrayTexture===!0||m.isCompressedArrayTexture===!0?u=`${y}sampler2DArray ${o.name};`:u=`${y}sampler2D ${o.name};`}else if(o.type==="cubeTexture")u=`samplerCube ${o.name};`;else if(o.type==="buffer"){const m=o.node,y=this.getType(m.bufferType),x=m.bufferCount,b=x>0?x:"";u=`${m.name} {
	${y} ${o.name}[${b}];
};
`}else u=`${this.getVectorType(o.type)} ${this.getPropertyName(o,e)};`,h=!0;const d=o.node.precision;if(d!==null&&(u=xU[d]+" "+u),h){u="	"+u;const m=o.groupNode.name;(i[m]||(i[m]=[])).push(u)}else u="uniform "+u,n.push(u)}let s="";for(const o in i){const u=i[o];s+=this._getGLSLUniformStruct(e+"_"+o,u.join(`
`))+`
`}return s+=n.join(`
`),s}getTypeFromAttribute(e){let t=super.getTypeFromAttribute(e);if(/^[iu]/.test(t)&&e.gpuType!==hn){let n=e;e.isInterleavedBufferAttribute&&(n=e.data);const i=n.array;i instanceof Uint32Array||i instanceof Int32Array||(t=t.slice(1))}return t}getAttributes(e){let t="";if(e==="vertex"||e==="compute"){const n=this.getAttributesArray();let i=0;for(const s of n)t+=`layout( location = ${i++} ) in ${s.type} ${s.name};
`}return t}getStructMembers(e){const t=[];for(const n of e.members)t.push(`	${n.type} ${n.name};`);return t.join(`
`)}getStructs(e){const t=[],n=this.structs[e],i=[];for(const s of n)if(s.output)for(const o of s.members)i.push(`layout( location = ${o.index} ) out ${o.type} ${o.name};`);else{let o="struct "+s.name+` {
`;o+=this.getStructMembers(s),o+=`
};
`,t.push(o)}return i.length===0&&i.push("layout( location = 0 ) out vec4 fragColor;"),`
`+i.join(`
`)+`

`+t.join(`
`)}getVaryings(e){let t="";const n=this.varyings;if(e==="vertex"||e==="compute")for(const i of n){e==="compute"&&(i.needsInterpolation=!0);const s=this.getType(i.type);if(i.needsInterpolation)if(i.interpolationType){const o=Vh[i.interpolationType]||i.interpolationType,u=zh[i.interpolationSampling]||"";t+=`${o} ${u} out ${s} ${i.name};
`}else{const o=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";t+=`${o}out ${s} ${i.name};
`}else t+=`${s} ${i.name};
`}else if(e==="fragment"){for(const i of n)if(i.needsInterpolation){const s=this.getType(i.type);if(i.interpolationType){const o=Vh[i.interpolationType]||i.interpolationType,u=zh[i.interpolationSampling]||"";t+=`${o} ${u} in ${s} ${i.name};
`}else{const o=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";t+=`${o}in ${s} ${i.name};
`}}}for(const i of this.builtins[e])t+=`${i};
`;return t}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((n,i)=>n*i,1)}u`}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(e,t,n=this.shaderStage){const i=this.extensions[n]||(this.extensions[n]=new Map);i.has(e)===!1&&i.set(e,{name:e,behavior:t})}getExtensions(e){const t=[];if(e==="vertex"){const i=this.renderer.backend.extensions;this.object.isBatchedMesh&&i.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",e)}const n=this.extensions[e];if(n!==void 0)for(const{name:i,behavior:s}of n.values())t.push(`#extension ${i} : ${s}`);return t.join(`
`)}getClipDistance(){return"gl_ClipDistance"}isAvailable(e){let t=Gh[e];if(t===void 0){let n;switch(t=!1,e){case"float32Filterable":n="OES_texture_float_linear";break;case"clipDistance":n="WEBGL_clip_cull_distance";break}if(n!==void 0){const i=this.renderer.backend.extensions;i.has(n)&&(i.get(n),t=!0)}Gh[e]=t}return t}isFlipY(){return!0}enableHardwareClipping(e){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push(`out float gl_ClipDistance[ ${e} ]`)}enableMultiview(){this.enableExtension("GL_OVR_multiview2","require","fragment"),this.enableExtension("GL_OVR_multiview2","require","vertex"),this.builtins.vertex.push("layout(num_views = 2) in")}registerTransform(e,t){this.transforms.push({varyingName:e,attributeNode:t})}getTransforms(){const e=this.transforms;let t="";for(let n=0;n<e.length;n++){const i=e[n],s=this.getPropertyName(i.attributeNode);s&&(t+=`${i.varyingName} = ${s};
	`)}return t}_getGLSLUniformStruct(e,t){return`
layout( std140 ) uniform ${e} {
${t}
};`}_getGLSLVertexCode(e){return`#version 300 es

${this.getSignature()}

// extensions
${e.extensions}

// precision
${Hh}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// attributes
${e.attributes}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// transforms
	${e.transforms}

	// flow
	${e.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(e){return`#version 300 es

${this.getSignature()}

// extensions
${e.extensions}

// precision
${Hh}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

// structs
${e.structs}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const t in e){let n=`// code

`;n+=this.flowCode[t];const i=this.flowNodes[t],s=i[i.length-1];for(const u of i){const h=this.getFlowData(u),d=u.name;d&&(n.length>0&&(n+=`
`),n+=`	// flow -> ${d}
	`),n+=`${h.code}
	`,u===s&&t!=="compute"&&(n+=`// result
	`,t==="vertex"?(n+="gl_Position = ",n+=`${h.result};`):t==="fragment"&&(u.outputNode.isOutputStructNode||(n+="fragColor = ",n+=`${h.result};`)))}const o=e[t];o.extensions=this.getExtensions(t),o.uniforms=this.getUniforms(t),o.attributes=this.getAttributes(t),o.varyings=this.getVaryings(t),o.vars=this.getVars(t),o.structs=this.getStructs(t),o.codes=this.getCodes(t),o.transforms=this.getTransforms(t),o.flow=n}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):this.computeShader=this._getGLSLVertexCode(e.compute)}getUniformFromNode(e,t,n,i=null){const s=super.getUniformFromNode(e,t,n,i),o=this.getDataFromNode(e,n,this.globalCache);let u=o.uniformGPU;if(u===void 0){const h=e.groupNode,d=h.name,m=this.getBindGroupArray(d,n);if(t==="texture")u=new L5(s.name,s.node,h),m.push(u);else if(t==="cubeTexture")u=new d_(s.name,s.node,h),m.push(u);else if(t==="texture3D")u=new p_(s.name,s.node,h),m.push(u);else if(t==="buffer"){e.name=`NodeBuffer_${e.id}`,s.name=`buffer${e.id}`;const y=new h_(e,h);y.name=e.name,m.push(y),u=y}else{const y=this.uniformGroups[n]||(this.uniformGroups[n]={});let x=y[d];x===void 0&&(x=new f_(n+"_"+d,h),y[d]=x,m.push(x)),u=this.getNodeUniform(s,t),x.addUniform(u)}o.uniformGPU=u}return s}}let u6=null,W2=null;class m_{constructor(e={}){this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null,this.timestampQueryPool={render:null,compute:null},this.trackTimestamp=e.trackTimestamp===!0}async init(e){this.renderer=e}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}createSampler(){}destroySampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}async copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}isOccluded(){}async resolveTimestampsAsync(e="render"){if(!this.trackTimestamp){A2("WebGPURenderer: Timestamp tracking is disabled.");return}const t=this.timestampQueryPool[e];if(!t){A2(`WebGPURenderer: No timestamp query pool for type '${e}' found.`);return}const n=await t.resolveQueriesAsync();return this.renderer.info[e].timestamp=n,n}async waitForGPU(){}async getArrayBufferAsync(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return u6=u6||new qt,this.renderer.getDrawingBufferSize(u6)}setScissorTest(){}getClearColor(){const e=this.renderer;return W2=W2||new GA,e.getClearColor(W2),W2.getRGB(W2),W2}getDomElement(){let e=this.domElement;return e===null&&(e=this.parameters.canvas!==void 0?this.parameters.canvas:rT(),"setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Mf} webgpu`),this.domElement=e),e}set(e,t){this.data.set(e,t)}get(e){let t=this.data.get(e);return t===void 0&&(t={},this.data.set(e,t)),t}has(e){return this.data.has(e)}delete(e){this.data.delete(e)}dispose(){}}let TU=0;class wU{constructor(e,t){this.buffers=[e.bufferGPU,t],this.type=e.type,this.bufferType=e.bufferType,this.pbo=e.pbo,this.byteLength=e.byteLength,this.bytesPerElement=e.BYTES_PER_ELEMENT,this.version=e.version,this.isInteger=e.isInteger,this.activeBufferIndex=0,this.baseId=e.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class SU{constructor(e){this.backend=e}createAttribute(e,t){const n=this.backend,{gl:i}=n,s=e.array,o=e.usage||i.STATIC_DRAW,u=e.isInterleavedBufferAttribute?e.data:e,h=n.get(u);let d=h.bufferGPU;d===void 0&&(d=this._createBuffer(i,t,s,o),h.bufferGPU=d,h.bufferType=t,h.version=u.version);let m;if(s instanceof Float32Array)m=i.FLOAT;else if(s instanceof Uint16Array)e.isFloat16BufferAttribute?m=i.HALF_FLOAT:m=i.UNSIGNED_SHORT;else if(s instanceof Int16Array)m=i.SHORT;else if(s instanceof Uint32Array)m=i.UNSIGNED_INT;else if(s instanceof Int32Array)m=i.INT;else if(s instanceof Int8Array)m=i.BYTE;else if(s instanceof Uint8Array)m=i.UNSIGNED_BYTE;else if(s instanceof Uint8ClampedArray)m=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+s);let y={bufferGPU:d,bufferType:t,type:m,byteLength:s.byteLength,bytesPerElement:s.BYTES_PER_ELEMENT,version:e.version,pbo:e.pbo,isInteger:m===i.INT||m===i.UNSIGNED_INT||e.gpuType===hn,id:TU++};if(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute){const x=this._createBuffer(i,t,s,o);y=new wU(y,x)}n.set(e,y)}updateAttribute(e){const t=this.backend,{gl:n}=t,i=e.array,s=e.isInterleavedBufferAttribute?e.data:e,o=t.get(s),u=o.bufferType,h=e.isInterleavedBufferAttribute?e.data.updateRanges:e.updateRanges;if(n.bindBuffer(u,o.bufferGPU),h.length===0)n.bufferSubData(u,0,i);else{for(let d=0,m=h.length;d<m;d++){const y=h[d];n.bufferSubData(u,y.start*i.BYTES_PER_ELEMENT,i,y.start,y.count)}s.clearUpdateRanges()}n.bindBuffer(u,null),o.version=s.version}destroyAttribute(e){const t=this.backend,{gl:n}=t;e.isInterleavedBufferAttribute&&t.delete(e.data);const i=t.get(e);n.deleteBuffer(i.bufferGPU),t.delete(e)}async getArrayBufferAsync(e){const t=this.backend,{gl:n}=t,i=e.isInterleavedBufferAttribute?e.data:e,{bufferGPU:s}=t.get(i),o=e.array,u=o.byteLength;n.bindBuffer(n.COPY_READ_BUFFER,s);const h=n.createBuffer();n.bindBuffer(n.COPY_WRITE_BUFFER,h),n.bufferData(n.COPY_WRITE_BUFFER,u,n.STREAM_READ),n.copyBufferSubData(n.COPY_READ_BUFFER,n.COPY_WRITE_BUFFER,0,0,u),await t.utils._clientWaitAsync();const d=new e.array.constructor(o.length);return n.bindBuffer(n.COPY_WRITE_BUFFER,h),n.getBufferSubData(n.COPY_WRITE_BUFFER,0,d),n.deleteBuffer(h),n.bindBuffer(n.COPY_READ_BUFFER,null),n.bindBuffer(n.COPY_WRITE_BUFFER,null),d.buffer}_createBuffer(e,t,n,i){const s=e.createBuffer();return e.bindBuffer(t,s),e.bufferData(t,n,i),e.bindBuffer(t,null),s}}let c6,ho;class EU{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentVAO=null,this.currentIndex=null,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},this._init()}_init(){const e=this.gl;c6={[M1]:e.FUNC_ADD,[Of]:e.FUNC_SUBTRACT,[If]:e.FUNC_REVERSE_SUBTRACT},ho={[oi]:e.ZERO,[Qf]:e.ONE,[Wf]:e.SRC_COLOR,[$f]:e.SRC_ALPHA,[jf]:e.SRC_ALPHA_SATURATE,[Hf]:e.DST_COLOR,[zf]:e.DST_ALPHA,[Vf]:e.ONE_MINUS_SRC_COLOR,[Gf]:e.ONE_MINUS_SRC_ALPHA,[Uf]:e.ONE_MINUS_DST_COLOR,[kf]:e.ONE_MINUS_DST_ALPHA};const t=e.getParameter(e.SCISSOR_BOX),n=e.getParameter(e.VIEWPORT);this.currentScissor=new jt().fromArray(t),this.currentViewport=new jt().fromArray(n),this._tempVec4=new jt}enable(e){const{enabled:t}=this;t[e]!==!0&&(this.gl.enable(e),t[e]=!0)}disable(e){const{enabled:t}=this;t[e]!==!1&&(this.gl.disable(e),t[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:t}=this;e?t.frontFace(t.CW):t.frontFace(t.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:t}=this;e!==iT?(this.enable(t.CULL_FACE),e!==this.currentCullFace&&(e===sT?t.cullFace(t.BACK):e===oT?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):this.disable(t.CULL_FACE),this.currentCullFace=e}setLineWidth(e){const{currentLineWidth:t,gl:n}=this;e!==t&&(n.lineWidth(e),this.currentLineWidth=e)}setBlending(e,t,n,i,s,o,u,h){const{gl:d}=this;if(e===Go){this.currentBlendingEnabled===!0&&(this.disable(d.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(d.BLEND),this.currentBlendingEnabled=!0),e!==Eo){if(e!==this.currentBlending||h!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==M1||this.currentBlendEquationAlpha!==M1)&&(d.blendEquation(d.FUNC_ADD),this.currentBlendEquation=M1,this.currentBlendEquationAlpha=M1),h)switch(e){case P1:d.blendFuncSeparate(d.ONE,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case na:d.blendFunc(d.ONE,d.ONE);break;case ta:d.blendFuncSeparate(d.ZERO,d.ONE_MINUS_SRC_COLOR,d.ZERO,d.ONE);break;case ea:d.blendFuncSeparate(d.ZERO,d.SRC_COLOR,d.ZERO,d.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case P1:d.blendFuncSeparate(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA,d.ONE,d.ONE_MINUS_SRC_ALPHA);break;case na:d.blendFunc(d.SRC_ALPHA,d.ONE);break;case ta:d.blendFuncSeparate(d.ZERO,d.ONE_MINUS_SRC_COLOR,d.ZERO,d.ONE);break;case ea:d.blendFunc(d.ZERO,d.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=h}return}s=s||t,o=o||n,u=u||i,(t!==this.currentBlendEquation||s!==this.currentBlendEquationAlpha)&&(d.blendEquationSeparate(c6[t],c6[s]),this.currentBlendEquation=t,this.currentBlendEquationAlpha=s),(n!==this.currentBlendSrc||i!==this.currentBlendDst||o!==this.currentBlendSrcAlpha||u!==this.currentBlendDstAlpha)&&(d.blendFuncSeparate(ho[n],ho[i],ho[o],ho[u]),this.currentBlendSrc=n,this.currentBlendDst=i,this.currentBlendSrcAlpha=o,this.currentBlendDstAlpha=u),this.currentBlending=e,this.currentPremultipledAlpha=!1}setColorMask(e){this.currentColorMask!==e&&(this.gl.colorMask(e,e,e,e),this.currentColorMask=e)}setDepthTest(e){const{gl:t}=this;e?this.enable(t.DEPTH_TEST):this.disable(t.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:t}=this;switch(e){case nd:t.depthFunc(t.NEVER);break;case td:t.depthFunc(t.ALWAYS);break;case ed:t.depthFunc(t.LESS);break;case Jf:t.depthFunc(t.LEQUAL);break;case Zf:t.depthFunc(t.EQUAL);break;case Kf:t.depthFunc(t.GEQUAL);break;case Xf:t.depthFunc(t.GREATER);break;case Yf:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}this.currentDepthFunc=e}}scissor(e,t,n,i){const s=this._tempVec4.set(e,t,n,i);if(this.currentScissor.equals(s)===!1){const{gl:o}=this;o.scissor(s.x,s.y,s.z,s.w),this.currentScissor.copy(s)}}viewport(e,t,n,i){const s=this._tempVec4.set(e,t,n,i);if(this.currentViewport.equals(s)===!1){const{gl:o}=this;o.viewport(s.x,s.y,s.z,s.w),this.currentViewport.copy(s)}}setScissorTest(e){const t=this.gl;e?t.enable(t.SCISSOR_TEST):t.disable(t.SCISSOR_TEST)}setStencilTest(e){const{gl:t}=this;e?this.enable(t.STENCIL_TEST):this.disable(t.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,t,n){(this.currentStencilFunc!==e||this.currentStencilRef!==t||this.currentStencilFuncMask!==n)&&(this.gl.stencilFunc(e,t,n),this.currentStencilFunc=e,this.currentStencilRef=t,this.currentStencilFuncMask=n)}setStencilOp(e,t,n){(this.currentStencilFail!==e||this.currentStencilZFail!==t||this.currentStencilZPass!==n)&&(this.gl.stencilOp(e,t,n),this.currentStencilFail=e,this.currentStencilZFail=t,this.currentStencilZPass=n)}setMaterial(e,t,n){const{gl:i}=this;e.side===Pr?this.disable(i.CULL_FACE):this.enable(i.CULL_FACE);let s=e.side===En;t&&(s=!s),this.setFlipSided(s),e.blending===P1&&e.transparent===!1?this.setBlending(Go):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setColorMask(e.colorWrite);const o=e.stencilWrite;if(this.setStencilTest(o),o&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),e.alphaToCoverage===!0&&this.backend.renderer.samples>1?this.enable(i.SAMPLE_ALPHA_TO_COVERAGE):this.disable(i.SAMPLE_ALPHA_TO_COVERAGE),n>0&&this.currentClippingPlanes!==n)for(let h=0;h<8;h++)h<n?this.enable(12288+h):this.disable(12288+h)}setPolygonOffset(e,t,n){const{gl:i}=this;e?(this.enable(i.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==t||this.currentPolygonOffsetUnits!==n)&&(i.polygonOffset(t,n),this.currentPolygonOffsetFactor=t,this.currentPolygonOffsetUnits=n)):this.disable(i.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e?(this.gl.useProgram(e),this.currentProgram=e,!0):!1}setVertexState(e,t=null){const n=this.gl;return this.currentVAO!==e||this.currentIndex!==t?(n.bindVertexArray(e),t!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t),this.currentVAO=e,this.currentIndex=t,!0):!1}resetVertexState(){const e=this.gl;e.bindVertexArray(null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),this.currentVAO=null,this.currentIndex=null}bindFramebuffer(e,t){const{gl:n,currentBoundFramebuffers:i}=this;return i[e]!==t?(n.bindFramebuffer(e,t),i[e]=t,e===n.DRAW_FRAMEBUFFER&&(i[n.FRAMEBUFFER]=t),e===n.FRAMEBUFFER&&(i[n.DRAW_FRAMEBUFFER]=t),!0):!1}drawBuffers(e,t){const{gl:n}=this;let i=[],s=!1;if(e.textures!==null){i=this.currentDrawbuffers.get(t),i===void 0&&(i=[],this.currentDrawbuffers.set(t,i));const o=e.textures;if(i.length!==o.length||i[0]!==n.COLOR_ATTACHMENT0){for(let u=0,h=o.length;u<h;u++)i[u]=n.COLOR_ATTACHMENT0+u;i.length=o.length,s=!0}}else i[0]!==n.BACK&&(i[0]=n.BACK,s=!0);s&&n.drawBuffers(i)}activeTexture(e){const{gl:t,currentTextureSlot:n,maxTextures:i}=this;e===void 0&&(e=t.TEXTURE0+i-1),n!==e&&(t.activeTexture(e),this.currentTextureSlot=e)}bindTexture(e,t,n){const{gl:i,currentTextureSlot:s,currentBoundTextures:o,maxTextures:u}=this;n===void 0&&(s===null?n=i.TEXTURE0+u-1:n=s);let h=o[n];h===void 0&&(h={type:void 0,texture:void 0},o[n]=h),(h.type!==e||h.texture!==t)&&(s!==n&&(i.activeTexture(n),this.currentTextureSlot=n),i.bindTexture(e,t),h.type=e,h.texture=t)}bindBufferBase(e,t,n){const{gl:i}=this,s=`${e}-${t}`;return this.currentBoundBufferBases[s]!==n?(i.bindBufferBase(e,t,n),this.currentBoundBufferBases[s]=n,!0):!1}unbindTexture(){const{gl:e,currentTextureSlot:t,currentBoundTextures:n}=this,i=n[t];i!==void 0&&i.type!==void 0&&(e.bindTexture(i.type,null),i.type=void 0,i.texture=void 0)}}class NU{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e,t=l2){const{gl:n,extensions:i}=this;let s;const o=W0.getTransfer(t);if(e===Un)return n.UNSIGNED_BYTE;if(e===aT)return n.UNSIGNED_SHORT_4_4_4_4;if(e===AT)return n.UNSIGNED_SHORT_5_5_5_1;if(e===rd)return n.UNSIGNED_INT_5_9_9_9_REV;if(e===No)return n.BYTE;if(e===Mo)return n.SHORT;if(e===ts)return n.UNSIGNED_SHORT;if(e===hn)return n.INT;if(e===M0)return n.UNSIGNED_INT;if(e===or)return n.FLOAT;if(e===xn)return n.HALF_FLOAT;if(e===lT)return n.ALPHA;if(e===d9)return n.RGB;if(e===Er)return n.RGBA;if(e===yi)return n.DEPTH_COMPONENT;if(e===gi)return n.DEPTH_STENCIL;if(e===p9)return n.RED;if(e===m9)return n.RED_INTEGER;if(e===Yi)return n.RG;if(e===g9)return n.RG_INTEGER;if(e===y9)return n.RGBA_INTEGER;if(e===_8||e===D3||e===F3||e===L3)if(o===mt)if(s=i.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(e===_8)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===D3)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===F3)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===L3)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=i.get("WEBGL_compressed_texture_s3tc"),s!==null){if(e===_8)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===D3)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===F3)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===L3)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===au||e===Au||e===lu||e===uu)if(s=i.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(e===au)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Au)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===lu)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===uu)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===cu||e===M6||e===R6)if(s=i.get("WEBGL_compressed_texture_etc"),s!==null){if(e===cu||e===M6)return o===mt?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(e===R6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(e===C6||e===P6||e===B6||e===D6||e===F6||e===L6||e===q6||e===I6||e===O6||e===k6||e===U6||e===G6||e===V6||e===z6)if(s=i.get("WEBGL_compressed_texture_astc"),s!==null){if(e===C6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===P6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===B6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===D6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===F6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===L6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===q6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===I6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===O6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===k6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===U6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===G6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===V6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===z6)return o===mt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(e===x8)if(s=i.get("EXT_texture_compression_bptc"),s!==null){if(e===x8)return o===mt?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(e===uT||e===hu||e===fu||e===du)if(s=i.get("EXT_texture_compression_rgtc"),s!==null){if(e===x8)return s.COMPRESSED_RED_RGTC1_EXT;if(e===hu)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===fu)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===du)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return e===mi?n.UNSIGNED_INT_24_8:n[e]!==void 0?n[e]:null}_clientWaitAsync(){const{gl:e}=this,t=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),new Promise((n,i)=>{function s(){const o=e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0);if(o===e.WAIT_FAILED){e.deleteSync(t),i();return}if(o===e.TIMEOUT_EXPIRED){requestAnimationFrame(s);return}e.deleteSync(t),n()}s()})}}let jh=!1,v3,h6,$h;class MU{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,this.defaultTextures={},jh===!1&&(this._init(),jh=!0)}_init(){const e=this.gl;v3={[n5]:e.REPEAT,[h9]:e.CLAMP_TO_EDGE,[t5]:e.MIRRORED_REPEAT},h6={[wr]:e.NEAREST,[Rf]:e.NEAREST_MIPMAP_NEAREST,[Uo]:e.NEAREST_MIPMAP_LINEAR,[L1]:e.LINEAR,[N6]:e.LINEAR_MIPMAP_NEAREST,[t2]:e.LINEAR_MIPMAP_LINEAR},$h={[qf]:e.NEVER,[Lf]:e.ALWAYS,[f9]:e.LESS,[Ff]:e.LEQUAL,[Df]:e.EQUAL,[Bf]:e.GEQUAL,[Pf]:e.GREATER,[Cf]:e.NOTEQUAL}}getGLTextureType(e){const{gl:t}=this;let n;return e.isCubeTexture===!0?n=t.TEXTURE_CUBE_MAP:e.isArrayTexture===!0||e.isDataArrayTexture===!0||e.isCompressedArrayTexture===!0?n=t.TEXTURE_2D_ARRAY:e.isData3DTexture===!0?n=t.TEXTURE_3D:n=t.TEXTURE_2D,n}getInternalFormat(e,t,n,i,s=!1){const{gl:o,extensions:u}=this;if(e!==null){if(o[e]!==void 0)return o[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let h=t;if(t===o.RED&&(n===o.FLOAT&&(h=o.R32F),n===o.HALF_FLOAT&&(h=o.R16F),n===o.UNSIGNED_BYTE&&(h=o.R8),n===o.UNSIGNED_SHORT&&(h=o.R16),n===o.UNSIGNED_INT&&(h=o.R32UI),n===o.BYTE&&(h=o.R8I),n===o.SHORT&&(h=o.R16I),n===o.INT&&(h=o.R32I)),t===o.RED_INTEGER&&(n===o.UNSIGNED_BYTE&&(h=o.R8UI),n===o.UNSIGNED_SHORT&&(h=o.R16UI),n===o.UNSIGNED_INT&&(h=o.R32UI),n===o.BYTE&&(h=o.R8I),n===o.SHORT&&(h=o.R16I),n===o.INT&&(h=o.R32I)),t===o.RG&&(n===o.FLOAT&&(h=o.RG32F),n===o.HALF_FLOAT&&(h=o.RG16F),n===o.UNSIGNED_BYTE&&(h=o.RG8),n===o.UNSIGNED_SHORT&&(h=o.RG16),n===o.UNSIGNED_INT&&(h=o.RG32UI),n===o.BYTE&&(h=o.RG8I),n===o.SHORT&&(h=o.RG16I),n===o.INT&&(h=o.RG32I)),t===o.RG_INTEGER&&(n===o.UNSIGNED_BYTE&&(h=o.RG8UI),n===o.UNSIGNED_SHORT&&(h=o.RG16UI),n===o.UNSIGNED_INT&&(h=o.RG32UI),n===o.BYTE&&(h=o.RG8I),n===o.SHORT&&(h=o.RG16I),n===o.INT&&(h=o.RG32I)),t===o.RGB){const d=s?ou:W0.getTransfer(i);n===o.FLOAT&&(h=o.RGB32F),n===o.HALF_FLOAT&&(h=o.RGB16F),n===o.UNSIGNED_BYTE&&(h=o.RGB8),n===o.UNSIGNED_SHORT&&(h=o.RGB16),n===o.UNSIGNED_INT&&(h=o.RGB32UI),n===o.BYTE&&(h=o.RGB8I),n===o.SHORT&&(h=o.RGB16I),n===o.INT&&(h=o.RGB32I),n===o.UNSIGNED_BYTE&&(h=d===mt?o.SRGB8:o.RGB8),n===o.UNSIGNED_SHORT_5_6_5&&(h=o.RGB565),n===o.UNSIGNED_SHORT_5_5_5_1&&(h=o.RGB5_A1),n===o.UNSIGNED_SHORT_4_4_4_4&&(h=o.RGB4),n===o.UNSIGNED_INT_5_9_9_9_REV&&(h=o.RGB9_E5)}if(t===o.RGB_INTEGER&&(n===o.UNSIGNED_BYTE&&(h=o.RGB8UI),n===o.UNSIGNED_SHORT&&(h=o.RGB16UI),n===o.UNSIGNED_INT&&(h=o.RGB32UI),n===o.BYTE&&(h=o.RGB8I),n===o.SHORT&&(h=o.RGB16I),n===o.INT&&(h=o.RGB32I)),t===o.RGBA){const d=s?ou:W0.getTransfer(i);n===o.FLOAT&&(h=o.RGBA32F),n===o.HALF_FLOAT&&(h=o.RGBA16F),n===o.UNSIGNED_BYTE&&(h=o.RGBA8),n===o.UNSIGNED_SHORT&&(h=o.RGBA16),n===o.UNSIGNED_INT&&(h=o.RGBA32UI),n===o.BYTE&&(h=o.RGBA8I),n===o.SHORT&&(h=o.RGBA16I),n===o.INT&&(h=o.RGBA32I),n===o.UNSIGNED_BYTE&&(h=d===mt?o.SRGB8_ALPHA8:o.RGBA8),n===o.UNSIGNED_SHORT_4_4_4_4&&(h=o.RGBA4),n===o.UNSIGNED_SHORT_5_5_5_1&&(h=o.RGB5_A1)}return t===o.RGBA_INTEGER&&(n===o.UNSIGNED_BYTE&&(h=o.RGBA8UI),n===o.UNSIGNED_SHORT&&(h=o.RGBA16UI),n===o.UNSIGNED_INT&&(h=o.RGBA32UI),n===o.BYTE&&(h=o.RGBA8I),n===o.SHORT&&(h=o.RGBA16I),n===o.INT&&(h=o.RGBA32I)),t===o.DEPTH_COMPONENT&&(n===o.UNSIGNED_SHORT&&(h=o.DEPTH_COMPONENT16),n===o.UNSIGNED_INT&&(h=o.DEPTH_COMPONENT24),n===o.FLOAT&&(h=o.DEPTH_COMPONENT32F)),t===o.DEPTH_STENCIL&&n===o.UNSIGNED_INT_24_8&&(h=o.DEPTH24_STENCIL8),(h===o.R16F||h===o.R32F||h===o.RG16F||h===o.RG32F||h===o.RGBA16F||h===o.RGBA32F)&&u.get("EXT_color_buffer_float"),h}setTextureParameters(e,t){const{gl:n,extensions:i,backend:s}=this,o=W0.getPrimaries(W0.workingColorSpace),u=t.colorSpace===l2?null:W0.getPrimaries(t.colorSpace),h=t.colorSpace===l2||o===u?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,t.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,t.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,h),n.texParameteri(e,n.TEXTURE_WRAP_S,v3[t.wrapS]),n.texParameteri(e,n.TEXTURE_WRAP_T,v3[t.wrapT]),(e===n.TEXTURE_3D||e===n.TEXTURE_2D_ARRAY)&&(t.isArrayTexture||n.texParameteri(e,n.TEXTURE_WRAP_R,v3[t.wrapR])),n.texParameteri(e,n.TEXTURE_MAG_FILTER,h6[t.magFilter]);const d=t.mipmaps!==void 0&&t.mipmaps.length>0,m=t.minFilter===L1&&d?t2:t.minFilter;if(n.texParameteri(e,n.TEXTURE_MIN_FILTER,h6[m]),t.compareFunction&&(n.texParameteri(e,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(e,n.TEXTURE_COMPARE_FUNC,$h[t.compareFunction])),i.has("EXT_texture_filter_anisotropic")===!0){if(t.magFilter===wr||t.minFilter!==Uo&&t.minFilter!==t2||t.type===or&&i.has("OES_texture_float_linear")===!1)return;if(t.anisotropy>1){const y=i.get("EXT_texture_filter_anisotropic");n.texParameterf(e,y.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,s.getMaxAnisotropy()))}}}createDefaultTexture(e){const{gl:t,backend:n,defaultTextures:i}=this,s=this.getGLTextureType(e);let o=i[s];o===void 0&&(o=t.createTexture(),n.state.bindTexture(s,o),t.texParameteri(s,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(s,t.TEXTURE_MAG_FILTER,t.NEAREST),i[s]=o),n.set(e,{textureGPU:o,glTextureType:s,isDefault:!0})}createTexture(e,t){const{gl:n,backend:i}=this,{levels:s,width:o,height:u,depth:h}=t,d=i.utils.convert(e.format,e.colorSpace),m=i.utils.convert(e.type),y=this.getInternalFormat(e.internalFormat,d,m,e.colorSpace,e.isVideoTexture),x=n.createTexture(),b=this.getGLTextureType(e);i.state.bindTexture(b,x),this.setTextureParameters(b,e),e.isArrayTexture||e.isDataArrayTexture||e.isCompressedArrayTexture?n.texStorage3D(n.TEXTURE_2D_ARRAY,s,y,o,u,h):e.isData3DTexture?n.texStorage3D(n.TEXTURE_3D,s,y,o,u,h):e.isVideoTexture||n.texStorage2D(b,s,y,o,u),i.set(e,{textureGPU:x,glTextureType:b,glFormat:d,glType:m,glInternalFormat:y})}copyBufferToTexture(e,t){const{gl:n,backend:i}=this,{textureGPU:s,glTextureType:o,glFormat:u,glType:h}=i.get(t),{width:d,height:m}=t.source.data;n.bindBuffer(n.PIXEL_UNPACK_BUFFER,e),i.state.bindTexture(o,s),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.texSubImage2D(o,0,0,0,d,m,u,h,0),n.bindBuffer(n.PIXEL_UNPACK_BUFFER,null),i.state.unbindTexture()}updateTexture(e,t){const{gl:n}=this,{width:i,height:s}=t,{textureGPU:o,glTextureType:u,glFormat:h,glType:d,glInternalFormat:m}=this.backend.get(e);if(!(e.isRenderTargetTexture||o===void 0))if(this.backend.state.bindTexture(u,o),this.setTextureParameters(u,e),e.isCompressedTexture){const y=e.mipmaps,x=t.image;for(let b=0;b<y.length;b++){const w=y[b];e.isCompressedArrayTexture?e.format!==n.RGBA?h!==null?n.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,b,0,0,0,w.width,w.height,x.depth,h,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texSubImage3D(n.TEXTURE_2D_ARRAY,b,0,0,0,w.width,w.height,x.depth,h,d,w.data):h!==null?n.compressedTexSubImage2D(n.TEXTURE_2D,b,0,0,w.width,w.height,h,w.data):console.warn("Unsupported compressed texture format")}}else if(e.isCubeTexture){const y=t.images;for(let x=0;x<6;x++){const b=Wh(y[x]);n.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+x,0,0,0,i,s,h,d,b)}}else if(e.isDataArrayTexture||e.isArrayTexture){const y=t.image;n.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,y.width,y.height,y.depth,h,d,y.data)}else if(e.isData3DTexture){const y=t.image;n.texSubImage3D(n.TEXTURE_3D,0,0,0,0,y.width,y.height,y.depth,h,d,y.data)}else if(e.isVideoTexture)e.update(),n.texImage2D(u,0,m,h,d,t.image);else{const y=Wh(t.image);n.texSubImage2D(u,0,0,0,i,s,h,d,y)}}generateMipmaps(e){const{gl:t,backend:n}=this,{textureGPU:i,glTextureType:s}=n.get(e);n.state.bindTexture(s,i),t.generateMipmap(s)}deallocateRenderBuffers(e){const{gl:t,backend:n}=this;if(e){const i=n.get(e);if(i.renderBufferStorageSetup=void 0,i.framebuffers){for(const s in i.framebuffers)t.deleteFramebuffer(i.framebuffers[s]);delete i.framebuffers}if(i.depthRenderbuffer&&(t.deleteRenderbuffer(i.depthRenderbuffer),delete i.depthRenderbuffer),i.stencilRenderbuffer&&(t.deleteRenderbuffer(i.stencilRenderbuffer),delete i.stencilRenderbuffer),i.msaaFrameBuffer&&(t.deleteFramebuffer(i.msaaFrameBuffer),delete i.msaaFrameBuffer),i.msaaRenderbuffers){for(let s=0;s<i.msaaRenderbuffers.length;s++)t.deleteRenderbuffer(i.msaaRenderbuffers[s]);delete i.msaaRenderbuffers}}}destroyTexture(e){const{gl:t,backend:n}=this,{textureGPU:i,renderTarget:s}=n.get(e);this.deallocateRenderBuffers(s),t.deleteTexture(i),n.delete(e)}copyTextureToTexture(e,t,n=null,i=null,s=0,o=0){const{gl:u,backend:h}=this,{state:d}=this.backend,{textureGPU:m,glTextureType:y,glType:x,glFormat:b}=h.get(t);d.bindTexture(y,m);let w,S,N,C,P,B,q,D,I;const U=e.isCompressedTexture?e.mipmaps[o]:e.image;if(n!==null)w=n.max.x-n.min.x,S=n.max.y-n.min.y,N=n.isBox3?n.max.z-n.min.z:1,C=n.min.x,P=n.min.y,B=n.isBox3?n.min.z:0;else{const J=Math.pow(2,-s);w=Math.floor(U.width*J),S=Math.floor(U.height*J),e.isDataArrayTexture||e.isArrayTexture?N=U.depth:e.isData3DTexture?N=Math.floor(U.depth*J):N=1,C=0,P=0,B=0}i!==null?(q=i.x,D=i.y,I=i.z):(q=0,D=0,I=0),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,t.flipY),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),u.pixelStorei(u.UNPACK_ALIGNMENT,t.unpackAlignment);const V=u.getParameter(u.UNPACK_ROW_LENGTH),H=u.getParameter(u.UNPACK_IMAGE_HEIGHT),z=u.getParameter(u.UNPACK_SKIP_PIXELS),k=u.getParameter(u.UNPACK_SKIP_ROWS),Y=u.getParameter(u.UNPACK_SKIP_IMAGES);u.pixelStorei(u.UNPACK_ROW_LENGTH,U.width),u.pixelStorei(u.UNPACK_IMAGE_HEIGHT,U.height),u.pixelStorei(u.UNPACK_SKIP_PIXELS,C),u.pixelStorei(u.UNPACK_SKIP_ROWS,P),u.pixelStorei(u.UNPACK_SKIP_IMAGES,B);const X=t.isDataArrayTexture||t.isData3DTexture||t.isArrayTexture;if(e.isRenderTargetTexture||e.isDepthTexture){const J=h.get(e),K=h.get(t),oe=h.get(J.renderTarget),ce=h.get(K.renderTarget),de=oe.framebuffers[J.cacheKey],ve=ce.framebuffers[K.cacheKey];d.bindFramebuffer(u.READ_FRAMEBUFFER,de),d.bindFramebuffer(u.DRAW_FRAMEBUFFER,ve);let Me=u.COLOR_BUFFER_BIT;e.isDepthTexture&&(Me=u.DEPTH_BUFFER_BIT),u.blitFramebuffer(C,P,w,S,q,D,w,S,Me,u.NEAREST),d.bindFramebuffer(u.READ_FRAMEBUFFER,null),d.bindFramebuffer(u.DRAW_FRAMEBUFFER,null)}else X?e.isDataTexture||e.isData3DTexture?u.texSubImage3D(y,o,q,D,I,w,S,N,b,x,U.data):t.isCompressedArrayTexture?u.compressedTexSubImage3D(y,o,q,D,I,w,S,N,b,U.data):u.texSubImage3D(y,o,q,D,I,w,S,N,b,x,U):e.isDataTexture?u.texSubImage2D(y,o,q,D,w,S,b,x,U.data):e.isCompressedTexture?u.compressedTexSubImage2D(y,o,q,D,U.width,U.height,b,U.data):u.texSubImage2D(y,o,q,D,w,S,b,x,U);u.pixelStorei(u.UNPACK_ROW_LENGTH,V),u.pixelStorei(u.UNPACK_IMAGE_HEIGHT,H),u.pixelStorei(u.UNPACK_SKIP_PIXELS,z),u.pixelStorei(u.UNPACK_SKIP_ROWS,k),u.pixelStorei(u.UNPACK_SKIP_IMAGES,Y),o===0&&t.generateMipmaps&&u.generateMipmap(y),d.unbindTexture()}copyFramebufferToTexture(e,t,n){const{gl:i}=this,{state:s}=this.backend,{textureGPU:o}=this.backend.get(e),{x:u,y:h,z:d,w:m}=n,y=e.isDepthTexture===!0||t.renderTarget&&t.renderTarget.samples>0,x=t.renderTarget?t.renderTarget.height:this.backend.getDrawingBufferSize().y;if(y){const b=u!==0||h!==0;let w,S;if(e.isDepthTexture===!0?(w=i.DEPTH_BUFFER_BIT,S=i.DEPTH_ATTACHMENT,t.stencil&&(w|=i.STENCIL_BUFFER_BIT)):(w=i.COLOR_BUFFER_BIT,S=i.COLOR_ATTACHMENT0),b){const N=this.backend.get(t.renderTarget),C=N.framebuffers[t.getCacheKey()],P=N.msaaFrameBuffer;s.bindFramebuffer(i.DRAW_FRAMEBUFFER,C),s.bindFramebuffer(i.READ_FRAMEBUFFER,P);const B=x-h-m;i.blitFramebuffer(u,B,u+d,B+m,u,B,u+d,B+m,w,i.NEAREST),s.bindFramebuffer(i.READ_FRAMEBUFFER,C),s.bindTexture(i.TEXTURE_2D,o),i.copyTexSubImage2D(i.TEXTURE_2D,0,0,0,u,B,d,m),s.unbindTexture()}else{const N=i.createFramebuffer();s.bindFramebuffer(i.DRAW_FRAMEBUFFER,N),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,S,i.TEXTURE_2D,o,0),i.blitFramebuffer(0,0,d,m,0,0,d,m,w,i.NEAREST),i.deleteFramebuffer(N)}}else s.bindTexture(i.TEXTURE_2D,o),i.copyTexSubImage2D(i.TEXTURE_2D,0,0,0,u,x-m-h,d,m),s.unbindTexture();e.generateMipmaps&&this.generateMipmaps(e),this.backend._setFramebuffer(t)}setupRenderBufferStorage(e,t,n,i=!1){const{gl:s}=this,o=t.renderTarget,{depthTexture:u,depthBuffer:h,stencilBuffer:d,width:m,height:y}=o;if(s.bindRenderbuffer(s.RENDERBUFFER,e),h&&!d){let x=s.DEPTH_COMPONENT24;i===!0?this.extensions.get("WEBGL_multisampled_render_to_texture").renderbufferStorageMultisampleEXT(s.RENDERBUFFER,o.samples,x,m,y):n>0?(u&&u.isDepthTexture&&u.type===s.FLOAT&&(x=s.DEPTH_COMPONENT32F),s.renderbufferStorageMultisample(s.RENDERBUFFER,n,x,m,y)):s.renderbufferStorage(s.RENDERBUFFER,x,m,y),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,e)}else h&&d&&(n>0?s.renderbufferStorageMultisample(s.RENDERBUFFER,n,s.DEPTH24_STENCIL8,m,y):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,m,y),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,e))}async copyTextureToBuffer(e,t,n,i,s,o){const{backend:u,gl:h}=this,{textureGPU:d,glFormat:m,glType:y}=this.backend.get(e),x=h.createFramebuffer();h.bindFramebuffer(h.READ_FRAMEBUFFER,x);const b=e.isCubeTexture?h.TEXTURE_CUBE_MAP_POSITIVE_X+o:h.TEXTURE_2D;h.framebufferTexture2D(h.READ_FRAMEBUFFER,h.COLOR_ATTACHMENT0,b,d,0);const w=this._getTypedArrayType(y),S=this._getBytesPerTexel(y,m),C=i*s*S,P=h.createBuffer();h.bindBuffer(h.PIXEL_PACK_BUFFER,P),h.bufferData(h.PIXEL_PACK_BUFFER,C,h.STREAM_READ),h.readPixels(t,n,i,s,m,y,0),h.bindBuffer(h.PIXEL_PACK_BUFFER,null),await u.utils._clientWaitAsync();const B=new w(C/w.BYTES_PER_ELEMENT);return h.bindBuffer(h.PIXEL_PACK_BUFFER,P),h.getBufferSubData(h.PIXEL_PACK_BUFFER,0,B),h.bindBuffer(h.PIXEL_PACK_BUFFER,null),h.deleteFramebuffer(x),B}_getTypedArrayType(e){const{gl:t}=this;if(e===t.UNSIGNED_BYTE)return Uint8Array;if(e===t.UNSIGNED_SHORT_4_4_4_4||e===t.UNSIGNED_SHORT_5_5_5_1||e===t.UNSIGNED_SHORT_5_6_5||e===t.UNSIGNED_SHORT)return Uint16Array;if(e===t.UNSIGNED_INT)return Uint32Array;if(e===t.HALF_FLOAT)return Uint16Array;if(e===t.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${e}`)}_getBytesPerTexel(e,t){const{gl:n}=this;let i=0;if(e===n.UNSIGNED_BYTE&&(i=1),(e===n.UNSIGNED_SHORT_4_4_4_4||e===n.UNSIGNED_SHORT_5_5_5_1||e===n.UNSIGNED_SHORT_5_6_5||e===n.UNSIGNED_SHORT||e===n.HALF_FLOAT)&&(i=2),(e===n.UNSIGNED_INT||e===n.FLOAT)&&(i=4),t===n.RGBA)return i*4;if(t===n.RGB)return i*3;if(t===n.ALPHA)return i}}function Wh(r){return r.isDataTexture?r.image.data:typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas?r:r.data}class RU{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(e){let t=this.extensions[e];return t===void 0&&(t=this.gl.getExtension(e),this.extensions[e]=t),t}has(e){return this.availableExtensions.includes(e)}}class CU{constructor(e){this.backend=e,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const e=this.backend.gl,t=this.backend.extensions;if(t.has("EXT_texture_filter_anisotropic")===!0){const n=t.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const Qh={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBKIT_WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-bc",EXT_texture_compression_bptc:"texture-compression-bptc",EXT_disjoint_timer_query_webgl2:"timestamp-query",OVR_multiview2:"OVR_multiview2"};class PU{constructor(e){this.gl=e.gl,this.extensions=e.extensions,this.info=e.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(e,t){const{gl:n,mode:i,object:s,type:o,info:u,index:h}=this;h!==0?n.drawElements(i,t,o,e):n.drawArrays(i,e,t),u.update(s,t,1)}renderInstances(e,t,n){const{gl:i,mode:s,type:o,index:u,object:h,info:d}=this;n!==0&&(u!==0?i.drawElementsInstanced(s,t,o,e,n):i.drawArraysInstanced(s,e,t,n),d.update(h,t,n))}renderMultiDraw(e,t,n){const{extensions:i,mode:s,object:o,info:u}=this;if(n===0)return;const h=i.get("WEBGL_multi_draw");if(h===null)for(let d=0;d<n;d++)this.render(e[d],t[d]);else{this.index!==0?h.multiDrawElementsWEBGL(s,t,0,this.type,e,0,n):h.multiDrawArraysWEBGL(s,e,0,t,0,n);let d=0;for(let m=0;m<n;m++)d+=t[m];u.update(o,d,1)}}renderMultiDrawInstances(e,t,n,i){const{extensions:s,mode:o,object:u,info:h}=this;if(n===0)return;const d=s.get("WEBGL_multi_draw");if(d===null)for(let m=0;m<n;m++)this.renderInstances(e[m],t[m],i[m]);else{this.index!==0?d.multiDrawElementsInstancedWEBGL(o,t,0,this.type,e,0,i,0,n):d.multiDrawArraysInstancedWEBGL(o,e,0,t,0,i,0,n);let m=0;for(let y=0;y<n;y++)m+=t[y]*i[y];h.update(u,m,1)}}}class g_{constructor(e=256){this.trackTimestamp=!0,this.maxQueries=e,this.currentQueryIndex=0,this.queryOffsets=new Map,this.isDisposed=!1,this.lastValue=0,this.pendingResolve=!1}allocateQueriesForContext(){}async resolveQueriesAsync(){}dispose(){}}class BU extends g_{constructor(e,t,n=2048){if(super(n),this.gl=e,this.type=t,this.ext=e.getExtension("EXT_disjoint_timer_query_webgl2")||e.getExtension("EXT_disjoint_timer_query"),!this.ext){console.warn("EXT_disjoint_timer_query not supported; timestamps will be disabled."),this.trackTimestamp=!1;return}this.queries=[];for(let i=0;i<this.maxQueries;i++)this.queries.push(e.createQuery());this.activeQuery=null,this.queryStates=new Map}allocateQueriesForContext(e){if(!this.trackTimestamp)return null;if(this.currentQueryIndex+2>this.maxQueries)return A2(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const t=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryStates.set(t,"inactive"),this.queryOffsets.set(e.id,t),t}beginQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const t=this.queryOffsets.get(e.id);if(t==null||this.activeQuery!==null)return;const n=this.queries[t];if(n)try{this.queryStates.get(t)==="inactive"&&(this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,n),this.activeQuery=t,this.queryStates.set(t,"started"))}catch(i){console.error("Error in beginQuery:",i),this.activeQuery=null,this.queryStates.set(t,"inactive")}}endQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const t=this.queryOffsets.get(e.id);if(t!=null&&this.activeQuery===t)try{this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.queryStates.set(t,"ended"),this.activeQuery=null}catch(n){console.error("Error in endQuery:",n),this.queryStates.set(t,"inactive"),this.activeQuery=null}}async resolveQueriesAsync(){if(!this.trackTimestamp||this.pendingResolve)return this.lastValue;this.pendingResolve=!0;try{const e=[];for(const[i,s]of this.queryStates)if(s==="ended"){const o=this.queries[i];e.push(this.resolveQuery(o))}if(e.length===0)return this.lastValue;const n=(await Promise.all(e)).reduce((i,s)=>i+s,0);return this.lastValue=n,this.currentQueryIndex=0,this.queryOffsets.clear(),this.queryStates.clear(),this.activeQuery=null,n}catch(e){return console.error("Error resolving queries:",e),this.lastValue}finally{this.pendingResolve=!1}}async resolveQuery(e){return new Promise(t=>{if(this.isDisposed){t(this.lastValue);return}let n,i=!1;const s=()=>{n&&(clearTimeout(n),n=null)},o=h=>{i||(i=!0,s(),t(h))},u=()=>{if(this.isDisposed){o(this.lastValue);return}try{if(this.gl.getParameter(this.ext.GPU_DISJOINT_EXT)){o(this.lastValue);return}if(!this.gl.getQueryParameter(e,this.gl.QUERY_RESULT_AVAILABLE)){n=setTimeout(u,1);return}const m=this.gl.getQueryParameter(e,this.gl.QUERY_RESULT);t(Number(m)/1e6)}catch(h){console.error("Error checking query:",h),t(this.lastValue)}};u()})}dispose(){if(!this.isDisposed&&(this.isDisposed=!0,!!this.trackTimestamp)){for(const e of this.queries)this.gl.deleteQuery(e);this.queries=[],this.queryStates.clear(),this.queryOffsets.clear(),this.lastValue=0,this.activeQuery=null}}}const Yh=new qt;class Xh extends m_{constructor(e={}){super(e),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this._currentContext=null,this._knownBindings=new WeakSet,this._supportsInvalidateFramebuffer=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),this._xrFramebuffer=null}init(e){super.init(e);const t=this.parameters,n={antialias:e.samples>0,alpha:!0,depth:e.depth,stencil:e.stencil},i=t.context!==void 0?t.context:e.domElement.getContext("webgl2",n);function s(o){o.preventDefault();const u={api:"WebGL",message:o.statusMessage||"Unknown reason",reason:null,originalEvent:o};e.onDeviceLost(u)}this._onContextLost=s,e.domElement.addEventListener("webglcontextlost",s,!1),this.gl=i,this.extensions=new RU(this),this.capabilities=new CU(this),this.attributeUtils=new SU(this),this.textureUtils=new MU(this),this.bufferRenderer=new PU(this),this.state=new EU(this),this.utils=new NU(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.extensions.get("OVR_multiview2"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile")}get coordinateSystem(){return Oo}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}async waitForGPU(){await this.utils._clientWaitAsync()}async makeXRCompatible(){this.gl.getContextAttributes().xrCompatible!==!0&&await this.gl.makeXRCompatible()}setXRTarget(e){this._xrFramebuffer=e}setXRRenderTargetTextures(e,t,n=null){const i=this.gl;if(this.set(e.texture,{textureGPU:t,glInternalFormat:i.RGBA8}),n!==null){const s=e.stencilBuffer?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24;this.set(e.depthTexture,{textureGPU:n,glInternalFormat:s}),this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e.autoAllocateDepthBuffer===!0&&e.multiview===!1&&console.warn("THREE.WebGLBackend: Render-to-texture extension was disabled because an external texture was provided"),e.autoAllocateDepthBuffer=!1}}initTimestampQuery(e){if(!this.disjoint||!this.trackTimestamp)return;const t=e.isComputeNode?"compute":"render";this.timestampQueryPool[t]||(this.timestampQueryPool[t]=new BU(this.gl,t,2048));const n=this.timestampQueryPool[t];n.allocateQueriesForContext(e)!==null&&n.beginQuery(e)}prepareTimestampBuffer(e){if(!this.disjoint||!this.trackTimestamp)return;const t=e.isComputeNode?"compute":"render";this.timestampQueryPool[t].endQuery(e)}getContext(){return this.gl}beginRender(e){const{state:t}=this,n=this.get(e);if(e.viewport)this.updateViewport(e);else{const{width:s,height:o}=this.getDrawingBufferSize(Yh);t.viewport(0,0,s,o)}if(e.scissor){const{x:s,y:o,width:u,height:h}=e.scissorValue;t.scissor(s,e.height-h-o,u,h)}this.initTimestampQuery(e),n.previousContext=this._currentContext,this._currentContext=e,this._setFramebuffer(e),this.clear(e.clearColor,e.clearDepth,e.clearStencil,e,!1);const i=e.occlusionQueryCount;i>0&&(n.currentOcclusionQueries=n.occlusionQueries,n.currentOcclusionQueryObjects=n.occlusionQueryObjects,n.lastOcclusionObject=null,n.occlusionQueries=new Array(i),n.occlusionQueryObjects=new Array(i),n.occlusionQueryIndex=0)}finishRender(e){const{gl:t,state:n}=this,i=this.get(e),s=i.previousContext;n.resetVertexState();const o=e.occlusionQueryCount;o>0&&(o>i.occlusionQueryIndex&&t.endQuery(t.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(e));const u=e.textures;if(u!==null)for(let h=0;h<u.length;h++){const d=u[h];d.generateMipmaps&&this.generateMipmaps(d)}if(this._currentContext=s,e.textures!==null&&e.renderTarget){const h=this.get(e.renderTarget),{resolveDepthBuffer:d,samples:m}=e.renderTarget;if(m>0&&this._useMultisampledExtension(e.renderTarget)===!1){const y=h.framebuffers[e.getCacheKey()],x=t.COLOR_BUFFER_BIT,b=h.msaaFrameBuffer,w=e.textures;n.bindFramebuffer(t.READ_FRAMEBUFFER,b),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,y);for(let S=0;S<w.length;S++)if(e.scissor){const{x:N,y:C,width:P,height:B}=e.scissorValue,q=e.height-B-C;t.blitFramebuffer(N,q,N+P,q+B,N,q,N+P,q+B,x,t.NEAREST),this._supportsInvalidateFramebuffer===!0&&t.invalidateSubFramebuffer(t.READ_FRAMEBUFFER,h.invalidationArray,N,q,P,B)}else t.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,x,t.NEAREST),this._supportsInvalidateFramebuffer===!0&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,h.invalidationArray)}else if(d===!1&&h.framebuffers){const y=h.framebuffers[e.getCacheKey()];n.bindFramebuffer(t.DRAW_FRAMEBUFFER,y),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,h.depthInvalidationArray)}}if(s!==null)if(this._setFramebuffer(s),s.viewport)this.updateViewport(s);else{const{width:h,height:d}=this.getDrawingBufferSize(Yh);n.viewport(0,0,h,d)}this.prepareTimestampBuffer(e)}resolveOccludedAsync(e){const t=this.get(e),{currentOcclusionQueries:n,currentOcclusionQueryObjects:i}=t;if(n&&i){const s=new WeakSet,{gl:o}=this;t.currentOcclusionQueryObjects=null,t.currentOcclusionQueries=null;const u=()=>{let h=0;for(let d=0;d<n.length;d++){const m=n[d];m!==null&&o.getQueryParameter(m,o.QUERY_RESULT_AVAILABLE)&&(o.getQueryParameter(m,o.QUERY_RESULT)===0&&s.add(i[d]),n[d]=null,o.deleteQuery(m),h++)}h<n.length?requestAnimationFrame(u):t.occluded=s};u()}}isOccluded(e,t){const n=this.get(e);return n.occluded&&n.occluded.has(t)}updateViewport(e){const{state:t}=this,{x:n,y:i,width:s,height:o}=e.viewportValue;t.viewport(n,e.height-o-i,s,o)}setScissorTest(e){this.state.setScissorTest(e)}getClearColor(){const e=super.getClearColor();return e.r*=e.a,e.g*=e.a,e.b*=e.a,e}clear(e,t,n,i=null,s=!0){const{gl:o,renderer:u}=this;i===null&&(i={textures:null,clearColorValue:this.getClearColor()});let h=0;if(e&&(h|=o.COLOR_BUFFER_BIT),t&&(h|=o.DEPTH_BUFFER_BIT),n&&(h|=o.STENCIL_BUFFER_BIT),h!==0){let d;i.clearColorValue?d=i.clearColorValue:d=this.getClearColor();const m=u.getClearDepth(),y=u.getClearStencil();if(t&&this.state.setDepthMask(!0),i.textures===null)o.clearColor(d.r,d.g,d.b,d.a),o.clear(h);else{if(s&&this._setFramebuffer(i),e)for(let x=0;x<i.textures.length;x++)x===0?o.clearBufferfv(o.COLOR,x,[d.r,d.g,d.b,d.a]):o.clearBufferfv(o.COLOR,x,[0,0,0,1]);t&&n?o.clearBufferfi(o.DEPTH_STENCIL,0,m,y):t?o.clearBufferfv(o.DEPTH,0,[m]):n&&o.clearBufferiv(o.STENCIL,0,[y])}}}beginCompute(e){const{state:t,gl:n}=this;t.bindFramebuffer(n.FRAMEBUFFER,null),this.initTimestampQuery(e)}compute(e,t,n,i){const{state:s,gl:o}=this;this.discard===!1&&(o.enable(o.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:u,transformBuffers:h,attributes:d}=this.get(i),m=this._getVaoKey(d),y=this.vaoCache[m];y===void 0?this._createVao(d):s.setVertexState(y),s.useProgram(u),this._bindUniforms(n);const x=this._getTransformFeedback(h);o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,x),o.beginTransformFeedback(o.POINTS),d[0].isStorageInstancedBufferAttribute?o.drawArraysInstanced(o.POINTS,0,1,t.count):o.drawArrays(o.POINTS,0,t.count),o.endTransformFeedback(),o.bindTransformFeedback(o.TRANSFORM_FEEDBACK,null);for(let b=0;b<h.length;b++){const w=h[b];w.pbo&&this.textureUtils.copyBufferToTexture(w.transformBuffer,w.pbo),w.switchBuffers()}}finishCompute(e){const t=this.gl;this.discard=!1,t.disable(t.RASTERIZER_DISCARD),this.prepareTimestampBuffer(e),this._currentContext&&this._setFramebuffer(this._currentContext)}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.isArrayTexture&&e.camera.isArrayCamera}draw(e){const{object:t,pipeline:n,material:i,context:s,hardwareClippingPlanes:o}=e,{programGPU:u}=this.get(n),{gl:h,state:d}=this,m=this.get(s),y=e.getDrawParameters();if(y===null)return;this._bindUniforms(e.getBindings());const x=t.isMesh&&t.matrixWorld.determinant()<0;d.setMaterial(i,x,o),d.useProgram(u);const b=this.get(e);let w=b.staticVao;if(w===void 0||b.geometryId!==e.geometry.id){const U=this._getVaoKey(e.getAttributes());if(w=this.vaoCache[U],w===void 0){let V;({vaoGPU:w,staticVao:V}=this._createVao(e.getAttributes())),V&&(b.staticVao=w,b.geometryId=e.geometry.id)}}const S=e.getIndex(),N=S!==null?this.get(S).bufferGPU:null;d.setVertexState(w,N);const C=m.lastOcclusionObject;if(C!==t&&C!==void 0){if(C!==null&&C.occlusionTest===!0&&(h.endQuery(h.ANY_SAMPLES_PASSED),m.occlusionQueryIndex++),t.occlusionTest===!0){const U=h.createQuery();h.beginQuery(h.ANY_SAMPLES_PASSED,U),m.occlusionQueries[m.occlusionQueryIndex]=U,m.occlusionQueryObjects[m.occlusionQueryIndex]=t}m.lastOcclusionObject=t}const P=this.bufferRenderer;t.isPoints?P.mode=h.POINTS:t.isLineSegments?P.mode=h.LINES:t.isLine?P.mode=h.LINE_STRIP:t.isLineLoop?P.mode=h.LINE_LOOP:i.wireframe===!0?(d.setLineWidth(i.wireframeLinewidth*this.renderer.getPixelRatio()),P.mode=h.LINES):P.mode=h.TRIANGLES;const{vertexCount:B,instanceCount:q}=y;let{firstVertex:D}=y;if(P.object=t,S!==null){D*=S.array.BYTES_PER_ELEMENT;const U=this.get(S);P.index=S.count,P.type=U.type}else P.index=0;const I=()=>{t.isBatchedMesh?t._multiDrawInstances!==null?(A2("THREE.WebGLBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),P.renderMultiDrawInstances(t._multiDrawStarts,t._multiDrawCounts,t._multiDrawCount,t._multiDrawInstances)):this.hasFeature("WEBGL_multi_draw")?P.renderMultiDraw(t._multiDrawStarts,t._multiDrawCounts,t._multiDrawCount):A2("THREE.WebGLRenderer: WEBGL_multi_draw not supported."):q>1?P.renderInstances(D,B,q):P.render(D,B)};if(e.camera.isArrayCamera===!0&&e.camera.cameras.length>0&&e.camera.isMultiViewCamera===!1){const U=this.get(e.camera),V=e.camera.cameras,H=e.getBindingGroup("cameraIndex").bindings[0];if(U.indexesGPU===void 0||U.indexesGPU.length!==V.length){const K=new Uint32Array([0,0,0,0]),oe=[];for(let ce=0,de=V.length;ce<de;ce++){const ve=h.createBuffer();K[0]=ce,h.bindBuffer(h.UNIFORM_BUFFER,ve),h.bufferData(h.UNIFORM_BUFFER,K,h.STATIC_DRAW),oe.push(ve)}U.indexesGPU=oe}const z=this.get(H),k=this.renderer.getPixelRatio(),Y=this._currentContext.renderTarget,X=this._isRenderCameraDepthArray(this._currentContext),J=this._currentContext.activeCubeFace;if(X){const K=this.get(Y.depthTexture);if(K.clearedRenderId!==this.renderer._nodes.nodeFrame.renderId){K.clearedRenderId=this.renderer._nodes.nodeFrame.renderId;const{stencilBuffer:oe}=Y;for(let ce=0,de=V.length;ce<de;ce++)this.renderer._activeCubeFace=ce,this._currentContext.activeCubeFace=ce,this._setFramebuffer(this._currentContext),this.clear(!1,!0,oe,this._currentContext,!1);this.renderer._activeCubeFace=J,this._currentContext.activeCubeFace=J}}for(let K=0,oe=V.length;K<oe;K++){const ce=V[K];if(t.layers.test(ce.layers)){X&&(this.renderer._activeCubeFace=K,this._currentContext.activeCubeFace=K,this._setFramebuffer(this._currentContext));const de=ce.viewport;if(de!==void 0){const ve=de.x*k,Me=de.y*k,Be=de.width*k,Oe=de.height*k;d.viewport(Math.floor(ve),Math.floor(e.context.height-Oe-Me),Math.floor(Be),Math.floor(Oe))}d.bindBufferBase(h.UNIFORM_BUFFER,z.index,U.indexesGPU[K]),I()}this._currentContext.activeCubeFace=J,this.renderer._activeCubeFace=J}}else I()}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,t){this.textureUtils.createTexture(e,t)}updateTexture(e,t){this.textureUtils.updateTexture(e,t)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}async copyTextureToBuffer(e,t,n,i,s,o){return this.textureUtils.copyTextureToBuffer(e,t,n,i,s,o)}createSampler(){}destroySampler(){}createNodeBuilder(e,t){return new bU(e,t)}createProgram(e){const t=this.gl,{stage:n,code:i}=e,s=n==="fragment"?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER);t.shaderSource(s,i),t.compileShader(s),this.set(e,{shaderGPU:s})}destroyProgram(e){this.delete(e)}createRenderPipeline(e,t){const n=this.gl,i=e.pipeline,{fragmentProgram:s,vertexProgram:o}=i,u=n.createProgram(),h=this.get(s).shaderGPU,d=this.get(o).shaderGPU;if(n.attachShader(u,h),n.attachShader(u,d),n.linkProgram(u),this.set(i,{programGPU:u,fragmentShader:h,vertexShader:d}),t!==null&&this.parallel){const m=new Promise(y=>{const x=this.parallel,b=()=>{n.getProgramParameter(u,x.COMPLETION_STATUS_KHR)?(this._completeCompile(e,i),y()):requestAnimationFrame(b)};b()});t.push(m);return}this._completeCompile(e,i)}_handleSource(e,t){const n=e.split(`
`),i=[],s=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let u=s;u<o;u++){const h=u+1;i.push(`${h===t?">":" "} ${h}: ${n[u]}`)}return i.join(`
`)}_getShaderErrors(e,t,n){const i=e.getShaderParameter(t,e.COMPILE_STATUS),s=e.getShaderInfoLog(t).trim();if(i&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const u=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+this._handleSource(e.getShaderSource(t),u)}else return s}_logProgramError(e,t,n){if(this.renderer.debug.checkShaderErrors){const i=this.gl,s=i.getProgramInfoLog(e).trim();if(i.getProgramParameter(e,i.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(i,e,n,t);else{const o=this._getShaderErrors(i,n,"vertex"),u=this._getShaderErrors(i,t,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(e,i.VALIDATE_STATUS)+`

Program Info Log: `+s+`
`+o+`
`+u)}else s!==""&&console.warn("THREE.WebGLProgram: Program Info Log:",s)}}_completeCompile(e,t){const{state:n,gl:i}=this,s=this.get(t),{programGPU:o,fragmentShader:u,vertexShader:h}=s;i.getProgramParameter(o,i.LINK_STATUS)===!1&&this._logProgramError(o,u,h),n.useProgram(o);const d=e.getBindings();this._setupBindings(d,o),this.set(t,{programGPU:o})}createComputePipeline(e,t){const{state:n,gl:i}=this,s={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(s);const{computeProgram:o}=e,u=i.createProgram(),h=this.get(s).shaderGPU,d=this.get(o).shaderGPU,m=o.transforms,y=[],x=[];for(let N=0;N<m.length;N++){const C=m[N];y.push(C.varyingName),x.push(C.attributeNode)}i.attachShader(u,h),i.attachShader(u,d),i.transformFeedbackVaryings(u,y,i.SEPARATE_ATTRIBS),i.linkProgram(u),i.getProgramParameter(u,i.LINK_STATUS)===!1&&this._logProgramError(u,h,d),n.useProgram(u),this._setupBindings(t,u);const b=o.attributes,w=[],S=[];for(let N=0;N<b.length;N++){const C=b[N].node.attribute;w.push(C),this.has(C)||this.attributeUtils.createAttribute(C,i.ARRAY_BUFFER)}for(let N=0;N<x.length;N++){const C=x[N].attribute;this.has(C)||this.attributeUtils.createAttribute(C,i.ARRAY_BUFFER);const P=this.get(C);S.push(P)}this.set(e,{programGPU:u,transformBuffers:S,attributes:w})}createBindings(e,t){if(this._knownBindings.has(t)===!1){this._knownBindings.add(t);let n=0,i=0;for(const s of t){this.set(s,{textures:i,uniformBuffers:n});for(const o of s.bindings)o.isUniformBuffer&&n++,o.isSampledTexture&&i++}}this.updateBindings(e,t)}updateBindings(e){const{gl:t}=this,n=this.get(e);let i=n.uniformBuffers,s=n.textures;for(const o of e.bindings)if(o.isUniformsGroup||o.isUniformBuffer){const u=o.buffer,h=t.createBuffer();t.bindBuffer(t.UNIFORM_BUFFER,h),t.bufferData(t.UNIFORM_BUFFER,u,t.DYNAMIC_DRAW),this.set(o,{index:i++,bufferGPU:h})}else if(o.isSampledTexture){const{textureGPU:u,glTextureType:h}=this.get(o.texture);this.set(o,{index:s++,textureGPU:u,glTextureType:h})}}updateBinding(e){const t=this.gl;if(e.isUniformsGroup||e.isUniformBuffer){const i=this.get(e).bufferGPU,s=e.buffer;t.bindBuffer(t.UNIFORM_BUFFER,i),t.bufferData(t.UNIFORM_BUFFER,s,t.DYNAMIC_DRAW)}}createIndexAttribute(e){const t=this.gl;this.attributeUtils.createAttribute(e,t.ELEMENT_ARRAY_BUFFER)}createAttribute(e){if(this.has(e))return;const t=this.gl;this.attributeUtils.createAttribute(e,t.ARRAY_BUFFER)}createStorageAttribute(e){if(this.has(e))return;const t=this.gl;this.attributeUtils.createAttribute(e,t.ARRAY_BUFFER)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}hasFeature(e){const t=Object.keys(Qh).filter(i=>Qh[i]===e),n=this.extensions;for(let i=0;i<t.length;i++)if(n.has(t[i]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(e,t,n=null,i=null,s=0,o=0){this.textureUtils.copyTextureToTexture(e,t,n,i,s,o)}copyFramebufferToTexture(e,t,n){this.textureUtils.copyFramebufferToTexture(e,t,n)}_setFramebuffer(e){const{gl:t,state:n}=this;let i=null;if(e.textures!==null){const s=e.renderTarget,o=this.get(s),{samples:u,depthBuffer:h,stencilBuffer:d}=s,m=s.isWebGLCubeRenderTarget===!0,y=s.isRenderTarget3D===!0,x=s.depth>1,b=s.isXRRenderTarget===!0,w=b===!0&&s.hasExternalTextures===!0;let S=o.msaaFrameBuffer,N=o.depthRenderbuffer;const C=this.extensions.get("WEBGL_multisampled_render_to_texture"),P=this.extensions.get("OVR_multiview2"),B=this._useMultisampledExtension(s),q=av(e);let D;if(m?(o.cubeFramebuffers||(o.cubeFramebuffers={}),D=o.cubeFramebuffers[q]):b&&w===!1?D=this._xrFramebuffer:(o.framebuffers||(o.framebuffers={}),D=o.framebuffers[q]),D===void 0){D=t.createFramebuffer(),n.bindFramebuffer(t.FRAMEBUFFER,D);const I=e.textures,U=[];if(m){o.cubeFramebuffers[q]=D;const{textureGPU:H}=this.get(I[0]),z=this.renderer._activeCubeFace;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+z,H,0)}else{o.framebuffers[q]=D;for(let H=0;H<I.length;H++){const z=I[H],k=this.get(z);k.renderTarget=e.renderTarget,k.cacheKey=q;const Y=t.COLOR_ATTACHMENT0+H;if(s.multiview)P.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,Y,k.textureGPU,0,u,0,2);else if(y||x){const X=this.renderer._activeCubeFace;t.framebufferTextureLayer(t.FRAMEBUFFER,Y,k.textureGPU,0,X)}else B?C.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Y,t.TEXTURE_2D,k.textureGPU,0,u):t.framebufferTexture2D(t.FRAMEBUFFER,Y,t.TEXTURE_2D,k.textureGPU,0)}n.drawBuffers(e,D)}const V=d?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(s.autoAllocateDepthBuffer===!0){const H=t.createRenderbuffer();this.textureUtils.setupRenderBufferStorage(H,e,0,B),o.xrDepthRenderbuffer=H,U.push(d?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT),t.bindRenderbuffer(t.RENDERBUFFER,H),t.framebufferRenderbuffer(t.FRAMEBUFFER,V,t.RENDERBUFFER,H)}else if(e.depthTexture!==null){U.push(d?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT);const H=this.get(e.depthTexture);if(H.renderTarget=e.renderTarget,H.cacheKey=q,s.multiview)P.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,V,H.textureGPU,0,u,0,2);else if(w&&B)C.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,V,t.TEXTURE_2D,H.textureGPU,0,u);else if(e.depthTexture.isArrayTexture){const z=this.renderer._activeCubeFace;t.framebufferTextureLayer(t.FRAMEBUFFER,V,H.textureGPU,0,z)}else t.framebufferTexture2D(t.FRAMEBUFFER,V,t.TEXTURE_2D,H.textureGPU,0)}o.depthInvalidationArray=U}else{if(this._isRenderCameraDepthArray(e)){n.bindFramebuffer(t.FRAMEBUFFER,D);const U=this.renderer._activeCubeFace,V=this.get(e.depthTexture),H=d?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.framebufferTextureLayer(t.FRAMEBUFFER,H,V.textureGPU,0,U)}if(b||B||s.multiview){n.bindFramebuffer(t.FRAMEBUFFER,D);const U=this.get(e.textures[0]);s.multiview?P.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,U.textureGPU,0,u,0,2):B?C.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,U.textureGPU,0,u):t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,U.textureGPU,0);const V=d?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(s.autoAllocateDepthBuffer===!0){const H=o.xrDepthRenderbuffer;t.bindRenderbuffer(t.RENDERBUFFER,H),t.framebufferRenderbuffer(t.FRAMEBUFFER,V,t.RENDERBUFFER,H)}else{const H=this.get(e.depthTexture);s.multiview?P.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,V,H.textureGPU,0,u,0,2):B?C.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,V,t.TEXTURE_2D,H.textureGPU,0,u):t.framebufferTexture2D(t.FRAMEBUFFER,V,t.TEXTURE_2D,H.textureGPU,0)}}}if(u>0&&B===!1&&!s.multiview){if(S===void 0){const I=[];S=t.createFramebuffer(),n.bindFramebuffer(t.FRAMEBUFFER,S);const U=[],V=e.textures;for(let H=0;H<V.length;H++){if(U[H]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,U[H]),I.push(t.COLOR_ATTACHMENT0+H),h){const Y=d?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;I.push(Y)}const z=e.textures[H],k=this.get(z);t.renderbufferStorageMultisample(t.RENDERBUFFER,u,k.glInternalFormat,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+H,t.RENDERBUFFER,U[H])}if(o.msaaFrameBuffer=S,o.msaaRenderbuffers=U,N===void 0){N=t.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(N,e,u),o.depthRenderbuffer=N;const H=d?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;I.push(H)}o.invalidationArray=I}i=o.msaaFrameBuffer}else i=D}n.bindFramebuffer(t.FRAMEBUFFER,i)}_getVaoKey(e){let t="";for(let n=0;n<e.length;n++){const i=this.get(e[n]);t+=":"+i.id}return t}_createVao(e){const{gl:t}=this,n=t.createVertexArray();let i="",s=!0;t.bindVertexArray(n);for(let o=0;o<e.length;o++){const u=e[o],h=this.get(u);i+=":"+h.id,t.bindBuffer(t.ARRAY_BUFFER,h.bufferGPU),t.enableVertexAttribArray(o),(u.isStorageBufferAttribute||u.isStorageInstancedBufferAttribute)&&(s=!1);let d,m;u.isInterleavedBufferAttribute===!0?(d=u.data.stride*h.bytesPerElement,m=u.offset*h.bytesPerElement):(d=0,m=0),h.isInteger?t.vertexAttribIPointer(o,u.itemSize,h.type,d,m):t.vertexAttribPointer(o,u.itemSize,h.type,u.normalized,d,m),u.isInstancedBufferAttribute&&!u.isInterleavedBufferAttribute?t.vertexAttribDivisor(o,u.meshPerAttribute):u.isInterleavedBufferAttribute&&u.data.isInstancedInterleavedBuffer&&t.vertexAttribDivisor(o,u.data.meshPerAttribute)}return t.bindBuffer(t.ARRAY_BUFFER,null),this.vaoCache[i]=n,{vaoGPU:n,staticVao:s}}_getTransformFeedback(e){let t="";for(let s=0;s<e.length;s++)t+=":"+e[s].id;let n=this.transformFeedbackCache[t];if(n!==void 0)return n;const{gl:i}=this;n=i.createTransformFeedback(),i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,n);for(let s=0;s<e.length;s++){const o=e[s];i.bindBufferBase(i.TRANSFORM_FEEDBACK_BUFFER,s,o.transformBuffer)}return i.bindTransformFeedback(i.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[t]=n,n}_setupBindings(e,t){const n=this.gl;for(const i of e)for(const s of i.bindings){const u=this.get(s).index;if(s.isUniformsGroup||s.isUniformBuffer){const h=n.getUniformBlockIndex(t,s.name);n.uniformBlockBinding(t,h,u)}else if(s.isSampledTexture){const h=n.getUniformLocation(t,s.name);n.uniform1i(h,u)}}}_bindUniforms(e){const{gl:t,state:n}=this;for(const i of e)for(const s of i.bindings){const o=this.get(s),u=o.index;s.isUniformsGroup||s.isUniformBuffer?n.bindBufferBase(t.UNIFORM_BUFFER,u,o.bufferGPU):s.isSampledTexture&&n.bindTexture(o.glTextureType,o.textureGPU,t.TEXTURE0+u)}}_useMultisampledExtension(e){return e.multiview===!0?!0:e.samples>0&&this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e.autoAllocateDepthBuffer!==!1}dispose(){const e=this.extensions.get("WEBGL_lose_context");e&&e.loseContext(),this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const us={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},z0={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},cn={Store:"store"},Lt={Load:"load",Clear:"clear"},f6={CCW:"ccw"},d6={None:"none",Front:"front",Back:"back"},Rs={Uint16:"uint16",Uint32:"uint32"},ne={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10UFloat:"rgb10a2unorm",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},p6={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},Wi={Linear:"linear",Nearest:"nearest"},ct={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDst:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},Gi={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},Kh={None:0,All:15},ri={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},m6={Storage:"storage",ReadOnlyStorage:"read-only-storage"},g6={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},Zh={NonFiltering:"non-filtering",Comparison:"comparison"},Vi={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},Jh={TwoD:"2d",ThreeD:"3d"},U0={TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",ThreeD:"3d"},DU={All:"all"},_3={Vertex:"vertex",Instance:"instance"},Y7={DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups"};class FU extends sl{constructor(e,t){super(e),this.texture=t,this.version=t?t.version:0,this.isSampler=!0}}class LU extends FU{constructor(e,t,n){super(e,t?t.value:null),this.textureNode=t,this.groupNode=n}update(){this.texture=this.textureNode.value}}class qU extends u_{constructor(e,t){super(e,t?t.array:null),this.attribute=t,this.isStorageBuffer=!0}}let IU=0;class OU extends qU{constructor(e,t){super("StorageBuffer_"+IU++,e?e.value:null),this.nodeUniform=e,this.access=e?e.access:rn.READ_WRITE,this.groupNode=t}get buffer(){return this.nodeUniform.value}}class kU extends Ei{constructor(e){super(),this.device=e;const t=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,n=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,i=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=e.createSampler({minFilter:Wi.Linear}),this.flipYSampler=e.createSampler({minFilter:Wi.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:t}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:n}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:i})}getTransferPipeline(e){let t=this.transferPipelines[e];return t===void 0&&(t=this.device.createRenderPipeline({label:`mipmap-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:us.TriangleStrip,stripIndexFormat:Rs.Uint32},layout:"auto"}),this.transferPipelines[e]=t),t}getFlipYPipeline(e){let t=this.flipYPipelines[e];return t===void 0&&(t=this.device.createRenderPipeline({label:`flipY-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:us.TriangleStrip,stripIndexFormat:Rs.Uint32},layout:"auto"}),this.flipYPipelines[e]=t),t}flipY(e,t,n=0){const i=t.format,{width:s,height:o}=t.size,u=this.getTransferPipeline(i),h=this.getFlipYPipeline(i),d=this.device.createTexture({size:{width:s,height:o,depthOrArrayLayers:1},format:i,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),m=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:U0.TwoD,baseArrayLayer:n}),y=d.createView({baseMipLevel:0,mipLevelCount:1,dimension:U0.TwoD,baseArrayLayer:0}),x=this.device.createCommandEncoder({}),b=(w,S,N)=>{const C=w.getBindGroupLayout(0),P=this.device.createBindGroup({layout:C,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:S}]}),B=x.beginRenderPass({colorAttachments:[{view:N,loadOp:Lt.Clear,storeOp:cn.Store,clearValue:[0,0,0,0]}]});B.setPipeline(w),B.setBindGroup(0,P),B.draw(4,1,0,0),B.end()};b(u,m,y),b(h,y,m),this.device.queue.submit([x.finish()]),d.destroy()}generateMipmaps(e,t,n=0){const i=this.get(e);i.useCount===void 0&&(i.useCount=0,i.layers=[]);const s=i.layers[n]||this._mipmapCreateBundles(e,t,n),o=this.device.createCommandEncoder({});this._mipmapRunBundles(o,s),this.device.queue.submit([o.finish()]),i.useCount!==0&&(i.layers[n]=s),i.useCount++}_mipmapCreateBundles(e,t,n){const i=this.getTransferPipeline(t.format),s=i.getBindGroupLayout(0);let o=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:U0.TwoD,baseArrayLayer:n});const u=[];for(let h=1;h<t.mipLevelCount;h++){const d=this.device.createBindGroup({layout:s,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:o}]}),m=e.createView({baseMipLevel:h,mipLevelCount:1,dimension:U0.TwoD,baseArrayLayer:n}),y={colorAttachments:[{view:m,loadOp:Lt.Clear,storeOp:cn.Store,clearValue:[0,0,0,0]}]},x=this.device.createRenderBundleEncoder({colorFormats:[t.format]});x.setPipeline(i),x.setBindGroup(0,d),x.draw(4,1,0,0),u.push({renderBundles:[x.finish()],passDescriptor:y}),o=m}return u}_mipmapRunBundles(e,t){const n=t.length;for(let i=0;i<n;i++){const s=t[i],o=e.beginRenderPass(s.passDescriptor);o.executeBundles(s.renderBundles),o.end()}}}const UU={[qf]:"never",[f9]:"less",[Df]:"equal",[Ff]:"less-equal",[Pf]:"greater",[Bf]:"greater-equal",[Lf]:"always",[Cf]:"not-equal"},GU=[0,1,3,2,4,5];class VU{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this.colorBuffer=null,this.depthTexture=new Br,this.depthTexture.name="depthBuffer"}createSampler(e){const t=this.backend,n=t.device,i=t.get(e),s={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:1};s.magFilter===Wi.Linear&&s.minFilter===Wi.Linear&&s.mipmapFilter===Wi.Linear&&(s.maxAnisotropy=e.anisotropy),e.isDepthTexture&&e.compareFunction!==null&&(s.compare=UU[e.compareFunction]),i.sampler=n.createSampler(s)}createDefaultTexture(e){let t;const n=X7(e);e.isCubeTexture?t=this._getDefaultCubeTextureGPU(n):e.isVideoTexture?this.backend.get(e).externalTexture=this._getDefaultVideoFrame():t=this._getDefaultTextureGPU(n),this.backend.get(e).texture=t}createTexture(e,t={}){const n=this.backend,i=n.get(e);if(i.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");t.needsMipmaps===void 0&&(t.needsMipmaps=!1),t.levels===void 0&&(t.levels=1),t.depth===void 0&&(t.depth=1);const{width:s,height:o,depth:u,levels:h}=t;e.isFramebufferTexture&&(t.renderTarget?t.format=this.backend.utils.getCurrentColorFormat(t.renderTarget):t.format=this.backend.utils.getPreferredCanvasFormat());const d=this._getDimension(e),m=e.internalFormat||t.format||X7(e,n.device);i.format=m;const{samples:y,primarySamples:x,isMSAA:b}=n.utils.getTextureSampleData(e);let w=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;e.isStorageTexture===!0&&(w|=GPUTextureUsage.STORAGE_BINDING),e.isCompressedTexture!==!0&&e.isCompressedArrayTexture!==!0&&(w|=GPUTextureUsage.RENDER_ATTACHMENT);const S={label:e.name,size:{width:s,height:o,depthOrArrayLayers:u},mipLevelCount:h,sampleCount:x,dimension:d,format:m,usage:w};if(e.isVideoTexture){const N=e.source.data,C=new VideoFrame(N);S.size.width=C.displayWidth,S.size.height=C.displayHeight,C.close(),i.externalTexture=N}else{if(m===void 0){console.warn("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(e);return}e.isCubeTexture&&(S.textureBindingViewDimension=U0.Cube),i.texture=n.device.createTexture(S)}if(b){const N=Object.assign({},S);N.label=N.label+"-msaa",N.sampleCount=y,i.msaaTexture=n.device.createTexture(N)}i.initialized=!0,i.textureDescriptorGPU=S}destroyTexture(e){const t=this.backend,n=t.get(e);n.texture!==void 0&&n.texture.destroy(),n.msaaTexture!==void 0&&n.msaaTexture.destroy(),t.delete(e)}destroySampler(e){const n=this.backend.get(e);delete n.sampler}generateMipmaps(e){const t=this.backend.get(e);if(e.isCubeTexture)for(let n=0;n<6;n++)this._generateMipmaps(t.texture,t.textureDescriptorGPU,n);else{const n=e.image.depth||1;for(let i=0;i<n;i++)this._generateMipmaps(t.texture,t.textureDescriptorGPU,i)}}getColorBuffer(){this.colorBuffer&&this.colorBuffer.destroy();const e=this.backend,{width:t,height:n}=e.getDrawingBufferSize();return this.colorBuffer=e.device.createTexture({label:"colorBuffer",size:{width:t,height:n,depthOrArrayLayers:1},sampleCount:e.utils.getSampleCount(e.renderer.samples),format:e.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),this.colorBuffer}getDepthBuffer(e=!0,t=!1){const n=this.backend,{width:i,height:s}=n.getDrawingBufferSize(),o=this.depthTexture,u=n.get(o).texture;let h,d;if(t?(h=gi,d=mi):e&&(h=yi,d=M0),u!==void 0){if(o.image.width===i&&o.image.height===s&&o.format===h&&o.type===d)return u;this.destroyTexture(o)}return o.name="depthBuffer",o.format=h,o.type=d,o.image.width=i,o.image.height=s,this.createTexture(o,{width:i,height:s}),n.get(o).texture}updateTexture(e,t){const n=this.backend.get(e),{textureDescriptorGPU:i}=n;if(!(e.isRenderTargetTexture||i===void 0)){if(e.isDataTexture)this._copyBufferToTexture(t.image,n.texture,i,0,e.flipY);else if(e.isArrayTexture||e.isDataArrayTexture||e.isData3DTexture)for(let s=0;s<t.image.depth;s++)this._copyBufferToTexture(t.image,n.texture,i,s,e.flipY,s);else if(e.isCompressedTexture||e.isCompressedArrayTexture)this._copyCompressedBufferToTexture(e.mipmaps,n.texture,i);else if(e.isCubeTexture)this._copyCubeMapToTexture(t.images,n.texture,i,e.flipY,e.premultiplyAlpha);else if(e.isVideoTexture){const s=e.source.data;n.externalTexture=s}else this._copyImageToTexture(t.image,n.texture,i,0,e.flipY,e.premultiplyAlpha);n.version=e.version,e.onUpdate&&e.onUpdate(e)}}async copyTextureToBuffer(e,t,n,i,s,o){const u=this.backend.device,h=this.backend.get(e),d=h.texture,m=h.textureDescriptorGPU.format,y=this._getBytesPerTexel(m);let x=i*y;x=Math.ceil(x/256)*256;const b=u.createBuffer({size:i*s*y,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),w=u.createCommandEncoder();w.copyTextureToBuffer({texture:d,origin:{x:t,y:n,z:o}},{buffer:b,bytesPerRow:x},{width:i,height:s});const S=this._getTypedArrayType(m);u.queue.submit([w.finish()]),await b.mapAsync(GPUMapMode.READ);const N=b.getMappedRange();return new S(N)}_getDefaultTextureGPU(e){let t=this.defaultTexture[e];if(t===void 0){const n=new i9;n.minFilter=wr,n.magFilter=wr,this.createTexture(n,{width:1,height:1,format:e}),this.defaultTexture[e]=t=n}return this.backend.get(t).texture}_getDefaultCubeTextureGPU(e){let t=this.defaultTexture[e];if(t===void 0){const n=new s9;n.minFilter=wr,n.magFilter=wr,this.createTexture(n,{width:1,height:1,depth:6}),this.defaultCubeTexture[e]=t=n}return this.backend.get(t).texture}_getDefaultVideoFrame(){let e=this.defaultVideoFrame;if(e===null){const t={timestamp:0,codedWidth:1,codedHeight:1,format:"RGBA"};this.defaultVideoFrame=e=new VideoFrame(new Uint8Array([0,0,0,255]),t)}return e}_copyCubeMapToTexture(e,t,n,i,s){for(let o=0;o<6;o++){const u=e[o],h=i===!0?GU[o]:o;u.isDataTexture?this._copyBufferToTexture(u.image,t,n,h,i):this._copyImageToTexture(u,t,n,h,i,s)}}_copyImageToTexture(e,t,n,i,s,o){this.backend.device.queue.copyExternalImageToTexture({source:e,flipY:s},{texture:t,mipLevel:0,origin:{x:0,y:0,z:i},premultipliedAlpha:o},{width:e.width,height:e.height,depthOrArrayLayers:1})}_getPassUtils(){let e=this._passUtils;return e===null&&(this._passUtils=e=new kU(this.backend.device)),e}_generateMipmaps(e,t,n=0){this._getPassUtils().generateMipmaps(e,t,n)}_flipY(e,t,n=0){this._getPassUtils().flipY(e,t,n)}_copyBufferToTexture(e,t,n,i,s,o=0){const u=this.backend.device,h=e.data,d=this._getBytesPerTexel(n.format),m=e.width*d;u.queue.writeTexture({texture:t,mipLevel:0,origin:{x:0,y:0,z:i}},h,{offset:e.width*e.height*d*o,bytesPerRow:m},{width:e.width,height:e.height,depthOrArrayLayers:1}),s===!0&&this._flipY(t,n,i)}_copyCompressedBufferToTexture(e,t,n){const i=this.backend.device,s=this._getBlockData(n.format),o=n.size.depthOrArrayLayers>1;for(let u=0;u<e.length;u++){const h=e[u],d=h.width,m=h.height,y=o?n.size.depthOrArrayLayers:1,x=Math.ceil(d/s.width)*s.byteLength,b=x*Math.ceil(m/s.height);for(let w=0;w<y;w++)i.queue.writeTexture({texture:t,mipLevel:u,origin:{x:0,y:0,z:w}},h.data,{offset:w*b,bytesPerRow:x,rowsPerImage:Math.ceil(m/s.height)},{width:Math.ceil(d/s.width)*s.width,height:Math.ceil(m/s.height)*s.height,depthOrArrayLayers:1})}}_getBlockData(e){if(e===ne.BC1RGBAUnorm||e===ne.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(e===ne.BC2RGBAUnorm||e===ne.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===ne.BC3RGBAUnorm||e===ne.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===ne.BC4RUnorm||e===ne.BC4RSnorm)return{byteLength:8,width:4,height:4};if(e===ne.BC5RGUnorm||e===ne.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(e===ne.BC6HRGBUFloat||e===ne.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(e===ne.BC7RGBAUnorm||e===ne.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===ne.ETC2RGB8Unorm||e===ne.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(e===ne.ETC2RGB8A1Unorm||e===ne.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(e===ne.ETC2RGBA8Unorm||e===ne.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(e===ne.EACR11Unorm)return{byteLength:8,width:4,height:4};if(e===ne.EACR11Snorm)return{byteLength:8,width:4,height:4};if(e===ne.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(e===ne.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(e===ne.ASTC4x4Unorm||e===ne.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(e===ne.ASTC5x4Unorm||e===ne.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(e===ne.ASTC5x5Unorm||e===ne.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(e===ne.ASTC6x5Unorm||e===ne.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(e===ne.ASTC6x6Unorm||e===ne.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(e===ne.ASTC8x5Unorm||e===ne.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(e===ne.ASTC8x6Unorm||e===ne.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(e===ne.ASTC8x8Unorm||e===ne.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(e===ne.ASTC10x5Unorm||e===ne.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(e===ne.ASTC10x6Unorm||e===ne.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(e===ne.ASTC10x8Unorm||e===ne.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(e===ne.ASTC10x10Unorm||e===ne.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(e===ne.ASTC12x10Unorm||e===ne.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(e===ne.ASTC12x12Unorm||e===ne.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(e){let t=p6.ClampToEdge;return e===n5?t=p6.Repeat:e===t5&&(t=p6.MirrorRepeat),t}_convertFilterMode(e){let t=Wi.Linear;return(e===wr||e===Rf||e===Uo)&&(t=Wi.Nearest),t}_getBytesPerTexel(e){if(e===ne.R8Unorm||e===ne.R8Snorm||e===ne.R8Uint||e===ne.R8Sint)return 1;if(e===ne.R16Uint||e===ne.R16Sint||e===ne.R16Float||e===ne.RG8Unorm||e===ne.RG8Snorm||e===ne.RG8Uint||e===ne.RG8Sint)return 2;if(e===ne.R32Uint||e===ne.R32Sint||e===ne.R32Float||e===ne.RG16Uint||e===ne.RG16Sint||e===ne.RG16Float||e===ne.RGBA8Unorm||e===ne.RGBA8UnormSRGB||e===ne.RGBA8Snorm||e===ne.RGBA8Uint||e===ne.RGBA8Sint||e===ne.BGRA8Unorm||e===ne.BGRA8UnormSRGB||e===ne.RGB9E5UFloat||e===ne.RGB10A2Unorm||e===ne.RG11B10UFloat||e===ne.Depth32Float||e===ne.Depth24Plus||e===ne.Depth24PlusStencil8||e===ne.Depth32FloatStencil8)return 4;if(e===ne.RG32Uint||e===ne.RG32Sint||e===ne.RG32Float||e===ne.RGBA16Uint||e===ne.RGBA16Sint||e===ne.RGBA16Float)return 8;if(e===ne.RGBA32Uint||e===ne.RGBA32Sint||e===ne.RGBA32Float)return 16}_getTypedArrayType(e){if(e===ne.R8Uint)return Uint8Array;if(e===ne.R8Sint)return Int8Array;if(e===ne.R8Unorm)return Uint8Array;if(e===ne.R8Snorm)return Int8Array;if(e===ne.RG8Uint)return Uint8Array;if(e===ne.RG8Sint)return Int8Array;if(e===ne.RG8Unorm)return Uint8Array;if(e===ne.RG8Snorm)return Int8Array;if(e===ne.RGBA8Uint)return Uint8Array;if(e===ne.RGBA8Sint)return Int8Array;if(e===ne.RGBA8Unorm)return Uint8Array;if(e===ne.RGBA8Snorm)return Int8Array;if(e===ne.R16Uint)return Uint16Array;if(e===ne.R16Sint)return Int16Array;if(e===ne.RG16Uint)return Uint16Array;if(e===ne.RG16Sint)return Int16Array;if(e===ne.RGBA16Uint)return Uint16Array;if(e===ne.RGBA16Sint)return Int16Array;if(e===ne.R16Float||e===ne.RG16Float||e===ne.RGBA16Float)return Uint16Array;if(e===ne.R32Uint)return Uint32Array;if(e===ne.R32Sint)return Int32Array;if(e===ne.R32Float)return Float32Array;if(e===ne.RG32Uint)return Uint32Array;if(e===ne.RG32Sint)return Int32Array;if(e===ne.RG32Float)return Float32Array;if(e===ne.RGBA32Uint)return Uint32Array;if(e===ne.RGBA32Sint)return Int32Array;if(e===ne.RGBA32Float)return Float32Array;if(e===ne.BGRA8Unorm||e===ne.BGRA8UnormSRGB)return Uint8Array;if(e===ne.RGB10A2Unorm||e===ne.RGB9E5UFloat||e===ne.RG11B10UFloat)return Uint32Array;if(e===ne.Depth32Float)return Float32Array;if(e===ne.Depth24Plus||e===ne.Depth24PlusStencil8)return Uint32Array;if(e===ne.Depth32FloatStencil8)return Float32Array}_getDimension(e){let t;return e.isData3DTexture?t=Jh.ThreeD:t=Jh.TwoD,t}}function X7(r,e=null){const t=r.format,n=r.type,i=r.colorSpace,s=W0.getTransfer(i);let o;if(r.isCompressedTexture===!0||r.isCompressedArrayTexture===!0)switch(t){case D3:o=s===mt?ne.BC1RGBAUnormSRGB:ne.BC1RGBAUnorm;break;case F3:o=s===mt?ne.BC2RGBAUnormSRGB:ne.BC2RGBAUnorm;break;case L3:o=s===mt?ne.BC3RGBAUnormSRGB:ne.BC3RGBAUnorm;break;case M6:o=s===mt?ne.ETC2RGB8UnormSRGB:ne.ETC2RGB8Unorm;break;case R6:o=s===mt?ne.ETC2RGBA8UnormSRGB:ne.ETC2RGBA8Unorm;break;case C6:o=s===mt?ne.ASTC4x4UnormSRGB:ne.ASTC4x4Unorm;break;case P6:o=s===mt?ne.ASTC5x4UnormSRGB:ne.ASTC5x4Unorm;break;case B6:o=s===mt?ne.ASTC5x5UnormSRGB:ne.ASTC5x5Unorm;break;case D6:o=s===mt?ne.ASTC6x5UnormSRGB:ne.ASTC6x5Unorm;break;case F6:o=s===mt?ne.ASTC6x6UnormSRGB:ne.ASTC6x6Unorm;break;case L6:o=s===mt?ne.ASTC8x5UnormSRGB:ne.ASTC8x5Unorm;break;case q6:o=s===mt?ne.ASTC8x6UnormSRGB:ne.ASTC8x6Unorm;break;case I6:o=s===mt?ne.ASTC8x8UnormSRGB:ne.ASTC8x8Unorm;break;case O6:o=s===mt?ne.ASTC10x5UnormSRGB:ne.ASTC10x5Unorm;break;case k6:o=s===mt?ne.ASTC10x6UnormSRGB:ne.ASTC10x6Unorm;break;case U6:o=s===mt?ne.ASTC10x8UnormSRGB:ne.ASTC10x8Unorm;break;case G6:o=s===mt?ne.ASTC10x10UnormSRGB:ne.ASTC10x10Unorm;break;case V6:o=s===mt?ne.ASTC12x10UnormSRGB:ne.ASTC12x10Unorm;break;case z6:o=s===mt?ne.ASTC12x12UnormSRGB:ne.ASTC12x12Unorm;break;case Er:o=s===mt?ne.RGBA8UnormSRGB:ne.RGBA8Unorm;break;default:console.error("WebGPURenderer: Unsupported texture format.",t)}else switch(t){case Er:switch(n){case No:o=ne.RGBA8Snorm;break;case Mo:o=ne.RGBA16Sint;break;case ts:o=ne.RGBA16Uint;break;case M0:o=ne.RGBA32Uint;break;case hn:o=ne.RGBA32Sint;break;case Un:o=s===mt?ne.RGBA8UnormSRGB:ne.RGBA8Unorm;break;case xn:o=ne.RGBA16Float;break;case or:o=ne.RGBA32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAFormat.",n)}break;case d9:switch(n){case rd:o=ne.RGB9E5UFloat;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBFormat.",n)}break;case p9:switch(n){case No:o=ne.R8Snorm;break;case Mo:o=ne.R16Sint;break;case ts:o=ne.R16Uint;break;case M0:o=ne.R32Uint;break;case hn:o=ne.R32Sint;break;case Un:o=ne.R8Unorm;break;case xn:o=ne.R16Float;break;case or:o=ne.R32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RedFormat.",n)}break;case Yi:switch(n){case No:o=ne.RG8Snorm;break;case Mo:o=ne.RG16Sint;break;case ts:o=ne.RG16Uint;break;case M0:o=ne.RG32Uint;break;case hn:o=ne.RG32Sint;break;case Un:o=ne.RG8Unorm;break;case xn:o=ne.RG16Float;break;case or:o=ne.RG32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGFormat.",n)}break;case yi:switch(n){case ts:o=ne.Depth16Unorm;break;case M0:o=ne.Depth24Plus;break;case or:o=ne.Depth32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthFormat.",n)}break;case gi:switch(n){case mi:o=ne.Depth24PlusStencil8;break;case or:e&&e.features.has(Y7.Depth32FloatStencil8)===!1&&console.error('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),o=ne.Depth32FloatStencil8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",n)}break;case m9:switch(n){case hn:o=ne.R32Sint;break;case M0:o=ne.R32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",n)}break;case g9:switch(n){case hn:o=ne.RG32Sint;break;case M0:o=ne.RG32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",n)}break;case y9:switch(n){case hn:o=ne.RGBA32Sint;break;case M0:o=ne.RGBA32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",n)}break;default:console.error("WebGPURenderer: Unsupported texture format.",t)}return o}const zU=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,HU=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,ef={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_2d_array:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_depth_cube:"depthTexture",texture_depth_cube_array:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},jU=r=>{r=r.trim();const e=r.match(zU);if(e!==null&&e.length===4){const t=e[2],n=[];let i=null;for(;(i=HU.exec(t))!==null;)n.push({name:i[1],type:i[2]});const s=[];for(let m=0;m<n.length;m++){const{name:y,type:x}=n[m];let b=x;b.startsWith("ptr")?b="pointer":(b.startsWith("texture")&&(b=x.split("<")[0]),b=ef[b]),s.push(new nl(b,y))}const o=r.substring(e[0].length),u=e[3]||"void",h=e[1]!==void 0?e[1]:"";return{type:ef[u]||u,inputs:s,name:h,inputsCode:t,blockCode:o,outputType:u}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class $U extends il{constructor(e){const{type:t,inputs:n,name:i,inputsCode:s,blockCode:o,outputType:u}=jU(e);super(t,n,i),this.inputsCode=s,this.blockCode=o,this.outputType=u}getCode(e=this.name){const t=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${e} ( ${this.inputsCode.trim()} ) ${t}`+this.blockCode}}class WU extends A_{parseFunction(e){return new $U(e)}}const Q2=typeof self<"u"?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},QU={[rn.READ_ONLY]:"read",[rn.WRITE_ONLY]:"write",[rn.READ_WRITE]:"read_write"},tf={[n5]:"repeat",[h9]:"clamp",[t5]:"mirror"},x3={vertex:Q2?Q2.VERTEX:1,fragment:Q2?Q2.FRAGMENT:2,compute:Q2?Q2.COMPUTE:4},nf={instance:!0,swizzleAssign:!1,storageBuffer:!0},YU={"^^":"tsl_xor"},XU={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},rf={},sr={tsl_xor:new N0("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new N0("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new N0("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new N0("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new N0("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new N0("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new N0("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new N0("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new N0("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new N0("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new N0("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new N0("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new N0(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},To={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"};typeof navigator<"u"&&/Windows/g.test(navigator.userAgent)&&(sr.pow_float=new N0("fn tsl_pow_float( a : f32, b : f32 ) -> f32 { return select( -pow( -a, b ), pow( a, b ), a > 0.0 ); }"),sr.pow_vec2=new N0("fn tsl_pow_vec2( a : vec2f, b : vec2f ) -> vec2f { return vec2f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ) ); }",[sr.pow_float]),sr.pow_vec3=new N0("fn tsl_pow_vec3( a : vec3f, b : vec3f ) -> vec3f { return vec3f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ) ); }",[sr.pow_float]),sr.pow_vec4=new N0("fn tsl_pow_vec4( a : vec4f, b : vec4f ) -> vec4f { return vec4f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ), tsl_pow_float( a.w, b.w ) ); }",[sr.pow_float]),To.pow_float="tsl_pow_float",To.pow_vec2="tsl_pow_vec2",To.pow_vec3="tsl_pow_vec3",To.pow_vec4="tsl_pow_vec4");let y_="";(typeof navigator<"u"&&/Firefox|Deno/g.test(navigator.userAgent))!==!0&&(y_+=`diagnostic( off, derivative_uniformity );
`);class KU extends a_{constructor(e,t){super(e,t,new WU),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==l2}_generateTextureSample(e,t,n,i,s=this.shaderStage){return s==="fragment"?i?`textureSample( ${t}, ${t}_sampler, ${n}, ${i} )`:`textureSample( ${t}, ${t}_sampler, ${n} )`:this._generateTextureSampleLevel(e,t,n,"0",i)}_generateVideoSample(e,t,n=this.shaderStage){if(n==="fragment")return`textureSampleBaseClampToEdge( ${e}, ${e}_sampler, vec2<f32>( ${t}.x, 1.0 - ${t}.y ) )`;console.error(`WebGPURenderer: THREE.VideoTexture does not support ${n} shader.`)}_generateTextureSampleLevel(e,t,n,i,s){return this.isUnfilterable(e)===!1?`textureSampleLevel( ${t}, ${t}_sampler, ${n}, ${i} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,t,n,i):this.generateTextureLod(e,t,n,s,i)}generateWrapFunction(e){const t=`tsl_coord_${tf[e.wrapS]}S_${tf[e.wrapT]}_${e.isData3DTexture?"3d":"2d"}T`;let n=rf[t];if(n===void 0){const i=[],s=e.isData3DTexture?"vec3f":"vec2f";let o=`fn ${t}( coord : ${s} ) -> ${s} {

	return ${s}(
`;const u=(h,d)=>{h===n5?(i.push(sr.repeatWrapping_float),o+=`		tsl_repeatWrapping_float( coord.${d} )`):h===h9?(i.push(sr.clampWrapping_float),o+=`		tsl_clampWrapping_float( coord.${d} )`):h===t5?(i.push(sr.mirrorWrapping_float),o+=`		tsl_mirrorWrapping_float( coord.${d} )`):(o+=`		coord.${d}`,console.warn(`WebGPURenderer: Unsupported texture wrap type "${h}" for vertex shader.`))};u(e.wrapS,"x"),o+=`,
`,u(e.wrapT,"y"),e.isData3DTexture&&(o+=`,
`,u(e.wrapR,"z")),o+=`
	);

}
`,rf[t]=n=new N0(o,i)}return n.build(this),t}generateArrayDeclaration(e,t){return`array< ${this.getType(e)}, ${t} >`}generateTextureDimension(e,t,n){const i=this.getDataFromNode(e,this.shaderStage,this.globalCache);i.dimensionsSnippet===void 0&&(i.dimensionsSnippet={});let s=i.dimensionsSnippet[n];if(i.dimensionsSnippet[n]===void 0){let o,u;const{primarySamples:h}=this.renderer.backend.utils.getTextureSampleData(e),d=h>1;e.isData3DTexture?u="vec3<u32>":u="vec2<u32>",d||e.isVideoTexture||e.isStorageTexture?o=t:o=`${t}${n?`, u32( ${n} )`:""}`,s=new $3(new W3(`textureDimensions( ${o} )`,u)),i.dimensionsSnippet[n]=s,(e.isArrayTexture||e.isDataArrayTexture||e.isData3DTexture)&&(i.arrayLayerCount=new $3(new W3(`textureNumLayers(${t})`,"u32"))),e.isTextureCube&&(i.cubeFaceCount=new $3(new W3("6u","u32")))}return s.build(this)}generateFilteredTexture(e,t,n,i="0u"){this._include("biquadraticTexture");const s=this.generateWrapFunction(e),o=this.generateTextureDimension(e,t,i);return`tsl_biquadraticTexture( ${t}, ${s}( ${n} ), ${o}, u32( ${i} ) )`}generateTextureLod(e,t,n,i,s="0u"){const o=this.generateWrapFunction(e),u=this.generateTextureDimension(e,t,s),h=e.isData3DTexture?"vec3":"vec2",d=`${h}<u32>( ${o}( ${n} ) * ${h}<f32>( ${u} ) )`;return this.generateTextureLoad(e,t,d,i,s)}generateTextureLoad(e,t,n,i,s="0u"){let o;return e.isVideoTexture===!0?o=`textureLoad( ${t}, ${n} )`:i?o=`textureLoad( ${t}, ${n}, ${i}, u32( ${s} ) )`:(o=`textureLoad( ${t}, ${n}, u32( ${s} ) )`,this.renderer.backend.compatibilityMode&&e.isDepthTexture&&(o+=".x")),o}generateTextureStore(e,t,n,i,s){let o;return i?o=`textureStore( ${t}, ${n}, ${i}, ${s} )`:o=`textureStore( ${t}, ${n}, ${s} )`,o}isSampleCompare(e){return e.isDepthTexture===!0&&e.compareFunction!==null}isUnfilterable(e){return this.getComponentTypeFromTexture(e)!=="float"||!this.isAvailable("float32Filterable")&&e.isDataTexture===!0&&e.type===or||this.isSampleCompare(e)===!1&&e.minFilter===wr&&e.magFilter===wr||this.renderer.backend.utils.getTextureSampleData(e).primarySamples>1}generateTexture(e,t,n,i,s=this.shaderStage){let o=null;return e.isVideoTexture===!0?o=this._generateVideoSample(t,n,s):this.isUnfilterable(e)?o=this.generateTextureLod(e,t,n,i,"0",s):o=this._generateTextureSample(e,t,n,i,s),o}generateTextureGrad(e,t,n,i,s,o=this.shaderStage){if(o==="fragment")return`textureSampleGrad( ${t}, ${t}_sampler, ${n},  ${i[0]}, ${i[1]} )`;console.error(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${o} shader.`)}generateTextureCompare(e,t,n,i,s,o=this.shaderStage){if(o==="fragment")return e.isDepthTexture===!0&&e.isArrayTexture===!0?`textureSampleCompare( ${t}, ${t}_sampler, ${n}, ${s}, ${i} )`:`textureSampleCompare( ${t}, ${t}_sampler, ${n}, ${i} )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${o} shader.`)}generateTextureLevel(e,t,n,i,s,o=this.shaderStage){let u=null;return e.isVideoTexture===!0?u=this._generateVideoSample(t,n,o):u=this._generateTextureSampleLevel(e,t,n,i,s),u}generateTextureBias(e,t,n,i,s,o=this.shaderStage){if(o==="fragment")return`textureSampleBias( ${t}, ${t}_sampler, ${n}, ${i} )`;console.error(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${o} shader.`)}getPropertyName(e,t=this.shaderStage){if(e.isNodeVarying===!0&&e.needsInterpolation===!0){if(t==="vertex")return`varyings.${e.name}`}else if(e.isNodeUniform===!0){const n=e.name,i=e.type;return i==="texture"||i==="cubeTexture"||i==="storageTexture"||i==="texture3D"?n:i==="buffer"||i==="storageBuffer"||i==="indirectStorageBuffer"?this.isCustomStruct(e)?n:n+".value":e.groupNode.name+"."+n}return super.getPropertyName(e)}getOutputStructName(){return"output"}getFunctionOperator(e){const t=YU[e];return t!==void 0?(this._include(t),t):null}getNodeAccess(e,t){return t!=="compute"?rn.READ_ONLY:e.access}getStorageAccess(e,t){return QU[this.getNodeAccess(e,t)]}getUniformFromNode(e,t,n,i=null){const s=super.getUniformFromNode(e,t,n,i),o=this.getDataFromNode(e,n,this.globalCache);if(o.uniformGPU===void 0){let u;const h=e.groupNode,d=h.name,m=this.getBindGroupArray(d,n);if(t==="texture"||t==="cubeTexture"||t==="storageTexture"||t==="texture3D"){let y=null;const x=this.getNodeAccess(e,n);if(t==="texture"||t==="storageTexture"?y=new L5(s.name,s.node,h,x):t==="cubeTexture"?y=new d_(s.name,s.node,h,x):t==="texture3D"&&(y=new p_(s.name,s.node,h,x)),y.store=e.isStorageTextureNode===!0,y.setVisibility(x3[n]),this.isUnfilterable(e.value)===!1&&y.store===!1){const b=new LU(`${s.name}_sampler`,s.node,h);b.setVisibility(x3[n]),m.push(b,y),u=[b,y]}else m.push(y),u=[y]}else if(t==="buffer"||t==="storageBuffer"||t==="indirectStorageBuffer"){const y=t==="buffer"?h_:OU,x=new y(e,h);x.setVisibility(x3[n]),m.push(x),u=x,s.name=i||"NodeBuffer_"+s.id}else{const y=this.uniformGroups[n]||(this.uniformGroups[n]={});let x=y[d];x===void 0&&(x=new f_(d,h),x.setVisibility(x3[n]),y[d]=x,m.push(x)),u=this.getNodeUniform(s,t),x.addUniform(u)}o.uniformGPU=u}return s}getBuiltin(e,t,n,i=this.shaderStage){const s=this.builtins[i]||(this.builtins[i]=new Map);return s.has(e)===!1&&s.set(e,{name:e,property:t,type:n}),t}hasBuiltin(e,t=this.shaderStage){return this.builtins[t]!==void 0&&this.builtins[t].has(e)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(e){const t=e.layout,n=this.flowShaderNode(e),i=[];for(const o of t.inputs)i.push(o.name+" : "+this.getType(o.type));let s=`fn ${t.name}( ${i.join(", ")} ) -> ${this.getType(t.type)} {
${n.vars}
${n.code}
`;return n.result&&(s+=`	return ${n.result};
`),s+=`
}
`,s}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(e,t=this.shaderStage){(this.directives[t]||(this.directives[t]=new Set)).add(e)}getDirectives(e){const t=[],n=this.directives[e];if(n!==void 0)for(const i of n)t.push(`enable ${i};`);return t.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(e){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances",`array<f32, ${e} >`,"vertex")}getBuiltins(e){const t=[],n=this.builtins[e];if(n!==void 0)for(const{name:i,property:s,type:o}of n.values())t.push(`@builtin( ${i} ) ${s} : ${o}`);return t.join(`,
	`)}getScopedArray(e,t,n,i){return this.scopedArrays.has(e)===!1&&this.scopedArrays.set(e,{name:e,scope:t,bufferType:n,bufferCount:i}),e}getScopedArrays(e){if(e!=="compute")return;const t=[];for(const{name:n,scope:i,bufferType:s,bufferCount:o}of this.scopedArrays.values()){const u=this.getType(s);t.push(`var<${i}> ${n}: array< ${u}, ${o} >;`)}return t.join(`
`)}getAttributes(e){const t=[];if(e==="compute"&&(this.getBuiltin("global_invocation_id","globalId","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",e),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),e==="vertex"||e==="compute"){const n=this.getBuiltins("attribute");n&&t.push(n);const i=this.getAttributesArray();for(let s=0,o=i.length;s<o;s++){const u=i[s],h=u.name,d=this.getType(u.type);t.push(`@location( ${s} ) ${h} : ${d}`)}}return t.join(`,
	`)}getStructMembers(e){const t=[];for(const n of e.members){const i=e.output?"@location( "+n.index+" ) ":"";let s=this.getType(n.type);n.atomic&&(s="atomic< "+s+" >"),t.push(`	${i+n.name} : ${s}`)}return e.output&&t.push(`	${this.getBuiltins("output")}`),t.join(`,
`)}getStructs(e){let t="";const n=this.structs[e];if(n.length>0){const i=[];for(const s of n){let o=`struct ${s.name} {
`;o+=this.getStructMembers(s),o+=`
};`,i.push(o)}t=`
`+i.join(`

`)+`
`}return t}getVar(e,t,n=null){let i=`var ${t} : `;return n!==null?i+=this.generateArrayDeclaration(e,n):i+=this.getType(e),i}getVars(e){const t=[],n=this.vars[e];if(n!==void 0)for(const i of n)t.push(`	${this.getVar(i.type,i.name,i.count)};`);return`
${t.join(`
`)}
`}getVaryings(e){const t=[];if(e==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),e==="vertex"||e==="fragment"){const s=this.varyings,o=this.vars[e];for(let u=0;u<s.length;u++){const h=s[u];if(h.needsInterpolation){let d=`@location( ${u} )`;if(h.interpolationType){const m=h.interpolationSampling!==null?`, ${h.interpolationSampling} )`:" )";d+=` @interpolate( ${h.interpolationType}${m}`}else/^(int|uint|ivec|uvec)/.test(h.type)&&(d+=` @interpolate( ${this.renderer.backend.compatibilityMode?"flat, either":"flat"} )`);t.push(`${d} ${h.name} : ${this.getType(h.type)}`)}else e==="vertex"&&o.includes(h)===!1&&o.push(h)}}const n=this.getBuiltins(e);n&&t.push(n);const i=t.join(`,
	`);return e==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+i):i}isCustomStruct(e){const t=e.value,n=e.node,i=(t.isBufferAttribute||t.isInstancedBufferAttribute)&&n.structTypeNode!==null,s=n.value&&n.value.array&&typeof n.value.itemSize=="number"&&n.value.array.length>n.value.itemSize;return i&&!s}getUniforms(e){const t=this.uniforms[e],n=[],i=[],s=[],o={};for(const h of t){const d=h.groupNode.name,m=this.bindingsIndexes[d];if(h.type==="texture"||h.type==="cubeTexture"||h.type==="storageTexture"||h.type==="texture3D"){const y=h.node.value;this.isUnfilterable(y)===!1&&h.node.isStorageTextureNode!==!0&&(this.isSampleCompare(y)?n.push(`@binding( ${m.binding++} ) @group( ${m.group} ) var ${h.name}_sampler : sampler_comparison;`):n.push(`@binding( ${m.binding++} ) @group( ${m.group} ) var ${h.name}_sampler : sampler;`));let x,b="";const{primarySamples:w}=this.renderer.backend.utils.getTextureSampleData(y);if(w>1&&(b="_multisampled"),y.isCubeTexture===!0)x="texture_cube<f32>";else if(y.isDepthTexture===!0)this.renderer.backend.compatibilityMode&&y.compareFunction===null?x=`texture${b}_2d<f32>`:x=`texture_depth${b}_2d${y.isArrayTexture===!0?"_array":""}`;else if(y.isArrayTexture===!0||y.isDataArrayTexture===!0||y.isCompressedArrayTexture===!0)x="texture_2d_array<f32>";else if(y.isVideoTexture===!0)x="texture_external";else if(y.isData3DTexture===!0)x="texture_3d<f32>";else if(h.node.isStorageTextureNode===!0){const S=X7(y),N=this.getStorageAccess(h.node,e);x=`texture_storage_2d<${S}, ${N}>`}else{const S=this.getComponentTypeFromTexture(y).charAt(0);x=`texture${b}_2d<${S}32>`}n.push(`@binding( ${m.binding++} ) @group( ${m.group} ) var ${h.name} : ${x};`)}else if(h.type==="buffer"||h.type==="storageBuffer"||h.type==="indirectStorageBuffer"){const y=h.node,x=this.getType(y.getNodeType(this)),b=y.bufferCount,w=b>0&&h.type==="buffer"?", "+b:"",S=y.isStorageBufferNode?`storage, ${this.getStorageAccess(y,e)}`:"uniform";if(this.isCustomStruct(h))i.push(`@binding( ${m.binding++} ) @group( ${m.group} ) var<${S}> ${h.name} : ${x};`);else{const C=`	value : array< ${y.isAtomic?`atomic<${x}>`:`${x}`}${w} >`;i.push(this._getWGSLStructBinding(h.name,C,S,m.binding++,m.group))}}else{const y=this.getType(this.getVectorType(h.type)),x=h.groupNode.name;(o[x]||(o[x]={index:m.binding++,id:m.group,snippets:[]})).snippets.push(`	${h.name} : ${y}`)}}for(const h in o){const d=o[h];s.push(this._getWGSLStructBinding(h,d.snippets.join(`,
`),"uniform",d.index,d.id))}let u=n.join(`
`);return u+=i.join(`
`),u+=s.join(`
`),u}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const t in e){this.shaderStage=t;const n=e[t];n.uniforms=this.getUniforms(t),n.attributes=this.getAttributes(t),n.varyings=this.getVaryings(t),n.structs=this.getStructs(t),n.vars=this.getVars(t),n.codes=this.getCodes(t),n.directives=this.getDirectives(t),n.scopedArrays=this.getScopedArrays(t);let i=`// code

`;i+=this.flowCode[t];const s=this.flowNodes[t],o=s[s.length-1],u=o.outputNode,h=u!==void 0&&u.isOutputStructNode===!0;for(const d of s){const m=this.getFlowData(d),y=d.name;if(y&&(i.length>0&&(i+=`
`),i+=`	// flow -> ${y}
`),i+=`${m.code}
	`,d===o&&t!=="compute"){if(i+=`// result

	`,t==="vertex")i+=`varyings.Vertex = ${m.result};`;else if(t==="fragment")if(h)n.returnType=u.getNodeType(this),n.structs+="var<private> output : "+n.returnType+";",i+=`return ${m.result};`;else{let x="	@location(0) color: vec4<f32>";const b=this.getBuiltins("output");b&&(x+=`,
	`+b),n.returnType="OutputStruct",n.structs+=this._getWGSLStruct("OutputStruct",x),n.structs+=`
var<private> output : OutputStruct;`,i+=`output.color = ${m.result};

	return output;`}}}n.flow=i}this.shaderStage=null,this.material!==null?(this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment)):this.computeShader=this._getWGSLComputeCode(e.compute,(this.object.workgroupSize||[64]).join(", "))}getMethod(e,t=null){let n;return t!==null&&(n=this._getWGSLMethod(e+"_"+t)),n===void 0&&(n=this._getWGSLMethod(e)),n||e}getType(e){return XU[e]||e}isAvailable(e){let t=nf[e];return t===void 0&&(e==="float32Filterable"?t=this.renderer.hasFeature("float32-filterable"):e==="clipDistance"&&(t=this.renderer.hasFeature("clip-distances")),nf[e]=t),t}_getWGSLMethod(e){return sr[e]!==void 0&&this._include(e),To[e]}_include(e){const t=sr[e];return t.build(this),this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(t),t}_getWGSLVertexCode(e){return`${this.getSignature()}
// directives
${e.directives}

// structs
${e.structs}

// uniforms
${e.uniforms}

// varyings
${e.varyings}
var<private> varyings : VaryingsStruct;

// codes
${e.codes}

@vertex
fn main( ${e.attributes} ) -> VaryingsStruct {

	// vars
	${e.vars}

	// flow
	${e.flow}

	return varyings;

}
`}_getWGSLFragmentCode(e){return`${this.getSignature()}
// global
${y_}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@fragment
fn main( ${e.varyings} ) -> ${e.returnType} {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLComputeCode(e,t){return`${this.getSignature()}
// directives
${e.directives}

// system
var<private> instanceIndex : u32;

// locals
${e.scopedArrays}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@compute @workgroup_size( ${t} )
fn main( ${e.attributes} ) {

	// system
	instanceIndex = globalId.x + globalId.y * numWorkgroups.x * u32(${t}) + globalId.z * numWorkgroups.x * numWorkgroups.y * u32(${t});

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLStruct(e,t){return`
struct ${e} {
${t}
};`}_getWGSLStructBinding(e,t,n,i=0,s=0){const o=e+"Struct";return`${this._getWGSLStruct(o,t)}
@binding( ${i} ) @group( ${s} )
var<${n}> ${e} : ${o};`}}class ZU{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let t;return e.depthTexture!==null?t=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?t=ne.Depth24PlusStencil8:e.depth&&(t=ne.Depth24Plus),t}getTextureFormatGPU(e){return this.backend.get(e).format}getTextureSampleData(e){let t;if(e.isFramebufferTexture)t=1;else if(e.isDepthTexture&&!e.renderTarget){const s=this.backend.renderer,o=s.getRenderTarget();t=o?o.samples:s.samples}else e.renderTarget&&(t=e.renderTarget.samples);t=t||1;const n=t>1&&e.renderTarget!==null&&e.isDepthTexture!==!0&&e.isFramebufferTexture!==!0;return{samples:t,primarySamples:n?1:t,isMSAA:n}}getCurrentColorFormat(e){let t;return e.textures!==null?t=this.getTextureFormatGPU(e.textures[0]):t=this.getPreferredCanvasFormat(),t}getCurrentColorSpace(e){return e.textures!==null?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,t){if(e.isPoints)return us.PointList;if(e.isLineSegments||e.isMesh&&t.wireframe===!0)return us.LineList;if(e.isLine)return us.LineStrip;if(e.isMesh)return us.TriangleList}getSampleCount(e){let t=1;return e>1&&(t=Math.pow(2,Math.floor(Math.log2(e))),t===2&&(t=4)),t}getSampleCountRenderContext(e){return e.textures!==null?this.getSampleCount(e.sampleCount):this.getSampleCount(this.backend.renderer.samples)}getPreferredCanvasFormat(){const e=this.backend.parameters.outputType;if(e===void 0)return navigator.gpu.getPreferredCanvasFormat();if(e===Un)return ne.BGRA8Unorm;if(e===xn)return ne.RGBA16Float;throw new Error("Unsupported outputType")}}const JU=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]),eG=new Map([[Ad,["float16"]]]),tG=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class nG{constructor(e){this.backend=e}createAttribute(e,t){const n=this._getBufferAttribute(e),i=this.backend,s=i.get(n);let o=s.buffer;if(o===void 0){const u=i.device;let h=n.array;if(e.normalized===!1){if(h.constructor===Int16Array||h.constructor===Int8Array)h=new Int32Array(h);else if((h.constructor===Uint16Array||h.constructor===Uint8Array)&&(h=new Uint32Array(h),t&GPUBufferUsage.INDEX))for(let y=0;y<h.length;y++)h[y]===65535&&(h[y]=4294967295)}if(n.array=h,(n.isStorageBufferAttribute||n.isStorageInstancedBufferAttribute)&&n.itemSize===3){h=new h.constructor(n.count*4);for(let y=0;y<n.count;y++)h.set(n.array.subarray(y*3,y*3+3),y*4);n.itemSize=4,n.array=h,s._force3to4BytesAlignment=!0}const d=h.byteLength,m=d+(4-d%4)%4;o=u.createBuffer({label:n.name,size:m,usage:t,mappedAtCreation:!0}),new h.constructor(o.getMappedRange()).set(h),o.unmap(),s.buffer=o}}updateAttribute(e){const t=this._getBufferAttribute(e),n=this.backend,i=n.device,s=n.get(t),o=n.get(t).buffer;let u=t.array;if(s._force3to4BytesAlignment===!0){u=new u.constructor(t.count*4);for(let m=0;m<t.count;m++)u.set(t.array.subarray(m*3,m*3+3),m*4);t.array=u}const h=this._isTypedArray(u),d=t.updateRanges;if(d.length===0)i.queue.writeBuffer(o,0,u,0);else{const m=h?1:u.BYTES_PER_ELEMENT;for(let y=0,x=d.length;y<x;y++){const b=d[y];let w,S;if(s._force3to4BytesAlignment===!0){const C=Math.floor(b.start/3),P=Math.ceil(b.count/3);w=C*4*m,S=P*4*m}else w=b.start*m,S=b.count*m;const N=w*(h?u.BYTES_PER_ELEMENT:1);i.queue.writeBuffer(o,N,u,w,S)}t.clearUpdateRanges()}}createShaderVertexBuffers(e){const t=e.getAttributes(),n=new Map;for(let i=0;i<t.length;i++){const s=t[i],o=s.array.BYTES_PER_ELEMENT,u=this._getBufferAttribute(s);let h=n.get(u);if(h===void 0){let y,x;s.isInterleavedBufferAttribute===!0?(y=s.data.stride*o,x=s.data.isInstancedInterleavedBuffer?_3.Instance:_3.Vertex):(y=s.itemSize*o,x=s.isInstancedBufferAttribute?_3.Instance:_3.Vertex),s.normalized===!1&&(s.array.constructor===Int16Array||s.array.constructor===Uint16Array)&&(y=4),h={arrayStride:y,attributes:[],stepMode:x},n.set(u,h)}const d=this._getVertexFormat(s),m=s.isInterleavedBufferAttribute===!0?s.offset*o:0;h.attributes.push({shaderLocation:i,offset:m,format:d})}return Array.from(n.values())}destroyAttribute(e){const t=this.backend;t.get(this._getBufferAttribute(e)).buffer.destroy(),t.delete(e)}async getArrayBufferAsync(e){const t=this.backend,n=t.device,s=t.get(this._getBufferAttribute(e)).buffer,o=s.size,u=n.createBuffer({label:`${e.name}_readback`,size:o,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),h=n.createCommandEncoder({label:`readback_encoder_${e.name}`});h.copyBufferToBuffer(s,0,u,0,o);const d=h.finish();n.queue.submit([d]),await u.mapAsync(GPUMapMode.READ);const m=u.getMappedRange(),y=new e.array.constructor(m.slice(0));return u.unmap(),y.buffer}_getVertexFormat(e){const{itemSize:t,normalized:n}=e,i=e.array.constructor,s=e.constructor;let o;if(t===1)o=tG.get(i);else{const h=(eG.get(s)||JU.get(i))[n?1:0];if(h){const d=i.BYTES_PER_ELEMENT*t,y=Math.floor((d+3)/4)*4/i.BYTES_PER_ELEMENT;if(y%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");o=`${h}x${y}`}}return o||console.error("THREE.WebGPUAttributeUtils: Vertex format not supported yet."),o}_isTypedArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}class rG{constructor(e){this.backend=e,this.bindGroupLayoutCache=new WeakMap}createBindingsLayout(e){const t=this.backend,n=t.device,i=[];let s=0;for(const o of e.bindings){const u={binding:s++,visibility:o.visibility};if(o.isUniformBuffer||o.isStorageBuffer){const h={};o.isStorageBuffer&&(o.visibility&4&&(o.access===rn.READ_WRITE||o.access===rn.WRITE_ONLY)?h.type=m6.Storage:h.type=m6.ReadOnlyStorage),u.buffer=h}else if(o.isSampler){const h={};o.texture.isDepthTexture&&(o.texture.compareFunction!==null?h.type=Zh.Comparison:t.compatibilityMode&&(h.type=Zh.NonFiltering)),u.sampler=h}else if(o.isSampledTexture&&o.texture.isVideoTexture)u.externalTexture={};else if(o.isSampledTexture&&o.store){const h={};h.format=this.backend.get(o.texture).texture.format;const d=o.access;d===rn.READ_WRITE?h.access=g6.ReadWrite:d===rn.WRITE_ONLY?h.access=g6.WriteOnly:h.access=g6.ReadOnly,u.storageTexture=h}else if(o.isSampledTexture){const h={},{primarySamples:d}=t.utils.getTextureSampleData(o.texture);if(d>1&&(h.multisampled=!0,o.texture.isDepthTexture||(h.sampleType=Vi.UnfilterableFloat)),o.texture.isDepthTexture)t.compatibilityMode&&o.texture.compareFunction===null?h.sampleType=Vi.UnfilterableFloat:h.sampleType=Vi.Depth;else if(o.texture.isDataTexture||o.texture.isDataArrayTexture||o.texture.isData3DTexture){const m=o.texture.type;m===hn?h.sampleType=Vi.SInt:m===M0?h.sampleType=Vi.UInt:m===or&&(this.backend.hasFeature("float32-filterable")?h.sampleType=Vi.Float:h.sampleType=Vi.UnfilterableFloat)}o.isSampledCubeTexture?h.viewDimension=U0.Cube:o.texture.isArrayTexture||o.texture.isDataArrayTexture||o.texture.isCompressedArrayTexture?h.viewDimension=U0.TwoDArray:o.isSampledTexture3D&&(h.viewDimension=U0.ThreeD),u.texture=h}else console.error(`WebGPUBindingUtils: Unsupported binding "${o}".`);i.push(u)}return n.createBindGroupLayout({entries:i})}createBindings(e,t,n,i=0){const{backend:s,bindGroupLayoutCache:o}=this,u=s.get(e);let h=o.get(e.bindingsReference);h===void 0&&(h=this.createBindingsLayout(e),o.set(e.bindingsReference,h));let d;n>0&&(u.groups===void 0&&(u.groups=[],u.versions=[]),u.versions[n]===i&&(d=u.groups[n])),d===void 0&&(d=this.createBindGroup(e,h),n>0&&(u.groups[n]=d,u.versions[n]=i)),u.group=d,u.layout=h}updateBinding(e){const t=this.backend,n=t.device,i=e.buffer,s=t.get(e).buffer;n.queue.writeBuffer(s,0,i,0)}createBindGroupIndex(e,t){const i=this.backend.device,s=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,o=e[0],u=i.createBuffer({label:"bindingCameraIndex_"+o,size:16,usage:s});i.queue.writeBuffer(u,0,e,0);const h=[{binding:0,resource:{buffer:u}}];return i.createBindGroup({label:"bindGroupCameraIndex_"+o,layout:t,entries:h})}createBindGroup(e,t){const n=this.backend,i=n.device;let s=0;const o=[];for(const u of e.bindings){if(u.isUniformBuffer){const h=n.get(u);if(h.buffer===void 0){const d=u.byteLength,m=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,y=i.createBuffer({label:"bindingBuffer_"+u.name,size:d,usage:m});h.buffer=y}o.push({binding:s,resource:{buffer:h.buffer}})}else if(u.isStorageBuffer){const h=n.get(u);if(h.buffer===void 0){const d=u.attribute;h.buffer=n.get(d).buffer}o.push({binding:s,resource:{buffer:h.buffer}})}else if(u.isSampler){const h=n.get(u.texture);o.push({binding:s,resource:h.sampler})}else if(u.isSampledTexture){const h=n.get(u.texture);let d;if(h.externalTexture!==void 0)d=i.importExternalTexture({source:h.externalTexture});else{const m=u.store?1:h.texture.mipLevelCount,y=`view-${h.texture.width}-${h.texture.height}-${m}`;if(d=h[y],d===void 0){const x=DU.All;let b;u.isSampledCubeTexture?b=U0.Cube:u.isSampledTexture3D?b=U0.ThreeD:u.texture.isArrayTexture||u.texture.isDataArrayTexture||u.texture.isCompressedArrayTexture?b=U0.TwoDArray:b=U0.TwoD,d=h[y]=h.texture.createView({aspect:x,dimension:b,mipLevelCount:m})}}o.push({binding:s,resource:d})}s++}return i.createBindGroup({label:"bindGroup_"+e.name,layout:t,entries:o})}}class iG{constructor(e){this.backend=e,this._activePipelines=new WeakMap}setPipeline(e,t){this._activePipelines.get(e)!==t&&(e.setPipeline(t),this._activePipelines.set(e,t))}_getSampleCount(e){return this.backend.utils.getSampleCountRenderContext(e)}createRenderPipeline(e,t){const{object:n,material:i,geometry:s,pipeline:o}=e,{vertexProgram:u,fragmentProgram:h}=o,d=this.backend,m=d.device,y=d.utils,x=d.get(o),b=[];for(const X of e.getBindings()){const J=d.get(X);b.push(J.layout)}const w=d.attributeUtils.createShaderVertexBuffers(e);let S;i.blending!==Go&&(i.blending!==P1||i.transparent!==!1)&&(S=this._getBlending(i));let N={};i.stencilWrite===!0&&(N={compare:this._getStencilCompare(i),failOp:this._getStencilOperation(i.stencilFail),depthFailOp:this._getStencilOperation(i.stencilZFail),passOp:this._getStencilOperation(i.stencilZPass)});const C=this._getColorWriteMask(i),P=[];if(e.context.textures!==null){const X=e.context.textures;for(let J=0;J<X.length;J++){const K=y.getTextureFormatGPU(X[J]);P.push({format:K,blend:S,writeMask:C})}}else{const X=y.getCurrentColorFormat(e.context);P.push({format:X,blend:S,writeMask:C})}const B=d.get(u).module,q=d.get(h).module,D=this._getPrimitiveState(n,s,i),I=this._getDepthCompare(i),U=y.getCurrentDepthStencilFormat(e.context),V=this._getSampleCount(e.context),H={label:`renderPipeline_${i.name||i.type}_${i.id}`,vertex:Object.assign({},B,{buffers:w}),fragment:Object.assign({},q,{targets:P}),primitive:D,multisample:{count:V,alphaToCoverageEnabled:i.alphaToCoverage&&V>1},layout:m.createPipelineLayout({bindGroupLayouts:b})},z={},k=e.context.depth,Y=e.context.stencil;if((k===!0||Y===!0)&&(k===!0&&(z.format=U,z.depthWriteEnabled=i.depthWrite,z.depthCompare=I),Y===!0&&(z.stencilFront=N,z.stencilBack={},z.stencilReadMask=i.stencilFuncMask,z.stencilWriteMask=i.stencilWriteMask),i.polygonOffset===!0&&(z.depthBias=i.polygonOffsetUnits,z.depthBiasSlopeScale=i.polygonOffsetFactor,z.depthBiasClamp=0),H.depthStencil=z),t===null)x.pipeline=m.createRenderPipeline(H);else{const X=new Promise(J=>{m.createRenderPipelineAsync(H).then(K=>{x.pipeline=K,J()})});t.push(X)}}createBundleEncoder(e,t="renderBundleEncoder"){const n=this.backend,{utils:i,device:s}=n,o=i.getCurrentDepthStencilFormat(e),u=i.getCurrentColorFormat(e),h=this._getSampleCount(e),d={label:t,colorFormats:[u],depthStencilFormat:o,sampleCount:h};return s.createRenderBundleEncoder(d)}createComputePipeline(e,t){const n=this.backend,i=n.device,s=n.get(e.computeProgram).module,o=n.get(e),u=[];for(const h of t){const d=n.get(h);u.push(d.layout)}o.pipeline=i.createComputePipeline({compute:s,layout:i.createPipelineLayout({bindGroupLayouts:u})})}_getBlending(e){let t,n;const i=e.blending,s=e.blendSrc,o=e.blendDst,u=e.blendEquation;if(i===Eo){const h=e.blendSrcAlpha!==null?e.blendSrcAlpha:s,d=e.blendDstAlpha!==null?e.blendDstAlpha:o,m=e.blendEquationAlpha!==null?e.blendEquationAlpha:u;t={srcFactor:this._getBlendFactor(s),dstFactor:this._getBlendFactor(o),operation:this._getBlendOperation(u)},n={srcFactor:this._getBlendFactor(h),dstFactor:this._getBlendFactor(d),operation:this._getBlendOperation(m)}}else{const h=e.premultipliedAlpha,d=(m,y,x,b)=>{t={srcFactor:m,dstFactor:y,operation:Gi.Add},n={srcFactor:x,dstFactor:b,operation:Gi.Add}};if(h)switch(i){case P1:d(ct.One,ct.OneMinusSrcAlpha,ct.One,ct.OneMinusSrcAlpha);break;case na:d(ct.One,ct.One,ct.One,ct.One);break;case ta:d(ct.Zero,ct.OneMinusSrc,ct.Zero,ct.One);break;case ea:d(ct.Zero,ct.Src,ct.Zero,ct.SrcAlpha);break}else switch(i){case P1:d(ct.SrcAlpha,ct.OneMinusSrcAlpha,ct.One,ct.OneMinusSrcAlpha);break;case na:d(ct.SrcAlpha,ct.One,ct.SrcAlpha,ct.One);break;case ta:d(ct.Zero,ct.OneMinusSrc,ct.Zero,ct.One);break;case ea:d(ct.Zero,ct.Src,ct.Zero,ct.Src);break}}if(t!==void 0&&n!==void 0)return{color:t,alpha:n};console.error("THREE.WebGPURenderer: Invalid blending: ",i)}_getBlendFactor(e){let t;switch(e){case oi:t=ct.Zero;break;case Qf:t=ct.One;break;case Wf:t=ct.Src;break;case Vf:t=ct.OneMinusSrc;break;case $f:t=ct.SrcAlpha;break;case Gf:t=ct.OneMinusSrcAlpha;break;case Hf:t=ct.Dst;break;case Uf:t=ct.OneMinusDst;break;case zf:t=ct.DstAlpha;break;case kf:t=ct.OneMinusDstAlpha;break;case jf:t=ct.SrcAlphaSaturated;break;case oL:t=ct.Constant;break;case aL:t=ct.OneMinusConstant;break;default:console.error("THREE.WebGPURenderer: Blend factor not supported.",e)}return t}_getStencilCompare(e){let t;const n=e.stencilFunc;switch(n){case LT:t=z0.Never;break;case FT:t=z0.Always;break;case DT:t=z0.Less;break;case BT:t=z0.LessEqual;break;case PT:t=z0.Equal;break;case CT:t=z0.GreaterEqual;break;case RT:t=z0.Greater;break;case MT:t=z0.NotEqual;break;default:console.error("THREE.WebGPURenderer: Invalid stencil function.",n)}return t}_getStencilOperation(e){let t;switch(e){case zT:t=ri.Keep;break;case VT:t=ri.Zero;break;case GT:t=ri.Replace;break;case UT:t=ri.Invert;break;case kT:t=ri.IncrementClamp;break;case OT:t=ri.DecrementClamp;break;case IT:t=ri.IncrementWrap;break;case qT:t=ri.DecrementWrap;break;default:console.error("THREE.WebGPURenderer: Invalid stencil operation.",t)}return t}_getBlendOperation(e){let t;switch(e){case M1:t=Gi.Add;break;case Of:t=Gi.Subtract;break;case If:t=Gi.ReverseSubtract;break;case jT:t=Gi.Min;break;case HT:t=Gi.Max;break;default:console.error("THREE.WebGPUPipelineUtils: Blend equation not supported.",e)}return t}_getPrimitiveState(e,t,n){const i={},s=this.backend.utils;switch(i.topology=s.getPrimitiveTopology(e,n),t.index!==null&&e.isLine===!0&&e.isLineSegments!==!0&&(i.stripIndexFormat=t.index.array instanceof Uint16Array?Rs.Uint16:Rs.Uint32),n.side){case hs:i.frontFace=f6.CCW,i.cullMode=d6.Back;break;case En:i.frontFace=f6.CCW,i.cullMode=d6.Front;break;case Pr:i.frontFace=f6.CCW,i.cullMode=d6.None;break;default:console.error("THREE.WebGPUPipelineUtils: Unknown material.side value.",n.side);break}return i}_getColorWriteMask(e){return e.colorWrite===!0?Kh.All:Kh.None}_getDepthCompare(e){let t;if(e.depthTest===!1)t=z0.Always;else{const n=e.depthFunc;switch(n){case nd:t=z0.Never;break;case td:t=z0.Always;break;case ed:t=z0.Less;break;case Jf:t=z0.LessEqual;break;case Zf:t=z0.Equal;break;case Kf:t=z0.GreaterEqual;break;case Xf:t=z0.Greater;break;case Yf:t=z0.NotEqual;break;default:console.error("THREE.WebGPUPipelineUtils: Invalid depth function.",n)}}return t}}class sG extends g_{constructor(e,t,n=2048){super(n),this.device=e,this.type=t,this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxQueries,label:`queryset_global_timestamp_${t}`});const i=this.maxQueries*8;this.resolveBuffer=this.device.createBuffer({label:`buffer_timestamp_resolve_${t}`,size:i,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.resultBuffer=this.device.createBuffer({label:`buffer_timestamp_result_${t}`,size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})}allocateQueriesForContext(e){if(!this.trackTimestamp||this.isDisposed)return null;if(this.currentQueryIndex+2>this.maxQueries)return A2(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const t=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryOffsets.set(e.id,t),t}async resolveQueriesAsync(){if(!this.trackTimestamp||this.currentQueryIndex===0||this.isDisposed)return this.lastValue;if(this.pendingResolve)return this.pendingResolve;this.pendingResolve=this._resolveQueries();try{return await this.pendingResolve}finally{this.pendingResolve=null}}async _resolveQueries(){if(this.isDisposed)return this.lastValue;try{if(this.resultBuffer.mapState!=="unmapped")return this.lastValue;const e=new Map(this.queryOffsets),t=this.currentQueryIndex,n=t*8;this.currentQueryIndex=0,this.queryOffsets.clear();const i=this.device.createCommandEncoder();i.resolveQuerySet(this.querySet,0,t,this.resolveBuffer,0),i.copyBufferToBuffer(this.resolveBuffer,0,this.resultBuffer,0,n);const s=i.finish();if(this.device.queue.submit([s]),this.resultBuffer.mapState!=="unmapped")return this.lastValue;if(await this.resultBuffer.mapAsync(GPUMapMode.READ,0,n),this.isDisposed)return this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue;const o=new BigUint64Array(this.resultBuffer.getMappedRange(0,n));let u=0;for(const[,h]of e){const d=o[h],m=o[h+1],y=Number(m-d)/1e6;u+=y}return this.resultBuffer.unmap(),this.lastValue=u,u}catch(e){return console.error("Error resolving queries:",e),this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue}}async dispose(){if(!this.isDisposed){if(this.isDisposed=!0,this.pendingResolve)try{await this.pendingResolve}catch(e){console.error("Error waiting for pending resolve:",e)}if(this.resultBuffer&&this.resultBuffer.mapState==="mapped")try{this.resultBuffer.unmap()}catch(e){console.error("Error unmapping buffer:",e)}this.querySet&&(this.querySet.destroy(),this.querySet=null),this.resolveBuffer&&(this.resolveBuffer.destroy(),this.resolveBuffer=null),this.resultBuffer&&(this.resultBuffer.destroy(),this.resultBuffer=null),this.queryOffsets.clear(),this.pendingResolve=null}}}class oG extends m_{constructor(e={}){super(e),this.isWebGPUBackend=!0,this.parameters.alpha=e.alpha===void 0?!0:e.alpha,this.parameters.compatibilityMode=e.compatibilityMode===void 0?!1:e.compatibilityMode,this.parameters.requiredLimits=e.requiredLimits===void 0?{}:e.requiredLimits,this.compatibilityMode=this.parameters.compatibilityMode,this.device=null,this.context=null,this.colorBuffer=null,this.defaultRenderPassdescriptor=null,this.utils=new ZU(this),this.attributeUtils=new nG(this),this.bindingUtils=new rG(this),this.pipelineUtils=new iG(this),this.textureUtils=new VU(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const t=this.parameters;let n;if(t.device===void 0){const o={powerPreference:t.powerPreference,featureLevel:t.compatibilityMode?"compatibility":void 0},u=typeof navigator<"u"?await navigator.gpu.requestAdapter(o):null;if(u===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const h=Object.values(Y7),d=[];for(const y of h)u.features.has(y)&&d.push(y);const m={requiredFeatures:d,requiredLimits:t.requiredLimits};n=await u.requestDevice(m)}else n=t.device;n.lost.then(o=>{const u={api:"WebGPU",message:o.message||"Unknown reason",reason:o.reason||null,originalEvent:o};e.onDeviceLost(u)});const i=t.context!==void 0?t.context:e.domElement.getContext("webgpu");this.device=n,this.context=i;const s=t.alpha?"premultiplied":"opaque";this.trackTimestamp=this.trackTimestamp&&this.hasFeature(Y7.TimestampQuery),this.context.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:s}),this.updateSize()}get coordinateSystem(){return Ps}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){let e=this.defaultRenderPassdescriptor;if(e===null){const n=this.renderer;e={colorAttachments:[{view:null}]},(this.renderer.depth===!0||this.renderer.stencil===!0)&&(e.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(n.depth,n.stencil).createView()});const i=e.colorAttachments[0];this.renderer.samples>0?i.view=this.colorBuffer.createView():i.resolveTarget=void 0,this.defaultRenderPassdescriptor=e}const t=e.colorAttachments[0];return this.renderer.samples>0?t.resolveTarget=this.context.getCurrentTexture().createView():t.view=this.context.getCurrentTexture().createView(),e}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.image.depth>1&&e.camera.isArrayCamera}_getRenderPassDescriptor(e,t={}){const n=e.renderTarget,i=this.get(n);let s=i.descriptors;if(s===void 0||i.width!==n.width||i.height!==n.height||i.dimensions!==n.dimensions||i.activeMipmapLevel!==e.activeMipmapLevel||i.activeCubeFace!==e.activeCubeFace||i.samples!==n.samples){s={},i.descriptors=s;const d=()=>{n.removeEventListener("dispose",d),this.delete(n)};n.hasEventListener("dispose",d)===!1&&n.addEventListener("dispose",d)}const o=e.getCacheKey();let u=s[o];if(u===void 0){const d=e.textures,m=[];let y;const x=this._isRenderCameraDepthArray(e);for(let b=0;b<d.length;b++){const w=this.get(d[b]),S={label:`colorAttachment_${b}`,baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,arrayLayerCount:1,dimension:U0.TwoD};if(n.isRenderTarget3D)y=e.activeCubeFace,S.baseArrayLayer=0,S.dimension=U0.ThreeD,S.depthOrArrayLayers=d[b].image.depth;else if(n.isRenderTarget&&d[b].image.depth>1)if(x===!0){const N=e.camera.cameras;for(let C=0;C<N.length;C++){const P={...S,baseArrayLayer:C,arrayLayerCount:1,dimension:U0.TwoD},B=w.texture.createView(P);m.push({view:B,resolveTarget:void 0,depthSlice:void 0})}}else S.dimension=U0.TwoDArray,S.depthOrArrayLayers=d[b].image.depth;if(x!==!0){const N=w.texture.createView(S);let C,P;w.msaaTexture!==void 0?(C=w.msaaTexture.createView(),P=N):(C=N,P=void 0),m.push({view:C,resolveTarget:P,depthSlice:y})}}if(u={textureViews:m},e.depth){const b=this.get(e.depthTexture),w={};e.depthTexture.isArrayTexture&&(w.dimension=U0.TwoD,w.arrayLayerCount=1,w.baseArrayLayer=e.activeCubeFace),u.depthStencilView=b.texture.createView(w)}s[o]=u,i.width=n.width,i.height=n.height,i.samples=n.samples,i.activeMipmapLevel=e.activeMipmapLevel,i.activeCubeFace=e.activeCubeFace,i.dimensions=n.dimensions}const h={colorAttachments:[]};for(let d=0;d<u.textureViews.length;d++){const m=u.textureViews[d];let y={r:0,g:0,b:0,a:1};d===0&&t.clearValue&&(y=t.clearValue),h.colorAttachments.push({view:m.view,depthSlice:m.depthSlice,resolveTarget:m.resolveTarget,loadOp:t.loadOp||Lt.Load,storeOp:t.storeOp||cn.Store,clearValue:y})}return u.depthStencilView&&(h.depthStencilAttachment={view:u.depthStencilView}),h}beginRender(e){const t=this.get(e),n=this.device,i=e.occlusionQueryCount;let s;i>0&&(t.currentOcclusionQuerySet&&t.currentOcclusionQuerySet.destroy(),t.currentOcclusionQueryBuffer&&t.currentOcclusionQueryBuffer.destroy(),t.currentOcclusionQuerySet=t.occlusionQuerySet,t.currentOcclusionQueryBuffer=t.occlusionQueryBuffer,t.currentOcclusionQueryObjects=t.occlusionQueryObjects,s=n.createQuerySet({type:"occlusion",count:i,label:`occlusionQuerySet_${e.id}`}),t.occlusionQuerySet=s,t.occlusionQueryIndex=0,t.occlusionQueryObjects=new Array(i),t.lastOcclusionObject=null);let o;e.textures===null?o=this._getDefaultRenderPassDescriptor():o=this._getRenderPassDescriptor(e,{loadOp:Lt.Load}),this.initTimestampQuery(e,o),o.occlusionQuerySet=s;const u=o.depthStencilAttachment;if(e.textures!==null){const d=o.colorAttachments;for(let m=0;m<d.length;m++){const y=d[m];e.clearColor?(y.clearValue=m===0?e.clearColorValue:{r:0,g:0,b:0,a:1},y.loadOp=Lt.Clear):y.loadOp=Lt.Load,y.storeOp=cn.Store}}else{const d=o.colorAttachments[0];e.clearColor?(d.clearValue=e.clearColorValue,d.loadOp=Lt.Clear):d.loadOp=Lt.Load,d.storeOp=cn.Store}e.depth&&(e.clearDepth?(u.depthClearValue=e.clearDepthValue,u.depthLoadOp=Lt.Clear):u.depthLoadOp=Lt.Load,u.depthStoreOp=cn.Store),e.stencil&&(e.clearStencil?(u.stencilClearValue=e.clearStencilValue,u.stencilLoadOp=Lt.Clear):u.stencilLoadOp=Lt.Load,u.stencilStoreOp=cn.Store);const h=n.createCommandEncoder({label:"renderContext_"+e.id});if(this._isRenderCameraDepthArray(e)===!0){const d=e.camera.cameras;!t.layerDescriptors||t.layerDescriptors.length!==d.length?this._createDepthLayerDescriptors(e,t,o,d):this._updateDepthLayerDescriptors(e,t,d),t.bundleEncoders=[],t.bundleSets=[];for(let m=0;m<d.length;m++){const y=this.pipelineUtils.createBundleEncoder(e,"renderBundleArrayCamera_"+m),x={attributes:{},bindingGroups:[],pipeline:null,index:null};t.bundleEncoders.push(y),t.bundleSets.push(x)}t.currentPass=null}else{const d=h.beginRenderPass(o);if(t.currentPass=d,e.viewport&&this.updateViewport(e),e.scissor){const{x:m,y,width:x,height:b}=e.scissorValue;d.setScissorRect(m,y,x,b)}}t.descriptor=o,t.encoder=h,t.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.renderBundles=[]}_createDepthLayerDescriptors(e,t,n,i){const s=n.depthStencilAttachment;t.layerDescriptors=[];const o=this.get(e.depthTexture);o.viewCache||(o.viewCache=[]);for(let u=0;u<i.length;u++){const h={...n,colorAttachments:[{...n.colorAttachments[0],view:n.colorAttachments[u].view}]};if(n.depthStencilAttachment){const d=u;o.viewCache[d]||(o.viewCache[d]=o.texture.createView({dimension:U0.TwoD,baseArrayLayer:u,arrayLayerCount:1})),h.depthStencilAttachment={view:o.viewCache[d],depthLoadOp:s.depthLoadOp||Lt.Clear,depthStoreOp:s.depthStoreOp||cn.Store,depthClearValue:s.depthClearValue||1},e.stencil&&(h.depthStencilAttachment.stencilLoadOp=s.stencilLoadOp,h.depthStencilAttachment.stencilStoreOp=s.stencilStoreOp,h.depthStencilAttachment.stencilClearValue=s.stencilClearValue)}else h.depthStencilAttachment={...s};t.layerDescriptors.push(h)}}_updateDepthLayerDescriptors(e,t,n){for(let i=0;i<n.length;i++){const s=t.layerDescriptors[i];if(s.depthStencilAttachment){const o=s.depthStencilAttachment;e.depth&&(e.clearDepth?(o.depthClearValue=e.clearDepthValue,o.depthLoadOp=Lt.Clear):o.depthLoadOp=Lt.Load),e.stencil&&(e.clearStencil?(o.stencilClearValue=e.clearStencilValue,o.stencilLoadOp=Lt.Clear):o.stencilLoadOp=Lt.Load)}}}finishRender(e){const t=this.get(e),n=e.occlusionQueryCount;t.renderBundles.length>0&&t.currentPass.executeBundles(t.renderBundles),n>t.occlusionQueryIndex&&t.currentPass.endOcclusionQuery();const i=t.encoder;if(this._isRenderCameraDepthArray(e)===!0){const s=[];for(let o=0;o<t.bundleEncoders.length;o++){const u=t.bundleEncoders[o];s.push(u.finish())}for(let o=0;o<t.layerDescriptors.length;o++)if(o<s.length){const u=t.layerDescriptors[o],h=i.beginRenderPass(u);if(e.viewport){const{x:d,y:m,width:y,height:x,minDepth:b,maxDepth:w}=e.viewportValue;h.setViewport(d,m,y,x,b,w)}if(e.scissor){const{x:d,y:m,width:y,height:x}=e.scissorValue;h.setScissorRect(d,m,y,x)}h.executeBundles([s[o]]),h.end()}}else t.currentPass&&t.currentPass.end();if(n>0){const s=n*8;let o=this.occludedResolveCache.get(s);o===void 0&&(o=this.device.createBuffer({size:s,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(s,o));const u=this.device.createBuffer({size:s,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});t.encoder.resolveQuerySet(t.occlusionQuerySet,0,n,o,0),t.encoder.copyBufferToBuffer(o,0,u,0,s),t.occlusionQueryBuffer=u,this.resolveOccludedAsync(e)}if(this.device.queue.submit([t.encoder.finish()]),e.textures!==null){const s=e.textures;for(let o=0;o<s.length;o++){const u=s[o];u.generateMipmaps===!0&&this.textureUtils.generateMipmaps(u)}}}isOccluded(e,t){const n=this.get(e);return n.occluded&&n.occluded.has(t)}async resolveOccludedAsync(e){const t=this.get(e),{currentOcclusionQueryBuffer:n,currentOcclusionQueryObjects:i}=t;if(n&&i){const s=new WeakSet;t.currentOcclusionQueryObjects=null,t.currentOcclusionQueryBuffer=null,await n.mapAsync(GPUMapMode.READ);const o=n.getMappedRange(),u=new BigUint64Array(o);for(let h=0;h<i.length;h++)u[h]===BigInt(0)&&s.add(i[h]);n.destroy(),t.occluded=s}}updateViewport(e){const{currentPass:t}=this.get(e),{x:n,y:i,width:s,height:o,minDepth:u,maxDepth:h}=e.viewportValue;t.setViewport(n,i,s,o,u,h)}getClearColor(){const e=super.getClearColor();return this.renderer.alpha===!0&&(e.r*=e.a,e.g*=e.a,e.b*=e.a),e}clear(e,t,n,i=null){const s=this.device,o=this.renderer;let u=[],h,d,m,y;if(e){const w=this.getClearColor();d={r:w.r,g:w.g,b:w.b,a:w.a}}if(i===null){m=o.depth,y=o.stencil;const w=this._getDefaultRenderPassDescriptor();if(e){u=w.colorAttachments;const S=u[0];S.clearValue=d,S.loadOp=Lt.Clear,S.storeOp=cn.Store}(m||y)&&(h=w.depthStencilAttachment)}else{m=i.depth,y=i.stencil;const w={loadOp:e?Lt.Clear:Lt.Load,clearValue:e?d:void 0};m&&(w.depthLoadOp=t?Lt.Clear:Lt.Load,w.depthClearValue=t?o.getClearDepth():void 0,w.depthStoreOp=cn.Store),y&&(w.stencilLoadOp=n?Lt.Clear:Lt.Load,w.stencilClearValue=n?o.getClearStencil():void 0,w.stencilStoreOp=cn.Store);const S=this._getRenderPassDescriptor(i,w);u=S.colorAttachments,h=S.depthStencilAttachment}m&&h&&h.depthLoadOp===void 0&&(t?(h.depthLoadOp=Lt.Clear,h.depthClearValue=o.getClearDepth(),h.depthStoreOp=cn.Store):(h.depthLoadOp=Lt.Load,h.depthStoreOp=cn.Store)),y&&h&&h.stencilLoadOp===void 0&&(n?(h.stencilLoadOp=Lt.Clear,h.stencilClearValue=o.getClearStencil(),h.stencilStoreOp=cn.Store):(h.stencilLoadOp=Lt.Load,h.stencilStoreOp=cn.Store));const x=s.createCommandEncoder({label:"clear"});x.beginRenderPass({colorAttachments:u,depthStencilAttachment:h}).end(),s.queue.submit([x.finish()])}beginCompute(e){const t=this.get(e),n={label:"computeGroup_"+e.id};this.initTimestampQuery(e,n),t.cmdEncoderGPU=this.device.createCommandEncoder({label:"computeGroup_"+e.id}),t.passEncoderGPU=t.cmdEncoderGPU.beginComputePass(n)}compute(e,t,n,i){const{passEncoderGPU:s}=this.get(e),o=this.get(i).pipeline;this.pipelineUtils.setPipeline(s,o);for(let m=0,y=n.length;m<y;m++){const x=n[m],b=this.get(x);s.setBindGroup(m,b.group)}const u=this.device.limits.maxComputeWorkgroupsPerDimension,h=this.get(t);h.dispatchSize===void 0&&(h.dispatchSize={x:0,y:1,z:1});const{dispatchSize:d}=h;t.dispatchCount>u?(d.x=Math.min(t.dispatchCount,u),d.y=Math.ceil(t.dispatchCount/u)):d.x=t.dispatchCount,s.dispatchWorkgroups(d.x,d.y,d.z)}finishCompute(e){const t=this.get(e);t.passEncoderGPU.end(),this.device.queue.submit([t.cmdEncoderGPU.finish()])}async waitForGPU(){await this.device.queue.onSubmittedWorkDone()}draw(e,t){const{object:n,material:i,context:s,pipeline:o}=e,u=e.getBindings(),h=this.get(s),d=this.get(o).pipeline,m=e.getIndex(),y=m!==null,x=e.getDrawParameters();if(x===null)return;const b=(S,N)=>{this.pipelineUtils.setPipeline(S,d),N.pipeline=d;const C=N.bindingGroups;for(let B=0,q=u.length;B<q;B++){const D=u[B],I=this.get(D);C[D.index]!==D.id&&(S.setBindGroup(D.index,I.group),C[D.index]=D.id)}if(y===!0&&N.index!==m){const B=this.get(m).buffer,q=m.array instanceof Uint16Array?Rs.Uint16:Rs.Uint32;S.setIndexBuffer(B,q),N.index=m}const P=e.getVertexBuffers();for(let B=0,q=P.length;B<q;B++){const D=P[B];if(N.attributes[B]!==D){const I=this.get(D).buffer;S.setVertexBuffer(B,I),N.attributes[B]=D}}s.stencil===!0&&i.stencilWrite===!0&&h.currentStencilRef!==i.stencilRef&&(S.setStencilReference(i.stencilRef),h.currentStencilRef=i.stencilRef)},w=(S,N)=>{if(b(S,N),n.isBatchedMesh===!0){const C=n._multiDrawStarts,P=n._multiDrawCounts,B=n._multiDrawCount,q=n._multiDrawInstances;q!==null&&A2("THREE.WebGPUBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.");for(let D=0;D<B;D++){const I=q?q[D]:1,U=I>1?0:D;y===!0?S.drawIndexed(P[D],I,C[D]/m.array.BYTES_PER_ELEMENT,0,U):S.draw(P[D],I,C[D],U),t.update(n,P[D],I)}}else if(y===!0){const{vertexCount:C,instanceCount:P,firstVertex:B}=x,q=e.getIndirect();if(q!==null){const D=this.get(q).buffer;S.drawIndexedIndirect(D,0)}else S.drawIndexed(C,P,B,0,0);t.update(n,C,P)}else{const{vertexCount:C,instanceCount:P,firstVertex:B}=x,q=e.getIndirect();if(q!==null){const D=this.get(q).buffer;S.drawIndirect(D,0)}else S.draw(C,P,B,0);t.update(n,C,P)}};if(e.camera.isArrayCamera&&e.camera.cameras.length>0){const S=this.get(e.camera),N=e.camera.cameras,C=e.getBindingGroup("cameraIndex");if(S.indexesGPU===void 0||S.indexesGPU.length!==N.length){const B=this.get(C),q=[],D=new Uint32Array([0,0,0,0]);for(let I=0,U=N.length;I<U;I++){D[0]=I;const V=this.bindingUtils.createBindGroupIndex(D,B.layout);q.push(V)}S.indexesGPU=q}const P=this.renderer.getPixelRatio();for(let B=0,q=N.length;B<q;B++){const D=N[B];if(n.layers.test(D.layers)){const I=D.viewport;let U=h.currentPass,V=h.currentSets;if(h.bundleEncoders){const H=h.bundleEncoders[B],z=h.bundleSets[B];U=H,V=z}I&&U.setViewport(Math.floor(I.x*P),Math.floor(I.y*P),Math.floor(I.width*P),Math.floor(I.height*P),s.viewportValue.minDepth,s.viewportValue.maxDepth),C&&S.indexesGPU&&(U.setBindGroup(C.index,S.indexesGPU[B]),V.bindingGroups[C.index]=C.id),w(U,V)}}}else if(h.currentPass){if(h.occlusionQuerySet!==void 0){const S=h.lastOcclusionObject;S!==n&&(S!==null&&S.occlusionTest===!0&&(h.currentPass.endOcclusionQuery(),h.occlusionQueryIndex++),n.occlusionTest===!0&&(h.currentPass.beginOcclusionQuery(h.occlusionQueryIndex),h.occlusionQueryObjects[h.occlusionQueryIndex]=n),h.lastOcclusionObject=n)}w(h.currentPass,h.currentSets)}}needsRenderUpdate(e){const t=this.get(e),{object:n,material:i}=e,s=this.utils,o=s.getSampleCountRenderContext(e.context),u=s.getCurrentColorSpace(e.context),h=s.getCurrentColorFormat(e.context),d=s.getCurrentDepthStencilFormat(e.context),m=s.getPrimitiveTopology(n,i);let y=!1;return(t.material!==i||t.materialVersion!==i.version||t.transparent!==i.transparent||t.blending!==i.blending||t.premultipliedAlpha!==i.premultipliedAlpha||t.blendSrc!==i.blendSrc||t.blendDst!==i.blendDst||t.blendEquation!==i.blendEquation||t.blendSrcAlpha!==i.blendSrcAlpha||t.blendDstAlpha!==i.blendDstAlpha||t.blendEquationAlpha!==i.blendEquationAlpha||t.colorWrite!==i.colorWrite||t.depthWrite!==i.depthWrite||t.depthTest!==i.depthTest||t.depthFunc!==i.depthFunc||t.stencilWrite!==i.stencilWrite||t.stencilFunc!==i.stencilFunc||t.stencilFail!==i.stencilFail||t.stencilZFail!==i.stencilZFail||t.stencilZPass!==i.stencilZPass||t.stencilFuncMask!==i.stencilFuncMask||t.stencilWriteMask!==i.stencilWriteMask||t.side!==i.side||t.alphaToCoverage!==i.alphaToCoverage||t.sampleCount!==o||t.colorSpace!==u||t.colorFormat!==h||t.depthStencilFormat!==d||t.primitiveTopology!==m||t.clippingContextCacheKey!==e.clippingContextCacheKey)&&(t.material=i,t.materialVersion=i.version,t.transparent=i.transparent,t.blending=i.blending,t.premultipliedAlpha=i.premultipliedAlpha,t.blendSrc=i.blendSrc,t.blendDst=i.blendDst,t.blendEquation=i.blendEquation,t.blendSrcAlpha=i.blendSrcAlpha,t.blendDstAlpha=i.blendDstAlpha,t.blendEquationAlpha=i.blendEquationAlpha,t.colorWrite=i.colorWrite,t.depthWrite=i.depthWrite,t.depthTest=i.depthTest,t.depthFunc=i.depthFunc,t.stencilWrite=i.stencilWrite,t.stencilFunc=i.stencilFunc,t.stencilFail=i.stencilFail,t.stencilZFail=i.stencilZFail,t.stencilZPass=i.stencilZPass,t.stencilFuncMask=i.stencilFuncMask,t.stencilWriteMask=i.stencilWriteMask,t.side=i.side,t.alphaToCoverage=i.alphaToCoverage,t.sampleCount=o,t.colorSpace=u,t.colorFormat=h,t.depthStencilFormat=d,t.primitiveTopology=m,t.clippingContextCacheKey=e.clippingContextCacheKey,y=!0),y}getRenderCacheKey(e){const{object:t,material:n}=e,i=this.utils,s=e.context;return[n.transparent,n.blending,n.premultipliedAlpha,n.blendSrc,n.blendDst,n.blendEquation,n.blendSrcAlpha,n.blendDstAlpha,n.blendEquationAlpha,n.colorWrite,n.depthWrite,n.depthTest,n.depthFunc,n.stencilWrite,n.stencilFunc,n.stencilFail,n.stencilZFail,n.stencilZPass,n.stencilFuncMask,n.stencilWriteMask,n.side,i.getSampleCountRenderContext(s),i.getCurrentColorSpace(s),i.getCurrentColorFormat(s),i.getCurrentDepthStencilFormat(s),i.getPrimitiveTopology(t,n),e.getGeometryCacheKey(),e.clippingContextCacheKey].join()}createSampler(e){this.textureUtils.createSampler(e)}destroySampler(e){this.textureUtils.destroySampler(e)}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,t){this.textureUtils.createTexture(e,t)}updateTexture(e,t){this.textureUtils.updateTexture(e,t)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}async copyTextureToBuffer(e,t,n,i,s,o){return this.textureUtils.copyTextureToBuffer(e,t,n,i,s,o)}initTimestampQuery(e,t){if(!this.trackTimestamp)return;const n=e.isComputeNode?"compute":"render";this.timestampQueryPool[n]||(this.timestampQueryPool[n]=new sG(this.device,n,2048));const i=this.timestampQueryPool[n],s=i.allocateQueriesForContext(e);t.timestampWrites={querySet:i.querySet,beginningOfPassWriteIndex:s,endOfPassWriteIndex:s+1}}createNodeBuilder(e,t){return new KU(e,t)}createProgram(e){const t=this.get(e);t.module={module:this.device.createShaderModule({code:e.code,label:e.stage+(e.name!==""?`_${e.name}`:"")}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e,t){this.pipelineUtils.createRenderPipeline(e,t)}createComputePipeline(e,t){this.pipelineUtils.createComputePipeline(e,t)}beginBundle(e){const t=this.get(e);t._currentPass=t.currentPass,t._currentSets=t.currentSets,t.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.currentPass=this.pipelineUtils.createBundleEncoder(e)}finishBundle(e,t){const n=this.get(e),s=n.currentPass.finish();this.get(t).bundleGPU=s,n.currentSets=n._currentSets,n.currentPass=n._currentPass}addBundle(e,t){this.get(e).renderBundles.push(this.get(t).bundleGPU)}createBindings(e,t,n,i){this.bindingUtils.createBindings(e,t,n,i)}updateBindings(e,t,n,i){this.bindingUtils.createBindings(e,t,n,i)}updateBinding(e){this.bindingUtils.updateBinding(e)}createIndexAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this.colorBuffer=this.textureUtils.getColorBuffer(),this.defaultRenderPassdescriptor=null}getMaxAnisotropy(){return 16}hasFeature(e){return this.device.features.has(e)}copyTextureToTexture(e,t,n=null,i=null,s=0,o=0){let u=0,h=0,d=0,m=0,y=0,x=0,b=e.image.width,w=e.image.height,S=1;n!==null&&(n.isBox3===!0?(m=n.min.x,y=n.min.y,x=n.min.z,b=n.max.x-n.min.x,w=n.max.y-n.min.y,S=n.max.z-n.min.z):(m=n.min.x,y=n.min.y,b=n.max.x-n.min.x,w=n.max.y-n.min.y,S=1)),i!==null&&(u=i.x,h=i.y,d=i.z||0);const N=this.device.createCommandEncoder({label:"copyTextureToTexture_"+e.id+"_"+t.id}),C=this.get(e).texture,P=this.get(t).texture;N.copyTextureToTexture({texture:C,mipLevel:s,origin:{x:m,y,z:x}},{texture:P,mipLevel:o,origin:{x:u,y:h,z:d}},[b,w,S]),this.device.queue.submit([N.finish()]),o===0&&t.generateMipmaps&&this.textureUtils.generateMipmaps(t)}copyFramebufferToTexture(e,t,n){const i=this.get(t);let s=null;t.renderTarget?e.isDepthTexture?s=this.get(t.depthTexture).texture:s=this.get(t.textures[0]).texture:e.isDepthTexture?s=this.textureUtils.getDepthBuffer(t.depth,t.stencil):s=this.context.getCurrentTexture();const o=this.get(e).texture;if(s.format!==o.format){console.error("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",s.format,o.format);return}let u;if(i.currentPass?(i.currentPass.end(),u=i.encoder):u=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+e.id}),u.copyTextureToTexture({texture:s,origin:[n.x,n.y,0]},{texture:o},[n.z,n.w]),i.currentPass){const{descriptor:h}=i;for(let d=0;d<h.colorAttachments.length;d++)h.colorAttachments[d].loadOp=Lt.Load;if(t.depth&&(h.depthStencilAttachment.depthLoadOp=Lt.Load),t.stencil&&(h.depthStencilAttachment.stencilLoadOp=Lt.Load),i.currentPass=u.beginRenderPass(h),i.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.viewport&&this.updateViewport(t),t.scissor){const{x:d,y:m,width:y,height:x}=t.scissorValue;i.currentPass.setScissorRect(d,m,y,x)}}else this.device.queue.submit([u.finish()]);e.generateMipmaps&&this.textureUtils.generateMipmaps(e)}}class aG extends a9{constructor(e,t,n,i,s,o){super(e,t,n,i,s,o),this.iesMap=null}copy(e,t){return super.copy(e,t),this.iesMap=e.iesMap,this}}class AG extends a9{constructor(e,t,n,i,s,o){super(e,t,n,i,s,o),this.aspect=null}copy(e,t){return super.copy(e,t),this.aspect=e.aspect,this}}class lG extends l_{constructor(){super(),this.addMaterial(tF,"MeshPhongMaterial"),this.addMaterial(nv,"MeshStandardMaterial"),this.addMaterial(UF,"MeshPhysicalMaterial"),this.addMaterial(HF,"MeshToonMaterial"),this.addMaterial(QD,"MeshBasicMaterial"),this.addMaterial(JD,"MeshLambertMaterial"),this.addMaterial(VD,"MeshNormalMaterial"),this.addMaterial(WF,"MeshMatcapMaterial"),this.addMaterial(LD,"LineBasicMaterial"),this.addMaterial(ID,"LineDashedMaterial"),this.addMaterial(KF,"PointsMaterial"),this.addMaterial(iv,"SpriteMaterial"),this.addMaterial(eL,"ShadowMaterial"),this.addLight(ZI,Vb),this.addLight(kk,zb),this.addLight(Uk,Hb),this.addLight(rl,a9),this.addLight(Hk,jb),this.addLight(jk,$b),this.addLight($k,Wb),this.addLight(Gk,aG),this.addLight(zk,AG),this.addToneMapping(Sv,Qb),this.addToneMapping(Ev,Yb),this.addToneMapping(Nv,Xb),this.addToneMapping(Mv,Kb),this.addToneMapping(Rv,Zb),this.addToneMapping(Cv,Jb)}}class uG extends cU{constructor(e={}){let t;e.forceWebGL?t=Xh:(t=oG,e.getFallback=()=>(console.warn("THREE.WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new Xh(e)));const n=new t(e);super(n,e),this.library=new lG,this.isWebGPURenderer=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */M.BRDF_GGX;M.BRDF_Lambert;M.BasicShadowFilter;M.Break;M.Continue;M.DFGApprox;M.D_GGX;M.Discard;M.EPSILON;M.F_Schlick;const cG=M.Fn;M.INFINITY;const hG=M.If;M.Switch;const fG=M.Loop;M.NodeShaderStage;M.NodeType;M.NodeUpdateType;M.NodeAccess;M.PCFShadowFilter;M.PCFSoftShadowFilter;M.PI;M.PI2;M.Return;M.Schlick_to_F0;M.ScriptableNodeResources;M.ShaderNode;M.TBNViewMatrix;M.VSMShadowFilter;M.V_GGX_SmithCorrelated;M.abs;M.acesFilmicToneMapping;M.acos;M.add;M.addNodeElement;M.agxToneMapping;M.all;M.alphaT;M.and;M.anisotropy;M.anisotropyB;M.anisotropyT;M.any;M.append;M.array;M.arrayBuffer;const dG=M.asin;M.assign;M.atan;M.atan2;M.atomicAdd;M.atomicAnd;M.atomicFunc;M.atomicMax;M.atomicMin;M.atomicOr;M.atomicStore;M.atomicSub;M.atomicXor;M.atomicLoad;M.attenuationColor;M.attenuationDistance;M.attribute;M.attributeArray;M.backgroundBlurriness;M.backgroundIntensity;M.backgroundRotation;M.batch;M.billboarding;M.bitAnd;M.bitNot;M.bitOr;M.bitXor;M.bitangentGeometry;M.bitangentLocal;M.bitangentView;M.bitangentWorld;M.bitcast;M.blendBurn;M.blendColor;M.blendDodge;M.blendOverlay;M.blendScreen;M.blur;M.bool;M.buffer;M.bufferAttribute;M.bumpMap;M.burn;M.bvec2;M.bvec3;M.bvec4;M.bypass;M.cache;M.call;M.cameraFar;M.cameraIndex;M.cameraNear;M.cameraNormalMatrix;M.cameraPosition;M.cameraProjectionMatrix;M.cameraProjectionMatrixInverse;M.cameraViewMatrix;M.cameraWorldMatrix;M.cbrt;M.cdl;M.ceil;M.checker;M.cineonToneMapping;M.clamp;M.clearcoat;M.clearcoatRoughness;M.code;M.color;M.colorSpaceToWorking;M.colorToDirection;M.compute;M.computeSkinning;M.cond;M.Const;M.context;M.convert;M.convertColorSpace;M.convertToTexture;const pG=M.cos;M.cross;M.cubeTexture;M.dFdx;M.dFdy;M.dashSize;M.debug;M.decrement;M.decrementBefore;M.defaultBuildStages;M.defaultShaderStages;M.defined;M.degrees;M.deltaTime;M.densityFog;M.densityFogFactor;M.depth;M.depthPass;M.difference;M.diffuseColor;M.directPointLight;M.directionToColor;M.dispersion;M.distance;M.div;M.dodge;M.dot;M.drawIndex;M.dynamicBufferAttribute;M.element;M.emissive;M.equal;M.equals;M.equirectUV;const mG=M.exp;M.exp2;M.expression;M.faceDirection;M.faceForward;M.faceforward;const gG=M.float;M.floor;M.fog;M.fract;M.frameGroup;M.frameId;M.frontFacing;M.fwidth;M.gain;M.gapSize;M.getConstNodeType;M.getCurrentStack;M.getDirection;M.getDistanceAttenuation;M.getGeometryRoughness;M.getNormalFromDepth;M.getParallaxCorrectNormal;M.getRoughness;M.getScreenPosition;M.getShIrradianceAt;M.getTextureIndex;M.getViewPosition;M.getShadowMaterial;M.getShadowRenderObjectFunction;M.glsl;M.glslFn;M.grayscale;M.greaterThan;M.greaterThanEqual;M.hash;M.highpModelNormalViewMatrix;M.highpModelViewMatrix;M.hue;M.increment;M.incrementBefore;M.instance;const yG=M.instanceIndex;M.instancedArray;M.instancedBufferAttribute;M.instancedDynamicBufferAttribute;M.instancedMesh;M.int;M.inverseSqrt;M.inversesqrt;M.invocationLocalIndex;M.invocationSubgroupIndex;M.ior;M.iridescence;M.iridescenceIOR;M.iridescenceThickness;M.ivec2;M.ivec3;M.ivec4;M.js;M.label;M.length;M.lengthSq;M.lessThan;M.lessThanEqual;M.lightPosition;M.lightShadowMatrix;M.lightTargetDirection;M.lightTargetPosition;M.lightViewPosition;M.lightingContext;M.lights;M.linearDepth;M.linearToneMapping;M.localId;M.globalId;M.log;M.log2;M.logarithmicDepthToViewZ;M.loop;M.luminance;M.mediumpModelViewMatrix;M.mat2;M.mat3;M.mat4;M.matcapUV;M.materialAO;M.materialAlphaTest;M.materialAnisotropy;M.materialAnisotropyVector;M.materialAttenuationColor;M.materialAttenuationDistance;M.materialClearcoat;M.materialClearcoatNormal;M.materialClearcoatRoughness;M.materialColor;M.materialDispersion;M.materialEmissive;M.materialIOR;M.materialIridescence;M.materialIridescenceIOR;M.materialIridescenceThickness;M.materialLightMap;M.materialLineDashOffset;M.materialLineDashSize;M.materialLineGapSize;M.materialLineScale;M.materialLineWidth;M.materialMetalness;M.materialNormal;M.materialOpacity;M.materialPointSize;M.materialReference;M.materialReflectivity;M.materialRefractionRatio;M.materialRotation;M.materialRoughness;M.materialSheen;M.materialSheenRoughness;M.materialShininess;M.materialSpecular;M.materialSpecularColor;M.materialSpecularIntensity;M.materialSpecularStrength;M.materialThickness;M.materialTransmission;M.max;M.maxMipLevel;M.metalness;M.min;M.mix;M.mixElement;M.mod;M.modInt;M.modelDirection;M.modelNormalMatrix;M.modelPosition;M.modelRadius;M.modelScale;M.modelViewMatrix;M.modelViewPosition;M.modelViewProjection;M.modelWorldMatrix;M.modelWorldMatrixInverse;M.morphReference;M.mrt;M.mul;M.mx_aastep;M.mx_cell_noise_float;M.mx_contrast;M.mx_fractal_noise_float;M.mx_fractal_noise_vec2;M.mx_fractal_noise_vec3;M.mx_fractal_noise_vec4;M.mx_hsvtorgb;M.mx_noise_float;M.mx_noise_vec3;M.mx_noise_vec4;M.mx_ramplr;M.mx_ramptb;M.mx_rgbtohsv;M.mx_safepower;M.mx_splitlr;M.mx_splittb;M.mx_srgb_texture_to_lin_rec709;M.mx_transform_uv;M.mx_worley_noise_float;M.mx_worley_noise_vec2;M.mx_worley_noise_vec3;M.namespace;const vG=M.negate;M.neutralToneMapping;M.nodeArray;M.nodeImmutable;M.nodeObject;M.nodeObjects;M.nodeProxy;M.normalFlat;M.normalGeometry;M.normalLocal;M.normalMap;M.normalView;M.normalWorld;M.normalize;M.not;M.notEqual;M.numWorkgroups;M.objectDirection;M.objectGroup;M.objectPosition;M.objectRadius;M.objectScale;M.objectViewPosition;M.objectWorldMatrix;M.oneMinus;M.or;M.orthographicDepthToViewZ;M.oscSawtooth;M.oscSine;M.oscSquare;M.oscTriangle;M.output;M.outputStruct;M.overlay;M.overloadingFn;M.parabola;M.parallaxDirection;M.parallaxUV;M.parameter;M.pass;M.passTexture;M.pcurve;M.perspectiveDepthToViewZ;M.pmremTexture;M.pointUV;M.pointWidth;M.positionGeometry;M.positionLocal;M.positionPrevious;M.positionView;M.positionViewDirection;M.positionWorld;M.positionWorldDirection;M.posterize;M.pow;M.pow2;M.pow3;M.pow4;M.premult;M.property;M.radians;M.rand;M.range;M.rangeFog;M.rangeFogFactor;M.reciprocal;M.lightProjectionUV;M.reference;M.referenceBuffer;M.reflect;M.reflectVector;M.reflectView;M.reflector;M.refract;M.refractVector;M.refractView;M.reinhardToneMapping;M.remainder;M.remap;M.remapClamp;M.renderGroup;M.renderOutput;M.rendererReference;M.rotate;M.rotateUV;M.roughness;M.round;M.rtt;M.sRGBTransferEOTF;M.sRGBTransferOETF;M.sampler;M.samplerComparison;M.saturate;M.saturation;M.screen;M.screenCoordinate;M.screenSize;M.screenUV;M.scriptable;M.scriptableValue;M.select;M.setCurrentStack;M.shaderStages;M.shadow;M.pointShadow;M.shadowPositionWorld;M.sharedUniformGroup;M.shapeCircle;M.sheen;M.sheenRoughness;M.shiftLeft;M.shiftRight;M.shininess;M.sign;const _G=M.sin;M.sinc;M.skinning;M.smoothstep;M.smoothstepElement;M.specularColor;M.specularF90;M.spherizeUV;M.split;M.spritesheetUV;const xG=M.sqrt;M.stack;M.step;const bG=M.storage;M.storageBarrier;M.storageObject;M.storageTexture;M.string;M.struct;M.sub;M.subgroupIndex;M.subgroupSize;M.tan;M.tangentGeometry;M.tangentLocal;M.tangentView;M.tangentWorld;M.temp;M.texture;M.texture3D;M.textureBarrier;M.textureBicubic;M.textureCubeUV;M.textureLoad;M.textureSize;M.textureStore;M.thickness;M.time;M.timerDelta;M.timerGlobal;M.timerLocal;M.toneMapping;M.toneMappingExposure;M.toonOutlinePass;M.transformDirection;M.transformNormal;M.transformNormalToView;M.transformedBentNormalView;M.transformedBitangentView;M.transformedBitangentWorld;M.transformedClearcoatNormalView;M.transformedNormalView;M.transformedNormalWorld;M.transformedTangentView;M.transformedTangentWorld;M.transmission;M.transpose;M.triNoise3D;M.triplanarTexture;M.triplanarTextures;M.trunc;M.tslFn;M.uint;const TG=M.uniform;M.uniformCubeTexture;M.uniformArray;M.uniformGroup;M.uniformTexture;M.uniforms;M.unpremult;M.userData;M.uv;M.uvec2;M.uvec3;M.uvec4;M.Var;M.varying;M.varyingProperty;M.vec2;M.vec3;M.vec4;M.vectorComponents;M.velocity;M.vertexColor;M.vertexIndex;M.vibrance;M.viewZToLogarithmicDepth;M.viewZToOrthographicDepth;M.viewZToPerspectiveDepth;M.viewport;M.viewportBottomLeft;M.viewportCoordinate;M.viewportDepthTexture;M.viewportLinearDepth;M.viewportMipTexture;M.viewportResolution;M.viewportSafeUV;M.viewportSharedTexture;M.viewportSize;M.viewportTexture;M.viewportTopLeft;M.viewportUV;M.wgsl;M.wgslFn;M.workgroupArray;M.workgroupBarrier;M.workgroupId;M.workingToColorSpace;M.xor;const sf=new b9,b3=new Ce;class v_ extends ew{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],n=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(n),this.setAttribute("position",new xi(e,3)),this.setAttribute("uv",new xi(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new sa(t,6,1);return this.setAttribute("instanceStart",new fi(n,3,0)),this.setAttribute("instanceEnd",new fi(n,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new sa(t,6,1);return this.setAttribute("instanceColorStart",new fi(n,3,0)),this.setAttribute("instanceColorEnd",new fi(n,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new tw(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new b9);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),sf.setFromBufferAttribute(t),this.boundingBox.union(sf))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _9),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let i=0;for(let s=0,o=e.count;s<o;s++)b3.fromBufferAttribute(e,s),i=Math.max(i,n.distanceToSquared(b3)),b3.fromBufferAttribute(t,s),i=Math.max(i,n.distanceToSquared(b3));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}}I3.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new qt(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};q3.line={uniforms:ld.merge([I3.common,I3.fog,I3.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			float alpha = opacity;
			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class ol extends s5{constructor(e){super({type:"LineMaterial",uniforms:ld.clone(q3.line.uniforms),vertexShader:q3.line.vertexShader,fragmentShader:q3.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const y6=new jt,of=new Ce,af=new Ce,H0=new jt,j0=new jt,$r=new jt,v6=new Ce,_6=new u0,$0=new nw,Af=new Ce,T3=new b9,w3=new _9,Wr=new jt;let Jr,a2;function lf(r,e,t){return Wr.set(0,0,-e,1).applyMatrix4(r.projectionMatrix),Wr.multiplyScalar(1/Wr.w),Wr.x=a2/t.width,Wr.y=a2/t.height,Wr.applyMatrix4(r.projectionMatrixInverse),Wr.multiplyScalar(1/Wr.w),Math.abs(Math.max(Wr.x,Wr.y))}function wG(r,e){const t=r.matrixWorld,n=r.geometry,i=n.attributes.instanceStart,s=n.attributes.instanceEnd,o=Math.min(n.instanceCount,i.count);for(let u=0,h=o;u<h;u++){$0.start.fromBufferAttribute(i,u),$0.end.fromBufferAttribute(s,u),$0.applyMatrix4(t);const d=new Ce,m=new Ce;Jr.distanceSqToSegment($0.start,$0.end,m,d),m.distanceTo(d)<a2*.5&&e.push({point:m,pointOnLine:d,distance:Jr.origin.distanceTo(m),object:r,face:null,faceIndex:u,uv:null,uv1:null})}}function SG(r,e,t){const n=e.projectionMatrix,s=r.material.resolution,o=r.matrixWorld,u=r.geometry,h=u.attributes.instanceStart,d=u.attributes.instanceEnd,m=Math.min(u.instanceCount,h.count),y=-e.near;Jr.at(1,$r),$r.w=1,$r.applyMatrix4(e.matrixWorldInverse),$r.applyMatrix4(n),$r.multiplyScalar(1/$r.w),$r.x*=s.x/2,$r.y*=s.y/2,$r.z=0,v6.copy($r),_6.multiplyMatrices(e.matrixWorldInverse,o);for(let x=0,b=m;x<b;x++){if(H0.fromBufferAttribute(h,x),j0.fromBufferAttribute(d,x),H0.w=1,j0.w=1,H0.applyMatrix4(_6),j0.applyMatrix4(_6),H0.z>y&&j0.z>y)continue;if(H0.z>y){const B=H0.z-j0.z,q=(H0.z-y)/B;H0.lerp(j0,q)}else if(j0.z>y){const B=j0.z-H0.z,q=(j0.z-y)/B;j0.lerp(H0,q)}H0.applyMatrix4(n),j0.applyMatrix4(n),H0.multiplyScalar(1/H0.w),j0.multiplyScalar(1/j0.w),H0.x*=s.x/2,H0.y*=s.y/2,j0.x*=s.x/2,j0.y*=s.y/2,$0.start.copy(H0),$0.start.z=0,$0.end.copy(j0),$0.end.z=0;const S=$0.closestPointToPointParameter(v6,!0);$0.at(S,Af);const N=v9.lerp(H0.z,j0.z,S),C=N>=-1&&N<=1,P=v6.distanceTo(Af)<a2*.5;if(C&&P){$0.start.fromBufferAttribute(h,x),$0.end.fromBufferAttribute(d,x),$0.start.applyMatrix4(o),$0.end.applyMatrix4(o);const B=new Ce,q=new Ce;Jr.distanceSqToSegment($0.start,$0.end,q,B),t.push({point:q,pointOnLine:B,distance:Jr.origin.distanceTo(q),object:r,face:null,faceIndex:x,uv:null,uv1:null})}}}class EG extends y0{constructor(e=new v_,t=new ol({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,i=new Float32Array(2*t.count);for(let o=0,u=0,h=t.count;o<h;o++,u+=2)of.fromBufferAttribute(t,o),af.fromBufferAttribute(n,o),i[u]=u===0?0:i[u-1],i[u+1]=i[u]+of.distanceTo(af);const s=new sa(i,2,1);return e.setAttribute("instanceDistanceStart",new fi(s,1,0)),e.setAttribute("instanceDistanceEnd",new fi(s,1,1)),this}raycast(e,t){const n=this.material.worldUnits,i=e.camera;i===null&&!n&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Jr=e.ray;const o=this.matrixWorld,u=this.geometry,h=this.material;a2=h.linewidth+s,u.boundingSphere===null&&u.computeBoundingSphere(),w3.copy(u.boundingSphere).applyMatrix4(o);let d;if(n)d=a2*.5;else{const y=Math.max(i.near,w3.distanceToPoint(Jr.origin));d=lf(i,y,h.resolution)}if(w3.radius+=d,Jr.intersectsSphere(w3)===!1)return;u.boundingBox===null&&u.computeBoundingBox(),T3.copy(u.boundingBox).applyMatrix4(o);let m;if(n)m=a2*.5;else{const y=Math.max(i.near,T3.distanceToPoint(Jr.origin));m=lf(i,y,h.resolution)}T3.expandByScalar(m),Jr.intersectsBox(T3)!==!1&&(n?wG(this,t):SG(this,i,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(y6),this.material.uniforms.resolution.value.set(y6.z,y6.w))}}class __ extends v_{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,n=new Float32Array(2*t);for(let i=0;i<t;i+=3)n[2*i]=e[i],n[2*i+1]=e[i+1],n[2*i+2]=e[i+2],n[2*i+3]=e[i+3],n[2*i+4]=e[i+4],n[2*i+5]=e[i+5];return super.setPositions(n),this}setColors(e){const t=e.length-3,n=new Float32Array(2*t);for(let i=0;i<t;i+=3)n[2*i]=e[i],n[2*i+1]=e[i+1],n[2*i+2]=e[i+2],n[2*i+3]=e[i+3],n[2*i+4]=e[i+4],n[2*i+5]=e[i+5];return super.setColors(n),this}setFromPoints(e){const t=e.length-1,n=new Float32Array(6*t);for(let i=0;i<t;i++)n[6*i]=e[i].x,n[6*i+1]=e[i].y,n[6*i+2]=e[i].z||0,n[6*i+3]=e[i+1].x,n[6*i+4]=e[i+1].y,n[6*i+5]=e[i+1].z||0;return super.setPositions(n),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class NG extends EG{constructor(e=new __,t=new ol({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}class uf extends rw{constructor(e,t={}){const n=t.font;if(n===void 0)super();else{const i=n.generateShapes(e,t.size);t.depth===void 0&&(t.depth=50),t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(i,t)}this.type="TextGeometry"}}class MG{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const n=[],i=RG(e,t,this.data);for(let s=0,o=i.length;s<o;s++)n.push(...i[s].toShapes());return n}}function RG(r,e,t){const n=Array.from(r),i=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*i,o=[];let u=0,h=0;for(let d=0;d<n.length;d++){const m=n[d];if(m===`
`)u=0,h-=s;else{const y=CG(m,i,u,h,t);u+=y.offsetX,o.push(y.path)}}return o}function CG(r,e,t,n,i){const s=i.glyphs[r]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+r+'" does not exists in font family '+i.familyName+".");return}const o=new iw;let u,h,d,m,y,x,b,w;if(s.o){const S=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let N=0,C=S.length;N<C;)switch(S[N++]){case"m":u=S[N++]*e+t,h=S[N++]*e+n,o.moveTo(u,h);break;case"l":u=S[N++]*e+t,h=S[N++]*e+n,o.lineTo(u,h);break;case"q":d=S[N++]*e+t,m=S[N++]*e+n,y=S[N++]*e+t,x=S[N++]*e+n,o.quadraticCurveTo(y,x,d,m);break;case"b":d=S[N++]*e+t,m=S[N++]*e+n,y=S[N++]*e+t,x=S[N++]*e+n,b=S[N++]*e+t,w=S[N++]*e+n,o.bezierCurveTo(y,x,b,w,d,m);break}}return{offsetX:s.ha*e,path:o}}class PG extends i5{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new qt(.5,.5),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof t.element.ownerDocument.defaultView.Element&&t.element.parentNode!==null&&t.element.remove()})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}new Ce;new u0;new u0;new Ce;new Ce;function K7(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function BG(r){if(Array.isArray(r))return r}function DG(r){if(Array.isArray(r))return K7(r)}function x_(r,e,t){if(typeof r=="function"?r===e:r.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function FG(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function cf(r,e,t,n,i,s,o){try{var u=r[s](o),h=u.value}catch(d){return void t(d)}u.done?e(h):Promise.resolve(h).then(n,i)}function LG(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var s=r.apply(e,t);function o(h){cf(s,n,i,o,u,"next",h)}function u(h){cf(s,n,i,o,u,"throw",h)}o(void 0)})}}function q5(r,e,t){return e=Cs(e),HG(r,Al()?Reflect.construct(e,t||[],Cs(r).constructor):e.apply(r,t))}function qG(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function I5(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function fo(r,e){return r.get(x_(r,e))}function x6(r,e,t){qG(r,e),e.set(r,t)}function b6(r,e,t){return r.set(x_(r,e),t),t}function al(r,e,t){if(Al())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(r.bind.apply(r,n));return i}function IG(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,b_(n.key),n)}}function O5(r,e,t){return e&&IG(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function G0(r,e,t){return(e=b_(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Z7(){return Z7=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,t){var n=jG(r,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?r:t):i.value}},Z7.apply(null,arguments)}function Cs(r){return Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cs(r)}function k5(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&e9(r,e)}function Al(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Al=function(){return!!r})()}function OG(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function kG(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,o,u=[],h=!0,d=!1;try{if(s=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;h=!1}else for(;!(h=(n=s.call(t)).done)&&(u.push(n.value),u.length!==e);h=!0);}catch(m){d=!0,i=m}finally{try{if(!h&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(d)throw i}}return u}}function UG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hf(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Gt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hf(Object(t),!0).forEach(function(n){G0(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hf(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function VG(r,e){if(r==null)return{};var t,n,i=zG(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function zG(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function HG(r,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FG(r)}function J7(){J7=function(){return e};var r,e={},t=Object.prototype,n=t.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function h(z,k,Y,X){return Object.defineProperty(z,k,{value:Y,enumerable:!X,configurable:!X,writable:!X})}try{h({},"")}catch{h=function(k,Y,X){return k[Y]=X}}function d(z,k,Y,X){var J=k&&k.prototype instanceof x?k:x,K=Object.create(J.prototype);return h(K,"_invoke",function(oe,ce,de){var ve=1;return function(Me,Be){if(ve===3)throw Error("Generator is already running");if(ve===4){if(Me==="throw")throw Be;return{value:r,done:!0}}for(de.method=Me,de.arg=Be;;){var Oe=de.delegate;if(Oe){var ke=D(Oe,de);if(ke){if(ke===y)continue;return ke}}if(de.method==="next")de.sent=de._sent=de.arg;else if(de.method==="throw"){if(ve===1)throw ve=4,de.arg;de.dispatchException(de.arg)}else de.method==="return"&&de.abrupt("return",de.arg);ve=3;var dt=m(oe,ce,de);if(dt.type==="normal"){if(ve=de.done?4:2,dt.arg===y)continue;return{value:dt.arg,done:de.done}}dt.type==="throw"&&(ve=4,de.method="throw",de.arg=dt.arg)}}}(z,Y,new V(X||[])),!0),K}function m(z,k,Y){try{return{type:"normal",arg:z.call(k,Y)}}catch(X){return{type:"throw",arg:X}}}e.wrap=d;var y={};function x(){}function b(){}function w(){}var S={};h(S,s,function(){return this});var N=Object.getPrototypeOf,C=N&&N(N(H([])));C&&C!==t&&n.call(C,s)&&(S=C);var P=w.prototype=x.prototype=Object.create(S);function B(z){["next","throw","return"].forEach(function(k){h(z,k,function(Y){return this._invoke(k,Y)})})}function q(z,k){function Y(J,K,oe,ce){var de=m(z[J],z,K);if(de.type!=="throw"){var ve=de.arg,Me=ve.value;return Me&&typeof Me=="object"&&n.call(Me,"__await")?k.resolve(Me.__await).then(function(Be){Y("next",Be,oe,ce)},function(Be){Y("throw",Be,oe,ce)}):k.resolve(Me).then(function(Be){ve.value=Be,oe(ve)},function(Be){return Y("throw",Be,oe,ce)})}ce(de.arg)}var X;h(this,"_invoke",function(J,K){function oe(){return new k(function(ce,de){Y(J,K,ce,de)})}return X=X?X.then(oe,oe):oe()},!0)}function D(z,k){var Y=k.method,X=z.i[Y];if(X===r)return k.delegate=null,Y==="throw"&&z.i.return&&(k.method="return",k.arg=r,D(z,k),k.method==="throw")||Y!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+Y+"' method")),y;var J=m(X,z.i,k.arg);if(J.type==="throw")return k.method="throw",k.arg=J.arg,k.delegate=null,y;var K=J.arg;return K?K.done?(k[z.r]=K.value,k.next=z.n,k.method!=="return"&&(k.method="next",k.arg=r),k.delegate=null,y):K:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,y)}function I(z){this.tryEntries.push(z)}function U(z){var k=z[4]||{};k.type="normal",k.arg=r,z[4]=k}function V(z){this.tryEntries=[[-1]],z.forEach(I,this),this.reset(!0)}function H(z){if(z!=null){var k=z[s];if(k)return k.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var Y=-1,X=function J(){for(;++Y<z.length;)if(n.call(z,Y))return J.value=z[Y],J.done=!1,J;return J.value=r,J.done=!0,J};return X.next=X}}throw new TypeError(typeof z+" is not iterable")}return b.prototype=w,h(P,"constructor",w),h(w,"constructor",b),b.displayName=h(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(z){var k=typeof z=="function"&&z.constructor;return!!k&&(k===b||(k.displayName||k.name)==="GeneratorFunction")},e.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,w):(z.__proto__=w,h(z,u,"GeneratorFunction")),z.prototype=Object.create(P),z},e.awrap=function(z){return{__await:z}},B(q.prototype),h(q.prototype,o,function(){return this}),e.AsyncIterator=q,e.async=function(z,k,Y,X,J){J===void 0&&(J=Promise);var K=new q(d(z,k,Y,X),J);return e.isGeneratorFunction(k)?K:K.next().then(function(oe){return oe.done?oe.value:K.next()})},B(P),h(P,u,"Generator"),h(P,s,function(){return this}),h(P,"toString",function(){return"[object Generator]"}),e.keys=function(z){var k=Object(z),Y=[];for(var X in k)Y.unshift(X);return function J(){for(;Y.length;)if((X=Y.pop())in k)return J.value=X,J.done=!1,J;return J.done=!0,J}},e.values=H,V.prototype={constructor:V,reset:function(z){if(this.prev=this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(U),!z)for(var k in this)k.charAt(0)==="t"&&n.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=r)},stop:function(){this.done=!0;var z=this.tryEntries[0][4];if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var k=this;function Y(ve){K.type="throw",K.arg=z,k.next=ve}for(var X=k.tryEntries.length-1;X>=0;--X){var J=this.tryEntries[X],K=J[4],oe=this.prev,ce=J[1],de=J[2];if(J[0]===-1)return Y("end"),!1;if(!ce&&!de)throw Error("try statement without catch or finally");if(J[0]!=null&&J[0]<=oe){if(oe<ce)return this.method="next",this.arg=r,Y(ce),!0;if(oe<de)return Y(de),!1}}},abrupt:function(z,k){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var X=this.tryEntries[Y];if(X[0]>-1&&X[0]<=this.prev&&this.prev<X[2]){var J=X;break}}J&&(z==="break"||z==="continue")&&J[0]<=k&&k<=J[2]&&(J=null);var K=J?J[4]:{};return K.type=z,K.arg=k,J?(this.method="next",this.next=J[2],y):this.complete(K)},complete:function(z,k){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&k&&(this.next=k),y},finish:function(z){for(var k=this.tryEntries.length-1;k>=0;--k){var Y=this.tryEntries[k];if(Y[2]===z)return this.complete(Y[4],Y[3]),U(Y),y}},catch:function(z){for(var k=this.tryEntries.length-1;k>=0;--k){var Y=this.tryEntries[k];if(Y[0]===z){var X=Y[4];if(X.type==="throw"){var J=X.arg;U(Y)}return J}}throw Error("illegal catch attempt")},delegateYield:function(z,k,Y){return this.delegate={i:H(z),r:k,n:Y},this.method==="next"&&(this.arg=r),y}},e}function e9(r,e){return e9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},e9(r,e)}function i0(r,e){return BG(r)||kG(r,e)||T_(r,e)||UG()}function jG(r,e){for(;!{}.hasOwnProperty.call(r,e)&&(r=Cs(r))!==null;);return r}function T6(r,e,t,n){var i=Z7(Cs(r.prototype),e,t);return typeof i=="function"?function(s){return i.apply(t,s)}:i}function $t(r){return DG(r)||OG(r)||T_(r)||GG()}function $G(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function b_(r){var e=$G(r,"string");return typeof e=="symbol"?e:e+""}function T_(r,e){if(r){if(typeof r=="string")return K7(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?K7(r,e):void 0}}var w_=function(e){e instanceof Array?e.forEach(w_):(e.map&&e.map.dispose(),e.dispose())},ll=function(e){e.geometry&&e.geometry.dispose(),e.material&&w_(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(ll)},Yt=function(e){if(e&&e.children)for(;e.children.length;){var t=e.children[0];e.remove(t),ll(t)}};function mn(r,e){var t=new e;return{linkProp:function(i){return{default:t[i](),onChange:function(o,u){u[r][i](o)},triggerUpdate:!1}},linkMethod:function(i){return function(s){for(var o=s[r],u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];var m=o[i].apply(o,h);return m===o?this:m}}}}var e0=100;function ff(){return e0}function dr(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=(90-r)*Math.PI/180,i=(90-e)*Math.PI/180,s=e0*(1+t),o=Math.sin(n);return{x:s*o*Math.cos(i),y:s*Math.cos(n),z:s*o*Math.sin(i)}}function S_(r){var e=r.x,t=r.y,n=r.z,i=Math.sqrt(e*e+t*t+n*n),s=Math.acos(t/i),o=Math.atan2(n,e);return{lat:90-s*180/Math.PI,lng:90-o*180/Math.PI-(o<-Math.PI/2?360:0),altitude:i/e0-1}}function Qi(r){return r*Math.PI/180}var l4=window.THREE?window.THREE:{BackSide:En,BufferAttribute:Cr,Color:D0,Mesh:y0,ShaderMaterial:s5},WG=`
uniform float hollowRadius;

varying vec3 vVertexWorldPosition;
varying vec3 vVertexNormal;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {    
  vVertexNormal	= normalize(normalMatrix * normal);
  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;
  
  vec4 objCenterViewPosition = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);
  vCameraDistanceToObjCenter = length(objCenterViewPosition);
  
  float edgeAngle = atan(hollowRadius / vCameraDistanceToObjCenter);
  float vertexAngle = acos(dot(normalize(modelViewMatrix * vec4(position, 1.0)), normalize(objCenterViewPosition)));
  vVertexAngularDistanceToHollowRadius = vertexAngle - edgeAngle;

  gl_Position	= projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,QG=`
uniform vec3 color;
uniform float coefficient;
uniform float power;
uniform float hollowRadius;

varying vec3 vVertexNormal;
varying vec3 vVertexWorldPosition;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {
  if (vCameraDistanceToObjCenter < hollowRadius) discard; // inside the hollowRadius
  if (vVertexAngularDistanceToHollowRadius < 0.0) discard; // frag position is within the hollow radius

  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;
  vec3 viewCameraToVertex	= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;
  viewCameraToVertex = normalize(viewCameraToVertex);
  float intensity	= pow(
    coefficient + dot(vVertexNormal, viewCameraToVertex),
    power
  );
  gl_FragColor = vec4(color, intensity);
}`;function YG(r,e,t,n){return new l4.ShaderMaterial({depthWrite:!1,transparent:!0,vertexShader:WG,fragmentShader:QG,uniforms:{coefficient:{value:r},color:{value:new l4.Color(e)},power:{value:t},hollowRadius:{value:n}}})}function XG(r,e){for(var t=r.clone(),n=new Float32Array(r.attributes.position.count*3),i=0,s=n.length;i<s;i++){var o=r.attributes.normal.array[i],u=r.attributes.position.array[i];n[i]=u+o*e}return t.setAttribute("position",new l4.BufferAttribute(n,3)),t}var KG=function(r){function e(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.color,o=s===void 0?"gold":s,u=i.size,h=u===void 0?2:u,d=i.coefficient,m=d===void 0?.5:d,y=i.power,x=y===void 0?1:y,b=i.hollowRadius,w=b===void 0?0:b,S=i.backside,N=S===void 0?!0:S;I5(this,e),n=q5(this,e);var C=XG(t,h),P=YG(m,o,x,w);return N&&(P.side=l4.BackSide),n.geometry=C,n.material=P,n}return k5(e,r),O5(e)}(l4.Mesh),Qr=window.THREE?window.THREE:{Color:D0,Group:d1,LineBasicMaterial:r5,LineSegments:ud,Mesh:y0,MeshPhongMaterial:id,SphereGeometry:p2,SRGBColorSpace:e5,TextureLoader:Sf},E_=an({props:{globeImageUrl:{},bumpImageUrl:{},showGlobe:{default:!0,onChange:function(e,t){t.globeGroup.visible=!!e},triggerUpdate:!1},showGraticules:{default:!1,onChange:function(e,t){t.graticulesObj.visible=!!e},triggerUpdate:!1},showAtmosphere:{default:!0,onChange:function(e,t){t.atmosphereObj&&(t.atmosphereObj.visible=!!e)},triggerUpdate:!1},atmosphereColor:{default:"lightskyblue"},atmosphereAltitude:{default:.15},globeTileEngineUrl:{onChange:function(e,t){t.tileEngine.tileUrl=e}},globeTileEngineMaxLevel:{default:17,onChange:function(e,t){t.tileEngine.maxLevel=e},triggerUpdate:!1},updatePov:{onChange:function(e,t){t.tileEngine.updatePov(e)},triggerUpdate:!1},onReady:{default:function(){},triggerUpdate:!1}},methods:{globeMaterial:function(e,t){return t!==void 0?(e.globeObj.material=t||e.defaultGlobeMaterial,this):e.globeObj.material},_destructor:function(e){Yt(e.globeObj),Yt(e.tileEngine),Yt(e.graticulesObj)}},stateInit:function(){var e=new Qr.SphereGeometry(e0,75,75),t=new Qr.MeshPhongMaterial({color:0}),n=new Qr.Mesh(e,t);n.rotation.y=-Math.PI/2;var i=new PN(e0),s=new Qr.Group;s.__globeObjType="globe",s.add(n),s.add(i);var o=new Qr.LineSegments(new cp(YE(),e0,2),new Qr.LineBasicMaterial({color:"lightgrey",transparent:!0,opacity:.1}));return{globeGroup:s,globeObj:n,graticulesObj:o,defaultGlobeMaterial:t,tileEngine:i}},init:function(e,t){Yt(e),t.scene=e,t.scene.add(t.globeGroup),t.scene.add(t.graticulesObj),t.ready=!1},update:function(e,t){var n=e.globeObj.material;if(e.tileEngine.visible=!(e.globeObj.visible=!e.globeTileEngineUrl),t.hasOwnProperty("globeImageUrl")&&(e.globeImageUrl?new Qr.TextureLoader().load(e.globeImageUrl,function(s){s.colorSpace=Qr.SRGBColorSpace,n.map=s,n.color=null,n.needsUpdate=!0,!e.ready&&(e.ready=!0)&&setTimeout(e.onReady)}):!n.color&&(n.color=new Qr.Color(0))),t.hasOwnProperty("bumpImageUrl")&&(e.bumpImageUrl?e.bumpImageUrl&&new Qr.TextureLoader().load(e.bumpImageUrl,function(s){n.bumpMap=s,n.needsUpdate=!0}):(n.bumpMap=null,n.needsUpdate=!0)),(t.hasOwnProperty("atmosphereColor")||t.hasOwnProperty("atmosphereAltitude"))&&(e.atmosphereObj&&(e.scene.remove(e.atmosphereObj),Yt(e.atmosphereObj)),e.atmosphereColor&&e.atmosphereAltitude)){var i=e.atmosphereObj=new KG(e.globeObj.geometry,{color:e.atmosphereColor,size:e0*e.atmosphereAltitude,hollowRadius:e0,coefficient:.1,power:3.5});i.visible=!!e.showAtmosphere,i.__globeObjType="atmosphere",e.scene.add(i)}!e.ready&&(!e.globeImageUrl||e.globeTileEngineUrl)&&(e.ready=!0,e.onReady())}}),h1=function(e){return isNaN(e)?parseInt(je(e).toHex(),16):e},Fr=function(e){return e&&isNaN(e)?u2(e).opacity:1},Ti=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i,s=1,o=/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.eE+-]+)\s*\)$/.exec(e.trim().toLowerCase());if(o){var u=o.slice(1),h=i0(u,4),d=h[0],m=h[1],y=h[2],x=h[3];i=new D0("rgb(".concat(+d,",").concat(+m,",").concat(+y,")")),s=Math.min(+x,1)}else i=new D0(e);n&&i.convertLinearToSRGB();var b=i.toArray();return t?[].concat($t(b),[s]):b};function ZG(r,e,t){return r.opacity=e,r.transparent=e<1,r.depthWrite=e>=1,r}var df=window.THREE?window.THREE:{BufferAttribute:Cr};function f1(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float32Array;if(e===1)return new df.BufferAttribute(new t(r),e);for(var n=new df.BufferAttribute(new t(r.length*e),e),i=0,s=r.length;i<s;i++)n.set(r[i],i*e);return n}function JG(r){for(var e=r.itemSize,t=[],n=0;n<r.count;n++)t.push(r.array.slice(n*e,(n+1)*e));return t}var w6=new WeakMap,S3=new WeakMap,E3=new WeakMap,Pn=function(r){function e(t){var n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.dataBindAttr,o=s===void 0?"__data":s,u=i.objBindAttr,h=u===void 0?"__threeObj":u,d=i.removeDelay,m=d===void 0?0:d;return I5(this,e),n=q5(this,e),G0(n,"scene",void 0),x6(n,w6,void 0),x6(n,S3,void 0),x6(n,E3,void 0),n.scene=t,b6(w6,n,o),b6(S3,n,h),b6(E3,n,m),n.onRemoveObj(function(){}),n}return k5(e,r),O5(e,[{key:"onCreateObj",value:function(n){var i=this;return T6(e,"onCreateObj",this)([function(s){var o=n(s);return s[fo(S3,i)]=o,o[fo(w6,i)]=s,i.scene.add(o),o}]),this}},{key:"onRemoveObj",value:function(n){var i=this;return T6(e,"onRemoveObj",this)([function(s,o){var u=T6(e,"getData",i)([s]);n(s,o);var h=function(){i.scene.remove(s),Yt(s),delete u[fo(S3,i)]};fo(E3,i)?setTimeout(h,fo(E3,i)):h()}]),this}}])}(oR),vr=window.THREE?window.THREE:{BufferGeometry:pr,CylinderGeometry:Nf,Matrix4:u0,Mesh:y0,MeshLambertMaterial:H1,Object3D:i5,Vector3:Ce},pf=Object.assign({},q9),mf=pf.BufferGeometryUtils||pf,N_=an({props:{pointsData:{default:[]},pointLat:{default:"lat"},pointLng:{default:"lng"},pointColor:{default:function(){return"#ffffaa"}},pointAltitude:{default:.1},pointRadius:{default:.25},pointResolution:{default:12,triggerUpdate:!1},pointsMerge:{default:!1},pointsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Yt(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjPoint"})},update:function(e,t){var n=Se(e.pointLat),i=Se(e.pointLng),s=Se(e.pointAltitude),o=Se(e.pointRadius),u=Se(e.pointColor),h=new vr.CylinderGeometry(1,1,1,e.pointResolution);h.applyMatrix4(new vr.Matrix4().makeRotationX(Math.PI/2)),h.applyMatrix4(new vr.Matrix4().makeTranslation(0,0,-.5));var d=2*Math.PI*e0/360,m={};if(!e.pointsMerge&&t.hasOwnProperty("pointsMerge")&&Yt(e.scene),e.dataMapper.scene=e.pointsMerge?new vr.Object3D:e.scene,e.dataMapper.onCreateObj(b).onUpdateObj(w).digest(e.pointsData),e.pointsMerge){var y=e.pointsData.length?(mf.mergeGeometries||mf.mergeBufferGeometries)(e.pointsData.map(function(S){var N=e.dataMapper.getObj(S),C=N.geometry.clone();N.updateMatrix(),C.applyMatrix4(N.matrix);var P=Ti(u(S));return C.setAttribute("color",f1(Array(C.getAttribute("position").count).fill(P),4)),C})):new vr.BufferGeometry,x=new vr.Mesh(y,new vr.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0}));x.__globeObjType="points",x.__data=e.pointsData,e.dataMapper.clear(),Yt(e.scene),e.scene.add(x)}function b(){var S=new vr.Mesh(h);return S.__globeObjType="point",S}function w(S,N){var C=function(V){var H=S.__currentTargetD=V,z=H.r,k=H.alt,Y=H.lat,X=H.lng;Object.assign(S.position,dr(Y,X));var J=e.pointsMerge?new vr.Vector3(0,0,0):e.scene.localToWorld(new vr.Vector3(0,0,0));S.lookAt(J),S.scale.x=S.scale.y=Math.min(30,z)*d,S.scale.z=Math.max(k*e0,.1)},P={alt:+s(N),r:+o(N),lat:+n(N),lng:+i(N)},B=S.__currentTargetD||Object.assign({},P,{alt:-.001});if(Object.keys(P).some(function(U){return B[U]!==P[U]})&&(e.pointsMerge||!e.pointsTransitionDuration||e.pointsTransitionDuration<0?C(P):e.tweenGroup.add(new Gn(B).to(P,e.pointsTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(C).start())),!e.pointsMerge){var q=u(N),D=q?Fr(q):0,I=!!D;S.visible=I,I&&(m.hasOwnProperty(q)||(m[q]=new vr.MeshLambertMaterial({color:h1(q),transparent:D<1,opacity:D})),S.material=m[q])}}}}),M_=function(){return{uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:`
    `.concat(js.common,`
    `).concat(js.logdepthbuf_pars_vertex,`
  
    uniform float dashTranslate; 

    attribute vec4 color;
    varying vec4 vColor;
    
    attribute float relDistance;
    varying float vRelDistance;

    void main() {
      // pass through colors and distances
      vColor = color;
      vRelDistance = relDistance + dashTranslate;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  
      `).concat(js.logdepthbuf_vertex,`
    }
  `),fragmentShader:`
    `.concat(js.logdepthbuf_pars_fragment,`

    uniform float dashOffset; 
    uniform float dashSize;
    uniform float gapSize; 
    
    varying vec4 vColor;
    varying float vRelDistance;
    
    void main() {
      // ignore pixels in the gap
      if (vRelDistance < dashOffset) discard;
      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;
    
      // set px color: [r, g, b, a], interpolated between vertices 
      gl_FragColor = vColor; 
  
      `).concat(js.logdepthbuf_fragment,`
    }
  `)}},t9=function(e){return e.uniforms.surfaceRadius={type:"float",value:0},e.vertexShader=(`attribute float surfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.vertexShader).replace("void main() {",["void main() {","vSurfaceRadius = surfaceRadius;","vPos = position;"].join(`
`)),e.fragmentShader=(`uniform float surfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.fragmentShader).replace("void main() {",["void main() {","if (length(vPos) < max(surfaceRadius, vSurfaceRadius)) discard;"].join(`
`)),e},eV=function(e){return e.vertexShader=`
    attribute float r;
    
    const float PI = 3.1415926535897932384626433832795;
    float toRad(in float a) {
      return a * PI / 180.0;
    }
    
    vec3 Polar2Cartesian(in vec3 c) { // [lat, lng, r]
      float phi = toRad(90.0 - c.x);
      float theta = toRad(90.0 - c.y);
      float r = c.z;
      return vec3( // x,y,z
        r * sin(phi) * cos(theta),
        r * cos(phi),
        r * sin(phi) * sin(theta)
      );
    }
    
    vec2 Cartesian2Polar(in vec3 p) {
      float r = sqrt(p.x * p.x + p.y * p.y + p.z * p.z);
      float phi = acos(p.y / r);
      float theta = atan(p.z, p.x);
      return vec2( // lat,lng
        90.0 - phi * 180.0 / PI,
        90.0 - theta * 180.0 / PI - (theta < -PI / 2.0 ? 360.0 : 0.0)
      );
    }
    `.concat(e.vertexShader.replace("}",`                  
        vec3 pos = Polar2Cartesian(vec3(Cartesian2Polar(position), r));
        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
      }
    `),`
  `),e},ul=function(e,t){return e.onBeforeCompile=function(n){e.userData.shader=t(n)},e},tV=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(i){return i};if(e.userData.shader)t(e.userData.shader.uniforms);else{var n=e.onBeforeCompile;e.onBeforeCompile=function(i){n(i),t(i.uniforms)}}},nV=["stroke"],_r=window.THREE?window.THREE:{BufferGeometry:pr,CubicBezierCurve3:ow,Curve:aw,Group:d1,Line:T9,Mesh:y0,NormalBlending:P1,ShaderMaterial:s5,TubeGeometry:sw,Vector3:Ce},rV=ws.default||ws,R_=an({props:{arcsData:{default:[]},arcStartLat:{default:"startLat"},arcStartLng:{default:"startLng"},arcEndLat:{default:"endLat"},arcEndLng:{default:"endLng"},arcColor:{default:function(){return"#ffffaa"}},arcAltitude:{},arcAltitudeAutoScale:{default:.5},arcStroke:{},arcCurveResolution:{default:64,triggerUpdate:!1},arcCircularResolution:{default:6,triggerUpdate:!1},arcDashLength:{default:1},arcDashGap:{default:0},arcDashInitialGap:{default:0},arcDashAnimateTime:{default:0},arcsTransitionDuration:{default:1e3,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.pause()},resumeAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.resume()},_destructor:function(e){var t;e.sharedMaterial.dispose(),(t=e.ticker)===null||t===void 0||t.dispose()}},stateInit:function(e){var t=e.tweenGroup;return{tweenGroup:t,ticker:new rV,sharedMaterial:new _r.ShaderMaterial(Gt(Gt({},M_()),{},{transparent:!0,blending:_r.NormalBlending}))}},init:function(e,t){Yt(e),t.scene=e,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjArc"}).onCreateObj(function(){var n=new _r.Group;return n.__globeObjType="arc",n}),t.ticker.onTick.add(function(n,i){t.dataMapper.entries().map(function(s){var o=i0(s,2),u=o[1];return u}).filter(function(s){return s.children.length&&s.children[0].material&&s.children[0].__dashAnimateStep}).forEach(function(s){var o=s.children[0],u=o.__dashAnimateStep*i,h=o.material.uniforms.dashTranslate.value%1e9;o.material.uniforms.dashTranslate.value=h+u})})},update:function(e){var t=Se(e.arcStartLat),n=Se(e.arcStartLng),i=Se(e.arcEndLat),s=Se(e.arcEndLng),o=Se(e.arcAltitude),u=Se(e.arcAltitudeAutoScale),h=Se(e.arcStroke),d=Se(e.arcColor),m=Se(e.arcDashLength),y=Se(e.arcDashGap),x=Se(e.arcDashInitialGap),b=Se(e.arcDashAnimateTime);e.dataMapper.onUpdateObj(function(C,P){var B=h(P),q=B!=null;if(!C.children.length||q!==(C.children[0].type==="Mesh")){Yt(C);var D=q?new _r.Mesh:new _r.Line(new _r.BufferGeometry);D.material=e.sharedMaterial.clone(),C.add(D)}var I=C.children[0];Object.assign(I.material.uniforms,{dashSize:{value:m(P)},gapSize:{value:y(P)},dashOffset:{value:x(P)}});var U=b(P);I.__dashAnimateStep=U>0?1e3/U:0;var V=S(d(P),e.arcCurveResolution,q?e.arcCircularResolution+1:1),H=N(e.arcCurveResolution,q?e.arcCircularResolution+1:1,!0);I.geometry.setAttribute("color",V),I.geometry.setAttribute("relDistance",H);var z=function(J){var K=C.__currentTargetD=J,oe=K.stroke,ce=VG(K,nV),de=w(ce);q?(I.geometry&&I.geometry.dispose(),I.geometry=new _r.TubeGeometry(de,e.arcCurveResolution,oe/2,e.arcCircularResolution),I.geometry.setAttribute("color",V),I.geometry.setAttribute("relDistance",H)):I.geometry.setFromPoints(de.getPoints(e.arcCurveResolution))},k={stroke:B,alt:o(P),altAutoScale:+u(P),startLat:+t(P),startLng:+n(P),endLat:+i(P),endLng:+s(P)},Y=C.__currentTargetD||Object.assign({},k,{altAutoScale:-.001});Object.keys(k).some(function(X){return Y[X]!==k[X]})&&(!e.arcsTransitionDuration||e.arcsTransitionDuration<0?z(k):e.tweenGroup.add(new Gn(Y).to(k,e.arcsTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(z).start()))}).digest(e.arcsData);function w(C){var P=C.alt,B=C.altAutoScale,q=C.startLat,D=C.startLng,I=C.endLat,U=C.endLng,V=function(Be){var Oe=i0(Be,3),ke=Oe[0],dt=Oe[1],vt=Oe[2],Ft=dr(dt,ke,vt),w0=Ft.x,L0=Ft.y,Nt=Ft.z;return new _r.Vector3(w0,L0,Nt)},H=[D,q],z=[U,I],k=P;if(k==null&&(k=bi(H,z)/2*B),k){var Y=P9(H,z),X=[.25,.75].map(function(Me){return[].concat($t(Y(Me)),[k*1.5])}),J=i0(X,2),K=J[0],oe=J[1],ce=al(_r.CubicBezierCurve3,$t([H,K,oe,z].map(V)));return ce}else{var de=.001;return ve.apply(void 0,$t([[].concat(H,[de]),[].concat(z,[de])].map(V)))}function ve(Me,Be){var Oe=Me.angleTo(Be),ke=Oe===0?function(){return Me.clone()}:function(vt){return new _r.Vector3().addVectors(Me.clone().multiplyScalar(Math.sin((1-vt)*Oe)),Be.clone().multiplyScalar(Math.sin(vt*Oe))).divideScalar(Math.sin(Oe))},dt=new _r.Curve;return dt.getPoint=ke,dt}}function S(C,P){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,q=P+1,D;if(C instanceof Array||C instanceof Function){var I=C instanceof Array?q1().domain(C.map(function(X,J){return J/(C.length-1)})).range(C):C;D=function(J){return Ti(I(J),!0,!0)}}else{var U=Ti(C,!0,!0);D=function(){return U}}for(var V=[],H=0,z=q;H<z;H++)for(var k=D(H/(z-1)),Y=0;Y<B;Y++)V.push(k);return f1(V,4)}function N(C){for(var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,q=C+1,D=[],I=0,U=q;I<U;I++)for(var V=I/(U-1),H=0;H<P;H++)D.push(V);return B&&D.reverse(),f1(D,1)}}}),ii=window.THREE?window.THREE:{BufferGeometry:pr,DoubleSide:Pr,Mesh:y0,MeshLambertMaterial:H1,Object3D:i5},gf=Object.assign({},q9),yf=gf.BufferGeometryUtils||gf,C_=an({props:{hexBinPointsData:{default:[]},hexBinPointLat:{default:"lat"},hexBinPointLng:{default:"lng"},hexBinPointWeight:{default:1},hexBinResolution:{default:4},hexMargin:{default:.2},hexTopCurvatureResolution:{default:5},hexTopColor:{default:function(){return"#ffffaa"}},hexSideColor:{default:function(){return"#ffffaa"}},hexAltitude:{default:function(e){var t=e.sumWeight;return t*.01}},hexBinMerge:{default:!1},hexTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Yt(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjHexbin"})},update:function(e,t){var n=Se(e.hexBinPointLat),i=Se(e.hexBinPointLng),s=Se(e.hexBinPointWeight),o=Se(e.hexAltitude),u=Se(e.hexTopColor),h=Se(e.hexSideColor),d=Se(e.hexMargin),m=MC(e.hexBinPointsData.map(function(P){return Gt(Gt({},P),{},{h3Idx:lP(n(P),i(P),e.hexBinResolution)})}),"h3Idx"),y=Object.entries(m).map(function(P){var B=i0(P,2),q=B[0],D=B[1];return{h3Idx:q,points:D,sumWeight:D.reduce(function(I,U){return I+ +s(U)},0)}}),x={};if(!e.hexBinMerge&&t.hasOwnProperty("hexBinMerge")&&Yt(e.scene),e.dataMapper.scene=e.hexBinMerge?new ii.Object3D:e.scene,e.dataMapper.id(function(P){return P.h3Idx}).onCreateObj(N).onUpdateObj(C).digest(y),e.hexBinMerge){var b=y.length?(yf.mergeGeometries||yf.mergeBufferGeometries)(y.map(function(P){var B=e.dataMapper.getObj(P),q=B.geometry.toNonIndexed();B.updateMatrix(),q.applyMatrix4(B.matrix);var D=Ti(u(P)),I=Ti(h(P)),U=q.getAttribute("position").count,V=q.groups[0].count;return q.setAttribute("color",f1($t(new Array(U)).map(function(H,z){return z>=V?D:I}),4)),q})):new ii.BufferGeometry,w=new ii.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0,side:ii.DoubleSide});w.onBeforeCompile=function(P){w.userData.shader=t9(P)};var S=new ii.Mesh(b,w);S.__globeObjType="hexBinPoints",S.__data=y,e.dataMapper.clear(),Yt(e.scene),e.scene.add(S)}function N(P){var B=new ii.Mesh;B.__hexCenter=Cp(P.h3Idx),B.__hexGeoJson=Pp(P.h3Idx,!0).reverse();var q=B.__hexCenter[1];return B.__hexGeoJson.forEach(function(D){var I=D[0];Math.abs(q-I)>170&&(D[0]+=q>I?360:-360)}),B.__globeObjType="hexbin",B}function C(P,B){var q=function(ce,de,ve){return ce-(ce-de)*ve},D=Math.max(0,Math.min(1,+d(B))),I=i0(P.__hexCenter,2),U=I[0],V=I[1],H=D===0?P.__hexGeoJson:P.__hexGeoJson.map(function(oe){var ce=i0(oe,2),de=ce[0],ve=ce[1];return[[de,V],[ve,U]].map(function(Me){var Be=i0(Me,2),Oe=Be[0],ke=Be[1];return q(Oe,ke,D)})}),z=e.hexTopCurvatureResolution;P.geometry&&P.geometry.dispose(),P.geometry=new G9([H],0,e0,!1,!0,!0,z);var k={alt:+o(B)},Y=function(ce){var de=P.__currentTargetD=ce,ve=de.alt;P.scale.x=P.scale.y=P.scale.z=1+ve;var Me=e0/(ve+1);P.geometry.setAttribute("surfaceRadius",f1(Array(P.geometry.getAttribute("position").count).fill(Me),1))},X=P.__currentTargetD||Object.assign({},k,{alt:-.001});if(Object.keys(k).some(function(oe){return X[oe]!==k[oe]})&&(e.hexBinMerge||!e.hexTransitionDuration||e.hexTransitionDuration<0?Y(k):e.tweenGroup.add(new Gn(X).to(k,e.hexTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(Y).start())),!e.hexBinMerge){var J=h(B),K=u(B);[J,K].forEach(function(oe){if(!x.hasOwnProperty(oe)){var ce=Fr(oe);x[oe]=ul(new ii.MeshLambertMaterial({color:h1(oe),transparent:ce<1,opacity:ce,side:ii.DoubleSide}),t9)}}),P.material=[J,K].map(function(oe){return x[oe]})}}}}),P_=function(e){return e*e},C1=function(e){return e*Math.PI/180};function iV(r,e){var t=Math.sqrt,n=Math.cos,i=function(m){return P_(Math.sin(m/2))},s=C1(r[1]),o=C1(e[1]),u=C1(r[0]),h=C1(e[0]);return 2*Math.asin(t(i(o-s)+n(s)*n(o)*i(h-u)))}var sV=Math.sqrt(2*Math.PI);function oV(r,e){return Math.exp(-P_(r/e)/2)/(e*sV)}var aV=function(e){var t=i0(e,2),n=t[0],i=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=o.lngAccessor,h=u===void 0?function(N){return N[0]}:u,d=o.latAccessor,m=d===void 0?function(N){return N[1]}:d,y=o.weightAccessor,x=y===void 0?function(){return 1}:y,b=o.bandwidth,w=[n,i],S=b*Math.PI/180;return SS(s.map(function(N){var C=x(N);if(!C)return 0;var P=iV(w,[h(N),m(N)]);return oV(P,S)*C}))},AV=function(){var r=LG(J7().mark(function e(t){var n,i,s,o,u,h,d,m,y,x,b,w,S,N,C,P,B,q,D,I,U,V,H,z,k,Y,X,J,K,oe,ce,de,ve,Me,Be,Oe,ke,dt,vt,Ft,w0=arguments;return J7().wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:if(i=w0.length>1&&w0[1]!==void 0?w0[1]:[],s=w0.length>2&&w0[2]!==void 0?w0[2]:{},o=s.lngAccessor,u=o===void 0?function(Ct){return Ct[0]}:o,h=s.latAccessor,d=h===void 0?function(Ct){return Ct[1]}:h,m=s.weightAccessor,y=m===void 0?function(){return 1}:m,x=s.bandwidth,(n=navigator)!==null&&n!==void 0&&n.gpu){Nt.next=5;break}return console.warn("WebGPU not enabled in browser. Please consider enabling it to improve performance."),Nt.abrupt("return",t.map(function(Ct){return aV(Ct,i,{lngAccessor:u,latAccessor:d,weightAccessor:y,bandwidth:x})}));case 5:return b=4,w=cG,S=hG,N=TG,C=bG,P=gG,B=yG,q=fG,D=xG,I=_G,U=pG,V=dG,H=mG,z=vG,k=C(new K3(new Float32Array(t.flat().map(C1)),2),"vec2",t.length),Y=C(new K3(new Float32Array(i.map(function(Ct){return[C1(u(Ct)),C1(d(Ct)),y(Ct)]}).flat()),3),"vec3",i.length),X=new K3(t.length,1),J=C(X,"float",t.length),K=P(Math.PI),oe=D(K.mul(2)),ce=function(Jt){return Jt.mul(Jt)},de=function(Jt){return ce(I(Jt.div(2)))},ve=function(Jt,gn){var Hn=P(Jt[1]),jn=P(gn[1]),Or=P(Jt[0]),g1=P(gn[0]);return P(2).mul(V(D(de(jn.sub(Hn)).add(U(Hn).mul(U(jn)).mul(de(g1.sub(Or)))))))},Me=function(Jt,gn){return H(z(ce(Jt.div(gn)).div(2))).div(gn.mul(oe))},Be=N(C1(x)),Oe=N(C1(x*b)),ke=N(i.length),dt=w(function(){var Ct=k.element(B),Jt=J.element(B);Jt.assign(0),q(ke,function(gn){var Hn=gn.i,jn=Y.element(Hn),Or=jn.z;S(Or,function(){var g1=ve(jn.xy,Ct.xy);S(g1&&g1.lessThan(Oe),function(){Jt.addAssign(Me(g1,Be).mul(Or))})})})}),vt=dt().compute(t.length),Ft=new uG,Nt.next=25,Ft.computeAsync(vt);case 25:return Nt.t0=Array,Nt.t1=Float32Array,Nt.next=29,Ft.getArrayBufferAsync(X);case 29:return Nt.t2=Nt.sent,Nt.t3=new Nt.t1(Nt.t2),Nt.abrupt("return",Nt.t0.from.call(Nt.t0,Nt.t3));case 32:case"end":return Nt.stop()}},e)}));return function(t){return r.apply(this,arguments)}}(),N3=window.THREE?window.THREE:{Mesh:y0,MeshLambertMaterial:H1,SphereGeometry:p2},lV=3.5,uV=.1,vf=100,cV=function(e){var t=u2(cP(e));return t.opacity=Math.cbrt(e),t.formatRgb()},B_=an({props:{heatmapsData:{default:[]},heatmapPoints:{default:function(e){return e}},heatmapPointLat:{default:function(e){return e[0]}},heatmapPointLng:{default:function(e){return e[1]}},heatmapPointWeight:{default:1},heatmapBandwidth:{default:2.5},heatmapColorFn:{default:function(){return cV}},heatmapColorSaturation:{default:1.5},heatmapBaseAltitude:{default:.01},heatmapTopAltitude:{},heatmapsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Yt(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjHeatmap"}).onCreateObj(function(){var s=new N3.Mesh(new N3.SphereGeometry(e0),ul(new N3.MeshLambertMaterial({vertexColors:!0,transparent:!0}),eV));return s.__globeObjType="heatmap",s})},update:function(e){var t=Se(e.heatmapPoints),n=Se(e.heatmapPointLat),i=Se(e.heatmapPointLng),s=Se(e.heatmapPointWeight),o=Se(e.heatmapBandwidth),u=Se(e.heatmapColorFn),h=Se(e.heatmapColorSaturation),d=Se(e.heatmapBaseAltitude),m=Se(e.heatmapTopAltitude);e.dataMapper.onUpdateObj(function(y,x){var b=o(x),w=u(x),S=h(x),N=d(x),C=m(x),P=t(x).map(function(U){var V=n(U),H=i(U),z=dr(V,H),k=z.x,Y=z.y,X=z.z;return{x:k,y:Y,z:X,lat:V,lng:H,weight:s(U)}}),B=Math.max(uV,b/lV),q=Math.ceil(360/(B||-1));y.geometry.parameters.widthSegments!==q&&(y.geometry.dispose(),y.geometry=new N3.SphereGeometry(e0,q,q/2));var D=JG(y.geometry.getAttribute("position")),I=D.map(function(U){var V=i0(U,3),H=V[0],z=V[1],k=V[2],Y=S_({x:H,y:z,z:k}),X=Y.lng,J=Y.lat;return[X,J]});AV(I,P,{latAccessor:function(V){return V.lat},lngAccessor:function(V){return V.lng},weightAccessor:function(V){return V.weight},bandwidth:b}).then(function(U){var V=$t(new Array(vf)).map(function(Y,X){return Ti(w(X/(vf-1)))}),H=function(X){var J=y.__currentTargetD=X,K=J.kdeVals,oe=J.topAlt,ce=J.saturation,de=bS(K.map(Math.abs))||1e-15,ve=Pd([0,de/ce],V);y.geometry.setAttribute("color",f1(K.map(function(Be){return ve(Math.abs(Be))}),4));var Me=q1([0,de],[e0*(1+N),e0*(1+(oe||N))]);y.geometry.setAttribute("r",f1(K.map(Me)))},z={kdeVals:U,topAlt:C,saturation:S},k=y.__currentTargetD||Object.assign({},z,{kdeVals:U.map(function(){return 0}),topAlt:C&&N,saturation:.5});k.kdeVals.length!==U.length&&(k.kdeVals=U.slice()),Object.keys(z).some(function(Y){return k[Y]!==z[Y]})&&(!e.heatmapsTransitionDuration||e.heatmapsTransitionDuration<0?H(z):e.tweenGroup.add(new Gn(k).to(z,e.heatmapsTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(H).start()))})}).digest(e.heatmapsData)}}),si=window.THREE?window.THREE:{DoubleSide:Pr,Group:d1,LineBasicMaterial:r5,LineSegments:ud,Mesh:y0,MeshBasicMaterial:N1},D_=an({props:{polygonsData:{default:[]},polygonGeoJsonGeometry:{default:"geometry"},polygonSideColor:{default:function(){return"#ffffaa"}},polygonSideMaterial:{},polygonCapColor:{default:function(){return"#ffffaa"}},polygonCapMaterial:{},polygonStrokeColor:{},polygonAltitude:{default:.01},polygonCapCurvatureResolution:{default:5},polygonsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Yt(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjPolygon"}).id(function(s){return s.id}).onCreateObj(function(){var s=new si.Group;return s.__defaultSideMaterial=ul(new si.MeshBasicMaterial({side:si.DoubleSide,depthWrite:!0}),t9),s.__defaultCapMaterial=new si.MeshBasicMaterial({side:si.DoubleSide,depthWrite:!0}),s.add(new si.Mesh(void 0,[s.__defaultSideMaterial,s.__defaultCapMaterial])),s.add(new si.LineSegments(void 0,new si.LineBasicMaterial)),s.__globeObjType="polygon",s})},update:function(e){var t=Se(e.polygonGeoJsonGeometry),n=Se(e.polygonAltitude),i=Se(e.polygonCapCurvatureResolution),s=Se(e.polygonCapColor),o=Se(e.polygonCapMaterial),u=Se(e.polygonSideColor),h=Se(e.polygonSideMaterial),d=Se(e.polygonStrokeColor),m=[];e.polygonsData.forEach(function(y){var x={data:y,capColor:s(y),capMaterial:o(y),sideColor:u(y),sideMaterial:h(y),strokeColor:d(y),altitude:+n(y),capCurvatureResolution:+i(y)},b=t(y),w=y.__id||"".concat(Math.round(Math.random()*1e9));y.__id=w,b.type==="Polygon"?m.push(Gt({id:"".concat(w,"_0"),coords:b.coordinates},x)):b.type==="MultiPolygon"?m.push.apply(m,$t(b.coordinates.map(function(S,N){return Gt({id:"".concat(w,"_").concat(N),coords:S},x)}))):console.warn("Unsupported GeoJson geometry type: ".concat(b.type,". Skipping geometry..."))}),e.dataMapper.onUpdateObj(function(y,x){var b=x.coords,w=x.capColor,S=x.capMaterial,N=x.sideColor,C=x.sideMaterial,P=x.strokeColor,B=x.altitude,q=x.capCurvatureResolution,D=i0(y.children,2),I=D[0],U=D[1],V=!!P;U.visible=V;var H=!!(w||S),z=!!(N||C);hV(I.geometry.parameters||{},{polygonGeoJson:b,curvatureResolution:q,closedTop:H,includeSides:z})||(I.geometry&&I.geometry.dispose(),I.geometry=new G9(b,0,e0,!1,H,z,q)),V&&(!U.geometry.parameters||U.geometry.parameters.geoJson.coordinates!==b||U.geometry.parameters.resolution!==q)&&(U.geometry&&U.geometry.dispose(),U.geometry=new cp({type:"Polygon",coordinates:b},e0,q));var k=z?0:-1,Y=H?z?1:0:-1;if(k>=0&&(I.material[k]=C||y.__defaultSideMaterial),Y>=0&&(I.material[Y]=S||y.__defaultCapMaterial),[[!C&&N,k],[!S&&w,Y]].forEach(function(de){var ve=i0(de,2),Me=ve[0],Be=ve[1];if(!(!Me||Be<0)){var Oe=I.material[Be],ke=Fr(Me);Oe.color.set(h1(Me)),Oe.transparent=ke<1,Oe.opacity=ke}}),V){var X=U.material,J=Fr(P);X.color.set(h1(P)),X.transparent=J<1,X.opacity=J}var K={alt:B},oe=function(ve){var Me=y.__currentTargetD=ve,Be=Me.alt;I.scale.x=I.scale.y=I.scale.z=1+Be,V&&(U.scale.x=U.scale.y=U.scale.z=1+Be+1e-4),tV(y.__defaultSideMaterial,function(Oe){return Oe.surfaceRadius.value=e0/(Be+1)})},ce=y.__currentTargetD||Object.assign({},K,{alt:-.001});Object.keys(K).some(function(de){return ce[de]!==K[de]})&&(!e.polygonsTransitionDuration||e.polygonsTransitionDuration<0||ce.alt===K.alt?oe(K):e.tweenGroup.add(new Gn(ce).to(K,e.polygonsTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(oe).start()))}).digest(m)}});function hV(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return function(n,i){return n===i}};return Object.entries(e).every(function(n){var i=i0(n,2),s=i[0],o=i[1];return r.hasOwnProperty(s)&&t(s)(r[s],o)})}var Y2=window.THREE?window.THREE:{BufferGeometry:pr,DoubleSide:Pr,Mesh:y0,MeshLambertMaterial:H1,Vector3:Ce},_f=Object.assign({},q9),xf=_f.BufferGeometryUtils||_f,F_=an({props:{hexPolygonsData:{default:[]},hexPolygonGeoJsonGeometry:{default:"geometry"},hexPolygonColor:{default:function(){return"#ffffaa"}},hexPolygonAltitude:{default:.001},hexPolygonResolution:{default:3},hexPolygonMargin:{default:.2},hexPolygonUseDots:{default:!1},hexPolygonCurvatureResolution:{default:5},hexPolygonDotResolution:{default:12},hexPolygonsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Yt(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjHexPolygon"}).onCreateObj(function(){var s=new Y2.Mesh(void 0,new Y2.MeshLambertMaterial({side:Y2.DoubleSide}));return s.__globeObjType="hexPolygon",s})},update:function(e){var t=Se(e.hexPolygonGeoJsonGeometry),n=Se(e.hexPolygonColor),i=Se(e.hexPolygonAltitude),s=Se(e.hexPolygonResolution),o=Se(e.hexPolygonMargin),u=Se(e.hexPolygonUseDots),h=Se(e.hexPolygonCurvatureResolution),d=Se(e.hexPolygonDotResolution);e.dataMapper.onUpdateObj(function(m,y){var x=t(y),b=s(y),w=i(y),S=Math.max(0,Math.min(1,+o(y))),N=u(y),C=h(y),P=d(y),B=n(y),q=Fr(B);m.material.color.set(h1(B)),m.material.transparent=q<1,m.material.opacity=q;var D={alt:w,margin:S,curvatureResolution:C},I={geoJson:x,h3Res:b},U=m.__currentTargetD||Object.assign({},D,{alt:-.001}),V=m.__currentMemD||I;if(Object.keys(D).some(function(Y){return U[Y]!==D[Y]})||Object.keys(I).some(function(Y){return V[Y]!==I[Y]})){m.__currentMemD=I;var H=[];x.type==="Polygon"?Uc(x.coordinates,b,!0).forEach(function(Y){return H.push(Y)}):x.type==="MultiPolygon"?x.coordinates.forEach(function(Y){return Uc(Y,b,!0).forEach(function(X){return H.push(X)})}):console.warn("Unsupported GeoJson geometry type: ".concat(x.type,". Skipping geometry..."));var z=H.map(function(Y){var X=Cp(Y),J=Pp(Y,!0).reverse(),K=X[1];return J.forEach(function(oe){var ce=oe[0];Math.abs(K-ce)>170&&(oe[0]+=K>ce?360:-360)}),{h3Idx:Y,hexCenter:X,hexGeoJson:J}}),k=function(X){var J=m.__currentTargetD=X,K=J.alt,oe=J.margin,ce=J.curvatureResolution;m.geometry&&m.geometry.dispose(),m.geometry=z.length?(xf.mergeGeometries||xf.mergeBufferGeometries)(z.map(function(de){var ve=i0(de.hexCenter,2),Me=ve[0],Be=ve[1];if(N){var Oe=dr(Me,Be,K),ke=dr(de.hexGeoJson[0][1],de.hexGeoJson[0][0],K),dt=.85*(1-oe)*new Y2.Vector3(Oe.x,Oe.y,Oe.z).distanceTo(new Y2.Vector3(ke.x,ke.y,ke.z)),vt=new cd(dt,P);return vt.rotateX(Qi(-Me)),vt.rotateY(Qi(Be)),vt.translate(Oe.x,Oe.y,Oe.z),vt}else{var Ft=function(Nt,Ct,Jt){return Nt-(Nt-Ct)*Jt},w0=oe===0?de.hexGeoJson:de.hexGeoJson.map(function(L0){var Nt=i0(L0,2),Ct=Nt[0],Jt=Nt[1];return[[Ct,Be],[Jt,Me]].map(function(gn){var Hn=i0(gn,2),jn=Hn[0],Or=Hn[1];return Ft(jn,Or,oe)})});return new G9([w0],e0,e0*(1+K),!1,!0,!1,ce)}})):new Y2.BufferGeometry};!e.hexPolygonsTransitionDuration||e.hexPolygonsTransitionDuration<0?k(D):e.tweenGroup.add(new Gn(U).to(D,e.hexPolygonsTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(k).start())}}).digest(e.hexPolygonsData)}}),fV=window.THREE?window.THREE:{Vector3:Ce};function dV(r,e){var t=function(o,u){var h=o[o.length-1];return[].concat($t(o),$t(Array(u-o.length).fill(h)))},n=Math.max(r.length,e.length),i=GS.apply(void 0,$t([r,e].map(function(s){return s.map(function(o){var u=o.x,h=o.y,d=o.z;return[u,h,d]})}).map(function(s){return t(s,n)})));return function(s){return s===0?r:s===1?e:i(s).map(function(o){var u=i0(o,3),h=u[0],d=u[1],m=u[2];return new fV.Vector3(h,d,m)})}}var zi=window.THREE?window.THREE:{BufferGeometry:pr,Color:D0,Group:d1,Line:T9,NormalBlending:P1,ShaderMaterial:s5,Vector3:Ce},pV=ws.default||ws,L_=an({props:{pathsData:{default:[]},pathPoints:{default:function(e){return e}},pathPointLat:{default:function(e){return e[0]}},pathPointLng:{default:function(e){return e[1]}},pathPointAlt:{default:.001},pathResolution:{default:2},pathColor:{default:function(){return"#ffffaa"}},pathStroke:{},pathDashLength:{default:1},pathDashGap:{default:0},pathDashInitialGap:{default:0},pathDashAnimateTime:{default:0},pathTransitionDuration:{default:1e3,triggerUpdate:!1},rendererSize:{}},methods:{pauseAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.pause()},resumeAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.resume()},_destructor:function(e){var t;(t=e.ticker)===null||t===void 0||t.dispose()}},stateInit:function(e){var t=e.tweenGroup;return{tweenGroup:t,ticker:new pV,sharedMaterial:new zi.ShaderMaterial(Gt(Gt({},M_()),{},{transparent:!0,blending:zi.NormalBlending}))}},init:function(e,t){Yt(e),t.scene=e,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjPath"}).onCreateObj(function(){var n=new zi.Group;return n.__globeObjType="path",n}),t.ticker.onTick.add(function(n,i){t.dataMapper.entries().map(function(s){var o=i0(s,2),u=o[1];return u}).filter(function(s){return s.children.length&&s.children[0].material&&s.children[0].__dashAnimateStep}).forEach(function(s){var o=s.children[0],u=o.__dashAnimateStep*i;if(o.type==="Line"){var h=o.material.uniforms.dashTranslate.value%1e9;o.material.uniforms.dashTranslate.value=h+u}else if(o.type==="Line2"){for(var d=o.material.dashOffset-u,m=o.material.dashSize+o.material.gapSize;d<=-m;)d+=m;o.material.dashOffset=d}})})},update:function(e){var t=Se(e.pathPoints),n=Se(e.pathPointLat),i=Se(e.pathPointLng),s=Se(e.pathPointAlt),o=Se(e.pathStroke),u=Se(e.pathColor),h=Se(e.pathDashLength),d=Se(e.pathDashGap),m=Se(e.pathDashInitialGap),y=Se(e.pathDashAnimateTime);e.dataMapper.onUpdateObj(function(N,C){var P=o(C),B=P!=null;if(!N.children.length||B===(N.children[0].type==="Line")){Yt(N);var q=B?new NG(new __,new ol):new zi.Line(new zi.BufferGeometry,e.sharedMaterial.clone());N.add(q)}var D=N.children[0],I=b(t(C),n,i,s,e.pathResolution),U=y(C);if(D.__dashAnimateStep=U>0?1e3/U:0,B){D.material.resolution=e.rendererSize;{var z=h(C),k=d(C),Y=m(C);D.material.dashed=k>0,D.material.dashed?D.material.defines.USE_DASH="":delete D.material.defines.USE_DASH,D.material.dashed&&(D.material.dashScale=1/x(I),D.material.dashSize=z,D.material.gapSize=k,D.material.dashOffset=-Y)}{var X=u(C);if(X instanceof Array){var J=w(u(C),I.length-1,1,!1);D.geometry.setColors(J.array),D.material.vertexColors=!0}else{var K=X,oe=Fr(K);D.material.color=new zi.Color(h1(K)),D.material.transparent=oe<1,D.material.opacity=oe,D.material.vertexColors=!1}}D.material.needsUpdate=!0}else{Object.assign(D.material.uniforms,{dashSize:{value:h(C)},gapSize:{value:d(C)},dashOffset:{value:m(C)}});var V=w(u(C),I.length),H=S(I.length,1,!0);D.geometry.setAttribute("color",V),D.geometry.setAttribute("relDistance",H)}var ce=dV(N.__currentTargetD&&N.__currentTargetD.points||[I[0]],I),de=function(Oe){var ke=N.__currentTargetD=Oe,dt=ke.stroke,vt=ke.interpolK,Ft=N.__currentTargetD.points=ce(vt);if(B){var w0;D.geometry.setPositions((w0=[]).concat.apply(w0,$t(Ft.map(function(L0){var Nt=L0.x,Ct=L0.y,Jt=L0.z;return[Nt,Ct,Jt]})))),D.material.linewidth=dt,D.material.dashed&&D.computeLineDistances()}else D.geometry.setFromPoints(Ft),D.geometry.computeBoundingSphere()},ve={stroke:P,interpolK:1},Me=Object.assign({},N.__currentTargetD||ve,{interpolK:0});Object.keys(ve).some(function(Be){return Me[Be]!==ve[Be]})&&(!e.pathTransitionDuration||e.pathTransitionDuration<0?de(ve):e.tweenGroup.add(new Gn(Me).to(ve,e.pathTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(de).start()))}).digest(e.pathsData);function x(N){var C=0,P;return N.forEach(function(B){P&&(C+=P.distanceTo(B)),P=B}),C}function b(N,C,P,B,q){var D=function(H,z,k){for(var Y=[],X=1;X<=k;X++)Y.push(H+(z-H)*X/(k+1));return Y},I=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,k=[],Y=null;return H.forEach(function(X){if(Y){for(;Math.abs(Y[1]-X[1])>180;)Y[1]+=360*(Y[1]<X[1]?1:-1);var J=Math.sqrt(Math.pow(X[0]-Y[0],2)+Math.pow(X[1]-Y[1],2));if(J>z)for(var K=Math.floor(J/z),oe=D(Y[0],X[0],K),ce=D(Y[1],X[1],K),de=D(Y[2],X[2],K),ve=0,Me=oe.length;ve<Me;ve++)k.push([oe[ve],ce[ve],de[ve]])}k.push(Y=X)}),k},U=function(H){var z=i0(H,3),k=z[0],Y=z[1],X=z[2],J=dr(k,Y,X),K=J.x,oe=J.y,ce=J.z;return new zi.Vector3(K,oe,ce)};return I(N.map(function(V){return[C(V),P(V),B(V)]}),q).map(U)}function w(N,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,q=C+1,D;if(N instanceof Array||N instanceof Function){var I=N instanceof Array?q1().domain(N.map(function(X,J){return J/(N.length-1)})).range(N):N;D=function(J){return Ti(I(J),B,!0)}}else{var U=Ti(N,B,!0);D=function(){return U}}for(var V=[],H=0,z=q;H<z;H++)for(var k=D(H/(z-1)),Y=0;Y<P;Y++)V.push(k);return f1(V,B?4:3)}function S(N){for(var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=N+1,q=[],D=0,I=B;D<I;D++)for(var U=D/(I-1),V=0;V<C;V++)q.push(U);return P&&q.reverse(),f1(q,1)}}}),M3=window.THREE?window.THREE:{Euler:ko,Mesh:y0,MeshLambertMaterial:H1,SphereGeometry:p2},q_=an({props:{tilesData:{default:[]},tileLat:{default:"lat"},tileLng:{default:"lng"},tileAltitude:{default:.01},tileWidth:{default:1},tileHeight:{default:1},tileUseGlobeProjection:{default:!0},tileMaterial:{default:function(){return new M3.MeshLambertMaterial({color:"#ffbb88",opacity:.4,transparent:!0})}},tileCurvatureResolution:{default:5},tilesTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Yt(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjTile"}).onCreateObj(function(){var s=new M3.Mesh;return s.__globeObjType="tile",s})},update:function(e){var t=Se(e.tileLat),n=Se(e.tileLng),i=Se(e.tileAltitude),s=Se(e.tileWidth),o=Se(e.tileHeight),u=Se(e.tileUseGlobeProjection),h=Se(e.tileMaterial),d=Se(e.tileCurvatureResolution);e.dataMapper.onUpdateObj(function(m,y){m.material=h(y);var x=u(y),b=d(y),w=function(P){var B=m.__currentTargetD=P,q=B.lat,D=B.lng,I=B.alt,U=B.width,V=B.height,H=X2(D),z=X2(-q);m.geometry&&m.geometry.dispose(),m.geometry=new M3.SphereGeometry(e0*(1+I),Math.ceil(U/(b||-1)),Math.ceil(V/(b||-1)),X2(90-U/2)+(x?H:0),X2(U),X2(90-V/2)+(x?z:0),X2(V)),x||m.setRotationFromEuler(new M3.Euler(z,H,0,"YXZ"))},S={lat:+t(y),lng:+n(y),alt:+i(y),width:+s(y),height:+o(y)},N=m.__currentTargetD||Object.assign({},S,{width:0,height:0});Object.keys(S).some(function(C){return N[C]!==S[C]})&&(!e.tilesTransitionDuration||e.tilesTransitionDuration<0?w(S):e.tweenGroup.add(new Gn(N).to(S,e.tilesTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(w).start()))}).digest(e.tilesData)}}),X2=function(e){return e*Math.PI/180},po=window.THREE?window.THREE:{BufferGeometry:pr,Color:D0,Points:Aw,PointsMaterial:sd},I_=an({props:{particlesData:{default:[]},particlesList:{default:function(e){return e}},particleLat:{default:"lat"},particleLng:{default:"lng"},particleAltitude:{default:.01},particlesSize:{default:.5},particlesSizeAttenuation:{default:!0},particlesColor:{default:function(){return"white"}},particlesTexture:{}},init:function(e,t){Yt(e),t.scene=e,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjParticles"}).onCreateObj(function(){var n=new po.Points(new po.BufferGeometry,new po.PointsMaterial);return n.__globeObjType="particles",n}).onUpdateObj(function(n,i){var s=Se(t.particlesList),o=Se(t.particleLat),u=Se(t.particleLng),h=Se(t.particleAltitude);n.geometry.setAttribute("position",f1(s(i).map(function(d){return Object.values(dr(o(d),u(d),h(d)))}),3))})},update:function(e,t){["particlesData","particlesList","particleLat","particleLng","particleAltitude"].some(function(u){return t.hasOwnProperty(u)})&&e.dataMapper.digest(e.particlesData);var n=Se(e.particlesColor),i=Se(e.particlesSize),s=Se(e.particlesSizeAttenuation),o=Se(e.particlesTexture);e.dataMapper.entries().forEach(function(u){var h=i0(u,2),d=h[0],m=h[1];if(m.material.size=i(d),m.material.sizeAttenuation=s(d),e.particlesTexture)m.material.color=new po.Color(16777215),m.material.transparent=!1,m.material.alphaTest=.5,m.material.map=o(d);else{var y=n(d),x=Fr(y);m.material.color=new po.Color(h1(y)),m.material.transparent=x<1,m.material.opacity=x,m.material.alphaTest=0}})}}),mV=window.THREE?window.THREE:{BufferGeometry:pr},gV=function(r){function e(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:32;I5(this,e),t=q5(this,e),t.type="CircleLineGeometry",t.parameters={radius:n,segmentCount:i};for(var s=[],o=0;o<=i;o++){var u=(o/i-.25)*Math.PI*2;s.push({x:Math.cos(u)*n,y:Math.sin(u)*n,z:0})}return t.setFromPoints(s),t}return k5(e,r),O5(e)}(mV.BufferGeometry),K2=window.THREE?window.THREE:{Color:D0,Group:d1,Line:T9,LineBasicMaterial:r5,Vector3:Ce},yV=ws.default||ws,O_=an({props:{ringsData:{default:[]},ringLat:{default:"lat"},ringLng:{default:"lng"},ringAltitude:{default:.0015},ringColor:{default:function(){return"#ffffaa"},triggerUpdate:!1},ringResolution:{default:64,triggerUpdate:!1},ringMaxRadius:{default:2,triggerUpdate:!1},ringPropagationSpeed:{default:1,triggerUpdate:!1},ringRepeatPeriod:{default:700,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.pause()},resumeAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.resume()},_destructor:function(e){var t;(t=e.ticker)===null||t===void 0||t.dispose()}},init:function(e,t,n){var i=n.tweenGroup;Yt(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjRing",removeDelay:3e4}).onCreateObj(function(){var s=new K2.Group;return s.__globeObjType="ring",s}),t.ticker=new yV,t.ticker.onTick.add(function(s){if(t.ringsData.length){var o=Se(t.ringColor),u=Se(t.ringAltitude),h=Se(t.ringMaxRadius),d=Se(t.ringPropagationSpeed),m=Se(t.ringRepeatPeriod);t.dataMapper.entries().filter(function(y){var x=i0(y,2),b=x[1];return b}).forEach(function(y){var x=i0(y,2),b=x[0],w=x[1];if((w.__nextRingTime||0)<=s){var S=m(b)/1e3;w.__nextRingTime=s+(S<=0?1/0:S);var N=new K2.Line(new gV(1,t.ringResolution),new K2.LineBasicMaterial),C=o(b),P=C instanceof Array||C instanceof Function,B;P?C instanceof Array?(B=q1().domain(C.map(function(k,Y){return Y/(C.length-1)})).range(C),N.material.transparent=C.some(function(k){return Fr(k)<1})):(B=C,N.material.transparent=!0):(N.material.color=new K2.Color(h1(C)),ZG(N.material,Fr(C)));var q=e0*(1+u(b)),D=h(b),I=D*Math.PI/180,U=d(b),V=U<=0,H=function(Y){var X=Y.t,J=(V?1-X:X)*I;if(N.scale.x=N.scale.y=q*Math.sin(J),N.position.z=q*(1-Math.cos(J)),P){var K=B(X);N.material.color=new K2.Color(h1(K)),N.material.transparent&&(N.material.opacity=Fr(K))}};if(U===0)H({t:0}),w.add(N);else{var z=Math.abs(D/U)*1e3;t.tweenGroup.add(new Gn({t:0}).to({t:1},z).onUpdate(H).onStart(function(){return w.add(N)}).onComplete(function(){w.remove(N),ll(N)}).start())}}})}})},update:function(e){var t=Se(e.ringLat),n=Se(e.ringLng),i=Se(e.ringAltitude),s=e.scene.localToWorld(new K2.Vector3(0,0,0));e.dataMapper.onUpdateObj(function(o,u){var h=t(u),d=n(u),m=i(u);Object.assign(o.position,dr(h,d,m)),o.lookAt(s)}).digest(e.ringsData)}}),vV={0:{x_min:73,x_max:715,ha:792,o:"m 394 -29 q 153 129 242 -29 q 73 479 73 272 q 152 829 73 687 q 394 989 241 989 q 634 829 545 989 q 715 479 715 684 q 635 129 715 270 q 394 -29 546 -29 m 394 89 q 546 211 489 89 q 598 479 598 322 q 548 748 598 640 q 394 871 491 871 q 241 748 298 871 q 190 479 190 637 q 239 211 190 319 q 394 89 296 89 "},1:{x_min:215.671875,x_max:574,ha:792,o:"m 574 0 l 442 0 l 442 697 l 215 697 l 215 796 q 386 833 330 796 q 475 986 447 875 l 574 986 l 574 0 "},2:{x_min:59,x_max:731,ha:792,o:"m 731 0 l 59 0 q 197 314 59 188 q 457 487 199 315 q 598 691 598 580 q 543 819 598 772 q 411 867 488 867 q 272 811 328 867 q 209 630 209 747 l 81 630 q 182 901 81 805 q 408 986 271 986 q 629 909 536 986 q 731 694 731 826 q 613 449 731 541 q 378 316 495 383 q 201 122 235 234 l 731 122 l 731 0 "},3:{x_min:54,x_max:737,ha:792,o:"m 737 284 q 635 55 737 141 q 399 -25 541 -25 q 156 52 248 -25 q 54 308 54 140 l 185 308 q 245 147 185 202 q 395 96 302 96 q 539 140 484 96 q 602 280 602 190 q 510 429 602 390 q 324 454 451 454 l 324 565 q 487 584 441 565 q 565 719 565 617 q 515 835 565 791 q 395 879 466 879 q 255 824 307 879 q 203 661 203 769 l 78 661 q 166 909 78 822 q 387 992 250 992 q 603 921 513 992 q 701 723 701 844 q 669 607 701 656 q 578 524 637 558 q 696 434 655 499 q 737 284 737 369 "},4:{x_min:48,x_max:742.453125,ha:792,o:"m 742 243 l 602 243 l 602 0 l 476 0 l 476 243 l 48 243 l 48 368 l 476 958 l 602 958 l 602 354 l 742 354 l 742 243 m 476 354 l 476 792 l 162 354 l 476 354 "},5:{x_min:54.171875,x_max:738,ha:792,o:"m 738 314 q 626 60 738 153 q 382 -23 526 -23 q 155 47 248 -23 q 54 256 54 125 l 183 256 q 259 132 204 174 q 382 91 314 91 q 533 149 471 91 q 602 314 602 213 q 538 469 602 411 q 386 528 475 528 q 284 506 332 528 q 197 439 237 484 l 81 439 l 159 958 l 684 958 l 684 840 l 254 840 l 214 579 q 306 627 258 612 q 407 643 354 643 q 636 552 540 643 q 738 314 738 457 "},6:{x_min:53,x_max:739,ha:792,o:"m 739 312 q 633 62 739 162 q 400 -31 534 -31 q 162 78 257 -31 q 53 439 53 206 q 178 859 53 712 q 441 986 284 986 q 643 912 559 986 q 732 713 732 833 l 601 713 q 544 830 594 786 q 426 875 494 875 q 268 793 331 875 q 193 517 193 697 q 301 597 240 570 q 427 624 362 624 q 643 540 552 624 q 739 312 739 451 m 603 298 q 540 461 603 400 q 404 516 484 516 q 268 461 323 516 q 207 300 207 401 q 269 137 207 198 q 405 83 325 83 q 541 137 486 83 q 603 298 603 197 "},7:{x_min:58.71875,x_max:730.953125,ha:792,o:"m 730 839 q 469 448 560 641 q 335 0 378 255 l 192 0 q 328 441 235 252 q 593 830 421 630 l 58 830 l 58 958 l 730 958 l 730 839 "},8:{x_min:55,x_max:736,ha:792,o:"m 571 527 q 694 424 652 491 q 736 280 736 358 q 648 71 736 158 q 395 -26 551 -26 q 142 69 238 -26 q 55 279 55 157 q 96 425 55 359 q 220 527 138 491 q 120 615 153 562 q 88 726 88 668 q 171 904 88 827 q 395 986 261 986 q 618 905 529 986 q 702 727 702 830 q 670 616 702 667 q 571 527 638 565 m 394 565 q 519 610 475 565 q 563 717 563 655 q 521 823 563 781 q 392 872 474 872 q 265 824 312 872 q 224 720 224 783 q 265 613 224 656 q 394 565 312 565 m 395 91 q 545 150 488 91 q 597 280 597 204 q 546 408 597 355 q 395 465 492 465 q 244 408 299 465 q 194 280 194 356 q 244 150 194 203 q 395 91 299 91 "},9:{x_min:53,x_max:739,ha:792,o:"m 739 524 q 619 94 739 241 q 362 -32 516 -32 q 150 47 242 -32 q 59 244 59 126 l 191 244 q 246 129 191 176 q 373 82 301 82 q 526 161 466 82 q 597 440 597 255 q 363 334 501 334 q 130 432 216 334 q 53 650 53 521 q 134 880 53 786 q 383 986 226 986 q 659 841 566 986 q 739 524 739 719 m 388 449 q 535 514 480 449 q 585 658 585 573 q 535 805 585 744 q 388 873 480 873 q 242 809 294 873 q 191 658 191 745 q 239 514 191 572 q 388 449 292 449 "},ο:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 96 88 192 -25 q 0 368 0 201 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 "},S:{x_min:0,x_max:788,ha:890,o:"m 788 291 q 662 54 788 144 q 397 -26 550 -26 q 116 68 226 -26 q 0 337 0 168 l 131 337 q 200 152 131 220 q 384 85 269 85 q 557 129 479 85 q 650 270 650 183 q 490 429 650 379 q 194 513 341 470 q 33 739 33 584 q 142 964 33 881 q 388 1041 242 1041 q 644 957 543 1041 q 756 716 756 867 l 625 716 q 561 874 625 816 q 395 933 497 933 q 243 891 309 933 q 164 759 164 841 q 325 609 164 656 q 625 526 475 568 q 788 291 788 454 "},"¦":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"/":{x_min:183.25,x_max:608.328125,ha:792,o:"m 608 1041 l 266 -129 l 183 -129 l 520 1041 l 608 1041 "},Τ:{x_min:-.4375,x_max:777.453125,ha:839,o:"m 777 893 l 458 893 l 458 0 l 319 0 l 319 892 l 0 892 l 0 1013 l 777 1013 l 777 893 "},y:{x_min:0,x_max:684.78125,ha:771,o:"m 684 738 l 388 -83 q 311 -216 356 -167 q 173 -279 252 -279 q 97 -266 133 -279 l 97 -149 q 132 -155 109 -151 q 168 -160 155 -160 q 240 -114 213 -160 q 274 -26 248 -98 l 0 738 l 137 737 l 341 139 l 548 737 l 684 738 "},Π:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 803 1012 l 803 0 "},ΐ:{x_min:-111,x_max:339,ha:361,o:"m 339 800 l 229 800 l 229 925 l 339 925 l 339 800 m -1 800 l -111 800 l -111 925 l -1 925 l -1 800 m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 m 302 1040 l 113 819 l 30 819 l 165 1040 l 302 1040 "},g:{x_min:0,x_max:686,ha:838,o:"m 686 34 q 586 -213 686 -121 q 331 -306 487 -306 q 131 -252 216 -306 q 31 -84 31 -190 l 155 -84 q 228 -174 166 -138 q 345 -207 284 -207 q 514 -109 454 -207 q 564 89 564 -27 q 461 6 521 36 q 335 -23 401 -23 q 88 100 184 -23 q 0 370 0 215 q 87 634 0 522 q 330 758 183 758 q 457 728 398 758 q 564 644 515 699 l 564 737 l 686 737 l 686 34 m 582 367 q 529 560 582 481 q 358 652 468 652 q 189 561 250 652 q 135 369 135 482 q 189 176 135 255 q 361 85 251 85 q 529 176 468 85 q 582 367 582 255 "},"²":{x_min:0,x_max:442,ha:539,o:"m 442 383 l 0 383 q 91 566 0 492 q 260 668 176 617 q 354 798 354 727 q 315 875 354 845 q 227 905 277 905 q 136 869 173 905 q 99 761 99 833 l 14 761 q 82 922 14 864 q 232 974 141 974 q 379 926 316 974 q 442 797 442 878 q 351 635 442 704 q 183 539 321 611 q 92 455 92 491 l 442 455 l 442 383 "},"–":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},Κ:{x_min:0,x_max:819.5625,ha:893,o:"m 819 0 l 650 0 l 294 509 l 139 356 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},ƒ:{x_min:-46.265625,x_max:392,ha:513,o:"m 392 651 l 259 651 l 79 -279 l -46 -278 l 134 651 l 14 651 l 14 751 l 135 751 q 151 948 135 900 q 304 1041 185 1041 q 334 1040 319 1041 q 392 1034 348 1039 l 392 922 q 337 931 360 931 q 271 883 287 931 q 260 793 260 853 l 260 751 l 392 751 l 392 651 "},e:{x_min:0,x_max:714,ha:813,o:"m 714 326 l 140 326 q 200 157 140 227 q 359 87 260 87 q 488 130 431 87 q 561 245 545 174 l 697 245 q 577 48 670 123 q 358 -26 484 -26 q 97 85 195 -26 q 0 363 0 197 q 94 642 0 529 q 358 765 195 765 q 626 627 529 765 q 714 326 714 503 m 576 429 q 507 583 564 522 q 355 650 445 650 q 206 583 266 650 q 140 429 152 522 l 576 429 "},ό:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 94 91 194 -25 q 0 368 0 202 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 m 576 1040 l 387 819 l 303 819 l 438 1040 l 576 1040 "},J:{x_min:0,x_max:588,ha:699,o:"m 588 279 q 287 -26 588 -26 q 58 73 126 -26 q 0 327 0 158 l 133 327 q 160 172 133 227 q 288 96 198 96 q 426 171 391 96 q 449 336 449 219 l 449 1013 l 588 1013 l 588 279 "},"»":{x_min:-1,x_max:503,ha:601,o:"m 503 302 l 280 136 l 281 256 l 429 373 l 281 486 l 280 608 l 503 440 l 503 302 m 221 302 l 0 136 l 0 255 l 145 372 l 0 486 l -1 608 l 221 440 l 221 302 "},"©":{x_min:-3,x_max:1008,ha:1106,o:"m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 741 394 q 661 246 731 302 q 496 190 591 190 q 294 285 369 190 q 228 497 228 370 q 295 714 228 625 q 499 813 370 813 q 656 762 588 813 q 733 625 724 711 l 634 625 q 589 704 629 673 q 498 735 550 735 q 377 666 421 735 q 334 504 334 597 q 374 340 334 408 q 490 272 415 272 q 589 304 549 272 q 638 394 628 337 l 741 394 "},ώ:{x_min:0,x_max:922,ha:1030,o:"m 687 1040 l 498 819 l 415 819 l 549 1040 l 687 1040 m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 338 0 202 q 45 551 0 444 q 161 737 84 643 l 302 737 q 175 552 219 647 q 124 336 124 446 q 155 179 124 248 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 341 797 257 q 745 555 797 450 q 619 737 705 637 l 760 737 q 874 551 835 640 q 922 339 922 444 "},"^":{x_min:193.0625,x_max:598.609375,ha:792,o:"m 598 772 l 515 772 l 395 931 l 277 772 l 193 772 l 326 1013 l 462 1013 l 598 772 "},"«":{x_min:0,x_max:507.203125,ha:604,o:"m 506 136 l 284 302 l 284 440 l 506 608 l 507 485 l 360 371 l 506 255 l 506 136 m 222 136 l 0 302 l 0 440 l 222 608 l 221 486 l 73 373 l 222 256 l 222 136 "},D:{x_min:0,x_max:828,ha:935,o:"m 389 1013 q 714 867 593 1013 q 828 521 828 729 q 712 161 828 309 q 382 0 587 0 l 0 0 l 0 1013 l 389 1013 m 376 124 q 607 247 523 124 q 681 510 681 355 q 607 771 681 662 q 376 896 522 896 l 139 896 l 139 124 l 376 124 "},"∙":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},ÿ:{x_min:0,x_max:47,ha:125,o:"m 47 3 q 37 -7 47 -7 q 28 0 30 -7 q 39 -4 32 -4 q 45 3 45 -1 l 37 0 q 28 9 28 0 q 39 19 28 19 l 47 16 l 47 19 l 47 3 m 37 1 q 44 8 44 1 q 37 16 44 16 q 30 8 30 16 q 37 1 30 1 m 26 1 l 23 22 l 14 0 l 3 22 l 3 3 l 0 25 l 13 1 l 22 25 l 26 1 "},w:{x_min:0,x_max:1009.71875,ha:1100,o:"m 1009 738 l 783 0 l 658 0 l 501 567 l 345 0 l 222 0 l 0 738 l 130 738 l 284 174 l 432 737 l 576 738 l 721 173 l 881 737 l 1009 738 "},$:{x_min:0,x_max:700,ha:793,o:"m 664 717 l 542 717 q 490 825 531 785 q 381 872 450 865 l 381 551 q 620 446 540 522 q 700 241 700 370 q 618 45 700 116 q 381 -25 536 -25 l 381 -152 l 307 -152 l 307 -25 q 81 62 162 -25 q 0 297 0 149 l 124 297 q 169 146 124 204 q 307 81 215 89 l 307 441 q 80 536 148 469 q 13 725 13 603 q 96 910 13 839 q 307 982 180 982 l 307 1077 l 381 1077 l 381 982 q 574 917 494 982 q 664 717 664 845 m 307 565 l 307 872 q 187 831 233 872 q 142 724 142 791 q 180 618 142 656 q 307 565 218 580 m 381 76 q 562 237 562 96 q 517 361 562 313 q 381 423 472 409 l 381 76 "},"\\":{x_min:-.015625,x_max:425.0625,ha:522,o:"m 425 -129 l 337 -129 l 0 1041 l 83 1041 l 425 -129 "},µ:{x_min:0,x_max:697.21875,ha:747,o:"m 697 -4 q 629 -14 658 -14 q 498 97 513 -14 q 422 9 470 41 q 313 -23 374 -23 q 207 4 258 -23 q 119 81 156 32 l 119 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 173 124 246 q 308 83 216 83 q 452 178 402 83 q 493 359 493 255 l 493 738 l 617 738 l 617 214 q 623 136 617 160 q 673 92 637 92 q 697 96 684 92 l 697 -4 "},Ι:{x_min:42,x_max:181,ha:297,o:"m 181 0 l 42 0 l 42 1013 l 181 1013 l 181 0 "},Ύ:{x_min:0,x_max:1144.5,ha:1214,o:"m 1144 1012 l 807 416 l 807 0 l 667 0 l 667 416 l 325 1012 l 465 1012 l 736 533 l 1004 1012 l 1144 1012 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"’":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},Ν:{x_min:0,x_max:801,ha:915,o:"m 801 0 l 651 0 l 131 822 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 191 l 670 1013 l 801 1013 l 801 0 "},"-":{x_min:8.71875,x_max:350.390625,ha:478,o:"m 350 317 l 8 317 l 8 428 l 350 428 l 350 317 "},Q:{x_min:0,x_max:968,ha:1072,o:"m 954 5 l 887 -79 l 744 35 q 622 -11 687 2 q 483 -26 556 -26 q 127 130 262 -26 q 0 504 0 279 q 127 880 0 728 q 484 1041 262 1041 q 841 884 708 1041 q 968 507 968 735 q 933 293 968 398 q 832 104 899 188 l 954 5 m 723 191 q 802 330 777 248 q 828 499 828 412 q 744 790 828 673 q 483 922 650 922 q 228 791 322 922 q 142 505 142 673 q 227 221 142 337 q 487 91 323 91 q 632 123 566 91 l 520 215 l 587 301 l 723 191 "},ς:{x_min:1,x_max:676.28125,ha:740,o:"m 676 460 l 551 460 q 498 595 542 546 q 365 651 448 651 q 199 578 263 651 q 136 401 136 505 q 266 178 136 241 q 508 106 387 142 q 640 -50 640 62 q 625 -158 640 -105 q 583 -278 611 -211 l 465 -278 q 498 -182 490 -211 q 515 -80 515 -126 q 381 12 515 -15 q 134 91 197 51 q 1 388 1 179 q 100 651 1 542 q 354 761 199 761 q 587 680 498 761 q 676 460 676 599 "},M:{x_min:0,x_max:954,ha:1067,o:"m 954 0 l 819 0 l 819 869 l 537 0 l 405 0 l 128 866 l 128 0 l 0 0 l 0 1013 l 200 1013 l 472 160 l 757 1013 l 954 1013 l 954 0 "},Ψ:{x_min:0,x_max:1006,ha:1094,o:"m 1006 678 q 914 319 1006 429 q 571 200 814 200 l 571 0 l 433 0 l 433 200 q 92 319 194 200 q 0 678 0 429 l 0 1013 l 139 1013 l 139 679 q 191 417 139 492 q 433 326 255 326 l 433 1013 l 571 1013 l 571 326 l 580 326 q 813 423 747 326 q 868 679 868 502 l 868 1013 l 1006 1013 l 1006 678 "},C:{x_min:0,x_max:886,ha:944,o:"m 886 379 q 760 87 886 201 q 455 -26 634 -26 q 112 136 236 -26 q 0 509 0 283 q 118 882 0 737 q 469 1041 245 1041 q 748 955 630 1041 q 879 708 879 859 l 745 708 q 649 862 724 805 q 473 920 573 920 q 219 791 312 920 q 136 509 136 675 q 217 229 136 344 q 470 99 311 99 q 672 179 591 99 q 753 379 753 259 l 886 379 "},"!":{x_min:0,x_max:138,ha:236,o:"m 138 684 q 116 409 138 629 q 105 244 105 299 l 33 244 q 16 465 33 313 q 0 684 0 616 l 0 1013 l 138 1013 l 138 684 m 138 0 l 0 0 l 0 151 l 138 151 l 138 0 "},"{":{x_min:0,x_max:480.5625,ha:578,o:"m 480 -286 q 237 -213 303 -286 q 187 -45 187 -159 q 194 48 187 -15 q 201 141 201 112 q 164 264 201 225 q 0 314 118 314 l 0 417 q 164 471 119 417 q 201 605 201 514 q 199 665 201 644 q 193 772 193 769 q 241 941 193 887 q 480 1015 308 1015 l 480 915 q 336 866 375 915 q 306 742 306 828 q 310 662 306 717 q 314 577 314 606 q 288 452 314 500 q 176 365 256 391 q 289 275 257 337 q 314 143 314 226 q 313 84 314 107 q 310 -11 310 -5 q 339 -131 310 -94 q 480 -182 377 -182 l 480 -286 "},X:{x_min:-.015625,x_max:854.15625,ha:940,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 428 637 l 675 1013 l 836 1013 l 504 520 l 854 0 "},"#":{x_min:0,x_max:963.890625,ha:1061,o:"m 963 690 l 927 590 l 719 590 l 655 410 l 876 410 l 840 310 l 618 310 l 508 -3 l 393 -2 l 506 309 l 329 310 l 215 -2 l 102 -3 l 212 310 l 0 310 l 36 410 l 248 409 l 312 590 l 86 590 l 120 690 l 347 690 l 459 1006 l 573 1006 l 462 690 l 640 690 l 751 1006 l 865 1006 l 754 690 l 963 690 m 606 590 l 425 590 l 362 410 l 543 410 l 606 590 "},ι:{x_min:42,x_max:284,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 738 l 167 738 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 "},Ά:{x_min:0,x_max:906.953125,ha:982,o:"m 283 1040 l 88 799 l 5 799 l 145 1040 l 283 1040 m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1012 l 529 1012 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},")":{x_min:0,x_max:318,ha:415,o:"m 318 365 q 257 25 318 191 q 87 -290 197 -141 l 0 -290 q 140 21 93 -128 q 193 360 193 189 q 141 704 193 537 q 0 1024 97 850 l 87 1024 q 257 706 197 871 q 318 365 318 542 "},ε:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 314 0 265 q 128 390 67 353 q 56 460 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 "},Δ:{x_min:0,x_max:952.78125,ha:1028,o:"m 952 0 l 0 0 l 400 1013 l 551 1013 l 952 0 m 762 124 l 476 867 l 187 124 l 762 124 "},"}":{x_min:0,x_max:481,ha:578,o:"m 481 314 q 318 262 364 314 q 282 136 282 222 q 284 65 282 97 q 293 -58 293 -48 q 241 -217 293 -166 q 0 -286 174 -286 l 0 -182 q 143 -130 105 -182 q 171 -2 171 -93 q 168 81 171 22 q 165 144 165 140 q 188 275 165 229 q 306 365 220 339 q 191 455 224 391 q 165 588 165 505 q 168 681 165 624 q 171 742 171 737 q 141 865 171 827 q 0 915 102 915 l 0 1015 q 243 942 176 1015 q 293 773 293 888 q 287 675 293 741 q 282 590 282 608 q 318 466 282 505 q 481 417 364 417 l 481 314 "},"‰":{x_min:-3,x_max:1672,ha:1821,o:"m 846 0 q 664 76 732 0 q 603 244 603 145 q 662 412 603 344 q 846 489 729 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 846 0 962 0 m 845 103 q 945 143 910 103 q 981 243 981 184 q 947 340 981 301 q 845 385 910 385 q 745 342 782 385 q 709 243 709 300 q 742 147 709 186 q 845 103 781 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 m 1428 0 q 1246 76 1314 0 q 1185 244 1185 145 q 1244 412 1185 344 q 1428 489 1311 489 q 1610 412 1542 489 q 1672 244 1672 343 q 1612 76 1672 144 q 1428 0 1545 0 m 1427 103 q 1528 143 1492 103 q 1564 243 1564 184 q 1530 340 1564 301 q 1427 385 1492 385 q 1327 342 1364 385 q 1291 243 1291 300 q 1324 147 1291 186 q 1427 103 1363 103 "},a:{x_min:0,x_max:698.609375,ha:794,o:"m 698 0 q 661 -12 679 -7 q 615 -17 643 -17 q 536 12 564 -17 q 500 96 508 41 q 384 6 456 37 q 236 -25 312 -25 q 65 31 130 -25 q 0 194 0 88 q 118 390 0 334 q 328 435 180 420 q 488 483 476 451 q 495 523 495 504 q 442 619 495 584 q 325 654 389 654 q 209 617 257 654 q 152 513 161 580 l 33 513 q 123 705 33 633 q 332 772 207 772 q 528 712 448 772 q 617 531 617 645 l 617 163 q 624 108 617 126 q 664 90 632 90 l 698 94 l 698 0 m 491 262 l 491 372 q 272 329 350 347 q 128 201 128 294 q 166 113 128 144 q 264 83 205 83 q 414 130 346 83 q 491 262 491 183 "},"—":{x_min:0,x_max:941.671875,ha:1039,o:"m 941 334 l 0 334 l 0 410 l 941 410 l 941 334 "},"=":{x_min:8.71875,x_max:780.953125,ha:792,o:"m 780 510 l 8 510 l 8 606 l 780 606 l 780 510 m 780 235 l 8 235 l 8 332 l 780 332 l 780 235 "},N:{x_min:0,x_max:801,ha:914,o:"m 801 0 l 651 0 l 131 823 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 193 l 670 1013 l 801 1013 l 801 0 "},ρ:{x_min:0,x_max:712,ha:797,o:"m 712 369 q 620 94 712 207 q 362 -26 521 -26 q 230 2 292 -26 q 119 83 167 30 l 119 -278 l 0 -278 l 0 362 q 91 643 0 531 q 355 764 190 764 q 617 647 517 764 q 712 369 712 536 m 583 366 q 530 559 583 480 q 359 651 469 651 q 190 562 252 651 q 135 370 135 483 q 189 176 135 257 q 359 85 250 85 q 528 175 466 85 q 583 366 583 254 "},"¯":{x_min:0,x_max:941.671875,ha:938,o:"m 941 1033 l 0 1033 l 0 1109 l 941 1109 l 941 1033 "},Z:{x_min:0,x_max:779,ha:849,o:"m 779 0 l 0 0 l 0 113 l 621 896 l 40 896 l 40 1013 l 779 1013 l 778 887 l 171 124 l 779 124 l 779 0 "},u:{x_min:0,x_max:617,ha:729,o:"m 617 0 l 499 0 l 499 110 q 391 10 460 45 q 246 -25 322 -25 q 61 58 127 -25 q 0 258 0 136 l 0 738 l 125 738 l 125 284 q 156 148 125 202 q 273 82 197 82 q 433 165 369 82 q 493 340 493 243 l 493 738 l 617 738 l 617 0 "},k:{x_min:0,x_max:612.484375,ha:697,o:"m 612 738 l 338 465 l 608 0 l 469 0 l 251 382 l 121 251 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 402 l 456 738 l 612 738 "},Η:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},Α:{x_min:0,x_max:906.953125,ha:985,o:"m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},s:{x_min:0,x_max:604,ha:697,o:"m 604 217 q 501 36 604 104 q 292 -23 411 -23 q 86 43 166 -23 q 0 238 0 114 l 121 237 q 175 122 121 164 q 300 85 223 85 q 415 112 363 85 q 479 207 479 147 q 361 309 479 276 q 140 372 141 370 q 21 544 21 426 q 111 708 21 647 q 298 761 190 761 q 492 705 413 761 q 583 531 583 643 l 462 531 q 412 625 462 594 q 298 657 363 657 q 199 636 242 657 q 143 558 143 608 q 262 454 143 486 q 484 394 479 397 q 604 217 604 341 "},B:{x_min:0,x_max:778,ha:876,o:"m 580 546 q 724 469 670 535 q 778 311 778 403 q 673 83 778 171 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 892 q 691 633 732 693 q 580 546 650 572 m 393 899 l 139 899 l 139 588 l 379 588 q 521 624 462 588 q 592 744 592 667 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 303 635 219 q 559 436 635 389 q 402 477 494 477 l 139 477 l 139 124 l 419 124 "},"…":{x_min:0,x_max:614,ha:708,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 m 378 0 l 236 0 l 236 151 l 378 151 l 378 0 m 614 0 l 472 0 l 472 151 l 614 151 l 614 0 "},"?":{x_min:0,x_max:607,ha:704,o:"m 607 777 q 543 599 607 674 q 422 474 482 537 q 357 272 357 391 l 236 272 q 297 487 236 395 q 411 619 298 490 q 474 762 474 691 q 422 885 474 838 q 301 933 371 933 q 179 880 228 933 q 124 706 124 819 l 0 706 q 94 963 0 872 q 302 1044 177 1044 q 511 973 423 1044 q 607 777 607 895 m 370 0 l 230 0 l 230 151 l 370 151 l 370 0 "},H:{x_min:0,x_max:803,ha:915,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},ν:{x_min:0,x_max:675,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 738 l 340 147 l 541 738 l 675 738 "},c:{x_min:1,x_max:701.390625,ha:775,o:"m 701 264 q 584 53 681 133 q 353 -26 487 -26 q 91 91 188 -26 q 1 370 1 201 q 92 645 1 537 q 353 761 190 761 q 572 688 479 761 q 690 493 666 615 l 556 493 q 487 606 545 562 q 356 650 428 650 q 186 563 246 650 q 134 372 134 487 q 188 179 134 258 q 359 88 250 88 q 492 136 437 88 q 566 264 548 185 l 701 264 "},"¶":{x_min:0,x_max:566.671875,ha:678,o:"m 21 892 l 52 892 l 98 761 l 145 892 l 176 892 l 178 741 l 157 741 l 157 867 l 108 741 l 88 741 l 40 871 l 40 741 l 21 741 l 21 892 m 308 854 l 308 731 q 252 691 308 691 q 227 691 240 691 q 207 696 213 695 l 207 712 l 253 706 q 288 733 288 706 l 288 763 q 244 741 279 741 q 193 797 193 741 q 261 860 193 860 q 287 860 273 860 q 308 854 302 855 m 288 842 l 263 843 q 213 796 213 843 q 248 756 213 756 q 288 796 288 756 l 288 842 m 566 988 l 502 988 l 502 -1 l 439 -1 l 439 988 l 317 988 l 317 -1 l 252 -1 l 252 602 q 81 653 155 602 q 0 805 0 711 q 101 989 0 918 q 309 1053 194 1053 l 566 1053 l 566 988 "},β:{x_min:0,x_max:660,ha:745,o:"m 471 550 q 610 450 561 522 q 660 280 660 378 q 578 64 660 151 q 367 -22 497 -22 q 239 5 299 -22 q 126 82 178 32 l 126 -278 l 0 -278 l 0 593 q 54 903 0 801 q 318 1042 127 1042 q 519 964 436 1042 q 603 771 603 887 q 567 644 603 701 q 471 550 532 586 m 337 79 q 476 138 418 79 q 535 279 535 198 q 427 437 535 386 q 226 477 344 477 l 226 583 q 398 620 329 583 q 486 762 486 668 q 435 884 486 833 q 312 935 384 935 q 169 861 219 935 q 126 698 126 797 l 126 362 q 170 169 126 242 q 337 79 224 79 "},Μ:{x_min:0,x_max:954,ha:1068,o:"m 954 0 l 819 0 l 819 868 l 537 0 l 405 0 l 128 865 l 128 0 l 0 0 l 0 1013 l 199 1013 l 472 158 l 758 1013 l 954 1013 l 954 0 "},Ό:{x_min:.109375,x_max:1120,ha:1217,o:"m 1120 505 q 994 132 1120 282 q 642 -29 861 -29 q 290 130 422 -29 q 167 505 167 280 q 294 883 167 730 q 650 1046 430 1046 q 999 882 868 1046 q 1120 505 1120 730 m 977 504 q 896 784 977 669 q 644 915 804 915 q 391 785 484 915 q 307 504 307 669 q 391 224 307 339 q 644 95 486 95 q 894 224 803 95 q 977 504 977 339 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},Ή:{x_min:0,x_max:1158,ha:1275,o:"m 1158 0 l 1022 0 l 1022 475 l 496 475 l 496 0 l 356 0 l 356 1012 l 496 1012 l 496 599 l 1022 599 l 1022 1012 l 1158 1012 l 1158 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"•":{x_min:0,x_max:663.890625,ha:775,o:"m 663 529 q 566 293 663 391 q 331 196 469 196 q 97 294 194 196 q 0 529 0 393 q 96 763 0 665 q 331 861 193 861 q 566 763 469 861 q 663 529 663 665 "},"¥":{x_min:.1875,x_max:819.546875,ha:886,o:"m 563 561 l 697 561 l 696 487 l 520 487 l 482 416 l 482 380 l 697 380 l 695 308 l 482 308 l 482 0 l 342 0 l 342 308 l 125 308 l 125 380 l 342 380 l 342 417 l 303 487 l 125 487 l 125 561 l 258 561 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 l 563 561 "},"(":{x_min:0,x_max:318.0625,ha:415,o:"m 318 -290 l 230 -290 q 61 23 122 -142 q 0 365 0 190 q 62 712 0 540 q 230 1024 119 869 l 318 1024 q 175 705 219 853 q 125 360 125 542 q 176 22 125 187 q 318 -290 223 -127 "},U:{x_min:0,x_max:796,ha:904,o:"m 796 393 q 681 93 796 212 q 386 -25 566 -25 q 101 95 208 -25 q 0 393 0 211 l 0 1013 l 138 1013 l 138 391 q 204 191 138 270 q 394 107 276 107 q 586 191 512 107 q 656 391 656 270 l 656 1013 l 796 1013 l 796 393 "},γ:{x_min:.5,x_max:744.953125,ha:822,o:"m 744 737 l 463 54 l 463 -278 l 338 -278 l 338 54 l 154 495 q 104 597 124 569 q 13 651 67 651 l 0 651 l 0 751 l 39 753 q 168 711 121 753 q 242 594 207 676 l 403 208 l 617 737 l 744 737 "},α:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 728 407 760 q 563 637 524 696 l 563 739 l 685 739 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 96 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 "},F:{x_min:0,x_max:683.328125,ha:717,o:"m 683 888 l 140 888 l 140 583 l 613 583 l 613 458 l 140 458 l 140 0 l 0 0 l 0 1013 l 683 1013 l 683 888 "},"­":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},":":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},Χ:{x_min:0,x_max:854.171875,ha:935,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 427 637 l 675 1013 l 836 1013 l 504 521 l 854 0 "},"*":{x_min:116,x_max:674,ha:792,o:"m 674 768 l 475 713 l 610 544 l 517 477 l 394 652 l 272 478 l 178 544 l 314 713 l 116 766 l 153 876 l 341 812 l 342 1013 l 446 1013 l 446 811 l 635 874 l 674 768 "},"†":{x_min:0,x_max:777,ha:835,o:"m 458 804 l 777 804 l 777 683 l 458 683 l 458 0 l 319 0 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 "},"°":{x_min:0,x_max:347,ha:444,o:"m 173 802 q 43 856 91 802 q 0 977 0 905 q 45 1101 0 1049 q 173 1153 90 1153 q 303 1098 255 1153 q 347 977 347 1049 q 303 856 347 905 q 173 802 256 802 m 173 884 q 238 910 214 884 q 262 973 262 937 q 239 1038 262 1012 q 173 1064 217 1064 q 108 1037 132 1064 q 85 973 85 1010 q 108 910 85 937 q 173 884 132 884 "},V:{x_min:0,x_max:862.71875,ha:940,o:"m 862 1013 l 505 0 l 361 0 l 0 1013 l 143 1013 l 434 165 l 718 1012 l 862 1013 "},Ξ:{x_min:0,x_max:734.71875,ha:763,o:"m 723 889 l 9 889 l 9 1013 l 723 1013 l 723 889 m 673 463 l 61 463 l 61 589 l 673 589 l 673 463 m 734 0 l 0 0 l 0 124 l 734 124 l 734 0 "}," ":{x_min:0,x_max:0,ha:853},Ϋ:{x_min:.328125,x_max:819.515625,ha:889,o:"m 588 1046 l 460 1046 l 460 1189 l 588 1189 l 588 1046 m 360 1046 l 232 1046 l 232 1189 l 360 1189 l 360 1046 m 819 1012 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1012 l 140 1012 l 411 533 l 679 1012 l 819 1012 "},"”":{x_min:0,x_max:347,ha:454,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 m 347 851 q 310 737 347 784 q 208 669 273 690 l 208 734 q 267 787 250 741 q 280 873 280 821 l 208 873 l 208 1013 l 347 1013 l 347 851 "},"@":{x_min:0,x_max:1260,ha:1357,o:"m 1098 -45 q 877 -160 1001 -117 q 633 -203 752 -203 q 155 -29 327 -203 q 0 360 0 127 q 176 802 0 616 q 687 1008 372 1008 q 1123 854 969 1008 q 1260 517 1260 718 q 1155 216 1260 341 q 868 82 1044 82 q 772 106 801 82 q 737 202 737 135 q 647 113 700 144 q 527 82 594 82 q 367 147 420 82 q 314 312 314 212 q 401 565 314 452 q 639 690 498 690 q 810 588 760 690 l 849 668 l 938 668 q 877 441 900 532 q 833 226 833 268 q 853 182 833 198 q 902 167 873 167 q 1088 272 1012 167 q 1159 512 1159 372 q 1051 793 1159 681 q 687 925 925 925 q 248 747 415 925 q 97 361 97 586 q 226 26 97 159 q 627 -122 370 -122 q 856 -87 737 -122 q 1061 8 976 -53 l 1098 -45 m 786 488 q 738 580 777 545 q 643 615 700 615 q 483 517 548 615 q 425 322 425 430 q 457 203 425 250 q 552 156 490 156 q 722 273 665 156 q 786 488 738 309 "},Ί:{x_min:0,x_max:499,ha:613,o:"m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 m 499 0 l 360 0 l 360 1012 l 499 1012 l 499 0 "},i:{x_min:14,x_max:136,ha:275,o:"m 136 873 l 14 873 l 14 1013 l 136 1013 l 136 873 m 136 0 l 14 0 l 14 737 l 136 737 l 136 0 "},Β:{x_min:0,x_max:778,ha:877,o:"m 580 545 q 724 468 671 534 q 778 310 778 402 q 673 83 778 170 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 891 q 691 632 732 692 q 580 545 650 571 m 393 899 l 139 899 l 139 587 l 379 587 q 521 623 462 587 q 592 744 592 666 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 302 635 219 q 559 435 635 388 q 402 476 494 476 l 139 476 l 139 124 l 419 124 "},υ:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 94 617 199 q 308 -24 455 -24 q 76 94 161 -24 q 0 352 0 199 l 0 739 l 126 739 l 126 355 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 355 492 257 l 492 739 l 617 739 l 617 352 "},"]":{x_min:0,x_max:275,ha:372,o:"m 275 -281 l 0 -281 l 0 -187 l 151 -187 l 151 920 l 0 920 l 0 1013 l 275 1013 l 275 -281 "},m:{x_min:0,x_max:1019,ha:1128,o:"m 1019 0 l 897 0 l 897 454 q 860 591 897 536 q 739 660 816 660 q 613 586 659 660 q 573 436 573 522 l 573 0 l 447 0 l 447 455 q 412 591 447 535 q 294 657 372 657 q 165 586 213 657 q 122 437 122 521 l 122 0 l 0 0 l 0 738 l 117 738 l 117 640 q 202 730 150 697 q 316 763 254 763 q 437 730 381 763 q 525 642 494 697 q 621 731 559 700 q 753 763 682 763 q 943 694 867 763 q 1019 512 1019 625 l 1019 0 "},χ:{x_min:8.328125,x_max:780.5625,ha:815,o:"m 780 -278 q 715 -294 747 -294 q 616 -257 663 -294 q 548 -175 576 -227 l 379 133 l 143 -277 l 9 -277 l 313 254 l 163 522 q 127 586 131 580 q 36 640 91 640 q 8 637 27 640 l 8 752 l 52 757 q 162 719 113 757 q 236 627 200 690 l 383 372 l 594 737 l 726 737 l 448 250 l 625 -69 q 670 -153 647 -110 q 743 -188 695 -188 q 780 -184 759 -188 l 780 -278 "},ί:{x_min:42,x_max:326.71875,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 102 239 101 q 284 112 257 104 l 284 3 m 326 1040 l 137 819 l 54 819 l 189 1040 l 326 1040 "},Ζ:{x_min:0,x_max:779.171875,ha:850,o:"m 779 0 l 0 0 l 0 113 l 620 896 l 40 896 l 40 1013 l 779 1013 l 779 887 l 170 124 l 779 124 l 779 0 "},R:{x_min:0,x_max:781.953125,ha:907,o:"m 781 0 l 623 0 q 587 242 590 52 q 407 433 585 433 l 138 433 l 138 0 l 0 0 l 0 1013 l 396 1013 q 636 946 539 1013 q 749 731 749 868 q 711 597 749 659 q 608 502 674 534 q 718 370 696 474 q 729 207 722 352 q 781 26 736 62 l 781 0 m 373 551 q 533 594 465 551 q 614 731 614 645 q 532 859 614 815 q 373 896 465 896 l 138 896 l 138 551 l 373 551 "},o:{x_min:0,x_max:713,ha:821,o:"m 357 -25 q 94 91 194 -25 q 0 368 0 202 q 93 642 0 533 q 357 761 193 761 q 618 644 518 761 q 713 368 713 533 q 619 91 713 201 q 357 -25 521 -25 m 357 85 q 528 175 465 85 q 584 369 584 255 q 529 562 584 484 q 357 651 467 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 357 85 250 85 "},K:{x_min:0,x_max:819.46875,ha:906,o:"m 819 0 l 649 0 l 294 509 l 139 355 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},",":{x_min:0,x_max:142,ha:239,o:"m 142 -12 q 105 -132 142 -82 q 0 -205 68 -182 l 0 -138 q 57 -82 40 -124 q 70 0 70 -51 l 0 0 l 0 151 l 142 151 l 142 -12 "},d:{x_min:0,x_max:683,ha:796,o:"m 683 0 l 564 0 l 564 93 q 456 6 516 38 q 327 -25 395 -25 q 87 100 181 -25 q 0 365 0 215 q 90 639 0 525 q 343 763 187 763 q 564 647 486 763 l 564 1013 l 683 1013 l 683 0 m 582 373 q 529 562 582 484 q 361 653 468 653 q 190 561 253 653 q 135 365 135 479 q 189 175 135 254 q 358 85 251 85 q 529 178 468 85 q 582 373 582 258 "},"¨":{x_min:-109,x_max:247,ha:232,o:"m 247 1046 l 119 1046 l 119 1189 l 247 1189 l 247 1046 m 19 1046 l -109 1046 l -109 1189 l 19 1189 l 19 1046 "},E:{x_min:0,x_max:736.109375,ha:789,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},Y:{x_min:0,x_max:820,ha:886,o:"m 820 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 534 l 679 1012 l 820 1013 "},'"':{x_min:0,x_max:299,ha:396,o:"m 299 606 l 203 606 l 203 988 l 299 988 l 299 606 m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"‹":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"„":{x_min:0,x_max:364,ha:467,o:"m 141 -12 q 104 -132 141 -82 q 0 -205 67 -182 l 0 -138 q 56 -82 40 -124 q 69 0 69 -51 l 0 0 l 0 151 l 141 151 l 141 -12 m 364 -12 q 327 -132 364 -82 q 222 -205 290 -182 l 222 -138 q 279 -82 262 -124 q 292 0 292 -51 l 222 0 l 222 151 l 364 151 l 364 -12 "},δ:{x_min:1,x_max:710,ha:810,o:"m 710 360 q 616 87 710 196 q 356 -28 518 -28 q 99 82 197 -28 q 1 356 1 192 q 100 606 1 509 q 355 703 199 703 q 180 829 288 754 q 70 903 124 866 l 70 1012 l 643 1012 l 643 901 l 258 901 q 462 763 422 794 q 636 592 577 677 q 710 360 710 485 m 584 365 q 552 501 584 447 q 451 602 521 555 q 372 611 411 611 q 197 541 258 611 q 136 355 136 472 q 190 171 136 245 q 358 85 252 85 q 528 173 465 85 q 584 365 584 252 "},έ:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 313 0 265 q 128 390 67 352 q 56 459 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 m 520 1040 l 331 819 l 248 819 l 383 1040 l 520 1040 "},ω:{x_min:0,x_max:922,ha:1031,o:"m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 339 0 203 q 45 551 0 444 q 161 738 84 643 l 302 738 q 175 553 219 647 q 124 336 124 446 q 155 179 124 249 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 342 797 257 q 745 556 797 450 q 619 738 705 638 l 760 738 q 874 551 835 640 q 922 339 922 444 "},"´":{x_min:0,x_max:96,ha:251,o:"m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"±":{x_min:11,x_max:781,ha:792,o:"m 781 490 l 446 490 l 446 255 l 349 255 l 349 490 l 11 490 l 11 586 l 349 586 l 349 819 l 446 819 l 446 586 l 781 586 l 781 490 m 781 21 l 11 21 l 11 115 l 781 115 l 781 21 "},"|":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},ϋ:{x_min:0,x_max:617,ha:725,o:"m 482 800 l 372 800 l 372 925 l 482 925 l 482 800 m 239 800 l 129 800 l 129 925 l 239 925 l 239 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 "},"§":{x_min:0,x_max:593,ha:690,o:"m 593 425 q 554 312 593 369 q 467 233 516 254 q 537 83 537 172 q 459 -74 537 -12 q 288 -133 387 -133 q 115 -69 184 -133 q 47 96 47 -6 l 166 96 q 199 7 166 40 q 288 -26 232 -26 q 371 -5 332 -26 q 420 60 420 21 q 311 201 420 139 q 108 309 210 255 q 0 490 0 383 q 33 602 0 551 q 124 687 66 654 q 75 743 93 712 q 58 812 58 773 q 133 984 58 920 q 300 1043 201 1043 q 458 987 394 1043 q 529 814 529 925 l 411 814 q 370 908 404 877 q 289 939 336 939 q 213 911 246 939 q 180 841 180 883 q 286 720 180 779 q 484 612 480 615 q 593 425 593 534 m 467 409 q 355 544 467 473 q 196 630 228 612 q 146 587 162 609 q 124 525 124 558 q 239 387 124 462 q 398 298 369 315 q 448 345 429 316 q 467 409 467 375 "},b:{x_min:0,x_max:685,ha:783,o:"m 685 372 q 597 99 685 213 q 347 -25 501 -25 q 219 5 277 -25 q 121 93 161 36 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 634 q 214 723 157 692 q 341 754 272 754 q 591 637 493 754 q 685 372 685 526 m 554 356 q 499 550 554 470 q 328 644 437 644 q 162 556 223 644 q 108 369 108 478 q 160 176 108 256 q 330 83 221 83 q 498 169 435 83 q 554 356 554 245 "},q:{x_min:0,x_max:683,ha:876,o:"m 683 -278 l 564 -278 l 564 97 q 474 8 533 39 q 345 -23 415 -23 q 91 93 188 -23 q 0 364 0 203 q 87 635 0 522 q 337 760 184 760 q 466 727 408 760 q 564 637 523 695 l 564 737 l 683 737 l 683 -278 m 582 375 q 527 564 582 488 q 358 652 466 652 q 190 565 253 652 q 135 377 135 488 q 189 179 135 261 q 361 84 251 84 q 530 179 469 84 q 582 375 582 260 "},Ω:{x_min:-.171875,x_max:969.5625,ha:1068,o:"m 969 0 l 555 0 l 555 123 q 744 308 675 194 q 814 558 814 423 q 726 812 814 709 q 484 922 633 922 q 244 820 334 922 q 154 567 154 719 q 223 316 154 433 q 412 123 292 199 l 412 0 l 0 0 l 0 124 l 217 124 q 68 327 122 210 q 15 572 15 444 q 144 911 15 781 q 484 1041 274 1041 q 822 909 691 1041 q 953 569 953 777 q 899 326 953 443 q 750 124 846 210 l 969 124 l 969 0 "},ύ:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 535 1040 l 346 819 l 262 819 l 397 1040 l 535 1040 "},z:{x_min:-.015625,x_max:613.890625,ha:697,o:"m 613 0 l 0 0 l 0 100 l 433 630 l 20 630 l 20 738 l 594 738 l 593 636 l 163 110 l 613 110 l 613 0 "},"™":{x_min:0,x_max:894,ha:1e3,o:"m 389 951 l 229 951 l 229 503 l 160 503 l 160 951 l 0 951 l 0 1011 l 389 1011 l 389 951 m 894 503 l 827 503 l 827 939 l 685 503 l 620 503 l 481 937 l 481 503 l 417 503 l 417 1011 l 517 1011 l 653 580 l 796 1010 l 894 1011 l 894 503 "},ή:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 721 124 755 q 200 630 193 687 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 m 479 1040 l 290 819 l 207 819 l 341 1040 l 479 1040 "},Θ:{x_min:0,x_max:960,ha:1056,o:"m 960 507 q 833 129 960 280 q 476 -32 698 -32 q 123 129 255 -32 q 0 507 0 280 q 123 883 0 732 q 476 1045 255 1045 q 832 883 696 1045 q 960 507 960 732 m 817 500 q 733 789 817 669 q 476 924 639 924 q 223 792 317 924 q 142 507 142 675 q 222 222 142 339 q 476 89 315 89 q 730 218 636 89 q 817 500 817 334 m 716 449 l 243 449 l 243 571 l 716 571 l 716 449 "},"®":{x_min:-3,x_max:1008,ha:1106,o:"m 503 532 q 614 562 566 532 q 672 658 672 598 q 614 747 672 716 q 503 772 569 772 l 338 772 l 338 532 l 503 532 m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 788 146 l 678 146 q 653 316 655 183 q 527 449 652 449 l 338 449 l 338 146 l 241 146 l 241 854 l 518 854 q 688 808 621 854 q 766 658 766 755 q 739 563 766 607 q 668 497 713 519 q 751 331 747 472 q 788 164 756 190 l 788 146 "},"~":{x_min:0,x_max:833,ha:931,o:"m 833 958 q 778 753 833 831 q 594 665 716 665 q 402 761 502 665 q 240 857 302 857 q 131 795 166 857 q 104 665 104 745 l 0 665 q 54 867 0 789 q 237 958 116 958 q 429 861 331 958 q 594 765 527 765 q 704 827 670 765 q 729 958 729 874 l 833 958 "},Ε:{x_min:0,x_max:736.21875,ha:778,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},"³":{x_min:0,x_max:450,ha:547,o:"m 450 552 q 379 413 450 464 q 220 366 313 366 q 69 414 130 366 q 0 567 0 470 l 85 567 q 126 470 85 504 q 225 437 168 437 q 320 467 280 437 q 360 552 360 498 q 318 632 360 608 q 213 657 276 657 q 195 657 203 657 q 176 657 181 657 l 176 722 q 279 733 249 722 q 334 815 334 752 q 300 881 334 856 q 220 907 267 907 q 133 875 169 907 q 97 781 97 844 l 15 781 q 78 926 15 875 q 220 972 135 972 q 364 930 303 972 q 426 817 426 888 q 344 697 426 733 q 421 642 392 681 q 450 552 450 603 "},"[":{x_min:0,x_max:273.609375,ha:371,o:"m 273 -281 l 0 -281 l 0 1013 l 273 1013 l 273 920 l 124 920 l 124 -187 l 273 -187 l 273 -281 "},L:{x_min:0,x_max:645.828125,ha:696,o:"m 645 0 l 0 0 l 0 1013 l 140 1013 l 140 126 l 645 126 l 645 0 "},σ:{x_min:0,x_max:803.390625,ha:894,o:"m 803 628 l 633 628 q 713 368 713 512 q 618 93 713 204 q 357 -25 518 -25 q 94 91 194 -25 q 0 368 0 201 q 94 644 0 533 q 356 761 194 761 q 481 750 398 761 q 608 739 564 739 l 803 739 l 803 628 m 360 85 q 529 180 467 85 q 584 374 584 262 q 527 566 584 490 q 352 651 463 651 q 187 559 247 651 q 135 368 135 478 q 189 175 135 254 q 360 85 251 85 "},ζ:{x_min:0,x_max:573,ha:642,o:"m 573 -40 q 553 -162 573 -97 q 510 -278 543 -193 l 400 -278 q 441 -187 428 -219 q 462 -90 462 -132 q 378 -14 462 -14 q 108 45 197 -14 q 0 290 0 117 q 108 631 0 462 q 353 901 194 767 l 55 901 l 55 1012 l 561 1012 l 561 924 q 261 669 382 831 q 128 301 128 489 q 243 117 128 149 q 458 98 350 108 q 573 -40 573 80 "},θ:{x_min:0,x_max:674,ha:778,o:"m 674 496 q 601 160 674 304 q 336 -26 508 -26 q 73 153 165 -26 q 0 485 0 296 q 72 840 0 683 q 343 1045 166 1045 q 605 844 516 1045 q 674 496 674 692 m 546 579 q 498 798 546 691 q 336 935 437 935 q 178 798 237 935 q 126 579 137 701 l 546 579 m 546 475 l 126 475 q 170 233 126 348 q 338 80 230 80 q 504 233 447 80 q 546 475 546 346 "},Ο:{x_min:0,x_max:958,ha:1054,o:"m 485 1042 q 834 883 703 1042 q 958 511 958 735 q 834 136 958 287 q 481 -26 701 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 729 q 485 1042 263 1042 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 670 q 480 913 640 913 q 226 785 321 913 q 142 504 142 671 q 226 224 142 339 q 480 98 319 98 "},Γ:{x_min:0,x_max:705.28125,ha:749,o:"m 705 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 705 1012 l 705 886 "}," ":{x_min:0,x_max:0,ha:375},"%":{x_min:-3,x_max:1089,ha:1186,o:"m 845 0 q 663 76 731 0 q 602 244 602 145 q 661 412 602 344 q 845 489 728 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 845 0 962 0 m 844 103 q 945 143 909 103 q 981 243 981 184 q 947 340 981 301 q 844 385 909 385 q 744 342 781 385 q 708 243 708 300 q 741 147 708 186 q 844 103 780 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 "},P:{x_min:0,x_max:726,ha:806,o:"m 424 1013 q 640 931 555 1013 q 726 719 726 850 q 637 506 726 587 q 413 426 548 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 379 889 l 140 889 l 140 548 l 372 548 q 522 589 459 548 q 593 720 593 637 q 528 845 593 801 q 379 889 463 889 "},Έ:{x_min:0,x_max:1078.21875,ha:1118,o:"m 1078 0 l 342 0 l 342 1013 l 1067 1013 l 1067 889 l 481 889 l 481 585 l 1019 585 l 1019 467 l 481 467 l 481 125 l 1078 125 l 1078 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},Ώ:{x_min:.125,x_max:1136.546875,ha:1235,o:"m 1136 0 l 722 0 l 722 123 q 911 309 842 194 q 981 558 981 423 q 893 813 981 710 q 651 923 800 923 q 411 821 501 923 q 321 568 321 720 q 390 316 321 433 q 579 123 459 200 l 579 0 l 166 0 l 166 124 l 384 124 q 235 327 289 210 q 182 572 182 444 q 311 912 182 782 q 651 1042 441 1042 q 989 910 858 1042 q 1120 569 1120 778 q 1066 326 1120 443 q 917 124 1013 210 l 1136 124 l 1136 0 m 277 1040 l 83 800 l 0 800 l 140 1041 l 277 1040 "},_:{x_min:0,x_max:705.5625,ha:803,o:"m 705 -334 l 0 -334 l 0 -234 l 705 -234 l 705 -334 "},Ϊ:{x_min:-110,x_max:246,ha:275,o:"m 246 1046 l 118 1046 l 118 1189 l 246 1189 l 246 1046 m 18 1046 l -110 1046 l -110 1189 l 18 1189 l 18 1046 m 136 0 l 0 0 l 0 1012 l 136 1012 l 136 0 "},"+":{x_min:23,x_max:768,ha:792,o:"m 768 372 l 444 372 l 444 0 l 347 0 l 347 372 l 23 372 l 23 468 l 347 468 l 347 840 l 444 840 l 444 468 l 768 468 l 768 372 "},"½":{x_min:0,x_max:1050,ha:1149,o:"m 1050 0 l 625 0 q 712 178 625 108 q 878 277 722 187 q 967 385 967 328 q 932 456 967 429 q 850 484 897 484 q 759 450 798 484 q 721 352 721 416 l 640 352 q 706 502 640 448 q 851 551 766 551 q 987 509 931 551 q 1050 385 1050 462 q 976 251 1050 301 q 829 179 902 215 q 717 68 740 133 l 1050 68 l 1050 0 m 834 985 l 215 -28 l 130 -28 l 750 984 l 834 985 m 224 422 l 142 422 l 142 811 l 0 811 l 0 867 q 104 889 62 867 q 164 973 157 916 l 224 973 l 224 422 "},Ρ:{x_min:0,x_max:720,ha:783,o:"m 424 1013 q 637 933 554 1013 q 720 723 720 853 q 633 508 720 591 q 413 426 546 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 378 889 l 140 889 l 140 548 l 371 548 q 521 589 458 548 q 592 720 592 637 q 527 845 592 801 q 378 889 463 889 "},"'":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},ª:{x_min:0,x_max:350,ha:397,o:"m 350 625 q 307 616 328 616 q 266 631 281 616 q 247 673 251 645 q 190 628 225 644 q 116 613 156 613 q 32 641 64 613 q 0 722 0 669 q 72 826 0 800 q 247 866 159 846 l 247 887 q 220 934 247 916 q 162 953 194 953 q 104 934 129 953 q 76 882 80 915 l 16 882 q 60 976 16 941 q 166 1011 104 1011 q 266 979 224 1011 q 308 891 308 948 l 308 706 q 311 679 308 688 q 331 670 315 670 l 350 672 l 350 625 m 247 757 l 247 811 q 136 790 175 798 q 64 726 64 773 q 83 682 64 697 q 132 667 103 667 q 207 690 174 667 q 247 757 247 718 "},"΅":{x_min:0,x_max:450,ha:553,o:"m 450 800 l 340 800 l 340 925 l 450 925 l 450 800 m 406 1040 l 212 800 l 129 800 l 269 1040 l 406 1040 m 110 800 l 0 800 l 0 925 l 110 925 l 110 800 "},T:{x_min:0,x_max:777,ha:835,o:"m 777 894 l 458 894 l 458 0 l 319 0 l 319 894 l 0 894 l 0 1013 l 777 1013 l 777 894 "},Φ:{x_min:0,x_max:915,ha:997,o:"m 527 0 l 389 0 l 389 122 q 110 231 220 122 q 0 509 0 340 q 110 785 0 677 q 389 893 220 893 l 389 1013 l 527 1013 l 527 893 q 804 786 693 893 q 915 509 915 679 q 805 231 915 341 q 527 122 696 122 l 527 0 m 527 226 q 712 310 641 226 q 779 507 779 389 q 712 705 779 627 q 527 787 641 787 l 527 226 m 389 226 l 389 787 q 205 698 275 775 q 136 505 136 620 q 206 308 136 391 q 389 226 276 226 "},"⁋":{x_min:0,x_max:0,ha:694},j:{x_min:-77.78125,x_max:167,ha:349,o:"m 167 871 l 42 871 l 42 1013 l 167 1013 l 167 871 m 167 -80 q 121 -231 167 -184 q -26 -278 76 -278 l -77 -278 l -77 -164 l -41 -164 q 26 -143 11 -164 q 42 -65 42 -122 l 42 737 l 167 737 l 167 -80 "},Σ:{x_min:0,x_max:756.953125,ha:819,o:"m 756 0 l 0 0 l 0 107 l 395 523 l 22 904 l 22 1013 l 745 1013 l 745 889 l 209 889 l 566 523 l 187 125 l 756 125 l 756 0 "},"›":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},"<":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"£":{x_min:0,x_max:704.484375,ha:801,o:"m 704 41 q 623 -10 664 5 q 543 -26 583 -26 q 359 15 501 -26 q 243 36 288 36 q 158 23 197 36 q 73 -21 119 10 l 6 76 q 125 195 90 150 q 175 331 175 262 q 147 443 175 383 l 0 443 l 0 512 l 108 512 q 43 734 43 623 q 120 929 43 854 q 358 1010 204 1010 q 579 936 487 1010 q 678 729 678 857 l 678 684 l 552 684 q 504 838 552 780 q 362 896 457 896 q 216 852 263 896 q 176 747 176 815 q 199 627 176 697 q 248 512 217 574 l 468 512 l 468 443 l 279 443 q 297 356 297 398 q 230 194 297 279 q 153 107 211 170 q 227 133 190 125 q 293 142 264 142 q 410 119 339 142 q 516 96 482 96 q 579 105 550 96 q 648 142 608 115 l 704 41 "},t:{x_min:0,x_max:367,ha:458,o:"m 367 0 q 312 -5 339 -2 q 262 -8 284 -8 q 145 28 183 -8 q 108 143 108 64 l 108 638 l 0 638 l 0 738 l 108 738 l 108 944 l 232 944 l 232 738 l 367 738 l 367 638 l 232 638 l 232 185 q 248 121 232 140 q 307 102 264 102 q 345 104 330 102 q 367 107 360 107 l 367 0 "},"¬":{x_min:0,x_max:706,ha:803,o:"m 706 411 l 706 158 l 630 158 l 630 335 l 0 335 l 0 411 l 706 411 "},λ:{x_min:0,x_max:750,ha:803,o:"m 750 -7 q 679 -15 716 -15 q 538 59 591 -15 q 466 214 512 97 l 336 551 l 126 0 l 0 0 l 270 705 q 223 837 247 770 q 116 899 190 899 q 90 898 100 899 l 90 1004 q 152 1011 125 1011 q 298 938 244 1011 q 373 783 326 901 l 605 192 q 649 115 629 136 q 716 95 669 95 l 736 95 q 750 97 745 97 l 750 -7 "},W:{x_min:0,x_max:1263.890625,ha:1351,o:"m 1263 1013 l 995 0 l 859 0 l 627 837 l 405 0 l 265 0 l 0 1013 l 136 1013 l 342 202 l 556 1013 l 701 1013 l 921 207 l 1133 1012 l 1263 1013 "},">":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},v:{x_min:0,x_max:675.15625,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 737 l 340 147 l 541 737 l 675 738 "},τ:{x_min:.28125,x_max:644.5,ha:703,o:"m 644 628 l 382 628 l 382 179 q 388 120 382 137 q 436 91 401 91 q 474 94 447 91 q 504 97 501 97 l 504 0 q 454 -9 482 -5 q 401 -14 426 -14 q 278 67 308 -14 q 260 233 260 118 l 260 628 l 0 628 l 0 739 l 644 739 l 644 628 "},ξ:{x_min:0,x_max:624.9375,ha:699,o:"m 624 -37 q 608 -153 624 -96 q 563 -278 593 -211 l 454 -278 q 491 -183 486 -200 q 511 -83 511 -126 q 484 -23 511 -44 q 370 1 452 1 q 323 0 354 1 q 283 -1 293 -1 q 84 76 169 -1 q 0 266 0 154 q 56 431 0 358 q 197 538 108 498 q 94 613 134 562 q 54 730 54 665 q 77 823 54 780 q 143 901 101 867 l 27 901 l 27 1012 l 576 1012 l 576 901 l 380 901 q 244 863 303 901 q 178 745 178 820 q 312 600 178 636 q 532 582 380 582 l 532 479 q 276 455 361 479 q 118 281 118 410 q 165 173 118 217 q 274 120 208 133 q 494 101 384 110 q 624 -37 624 76 "},"&":{x_min:-3,x_max:894.25,ha:992,o:"m 894 0 l 725 0 l 624 123 q 471 0 553 40 q 306 -41 390 -41 q 168 -7 231 -41 q 62 92 105 26 q 14 187 31 139 q -3 276 -3 235 q 55 433 -3 358 q 248 581 114 508 q 170 689 196 640 q 137 817 137 751 q 214 985 137 922 q 384 1041 284 1041 q 548 988 483 1041 q 622 824 622 928 q 563 666 622 739 q 431 556 516 608 l 621 326 q 649 407 639 361 q 663 493 653 426 l 781 493 q 703 229 781 352 l 894 0 m 504 818 q 468 908 504 877 q 384 940 433 940 q 293 907 331 940 q 255 818 255 875 q 289 714 255 767 q 363 628 313 678 q 477 729 446 682 q 504 818 504 771 m 556 209 l 314 499 q 179 395 223 449 q 135 283 135 341 q 146 222 135 253 q 183 158 158 192 q 333 80 241 80 q 556 209 448 80 "},Λ:{x_min:0,x_max:862.5,ha:942,o:"m 862 0 l 719 0 l 426 847 l 143 0 l 0 0 l 356 1013 l 501 1013 l 862 0 "},I:{x_min:41,x_max:180,ha:293,o:"m 180 0 l 41 0 l 41 1013 l 180 1013 l 180 0 "},G:{x_min:0,x_max:921,ha:1011,o:"m 921 0 l 832 0 l 801 136 q 655 15 741 58 q 470 -28 568 -28 q 126 133 259 -28 q 0 499 0 284 q 125 881 0 731 q 486 1043 259 1043 q 763 957 647 1043 q 905 709 890 864 l 772 709 q 668 866 747 807 q 486 926 589 926 q 228 795 322 926 q 142 507 142 677 q 228 224 142 342 q 483 94 323 94 q 712 195 625 94 q 796 435 796 291 l 477 435 l 477 549 l 921 549 l 921 0 "},ΰ:{x_min:0,x_max:617,ha:725,o:"m 524 800 l 414 800 l 414 925 l 524 925 l 524 800 m 183 800 l 73 800 l 73 925 l 183 925 l 183 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 489 1040 l 300 819 l 216 819 l 351 1040 l 489 1040 "},"`":{x_min:0,x_max:138.890625,ha:236,o:"m 138 699 l 0 699 l 0 861 q 36 974 0 929 q 138 1041 72 1020 l 138 977 q 82 931 95 969 q 69 839 69 893 l 138 839 l 138 699 "},"·":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},Υ:{x_min:.328125,x_max:819.515625,ha:889,o:"m 819 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 "},r:{x_min:0,x_max:355.5625,ha:432,o:"m 355 621 l 343 621 q 179 569 236 621 q 122 411 122 518 l 122 0 l 0 0 l 0 737 l 117 737 l 117 604 q 204 719 146 686 q 355 753 262 753 l 355 621 "},x:{x_min:0,x_max:675,ha:764,o:"m 675 0 l 525 0 l 331 286 l 144 0 l 0 0 l 256 379 l 12 738 l 157 737 l 336 473 l 516 738 l 661 738 l 412 380 l 675 0 "},μ:{x_min:0,x_max:696.609375,ha:747,o:"m 696 -4 q 628 -14 657 -14 q 498 97 513 -14 q 422 8 470 41 q 313 -24 374 -24 q 207 3 258 -24 q 120 80 157 31 l 120 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 172 124 246 q 308 82 216 82 q 451 177 402 82 q 492 358 492 254 l 492 738 l 616 738 l 616 214 q 623 136 616 160 q 673 92 636 92 q 696 95 684 92 l 696 -4 "},h:{x_min:0,x_max:615,ha:724,o:"m 615 472 l 615 0 l 490 0 l 490 454 q 456 590 490 535 q 338 654 416 654 q 186 588 251 654 q 122 436 122 522 l 122 0 l 0 0 l 0 1013 l 122 1013 l 122 633 q 218 727 149 694 q 362 760 287 760 q 552 676 484 760 q 615 472 615 600 "},".":{x_min:0,x_max:142,ha:239,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},φ:{x_min:-2,x_max:878,ha:974,o:"m 496 -279 l 378 -279 l 378 -17 q 101 88 204 -17 q -2 367 -2 194 q 68 626 -2 510 q 283 758 151 758 l 283 646 q 167 537 209 626 q 133 373 133 462 q 192 177 133 254 q 378 93 259 93 l 378 758 q 445 764 426 763 q 476 765 464 765 q 765 659 653 765 q 878 377 878 553 q 771 96 878 209 q 496 -17 665 -17 l 496 -279 m 496 93 l 514 93 q 687 183 623 93 q 746 380 746 265 q 691 569 746 491 q 522 658 629 658 l 496 656 l 496 93 "},";":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 -12 q 105 -132 142 -82 q 0 -206 68 -182 l 0 -138 q 58 -82 43 -123 q 68 0 68 -56 l 0 0 l 0 151 l 142 151 l 142 -12 "},f:{x_min:0,x_max:378,ha:472,o:"m 378 638 l 246 638 l 246 0 l 121 0 l 121 638 l 0 638 l 0 738 l 121 738 q 137 935 121 887 q 290 1028 171 1028 q 320 1027 305 1028 q 378 1021 334 1026 l 378 908 q 323 918 346 918 q 257 870 273 918 q 246 780 246 840 l 246 738 l 378 738 l 378 638 "},"“":{x_min:1,x_max:348.21875,ha:454,o:"m 140 670 l 1 670 l 1 830 q 37 943 1 897 q 140 1011 74 990 l 140 947 q 82 900 97 940 q 68 810 68 861 l 140 810 l 140 670 m 348 670 l 209 670 l 209 830 q 245 943 209 897 q 348 1011 282 990 l 348 947 q 290 900 305 940 q 276 810 276 861 l 348 810 l 348 670 "},A:{x_min:.03125,x_max:906.953125,ha:1008,o:"m 906 0 l 756 0 l 648 303 l 251 303 l 142 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 610 421 l 452 867 l 293 421 l 610 421 "},"‘":{x_min:1,x_max:139.890625,ha:236,o:"m 139 670 l 1 670 l 1 830 q 37 943 1 897 q 139 1011 74 990 l 139 947 q 82 900 97 940 q 68 810 68 861 l 139 810 l 139 670 "},ϊ:{x_min:-70,x_max:283,ha:361,o:"m 283 800 l 173 800 l 173 925 l 283 925 l 283 800 m 40 800 l -70 800 l -70 925 l 40 925 l 40 800 m 283 3 q 232 -10 257 -5 q 181 -15 206 -15 q 84 26 118 -15 q 41 200 41 79 l 41 737 l 166 737 l 167 215 q 171 141 167 157 q 225 101 182 101 q 247 103 238 101 q 283 112 256 104 l 283 3 "},π:{x_min:-.21875,x_max:773.21875,ha:857,o:"m 773 -7 l 707 -11 q 575 40 607 -11 q 552 174 552 77 l 552 226 l 552 626 l 222 626 l 222 0 l 97 0 l 97 626 l 0 626 l 0 737 l 773 737 l 773 626 l 676 626 l 676 171 q 695 103 676 117 q 773 90 714 90 l 773 -7 "},ά:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 727 407 760 q 563 637 524 695 l 563 738 l 685 738 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 95 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 m 604 1040 l 415 819 l 332 819 l 466 1040 l 604 1040 "},O:{x_min:0,x_max:958,ha:1057,o:"m 485 1041 q 834 882 702 1041 q 958 512 958 734 q 834 136 958 287 q 481 -26 702 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 728 q 485 1041 263 1041 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 669 q 480 912 640 912 q 226 784 321 912 q 142 504 142 670 q 226 224 142 339 q 480 98 319 98 "},n:{x_min:0,x_max:615,ha:724,o:"m 615 463 l 615 0 l 490 0 l 490 454 q 453 592 490 537 q 331 656 410 656 q 178 585 240 656 q 117 421 117 514 l 117 0 l 0 0 l 0 738 l 117 738 l 117 630 q 218 728 150 693 q 359 764 286 764 q 552 675 484 764 q 615 463 615 593 "},l:{x_min:41,x_max:166,ha:279,o:"m 166 0 l 41 0 l 41 1013 l 166 1013 l 166 0 "},"¤":{x_min:40.09375,x_max:728.796875,ha:825,o:"m 728 304 l 649 224 l 512 363 q 383 331 458 331 q 256 363 310 331 l 119 224 l 40 304 l 177 441 q 150 553 150 493 q 184 673 150 621 l 40 818 l 119 898 l 267 749 q 321 766 291 759 q 384 773 351 773 q 447 766 417 773 q 501 749 477 759 l 649 898 l 728 818 l 585 675 q 612 618 604 648 q 621 553 621 587 q 591 441 621 491 l 728 304 m 384 682 q 280 643 318 682 q 243 551 243 604 q 279 461 243 499 q 383 423 316 423 q 487 461 449 423 q 525 553 525 500 q 490 641 525 605 q 384 682 451 682 "},κ:{x_min:0,x_max:632.328125,ha:679,o:"m 632 0 l 482 0 l 225 384 l 124 288 l 124 0 l 0 0 l 0 738 l 124 738 l 124 446 l 433 738 l 596 738 l 312 466 l 632 0 "},p:{x_min:0,x_max:685,ha:786,o:"m 685 364 q 598 96 685 205 q 350 -23 504 -23 q 121 89 205 -23 l 121 -278 l 0 -278 l 0 738 l 121 738 l 121 633 q 220 726 159 691 q 351 761 280 761 q 598 636 504 761 q 685 364 685 522 m 557 371 q 501 560 557 481 q 330 651 437 651 q 162 559 223 651 q 108 366 108 479 q 162 177 108 254 q 333 87 224 87 q 502 178 441 87 q 557 371 557 258 "},"‡":{x_min:0,x_max:777,ha:835,o:"m 458 238 l 458 0 l 319 0 l 319 238 l 0 238 l 0 360 l 319 360 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 l 777 804 l 777 683 l 458 683 l 458 360 l 777 360 l 777 238 l 458 238 "},ψ:{x_min:0,x_max:808,ha:907,o:"m 465 -278 l 341 -278 l 341 -15 q 87 102 180 -15 q 0 378 0 210 l 0 739 l 133 739 l 133 379 q 182 195 133 275 q 341 98 242 98 l 341 922 l 465 922 l 465 98 q 623 195 563 98 q 675 382 675 278 l 675 742 l 808 742 l 808 381 q 720 104 808 213 q 466 -13 627 -13 l 465 -278 "},η:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 720 124 755 q 200 630 193 686 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 "}},_V="normal",xV=1189,bV=-100,TV="normal",wV={yMin:-334,xMin:-111,yMax:1189,xMax:1672},SV=1e3,EV={postscript_name:"Helvetiker-Regular",version_string:"Version 1.00 2004 initial release",vendor_url:"http://www.magenta.gr/",full_font_name:"Helvetiker",font_family_name:"Helvetiker",copyright:"Copyright (c) Μagenta ltd, 2004",description:"",trademark:"",designer:"",designer_url:"",unique_font_identifier:"Μagenta ltd:Helvetiker:22-10-104",license_url:"http://www.ellak.gr/fonts/MgOpen/license.html",license_description:`Copyright (c) 2004 by MAGENTA Ltd. All Rights Reserved.\r
\r
Permission is hereby granted, free of charge, to any person obtaining a copy of the fonts accompanying this license ("Fonts") and associated documentation files (the "Font Software"), to reproduce and distribute the Font Software, including without limitation the rights to use, copy, merge, publish, distribute, and/or sell copies of the Font Software, and to permit persons to whom the Font Software is furnished to do so, subject to the following conditions: \r
\r
The above copyright and this permission notice shall be included in all copies of one or more of the Font Software typefaces.\r
\r
The Font Software may be modified, altered, or added to, and in particular the designs of glyphs or characters in the Fonts may be modified and additional glyphs or characters may be added to the Fonts, only if the fonts are renamed to names not containing the word "MgOpen", or if the modifications are accepted for inclusion in the Font Software itself by the each appointed Administrator.\r
\r
This License becomes null and void to the extent applicable to Fonts or Font Software that has been modified and is distributed under the "MgOpen" name.\r
\r
The Font Software may be sold as part of a larger software package but no copy of one or more of the Font Software typefaces may be sold by itself. \r
\r
THE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL MAGENTA OR PERSONS OR BODIES IN CHARGE OF ADMINISTRATION AND MAINTENANCE OF THE FONT SOFTWARE BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.`,manufacturer_name:"Μagenta ltd",font_sub_family_name:"Regular"},NV=-334,MV="Helvetiker",RV=1522,CV=50,PV={glyphs:vV,cssFontWeight:_V,ascender:xV,underlinePosition:bV,cssFontStyle:TV,boundingBox:wV,resolution:SV,original_font_information:EV,descender:NV,familyName:MV,lineHeight:RV,underlineThickness:CV},xr=Gt(Gt({},window.THREE?window.THREE:{BoxGeometry:x9,CircleGeometry:cd,DoubleSide:Pr,Group:d1,Mesh:y0,MeshLambertMaterial:H1,TextGeometry:uf,Vector3:Ce}),{},{Font:MG,TextGeometry:uf}),k_=an({props:{labelsData:{default:[]},labelLat:{default:"lat"},labelLng:{default:"lng"},labelAltitude:{default:.002},labelText:{default:"text"},labelSize:{default:.5},labelTypeFace:{default:PV,onChange:function(e,t){t.font=new xr.Font(e)}},labelColor:{default:function(){return"lightgrey"}},labelRotation:{default:0},labelResolution:{default:3},labelIncludeDot:{default:!0},labelDotRadius:{default:.1},labelDotOrientation:{default:function(){return"bottom"}},labelsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,n){var i=n.tweenGroup;Yt(e),t.scene=e,t.tweenGroup=i;var s=new xr.CircleGeometry(1,32);t.dataMapper=new Pn(e,{objBindAttr:"__threeObjLabel"}).onCreateObj(function(){var o=new xr.MeshLambertMaterial;o.side=Pr;var u=new xr.Group;u.add(new xr.Mesh(s,o));var h=new xr.Mesh(void 0,o);u.add(h);var d=new xr.Mesh;return d.visible=!1,h.add(d),u.__globeObjType="label",u})},update:function(e){var t=Se(e.labelLat),n=Se(e.labelLng),i=Se(e.labelAltitude),s=Se(e.labelText),o=Se(e.labelSize),u=Se(e.labelRotation),h=Se(e.labelColor),d=Se(e.labelIncludeDot),m=Se(e.labelDotRadius),y=Se(e.labelDotOrientation),x=new Set(["right","top","bottom"]),b=2*Math.PI*e0/360;e.dataMapper.onUpdateObj(function(w,S){var N=i0(w.children,2),C=N[0],P=N[1],B=i0(P.children,1),q=B[0],D=h(S),I=Fr(D);P.material.color.set(h1(D)),P.material.transparent=I<1,P.material.opacity=I;var U=d(S),V=y(S);!U||!x.has(V)&&(V="bottom");var H=U?+m(S)*b:1e-12;C.scale.x=C.scale.y=H;var z=+o(S)*b;if(P.geometry&&P.geometry.dispose(),P.geometry=new xr.TextGeometry(s(S),{font:e.font,size:z,depth:0,bevelEnabled:!0,bevelThickness:0,bevelSize:0,curveSegments:e.labelResolution}),q.geometry&&q.geometry.dispose(),P.geometry.computeBoundingBox(),q.geometry=al(xr.BoxGeometry,$t(new xr.Vector3().subVectors(P.geometry.boundingBox.max,P.geometry.boundingBox.min).clampScalar(0,1/0).toArray())),V!=="right"&&P.geometry.center(),U){var k=H+z/2;V==="right"&&(P.position.x=k),P.position.y={right:-z/2,top:k+z/2,bottom:-k-z/2}[V]}var Y=function(oe){var ce=w.__currentTargetD=oe,de=ce.lat,ve=ce.lng,Me=ce.alt,Be=ce.rot,Oe=ce.scale;Object.assign(w.position,dr(de,ve,Me)),w.lookAt(e.scene.localToWorld(new xr.Vector3(0,0,0))),w.rotateY(Math.PI),w.rotateZ(-Be*Math.PI/180),w.scale.x=w.scale.y=w.scale.z=Oe},X={lat:+t(S),lng:+n(S),alt:+i(S),rot:+u(S),scale:1},J=w.__currentTargetD||Object.assign({},X,{scale:1e-12});Object.keys(X).some(function(K){return J[K]!==X[K]})&&(!e.labelsTransitionDuration||e.labelsTransitionDuration<0?Y(X):e.tweenGroup.add(new Gn(J).to(X,e.labelsTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(Y).start()))}).digest(e.labelsData)}}),BV=Gt(Gt({},window.THREE?window.THREE:{}),{},{CSS2DObject:PG}),U_=an({props:{htmlElementsData:{default:[]},htmlLat:{default:"lat"},htmlLng:{default:"lng"},htmlAltitude:{default:0},htmlElement:{},htmlElementVisibilityModifier:{triggerUpdate:!1},htmlTransitionDuration:{default:1e3,triggerUpdate:!1},isBehindGlobe:{onChange:function(){this.updateObjVisibility()},triggerUpdate:!1}},methods:{updateObjVisibility:function(e,t){if(e.dataMapper){var n=t?[t]:e.dataMapper.entries().map(function(i){var s=i0(i,2),o=s[1];return o}).filter(function(i){return i});n.forEach(function(i){var s=!e.isBehindGlobe||!e.isBehindGlobe(i.position);e.htmlElementVisibilityModifier?(i.visible=!0,e.htmlElementVisibilityModifier(i.element,s)):i.visible=s})}}},init:function(e,t,n){var i=n.tweenGroup;Yt(e),t.scene=e,t.tweenGroup=i,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjHtml"}).onCreateObj(function(s){var o=Se(t.htmlElement)(s),u=new BV.CSS2DObject(o);return u.__globeObjType="html",u})},update:function(e,t){var n=this,i=Se(e.htmlLat),s=Se(e.htmlLng),o=Se(e.htmlAltitude);t.hasOwnProperty("htmlElement")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(u,h){var d=function(x){var b=u.__currentTargetD=x,w=b.alt,S=b.lat,N=b.lng;Object.assign(u.position,dr(S,N,w)),n.updateObjVisibility(u)},m={lat:+i(h),lng:+s(h),alt:+o(h)};!e.htmlTransitionDuration||e.htmlTransitionDuration<0||!u.__currentTargetD?d(m):e.tweenGroup.add(new Gn(u.__currentTargetD).to(m,e.htmlTransitionDuration).easing(Q0.Quadratic.InOut).onUpdate(d).start())}).digest(e.htmlElementsData)}}),R3=window.THREE?window.THREE:{Group:d1,Mesh:y0,MeshLambertMaterial:H1,SphereGeometry:p2},G_=an({props:{objectsData:{default:[]},objectLat:{default:"lat"},objectLng:{default:"lng"},objectAltitude:{default:.01},objectFacesSurface:{default:!0},objectRotation:{},objectThreeObject:{default:new R3.Mesh(new R3.SphereGeometry(1,16,8),new R3.MeshLambertMaterial({color:"#ffffaa",transparent:!0,opacity:.7}))}},init:function(e,t){Yt(e),t.scene=e,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjObject"}).onCreateObj(function(n){var i=Se(t.objectThreeObject)(n);t.objectThreeObject===i&&(i=i.clone());var s=new R3.Group;return s.add(i),s.__globeObjType="object",s})},update:function(e,t){var n=Se(e.objectLat),i=Se(e.objectLng),s=Se(e.objectAltitude),o=Se(e.objectFacesSurface),u=Se(e.objectRotation);t.hasOwnProperty("objectThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(h,d){var m=+n(d),y=+i(d),x=+s(d);Object.assign(h.position,dr(m,y,x)),o(d)?h.setRotationFromEuler(new ko(Qi(-m),Qi(y),0,"YXZ")):h.rotation.set(0,0,0);var b=h.children[0],w=u(d);w&&b.setRotationFromEuler(new ko(Qi(w.x||0),Qi(w.y||0),Qi(w.z||0)))}).digest(e.objectsData)}}),V_=an({props:{customLayerData:{default:[]},customThreeObject:{},customThreeObjectUpdate:{triggerUpdate:!1}},init:function(e,t){Yt(e),t.scene=e,t.dataMapper=new Pn(e,{objBindAttr:"__threeObjCustom"}).onCreateObj(function(n){var i=Se(t.customThreeObject)(n,e0);return i&&(t.customThreeObject===i&&(i=i.clone()),i.__globeObjType="custom"),i})},update:function(e,t){e.customThreeObjectUpdate||Yt(e.scene);var n=Se(e.customThreeObjectUpdate);t.hasOwnProperty("customThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(i,s){return n(i,s,e0)}).digest(e.customLayerData)}}),C3=window.THREE?window.THREE:{Camera:r9,Group:d1,Vector2:qt,Vector3:Ce},DV=["globeLayer","pointsLayer","arcsLayer","hexBinLayer","heatmapsLayer","polygonsLayer","hexedPolygonsLayer","pathsLayer","tilesLayer","particlesLayer","ringsLayer","labelsLayer","htmlElementsLayer","objectsLayer","customLayer"],z_=mn("globeLayer",E_),FV=Object.assign.apply(Object,$t(["globeImageUrl","bumpImageUrl","globeTileEngineUrl","globeTileEngineMaxLevel","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude"].map(function(r){return G0({},r,z_.linkProp(r))}))),LV=Object.assign.apply(Object,$t(["globeMaterial"].map(function(r){return G0({},r,z_.linkMethod(r))}))),qV=mn("pointsLayer",N_),IV=Object.assign.apply(Object,$t(["pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration"].map(function(r){return G0({},r,qV.linkProp(r))}))),OV=mn("arcsLayer",R_),kV=Object.assign.apply(Object,$t(["arcsData","arcStartLat","arcStartLng","arcEndLat","arcEndLng","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration"].map(function(r){return G0({},r,OV.linkProp(r))}))),UV=mn("hexBinLayer",C_),GV=Object.assign.apply(Object,$t(["hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration"].map(function(r){return G0({},r,UV.linkProp(r))}))),VV=mn("heatmapsLayer",B_),zV=Object.assign.apply(Object,$t(["heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration"].map(function(r){return G0({},r,VV.linkProp(r))}))),HV=mn("hexedPolygonsLayer",F_),jV=Object.assign.apply(Object,$t(["hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration"].map(function(r){return G0({},r,HV.linkProp(r))}))),$V=mn("polygonsLayer",D_),WV=Object.assign.apply(Object,$t(["polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration"].map(function(r){return G0({},r,$V.linkProp(r))}))),QV=mn("pathsLayer",L_),YV=Object.assign.apply(Object,$t(["pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration"].map(function(r){return G0({},r,QV.linkProp(r))}))),XV=mn("tilesLayer",q_),KV=Object.assign.apply(Object,$t(["tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration"].map(function(r){return G0({},r,XV.linkProp(r))}))),ZV=mn("particlesLayer",I_),JV=Object.assign.apply(Object,$t(["particlesData","particlesList","particleLat","particleLng","particleAltitude","particlesSize","particlesSizeAttenuation","particlesColor","particlesTexture"].map(function(r){return G0({},r,ZV.linkProp(r))}))),ez=mn("ringsLayer",O_),tz=Object.assign.apply(Object,$t(["ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod"].map(function(r){return G0({},r,ez.linkProp(r))}))),nz=mn("labelsLayer",k_),rz=Object.assign.apply(Object,$t(["labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration"].map(function(r){return G0({},r,nz.linkProp(r))}))),iz=mn("htmlElementsLayer",U_),sz=Object.assign.apply(Object,$t(["htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlElementVisibilityModifier","htmlTransitionDuration"].map(function(r){return G0({},r,iz.linkProp(r))}))),oz=mn("objectsLayer",G_),az=Object.assign.apply(Object,$t(["objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject"].map(function(r){return G0({},r,oz.linkProp(r))}))),Az=mn("customLayer",V_),lz=Object.assign.apply(Object,$t(["customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(r){return G0({},r,Az.linkProp(r))}))),uz=an({props:Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt(Gt({onGlobeReady:{triggerUpdate:!1},rendererSize:{default:new C3.Vector2(window.innerWidth,window.innerHeight),onChange:function(e,t){t.pathsLayer.rendererSize(e)},triggerUpdate:!1}},FV),IV),kV),GV),zV),WV),jV),YV),KV),JV),tz),rz),sz),az),lz),methods:Gt({getGlobeRadius:ff,getCoords:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return dr.apply(void 0,n)},toGeoCoords:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return S_.apply(void 0,n)},setPointOfView:function(e,t){var n=t instanceof C3.Camera?t.position:t,i=ff(),s=void 0;if(e.scene&&n){var o,u,h,d;s=function(y){o===void 0&&(o=n.clone().applyMatrix4(e.scene.matrixWorld.clone().invert())),u===void 0&&(u=o.length()),h===void 0&&(h=Math.sqrt(Math.pow(u,2)-Math.pow(i,2))),d===void 0&&(d=Math.acos(h/u));var x=o.distanceTo(y);if(x<h)return!1;var b=y.length(),w=Math.acos((Math.pow(u,2)+Math.pow(x,2)-Math.pow(b,2))/(2*u*x));return w<d}}e.layersThatNeedUpdatePov.forEach(function(m){return m.updatePov(t)}),e.layersThatNeedBehindGlobeChecker.forEach(function(m){return m.isBehindGlobe(s)})},pauseAnimation:function(e){return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),e.pausableLayers.forEach(function(t){var n;return(n=t.pauseAnimation)===null||n===void 0?void 0:n.call(t)}),this},resumeAnimation:function(e){return e.animationFrameRequestId===null&&this._animationCycle(),e.pausableLayers.forEach(function(t){var n;return(n=t.resumeAnimation)===null||n===void 0?void 0:n.call(t)}),this},_animationCycle:function(e){e.animationFrameRequestId=requestAnimationFrame(this._animationCycle),e.tweenGroup.update()},_destructor:function(e){this.pauseAnimation(),e.destructableLayers.forEach(function(t){return t._destructor()})}},LV),stateInit:function(){var e=new dd,t={tweenGroup:e},n={globeLayer:E_(t),pointsLayer:N_(t),arcsLayer:R_(t),hexBinLayer:C_(t),heatmapsLayer:B_(t),polygonsLayer:D_(t),hexedPolygonsLayer:F_(t),pathsLayer:L_(t),tilesLayer:q_(t),particlesLayer:I_(t),ringsLayer:O_(t),labelsLayer:k_(t),htmlElementsLayer:U_(t),objectsLayer:G_(t),customLayer:V_(t)};return Gt(Gt({tweenGroup:e},n),{},{layersThatNeedUpdatePov:Object.values(n).filter(function(i){return i.hasOwnProperty("updatePov")}),layersThatNeedBehindGlobeChecker:Object.values(n).filter(function(i){return i.hasOwnProperty("isBehindGlobe")}),destructableLayers:Object.values(n).filter(function(i){return i.hasOwnProperty("_destructor")}),pausableLayers:Object.values(n).filter(function(i){return i.hasOwnProperty("pauseAnimation")})})},init:function(e,t,n){var i=n.animateIn,s=i===void 0?!0:i,o=n.waitForGlobeReady,u=o===void 0?!0:o;Yt(e),t.scene=e,t.scene.visible=!1,DV.forEach(function(d){var m=new C3.Group;t.scene.add(m),t[d](m)});var h=function(){if(s){t.scene.scale.set(1e-6,1e-6,1e-6),t.tweenGroup.add(new Gn({k:1e-6}).to({k:1},600).easing(Q0.Quadratic.Out).onUpdate(function(y){var x=y.k;return t.scene.scale.set(x,x,x)}).start());var m=new C3.Vector3(0,1,0);t.tweenGroup.add(new Gn({rot:Math.PI*2}).to({rot:0},1200).easing(Q0.Quintic.Out).onUpdate(function(y){var x=y.rot;return t.scene.setRotationFromAxisAngle(m,x)}).start())}t.scene.visible=!0,t.onGlobeReady&&t.onGlobeReady()};u?t.globeLayer.onReady(h):h(),this._animationCycle()},update:function(e){}});function cz(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=function(i){function s(){var o;I5(this,s);for(var u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];return o=q5(this,s,[].concat(h)),o.__kapsuleInstance=al(r,[].concat($t(t?[o]:[]),h)),o}return k5(s,i),O5(s)}(e);return Object.keys(r()).forEach(function(i){return n.prototype[i]=function(){var s,o=(s=this.__kapsuleInstance)[i].apply(s,arguments);return o===this.__kapsuleInstance?this:o}}),n}var hz=window.THREE?window.THREE:{Group:d1},fz=cz(uz,hz.Group,!0);function n9(){return n9=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},n9.apply(null,arguments)}var dz=Object.defineProperty,pz=(r,e,t)=>e in r?dz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mz=(r,e,t)=>(pz(r,e+"",t),t);class gz{constructor(){mz(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var yz=Object.defineProperty,vz=(r,e,t)=>e in r?yz(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ye=(r,e,t)=>(vz(r,typeof e!="symbol"?e+"":e,t),t);const P3=new lw,bf=new c9,_z=Math.cos(70*(Math.PI/180)),Tf=(r,e)=>(r%e+e)%e;let xz=class extends gz{constructor(e,t){super(),Ye(this,"object"),Ye(this,"domElement"),Ye(this,"enabled",!0),Ye(this,"target",new Ce),Ye(this,"minDistance",0),Ye(this,"maxDistance",1/0),Ye(this,"minZoom",0),Ye(this,"maxZoom",1/0),Ye(this,"minPolarAngle",0),Ye(this,"maxPolarAngle",Math.PI),Ye(this,"minAzimuthAngle",-1/0),Ye(this,"maxAzimuthAngle",1/0),Ye(this,"enableDamping",!1),Ye(this,"dampingFactor",.05),Ye(this,"enableZoom",!0),Ye(this,"zoomSpeed",1),Ye(this,"enableRotate",!0),Ye(this,"rotateSpeed",1),Ye(this,"enablePan",!0),Ye(this,"panSpeed",1),Ye(this,"screenSpacePanning",!0),Ye(this,"keyPanSpeed",7),Ye(this,"zoomToCursor",!1),Ye(this,"autoRotate",!1),Ye(this,"autoRotateSpeed",2),Ye(this,"reverseOrbit",!1),Ye(this,"reverseHorizontalOrbit",!1),Ye(this,"reverseVerticalOrbit",!1),Ye(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ye(this,"mouseButtons",{LEFT:F2.ROTATE,MIDDLE:F2.DOLLY,RIGHT:F2.PAN}),Ye(this,"touches",{ONE:L2.ROTATE,TWO:L2.DOLLY_PAN}),Ye(this,"target0"),Ye(this,"position0"),Ye(this,"zoom0"),Ye(this,"_domElementKeyEvents",null),Ye(this,"getPolarAngle"),Ye(this,"getAzimuthalAngle"),Ye(this,"setPolarAngle"),Ye(this,"setAzimuthalAngle"),Ye(this,"getDistance"),Ye(this,"getZoomScale"),Ye(this,"listenToKeyEvents"),Ye(this,"stopListenToKeyEvents"),Ye(this,"saveState"),Ye(this,"reset"),Ye(this,"update"),Ye(this,"connect"),Ye(this,"dispose"),Ye(this,"dollyIn"),Ye(this,"dollyOut"),Ye(this,"getScale"),Ye(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=le=>{let De=Tf(le,2*Math.PI),Je=m.phi;Je<0&&(Je+=2*Math.PI),De<0&&(De+=2*Math.PI);let ye=Math.abs(De-Je);2*Math.PI-ye<ye&&(De<Je?De+=2*Math.PI:Je+=2*Math.PI),y.phi=De-Je,n.update()},this.setAzimuthalAngle=le=>{let De=Tf(le,2*Math.PI),Je=m.theta;Je<0&&(Je+=2*Math.PI),De<0&&(De+=2*Math.PI);let ye=Math.abs(De-Je);2*Math.PI-ye<ye&&(De<Je?De+=2*Math.PI:Je+=2*Math.PI),y.theta=De-Je,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=le=>{le.addEventListener("keydown",w2),this._domElementKeyEvents=le},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",w2),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),h=u.NONE},this.update=(()=>{const le=new Ce,De=new Ce(0,1,0),Je=new S6().setFromUnitVectors(e.up,De),ye=Je.clone().invert(),S0=new Ce,Wn=new S6,Ur=2*Math.PI;return function(){const S2=n.object.position;Je.setFromUnitVectors(e.up,De),ye.copy(Je).invert(),le.copy(S2).sub(n.target),le.applyQuaternion(Je),m.setFromVector3(le),n.autoRotate&&h===u.NONE&&J(Y()),n.enableDamping?(m.theta+=y.theta*n.dampingFactor,m.phi+=y.phi*n.dampingFactor):(m.theta+=y.theta,m.phi+=y.phi);let Qn=n.minAzimuthAngle,Yn=n.maxAzimuthAngle;isFinite(Qn)&&isFinite(Yn)&&(Qn<-Math.PI?Qn+=Ur:Qn>Math.PI&&(Qn-=Ur),Yn<-Math.PI?Yn+=Ur:Yn>Math.PI&&(Yn-=Ur),Qn<=Yn?m.theta=Math.max(Qn,Math.min(Yn,m.theta)):m.theta=m.theta>(Qn+Yn)/2?Math.max(Qn,m.theta):Math.min(Yn,m.theta)),m.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,m.phi)),m.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(b,n.dampingFactor):n.target.add(b),n.zoomToCursor&&H||n.object.isOrthographicCamera?m.radius=ke(m.radius):m.radius=ke(m.radius*x),le.setFromSpherical(m),le.applyQuaternion(ye),S2.copy(n.target).add(le),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(y.theta*=1-n.dampingFactor,y.phi*=1-n.dampingFactor,b.multiplyScalar(1-n.dampingFactor)):(y.set(0,0,0),b.set(0,0,0));let W1=!1;if(n.zoomToCursor&&H){let Gr=null;if(n.object instanceof e2&&n.object.isPerspectiveCamera){const y1=le.length();Gr=ke(y1*x);const gr=y1-Gr;n.object.position.addScaledVector(U,gr),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const y1=new Ce(V.x,V.y,0);y1.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/x)),n.object.updateProjectionMatrix(),W1=!0;const gr=new Ce(V.x,V.y,0);gr.unproject(n.object),n.object.position.sub(gr).add(y1),n.object.updateMatrixWorld(),Gr=le.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;Gr!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(Gr).add(n.object.position):(P3.origin.copy(n.object.position),P3.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(P3.direction))<_z?e.lookAt(n.target):(bf.setFromNormalAndCoplanarPoint(n.object.up,n.target),P3.intersectPlane(bf,n.target))))}else n.object instanceof So&&n.object.isOrthographicCamera&&(W1=x!==1,W1&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/x)),n.object.updateProjectionMatrix()));return x=1,H=!1,W1||S0.distanceToSquared(n.object.position)>d||8*(1-Wn.dot(n.object.quaternion))>d?(n.dispatchEvent(i),S0.copy(n.object.position),Wn.copy(n.object.quaternion),W1=!1,!0):!1}})(),this.connect=le=>{n.domElement=le,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",P4),n.domElement.addEventListener("pointerdown",b2),n.domElement.addEventListener("pointercancel",$n),n.domElement.addEventListener("wheel",C4)},this.dispose=()=>{var le,De,Je,ye,S0,Wn;n.domElement&&(n.domElement.style.touchAction="auto"),(le=n.domElement)==null||le.removeEventListener("contextmenu",P4),(De=n.domElement)==null||De.removeEventListener("pointerdown",b2),(Je=n.domElement)==null||Je.removeEventListener("pointercancel",$n),(ye=n.domElement)==null||ye.removeEventListener("wheel",C4),(S0=n.domElement)==null||S0.ownerDocument.removeEventListener("pointermove",T2),(Wn=n.domElement)==null||Wn.ownerDocument.removeEventListener("pointerup",$n),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",w2)};const n=this,i={type:"change"},s={type:"start"},o={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=u.NONE;const d=1e-6,m=new mu,y=new mu;let x=1;const b=new Ce,w=new qt,S=new qt,N=new qt,C=new qt,P=new qt,B=new qt,q=new qt,D=new qt,I=new qt,U=new Ce,V=new qt;let H=!1;const z=[],k={};function Y(){return 2*Math.PI/60/60*n.autoRotateSpeed}function X(){return Math.pow(.95,n.zoomSpeed)}function J(le){n.reverseOrbit||n.reverseHorizontalOrbit?y.theta+=le:y.theta-=le}function K(le){n.reverseOrbit||n.reverseVerticalOrbit?y.phi+=le:y.phi-=le}const oe=(()=>{const le=new Ce;return function(Je,ye){le.setFromMatrixColumn(ye,0),le.multiplyScalar(-Je),b.add(le)}})(),ce=(()=>{const le=new Ce;return function(Je,ye){n.screenSpacePanning===!0?le.setFromMatrixColumn(ye,1):(le.setFromMatrixColumn(ye,0),le.crossVectors(n.object.up,le)),le.multiplyScalar(Je),b.add(le)}})(),de=(()=>{const le=new Ce;return function(Je,ye){const S0=n.domElement;if(S0&&n.object instanceof e2&&n.object.isPerspectiveCamera){const Wn=n.object.position;le.copy(Wn).sub(n.target);let Ur=le.length();Ur*=Math.tan(n.object.fov/2*Math.PI/180),oe(2*Je*Ur/S0.clientHeight,n.object.matrix),ce(2*ye*Ur/S0.clientHeight,n.object.matrix)}else S0&&n.object instanceof So&&n.object.isOrthographicCamera?(oe(Je*(n.object.right-n.object.left)/n.object.zoom/S0.clientWidth,n.object.matrix),ce(ye*(n.object.top-n.object.bottom)/n.object.zoom/S0.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function ve(le){n.object instanceof e2&&n.object.isPerspectiveCamera||n.object instanceof So&&n.object.isOrthographicCamera?x=le:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Me(le){ve(x/le)}function Be(le){ve(x*le)}function Oe(le){if(!n.zoomToCursor||!n.domElement)return;H=!0;const De=n.domElement.getBoundingClientRect(),Je=le.clientX-De.left,ye=le.clientY-De.top,S0=De.width,Wn=De.height;V.x=Je/S0*2-1,V.y=-(ye/Wn)*2+1,U.set(V.x,V.y,1).unproject(n.object).sub(n.object.position).normalize()}function ke(le){return Math.max(n.minDistance,Math.min(n.maxDistance,le))}function dt(le){w.set(le.clientX,le.clientY)}function vt(le){Oe(le),q.set(le.clientX,le.clientY)}function Ft(le){C.set(le.clientX,le.clientY)}function w0(le){S.set(le.clientX,le.clientY),N.subVectors(S,w).multiplyScalar(n.rotateSpeed);const De=n.domElement;De&&(J(2*Math.PI*N.x/De.clientHeight),K(2*Math.PI*N.y/De.clientHeight)),w.copy(S),n.update()}function L0(le){D.set(le.clientX,le.clientY),I.subVectors(D,q),I.y>0?Me(X()):I.y<0&&Be(X()),q.copy(D),n.update()}function Nt(le){P.set(le.clientX,le.clientY),B.subVectors(P,C).multiplyScalar(n.panSpeed),de(B.x,B.y),C.copy(P),n.update()}function Ct(le){Oe(le),le.deltaY<0?Be(X()):le.deltaY>0&&Me(X()),n.update()}function Jt(le){let De=!1;switch(le.code){case n.keys.UP:de(0,n.keyPanSpeed),De=!0;break;case n.keys.BOTTOM:de(0,-n.keyPanSpeed),De=!0;break;case n.keys.LEFT:de(n.keyPanSpeed,0),De=!0;break;case n.keys.RIGHT:de(-n.keyPanSpeed,0),De=!0;break}De&&(le.preventDefault(),n.update())}function gn(){if(z.length==1)w.set(z[0].pageX,z[0].pageY);else{const le=.5*(z[0].pageX+z[1].pageX),De=.5*(z[0].pageY+z[1].pageY);w.set(le,De)}}function Hn(){if(z.length==1)C.set(z[0].pageX,z[0].pageY);else{const le=.5*(z[0].pageX+z[1].pageX),De=.5*(z[0].pageY+z[1].pageY);C.set(le,De)}}function jn(){const le=z[0].pageX-z[1].pageX,De=z[0].pageY-z[1].pageY,Je=Math.sqrt(le*le+De*De);q.set(0,Je)}function Or(){n.enableZoom&&jn(),n.enablePan&&Hn()}function g1(){n.enableZoom&&jn(),n.enableRotate&&gn()}function kr(le){if(z.length==1)S.set(le.pageX,le.pageY);else{const Je=Is(le),ye=.5*(le.pageX+Je.x),S0=.5*(le.pageY+Je.y);S.set(ye,S0)}N.subVectors(S,w).multiplyScalar(n.rotateSpeed);const De=n.domElement;De&&(J(2*Math.PI*N.x/De.clientHeight),K(2*Math.PI*N.y/De.clientHeight)),w.copy(S)}function $1(le){if(z.length==1)P.set(le.pageX,le.pageY);else{const De=Is(le),Je=.5*(le.pageX+De.x),ye=.5*(le.pageY+De.y);P.set(Je,ye)}B.subVectors(P,C).multiplyScalar(n.panSpeed),de(B.x,B.y),C.copy(P)}function R4(le){const De=Is(le),Je=le.pageX-De.x,ye=le.pageY-De.y,S0=Math.sqrt(Je*Je+ye*ye);D.set(0,S0),I.set(0,Math.pow(D.y/q.y,n.zoomSpeed)),Me(I.y),q.copy(D)}function U5(le){n.enableZoom&&R4(le),n.enablePan&&$1(le)}function mr(le){n.enableZoom&&R4(le),n.enableRotate&&kr(le)}function b2(le){var De,Je;n.enabled!==!1&&(z.length===0&&((De=n.domElement)==null||De.ownerDocument.addEventListener("pointermove",T2),(Je=n.domElement)==null||Je.ownerDocument.addEventListener("pointerup",$n)),H5(le),le.pointerType==="touch"?V5(le):qs(le))}function T2(le){n.enabled!==!1&&(le.pointerType==="touch"?z5(le):G5(le))}function $n(le){var De,Je,ye;j5(le),z.length===0&&((De=n.domElement)==null||De.releasePointerCapture(le.pointerId),(Je=n.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",T2),(ye=n.domElement)==null||ye.ownerDocument.removeEventListener("pointerup",$n)),n.dispatchEvent(o),h=u.NONE}function qs(le){let De;switch(le.button){case 0:De=n.mouseButtons.LEFT;break;case 1:De=n.mouseButtons.MIDDLE;break;case 2:De=n.mouseButtons.RIGHT;break;default:De=-1}switch(De){case F2.DOLLY:if(n.enableZoom===!1)return;vt(le),h=u.DOLLY;break;case F2.ROTATE:if(le.ctrlKey||le.metaKey||le.shiftKey){if(n.enablePan===!1)return;Ft(le),h=u.PAN}else{if(n.enableRotate===!1)return;dt(le),h=u.ROTATE}break;case F2.PAN:if(le.ctrlKey||le.metaKey||le.shiftKey){if(n.enableRotate===!1)return;dt(le),h=u.ROTATE}else{if(n.enablePan===!1)return;Ft(le),h=u.PAN}break;default:h=u.NONE}h!==u.NONE&&n.dispatchEvent(s)}function G5(le){if(n.enabled!==!1)switch(h){case u.ROTATE:if(n.enableRotate===!1)return;w0(le);break;case u.DOLLY:if(n.enableZoom===!1)return;L0(le);break;case u.PAN:if(n.enablePan===!1)return;Nt(le);break}}function C4(le){n.enabled===!1||n.enableZoom===!1||h!==u.NONE&&h!==u.ROTATE||(le.preventDefault(),n.dispatchEvent(s),Ct(le),n.dispatchEvent(o))}function w2(le){n.enabled===!1||n.enablePan===!1||Jt(le)}function V5(le){switch(B4(le),z.length){case 1:switch(n.touches.ONE){case L2.ROTATE:if(n.enableRotate===!1)return;gn(),h=u.TOUCH_ROTATE;break;case L2.PAN:if(n.enablePan===!1)return;Hn(),h=u.TOUCH_PAN;break;default:h=u.NONE}break;case 2:switch(n.touches.TWO){case L2.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Or(),h=u.TOUCH_DOLLY_PAN;break;case L2.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;g1(),h=u.TOUCH_DOLLY_ROTATE;break;default:h=u.NONE}break;default:h=u.NONE}h!==u.NONE&&n.dispatchEvent(s)}function z5(le){switch(B4(le),h){case u.TOUCH_ROTATE:if(n.enableRotate===!1)return;kr(le),n.update();break;case u.TOUCH_PAN:if(n.enablePan===!1)return;$1(le),n.update();break;case u.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;U5(le),n.update();break;case u.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;mr(le),n.update();break;default:h=u.NONE}}function P4(le){n.enabled!==!1&&le.preventDefault()}function H5(le){z.push(le)}function j5(le){delete k[le.pointerId];for(let De=0;De<z.length;De++)if(z[De].pointerId==le.pointerId){z.splice(De,1);return}}function B4(le){let De=k[le.pointerId];De===void 0&&(De=new qt,k[le.pointerId]=De),De.set(le.pageX,le.pageY)}function Is(le){const De=le.pointerId===z[0].pointerId?z[1]:z[0];return k[De.pointerId]}this.dollyIn=(le=X())=>{Be(le),n.update()},this.dollyOut=(le=X())=>{Me(le),n.update()},this.getScale=()=>x,this.setScale=le=>{ve(le),n.update()},this.getZoomScale=()=>X(),t!==void 0&&this.connect(t),this.update()}};const bz=Yr.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:n,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:u,onEnd:h,...d},m)=>{const y=T1(I=>I.invalidate),x=T1(I=>I.camera),b=T1(I=>I.gl),w=T1(I=>I.events),S=T1(I=>I.setEvents),N=T1(I=>I.set),C=T1(I=>I.get),P=T1(I=>I.performance),B=e||x,q=n||w.connected||b.domElement,D=Yr.useMemo(()=>new xz(B),[B]);return uw(()=>{D.enabled&&D.update()},-1),Yr.useEffect(()=>(s&&D.connect(s===!0?q:s),D.connect(q),()=>void D.dispose()),[s,q,t,D,y]),Yr.useEffect(()=>{const I=H=>{y(),t&&P.regress(),o&&o(H)},U=H=>{u&&u(H)},V=H=>{h&&h(H)};return D.addEventListener("change",I),D.addEventListener("start",U),D.addEventListener("end",V),()=>{D.removeEventListener("start",U),D.removeEventListener("end",V),D.removeEventListener("change",I)}},[o,u,h,D,y,S]),Yr.useEffect(()=>{if(r){const I=C().controls;return N({controls:D}),()=>N({controls:I})}},[r,D]),Yr.createElement("primitive",n9({ref:m,object:D,enableDamping:i},d))}),Tz=JSON.parse(`[{"type":"Feature","properties":{"admin":"Afghanistan","name":"Afghanistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[61.2108170917257,35.6500723333092],[62.2306514830059,35.2706639674223],[62.9846623065766,35.4040408391676],[63.1935384459003,35.8571656357189],[63.9828959491587,36.0079574651466],[64.5464791197339,36.3120732691843],[64.7461051776774,37.1118177353333],[65.5889477883578,37.3052167831856],[65.7456307310668,37.6611640488121],[66.2173848814593,37.3937901881339],[66.5186068052887,37.3627843287588],[67.0757820982596,37.3561439072093],[67.8299996275595,37.1449940048647],[68.1355623717014,37.0231151393043],[68.8594458352459,37.3443358424306],[69.1962728209244,37.1511435003074],[69.518785434858,37.6089966904134],[70.1165784036103,37.5882227646321],[70.2705741718401,37.735164699854],[70.3763041523093,38.1383959010275],[70.8068205097329,38.4862816432164],[71.3481311379903,38.2589053411322],[71.2394039244482,37.9532650823419],[71.5419177590848,37.9057744410656],[71.4486934752302,37.0656448430805],[71.8446382994506,36.7381712916469],[72.1930408059624,36.9482876653457],[72.6368896829173,37.0475580917784],[73.260055779925,37.495256862939],[73.9486959166465,37.4215662704908],[74.9800024758954,37.4199901393059],[75.1580277851409,37.1330309107891],[74.575892775373,37.0208413762835],[74.0675517109178,36.8361756454884],[72.9200248554445,36.7200070256963],[71.8462919452839,36.5099423284299],[71.2623482603857,36.0743875188578],[71.4987679381211,35.650563259416],[71.6130762063507,35.1532034368229],[71.1150187519216,34.7331257187222],[71.1567733092135,34.3489114446321],[70.8818030129884,33.9888559026385],[69.9305432473596,34.0201201441751],[70.3235941913716,33.3585326197584],[69.6871472512649,33.1054989690412],[69.2625220071225,32.5019440780883],[69.3177641132426,31.9014122584244],[68.9266768736577,31.6201891138921],[68.5569320006093,31.713310044882],[67.7926892434448,31.5829304062096],[67.6833935891475,31.3031542017814],[66.9388912291185,31.3049112004793],[66.381457553986,30.7388992375865],[66.3464726093244,29.8879434270362],[65.0468620136161,29.4721806910319],[64.3504187356185,29.5600306259281],[64.1480021503312,29.340819200146],[63.5502608580112,29.4683307968262],[62.5498568052728,29.3185724960443],[60.8742484882088,29.8292389999526],[61.7812215513634,30.7358503280812],[61.6993144061808,31.3795061304927],[60.9419446145111,31.5480746526287],[60.863654819589,32.1829196233344],[60.5360779152908,32.9812688258116],[60.963700392506,33.5288323023763],[60.5284298033116,33.676446031218],[60.8031933938074,34.4041018743199],[61.2108170917257,35.6500723333092]]]}},{"type":"Feature","properties":{"admin":"Angola","name":"Angola","continent":"Africa"},"geometry":{"type":"MultiPolygon","coordinates":[[[[16.326528354567,-5.87747039146622],[16.5731799658961,-6.62264454511509],[16.8601908708452,-7.22229786542998],[17.0899959652472,-7.54568897871247],[17.4729700049623,-8.06855112064166],[18.134221632569,-7.98767750410487],[18.4641756527527,-7.84701425540648],[19.0167517432497,-7.98824594486014],[19.1666133968961,-7.73818368899972],[19.4175024756732,-7.15542856204428],[20.0377230160402,-7.11636117923166],[20.0916215349206,-6.94309010175695],[20.6018229509383,-6.93931772219969],[20.5147481625265,-7.29960580813866],[21.7281107927398,-7.29087249108132],[21.7464559262034,-7.92008473066711],[21.949130893652,-8.3059009741583],[21.801801385188,-8.90870655684299],[21.8751819190424,-9.52370777754856],[22.2087532894864,-9.89479623783653],[22.1552681820643,-11.0848011206538],[22.4027982927424,-10.9930754533357],[22.8373454118848,-11.0176217586743],[23.4567908057675,-10.8678634578925],[23.9122152035557,-10.9268262671375],[24.0178935075926,-11.2372982723471],[23.9041536801182,-11.7222815894063],[24.0799052263429,-12.1912968888873],[23.9309220720454,-12.5658476701388],[24.0161365088947,-12.9110462378486],[21.9338863461259,-12.8984371883694],[21.8878426449539,-16.0803101538769],[22.5624784685243,-16.8984514299218],[23.2150484555061,-17.523116143466],[21.3771761410456,-17.9306364885197],[18.9561869646036,-17.7890947404722],[18.2633093604342,-17.309950860262],[14.2097066585951,-17.3531006812257],[14.058501417709,-17.4233806291427],[13.46236209479,-16.9712118465887],[12.8140812516884,-16.9413428687241],[12.2154614600194,-17.1116683895581],[11.7341988460851,-17.3018893368245],[11.6400960628816,-16.6731421851292],[11.7785372249916,-15.7938160132507],[12.1235807634044,-14.8783163387679],[12.1756189307223,-14.4491435685839],[12.500095249083,-13.5476998836844],[12.7384786312454,-13.1379057756099],[13.3129138526018,-12.4836304663625],[13.6337211442698,-12.0386447078972],[13.7387276546869,-11.2978630509931],[13.6863794287753,-10.7310759416158],[13.3873279151022,-10.3735783830207],[13.1209875830699,-9.76689706791411],[12.8753695003866,-9.16693368900549],[12.9290613135378,-8.95909107832757],[13.2364327328099,-8.56262948978434],[12.9330403988243,-7.59653858808775],[12.7282983740839,-6.9271220841788],[12.2273470394464,-6.29444752362937],[12.3224316748636,-6.10009246177965],[12.7351713395787,-5.96568206138848],[13.024869419007,-5.98438892987811],[13.3755973649719,-5.86424122479956],[16.326528354567,-5.87747039146622]]],[[[12.4366882666609,-5.68430388755922],[12.1823368669203,-5.7899305151638],[11.9149630062421,-5.03798674888473],[12.3186076188739,-4.60623015708616],[12.6207597184845,-4.43802336997612],[12.9955172054652,-4.78110320396192],[12.6316117692658,-4.99127125409294],[12.4680041846298,-5.24836150474499],[12.4366882666609,-5.68430388755922]]]]}},{"type":"Feature","properties":{"admin":"Albania","name":"Albania","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[20.5902474301049,41.8554041611336],[20.4631750830992,41.5150890162753],[20.6051819190374,41.0862263046852],[21.0200403174764,40.8427269557259],[20.9999898617472,40.580003973954],[20.6749967790636,40.434999904943],[20.6150004411728,40.1100068222594],[20.1500159034105,39.624997666984],[19.9800004411701,39.6949933945234],[19.9600016618732,39.915005805006],[19.4060819841367,40.2507734238225],[19.3190588721571,40.7272301295536],[19.4035498389543,41.4095657415354],[19.5400272966371,41.7199860703128],[19.371768833095,41.8775475123706],[19.3044861182508,42.1957451442078],[19.7380513851796,42.6882473821656],[19.8016133968987,42.5000934921908],[20.0707,42.58863],[20.2837545101819,42.3202595078151],[20.52295,42.21787],[20.5902474301049,41.8554041611336]]]}},{"type":"Feature","properties":{"admin":"United Arab Emirates","name":"United Arab Emirates","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[51.5795186704633,24.2454971379511],[51.7574406268442,24.2940729843055],[51.7943892759329,24.0198261581325],[52.5770805194256,24.1774392766227],[53.4040067889601,24.1513168400992],[54.0080009295876,24.1217579208282],[54.6930237160486,24.7978923609351],[55.4390246926141,25.4391452092449],[56.0708207538145,26.055464178974],[56.261041701081,25.7146064315768],[56.396847365144,24.9247321639955],[55.886232537668,24.9208305933574],[55.8041186867562,24.2696041936153],[55.9812138202205,24.1305429143178],[55.5286316262082,23.9336040308535],[55.5258410988645,23.5248692896409],[55.2344893736029,23.1109927434153],[55.2083410988632,22.708329982997],[55.0068030129249,22.4969475367071],[52.0007332700743,23.0011544865789],[51.617707553927,24.0142192652288],[51.5795186704633,24.2454971379511]]]}},{"type":"Feature","properties":{"admin":"Argentina","name":"Argentina","continent":"South America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-65.5,-55.2],[-66.45,-55.25],[-66.95992,-54.89681],[-67.56244,-54.87001],[-68.63335,-54.8695],[-68.6340102275832,-52.6363704588745],[-68.25,-53.1],[-67.75,-53.85],[-66.45,-54.45],[-65.05,-54.7],[-65.5,-55.2]]],[[[-64.9648921372946,-22.0758615048123],[-64.3770210435423,-22.7980913225235],[-63.9868381415225,-21.993644301036],[-62.8464684719215,-22.0349854468695],[-62.6850571356579,-22.2490292294224],[-60.8465647040099,-23.8807125790383],[-60.028966030504,-24.0327963192732],[-58.8071284653949,-24.7714592424533],[-57.777217169818,-25.162339776309],[-57.6336600409111,-25.6036565080817],[-58.6181735907197,-27.1237187639471],[-57.6097596909761,-27.3958985328284],[-56.486701626193,-27.5484990373862],[-55.6958455063982,-27.3878370093908],[-54.788794928595,-26.6217855770961],[-54.6252906968235,-25.7392554664155],[-54.1300496079544,-25.5476392554772],[-53.6283489650487,-26.1248650041774],[-53.6487353175879,-26.9234725888161],[-54.4907252671355,-27.4747567685058],[-55.1622863429846,-27.8819153785334],[-56.2908996242391,-28.8527605120009],[-57.6251334295829,-30.2162948544542],[-57.8749373032819,-31.0165560849262],[-58.1424403550407,-32.0445036760762],[-58.1326476711214,-33.040566908502],[-58.3496111720988,-33.2631889788154],[-58.4270741441044,-33.9094544410575],[-58.4954420640265,-34.4314897600701],[-57.2258296372636,-35.2880266253079],[-57.3623587713787,-35.9773902320815],[-56.7374873521055,-36.4131259091666],[-56.7882852850483,-36.9015715471893],[-57.7491568670834,-38.1838705380799],[-59.2318570624019,-38.7202202288372],[-61.2374452378656,-38.9284245745411],[-62.3359569973101,-38.8277072080044],[-62.1257631089629,-39.4241049130849],[-62.3305309719194,-40.1725863584003],[-62.1459944322052,-40.6768966611367],[-62.745802781817,-41.0287614886121],[-63.7704947577325,-41.1667892392637],[-64.7320898098197,-40.8026770973351],[-65.1180352443916,-41.0643148740289],[-64.9785605536358,-42.0580009905693],[-64.3034079657425,-42.3590162086695],[-63.7559478420423,-42.0436866188245],[-63.4580590480959,-42.5631381162224],[-64.3788038804563,-42.8735584449996],[-65.1818039618397,-43.4953809547678],[-65.3288234117101,-44.5013660621937],[-65.5652689276616,-45.0367855771698],[-66.5099657863893,-45.0396277809458],[-67.2937939113924,-45.5518962542552],[-67.5805464341801,-46.3017729632425],[-66.5970664130173,-47.0339246559538],[-65.6410265774014,-47.2361345355119],[-65.9850882636007,-48.1332890765311],[-67.1661789618477,-48.6973373349969],[-67.8160876125665,-49.8696688779704],[-68.7287450832732,-50.2642184385189],[-69.1385391913478,-50.7325102679478],[-68.8155614895235,-51.7711040115941],[-68.1499948798204,-52.3499834061277],[-68.5715453762413,-52.2994438553463],[-69.4983621893961,-52.1427609126372],[-71.9148038397963,-52.0090223058659],[-72.329403856074,-51.4259563128724],[-72.3099735175323,-50.6770097796663],[-72.9757468329646,-50.7414502907343],[-73.3280509101145,-50.3787850889099],[-73.41543575712,-49.318436374713],[-72.6482474433149,-48.8786182594768],[-72.3311608547719,-48.2442383766618],[-72.4473553127803,-47.7385328102535],[-71.9172584703302,-46.8848381487918],[-71.5520094468912,-45.5607329241771],[-71.6593155585453,-44.9736886533414],[-71.2227788967597,-44.7842428525594],[-71.3298007880362,-44.4075216611517],[-71.7936226060719,-44.2071721331561],[-71.4640561591305,-43.7876111793783],[-71.9154239569839,-43.4085645485174],[-72.1488980780785,-42.2548881976014],[-71.7468037584155,-42.051386407236],[-71.9157340155775,-40.8323393694707],[-71.6807612779464,-39.8081641578781],[-71.413516608349,-38.9160222307911],[-70.8146642727347,-38.5529952939407],[-71.1186250474754,-37.5768274879472],[-71.1218806627098,-36.6581238746623],[-70.3647692532017,-36.0050887997899],[-70.3880494859491,-35.1696875953594],[-69.8173091295015,-34.1935714657983],[-69.8147769843192,-33.2738860002998],[-70.0743993801536,-33.091209812148],[-70.5350689358194,-31.3650102678703],[-69.9190083482519,-30.3363392066683],[-70.0135503811299,-29.3679228655185],[-69.6561303371831,-28.4591411272337],[-69.0012349107483,-27.5212138811361],[-68.2955415513704,-26.8993396949358],[-68.5947997707727,-26.5069088681113],[-68.3860011460973,-26.1850163713652],[-68.4176529608761,-24.5185547828169],[-67.3284429592441,-24.0253032365909],[-66.9852339341776,-22.9863485653628],[-67.1066735500636,-22.7359245744764],[-66.2733394029248,-21.8323104794207],[-64.9648921372946,-22.0758615048123]]]]}},{"type":"Feature","properties":{"admin":"Armenia","name":"Armenia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[43.5827458025927,41.0921432561826],[44.9724800962181,41.2481285670556],[45.1794958839793,40.9853539088514],[45.5603511899704,40.8122895371059],[45.3591748390582,40.5615038111935],[45.8919071795551,40.21847565364],[45.6100122414029,39.8999938014252],[46.0345341326807,39.6280207382731],[46.4834989764324,39.4641547714755],[46.505719842318,38.7706053736863],[46.1436230812488,38.7412014837122],[45.735379266143,39.3197191432197],[45.739978468617,39.4739991318271],[45.2981449725215,39.4717512070224],[45.0019873390567,39.7400035670496],[44.7939896990819,39.713002631177],[44.4000085792887,40.0050003118423],[43.6564363950409,40.2535639511662],[43.7526579119684,40.7402009140588],[43.5827458025927,41.0921432561826]]]}},{"type":"Feature","properties":{"admin":"French Southern and Antarctic Lands","name":"Fr. S. Antarctic Lands","continent":"Seven seas (open ocean)"},"geometry":{"type":"Polygon","coordinates":[[[68.935,-48.625],[69.58,-48.94],[70.525,-49.065],[70.56,-49.255],[70.28,-49.71],[68.745,-49.775],[68.72,-49.2425],[68.8675,-48.83],[68.935,-48.625]]]}},{"type":"Feature","properties":{"admin":"Australia","name":"Australia","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[145.397978143495,-40.7925485166059],[146.364120721624,-41.1376954078833],[146.908583612251,-41.0005461565807],[147.689259474884,-40.8082581520227],[148.289067824496,-40.8754375140021],[148.359864536736,-42.0624451637464],[148.017301467073,-42.4070236142686],[147.914051955354,-43.2115223121885],[147.564564243764,-42.9376888974739],[146.870343052355,-43.6345972633621],[146.663327264594,-43.5808537737785],[146.04837772032,-43.5497445615389],[145.431929559511,-42.6937761370563],[145.295090366802,-42.0336097145276],[144.718071323831,-41.1625517718157],[144.74375451068,-40.7039751116577],[145.397978143495,-40.7925485166059]]],[[[143.5618111513,-13.7636556942322],[143.922099237239,-14.548310642152],[144.563713820575,-14.1711760392859],[144.894908075134,-14.5944576961886],[145.374723748963,-14.9849764950183],[145.271991001567,-15.4282052547857],[145.485259637636,-16.2856722958048],[145.637033319277,-16.7849183081766],[145.888904250268,-16.9069263648176],[146.160308872664,-17.7616545549252],[146.063673944279,-18.2800725236773],[146.38747846902,-18.9582740210759],[147.471081577748,-19.4807227515467],[148.177601760042,-19.9559392229028],[148.848413527623,-20.3912098120973],[148.717465448196,-20.6334689266815],[149.289420200802,-21.2605107561111],[149.678337030231,-22.3425118954384],[150.077382440389,-22.1227837053333],[150.482939081015,-22.556142266533],[150.727265252891,-22.4024048804647],[150.899554478152,-23.4622368303387],[151.609175246384,-24.0762561988308],[152.073539666959,-24.4578866513062],[152.855197381806,-25.267501316023],[153.136162144177,-26.0711731910262],[153.16194868389,-26.6413192685024],[153.092908970349,-27.2602995744945],[153.569469028944,-28.1100668271021],[153.5121081891,-28.9950774065328],[153.339095493787,-29.4582015927324],[153.069241164359,-30.3502401669548],[153.089601678682,-30.9236418596654],[152.891577590139,-31.640445651986],[152.450002476205,-32.5500025367552],[151.709117466437,-33.0413420549863],[151.343971795862,-33.8160234514738],[151.010555454715,-34.3103602027779],[150.714139439089,-35.1734599749168],[150.328219842733,-35.6718791643719],[150.075212030232,-36.4202055803905],[149.946124302367,-37.1090524228412],[149.997283970336,-37.4252605120351],[149.423882277626,-37.7726811663335],[148.304622430616,-37.8090613746669],[147.381733026315,-38.2192172177675],[146.922122837511,-38.6065320777951],[146.317921991155,-39.0357565244114],[145.489652134381,-38.593767999019],[144.876976353128,-38.4174480120391],[145.032212355733,-37.896187839511],[144.485682407814,-38.0853235816993],[143.609973586196,-38.8094654274053],[142.745426873953,-38.5382675107375],[142.178329705982,-38.3800342750598],[141.606581659105,-38.3085140927679],[140.638578729413,-38.0193327776625],[139.992158237874,-37.4029362932851],[139.806588169514,-36.6436027971883],[139.574147577065,-36.1383623186707],[139.082808058834,-35.7327540016118],[138.120747918856,-35.6122962379394],[138.449461704665,-35.1272612444479],[138.207564325107,-34.3847225888459],[137.719170363516,-35.076825046531],[136.829405552315,-35.2605347633286],[137.352371047108,-34.7073385556441],[137.503886346588,-34.1302678362408],[137.890116001538,-33.6404786109783],[137.810327590079,-32.9000070126681],[136.99683719294,-33.7527714983486],[136.372069126532,-34.0947661272562],[135.989043410384,-34.8901180966605],[135.208212518454,-34.4786703427526],[135.239218377829,-33.947953383115],[134.613416782775,-33.2227780087631],[134.085903761939,-32.8480721982148],[134.273902622617,-32.617233575167],[132.99077680881,-32.0112240536802],[132.288080682505,-31.9826469866228],[131.326330601121,-31.495803318001],[129.53579389864,-31.5904228655275],[128.240937534702,-31.9484888648779],[127.102867466338,-32.282266941051],[126.148713820501,-32.2159660784206],[125.088623488466,-32.7287513160528],[124.221647983905,-32.9594865862361],[124.028946567889,-33.4838473447017],[123.659666782731,-33.8901791318127],[122.811036411634,-33.9144670549898],[122.183064406423,-34.0034021949642],[121.299190708503,-33.8210360654061],[120.580268182458,-33.9301766904066],[119.893695103028,-33.9760653622818],[119.298899367349,-34.509366143534],[119.007340936358,-34.4641492652785],[118.505717808101,-34.7468193499151],[118.02497195849,-35.0647327613747],[117.295507440257,-35.0254586728329],[116.625109084135,-35.0250969378068],[115.56434695848,-34.3864279111116],[115.02680870978,-34.1965170224389],[115.048616164207,-33.623425388322],[115.545123325667,-33.487257989233],[115.714673700017,-33.2595716285549],[115.679378696761,-32.9003687476941],[115.801645135564,-32.205062351207],[115.689610630355,-31.6124370256838],[115.160909051577,-30.6015943336225],[114.997043084779,-30.0307247860942],[115.040037876446,-29.4610954729408],[114.641974318502,-28.8102308082247],[114.616497837382,-28.516398614213],[114.173579136208,-28.1180766741073],[114.048883905088,-27.3347653134271],[113.477497593237,-26.5431340471479],[113.338953078262,-26.1165450985785],[113.77835778204,-26.5490251604292],[113.440962355607,-25.6212781714932],[113.936901076312,-25.9112346330829],[114.232852004047,-26.2984461402459],[114.216160516417,-25.7862810198011],[113.721255324358,-24.9989388974021],[113.625343866024,-24.6839710425831],[113.393523390763,-24.3847644996133],[113.502043898576,-23.8063501929703],[113.706992629045,-23.5602153459641],[113.843418410296,-23.0599874813787],[113.736551548316,-22.4754753557254],[114.149756300922,-21.755881036061],[114.225307244933,-22.5174882951786],[114.647762078919,-21.8295199520769],[115.460167270979,-21.4951734351485],[115.947372674627,-21.0686878394437],[116.711615431792,-20.7016818173068],[117.166316359528,-20.6235987281138],[117.441545037914,-20.7468986955622],[118.229558953933,-20.3742082658732],[118.836085239743,-20.2633106421748],[118.987807244952,-20.0442025692573],[119.252493931151,-19.9529419898298],[119.805225050945,-19.976506442955],[120.856220330897,-19.6837077775892],[121.399856398607,-19.2397555477697],[121.655137974129,-18.7053178850071],[122.241665480642,-18.1976486141718],[122.286623976736,-17.7986032040139],[122.312772251475,-17.2549671363034],[123.012574497572,-16.4051998836959],[123.433789097183,-17.2685580379962],[123.859344517107,-17.0690353329173],[123.503242222183,-16.5965060360404],[123.817073195492,-16.111316013252],[124.2582865744,-16.3279436174196],[124.379726190286,-15.567059828354],[124.92615278534,-15.0751001929353],[125.167275018414,-14.68039560309],[125.670086704614,-14.510070082256],[125.68579634003,-14.2306556128538],[126.125149367376,-14.347340996969],[126.14282270722,-14.0959868303012],[126.582589146024,-13.9527914364204],[127.065867140817,-13.8179676245709],[127.804633416862,-14.276906019755],[128.359689976109,-14.8691696102523],[128.985543247596,-14.8759908993147],[129.62147342338,-14.9697836239246],[129.409600050983,-14.420669854391],[129.888640578329,-13.6187033016535],[130.339465773643,-13.3573755835535],[130.183506300986,-13.1075200334223],[130.617795037967,-12.5363921037325],[131.22349450086,-12.1836487769081],[131.735091180549,-12.3024528947472],[132.575298293183,-12.114040622611],[132.557211541881,-11.6030123836767],[131.824698114144,-11.2737818335451],[132.357223748911,-11.1285193823726],[133.019560581596,-11.3764112280768],[133.550845981989,-11.7865153947451],[134.393068475482,-12.0423654110222],[134.678632440327,-11.9411829565947],[135.298491245668,-12.2486060522991],[135.882693312728,-11.9622669409698],[136.258380975489,-12.0493417293816],[136.492475213772,-11.8572087541204],[136.951620314685,-12.3519589168827],[136.685124953356,-12.8872234025621],[136.305406528875,-13.2912297502199],[135.961758254134,-13.3245093726159],[136.077616815333,-13.7242782528258],[135.783836297753,-14.2239893530882],[135.428664178611,-14.7154322241839],[135.500184360903,-14.9977405737944],[136.295174595281,-15.5502649878591],[137.065360142159,-15.8707622209334],[137.580470819245,-16.2150822892941],[138.303217401279,-16.8076042619527],[138.585164015863,-16.8066224097392],[139.108542922115,-17.0626791317454],[139.260574985918,-17.3716008439862],[140.215245396078,-17.7108049455501],[140.875463495039,-17.3690686988039],[141.071110467696,-16.8320472144267],[141.274095493739,-16.3888701310916],[141.398222284104,-15.8405315080426],[141.702183058845,-15.0449211564769],[141.563380161709,-14.5613331030895],[141.635520461188,-14.2703947892863],[141.519868605719,-13.6980783016538],[141.650920038011,-12.9446875952706],[141.842691278246,-12.7415475399312],[141.686990187751,-12.4076144344611],[141.928629185148,-11.8774659155788],[142.118488397388,-11.3280420874516],[142.143706496346,-11.0427365047681],[142.515260044525,-10.6681857235166],[142.797310011974,-11.1573548315915],[142.866763136974,-11.7847067196149],[143.115946893486,-11.9056295711779],[143.158631626559,-12.3256556128462],[143.5221236513,-12.8343584123274],[143.597157830988,-13.4004220516526],[143.5618111513,-13.7636556942322]]]]}},{"type":"Feature","properties":{"admin":"Austria","name":"Austria","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[16.979666782304,48.1234970159763],[16.9037541032673,47.7148656276283],[16.3405843441504,47.7129019232012],[16.5342676123804,47.4961709661691],[16.2022982113374,46.852385972677],[16.0116638526127,46.6836107448117],[15.137091912505,46.658702704447],[14.6324715511748,46.4318173284695],[13.8064754574215,46.5093061386912],[12.3764852230408,46.7675591090698],[12.1530880062431,47.1153931748264],[11.1648279150933,46.9415794948127],[11.0485559424365,46.7513585475463],[10.4427014502466,46.8935462509974],[9.93244835779666,46.920728054383],[9.47996951664902,47.1028099635634],[9.63293175623297,47.34760122333],[9.59422610844635,47.5250580918203],[9.89606814946319,47.5801968450757],[10.4020837744652,47.3024876979392],[10.5445040218616,47.5663992376538],[11.4264140153547,47.523766181013],[12.1413574561128,47.7030834010658],[12.6207597184845,47.6723876002844],[12.9326269873659,47.467645575544],[13.0258512712205,47.6375835231358],[12.8841028174439,48.2891458196879],[13.243357374737,48.416114813829],[13.5959456722644,48.8771719427371],[14.3388977393247,48.5553052842072],[14.9014473812541,48.9644017604458],[15.253415561594,49.0390742051076],[16.0296472510502,48.7338990342079],[16.4992826677188,48.7858080104451],[16.9602881201946,48.5969823268506],[16.879982944413,48.4700133327095],[16.979666782304,48.1234970159763]]]}},{"type":"Feature","properties":{"admin":"Azerbaijan","name":"Azerbaijan","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[45.0019873390568,39.7400035670496],[45.2981449725214,39.4717512070224],[45.739978468617,39.4739991318272],[45.7353792661431,39.3197191432198],[46.1436230812488,38.7412014837122],[45.4577217954387,38.8741391057831],[44.9526880226503,39.3357646754464],[44.793989699082,39.713002631177],[45.0019873390568,39.7400035670496]]],[[[47.3733154640662,41.2197323675113],[47.8156657244847,41.1514161240213],[47.987283156126,41.4058192001942],[48.5843526548263,41.8088695338547],[49.1102637062607,41.2822866888005],[49.6189148293096,40.57292430273],[50.0848295428531,40.5261571315058],[50.3928210793127,40.2565611842391],[49.5692021014448,40.1761009791607],[49.3952592303504,39.3994817164622],[49.2232283872507,39.0492188583879],[48.8565324237076,38.8154863551318],[48.8832491392025,38.3202452662626],[48.6343754412848,38.2703775091009],[48.0107442563865,38.7940147975145],[48.3555294126379,39.2887649602769],[48.0600952492253,39.5822354192624],[47.6850793800831,39.5083639593012],[46.505719842318,38.7706053736863],[46.4834989764324,39.4641547714755],[46.0345341326807,39.628020738273],[45.6100122414029,39.8999938014252],[45.8919071795551,40.21847565364],[45.3591748390582,40.5615038111935],[45.5603511899705,40.812289537106],[45.1794958839794,40.9853539088514],[44.9724800962182,41.2481285670556],[45.2174263852816,41.411451931314],[45.9626005389304,41.1238725856098],[46.501637404167,41.0644446884741],[46.6379081561206,41.1816726751282],[46.145431756379,41.7228024358726],[46.4049507993488,41.8606751572273],[46.6860705910167,41.8271371526699],[47.3733154640662,41.2197323675113]]]]}},{"type":"Feature","properties":{"admin":"Burundi","name":"Burundi","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[29.3399975929003,-4.49998341229409],[29.276383904749,-3.29390715903406],[29.0249263852168,-2.83925790773016],[29.6321761410786,-2.9178577612461],[29.9383590024079,-2.34848683025424],[30.469696079233,-2.41385751710346],[30.5276770362645,-2.80763193116753],[30.7430127296247,-3.03428476319969],[30.7522628110049,-3.35932952231557],[30.5055595232436,-3.56856739666536],[30.1163326352212,-4.09013762778724],[29.7535124040999,-4.45238941815328],[29.3399975929003,-4.49998341229409]]]}},{"type":"Feature","properties":{"admin":"Belgium","name":"Belgium","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[3.31497114422854,51.3457809515361],[4.04707116050753,51.2672586126686],[4.97399132652691,51.4750237086981],[5.60697594567,51.0372984889698],[6.15665815595878,50.8037210150106],[6.04307335778111,50.1280516627942],[5.78241743330091,50.0903278672212],[5.67405195478483,49.5294835475575],[4.79922163251581,49.9853730332364],[4.28602298342508,49.9074966497725],[3.58818444175569,50.3789924180036],[3.1232515804258,50.7803632676146],[2.65842207196027,50.7968480495157],[2.51357303224614,51.1485061712618],[3.31497114422854,51.3457809515361]]]}},{"type":"Feature","properties":{"admin":"Benin","name":"Benin","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[2.69170169435625,6.25881724692863],[1.86524051271232,6.14215770102973],[1.61895063640924,6.83203807212624],[1.66447757325838,9.12859039960938],[1.46304284018467,9.33462433515709],[1.42506066245014,9.825395412633],[1.07779503744874,10.175606594275],[0.772335646171484,10.4708082137424],[0.899563022474069,10.9973393823643],[1.24346967937649,11.1105107690835],[1.44717817547107,11.5477192244889],[1.93598554851988,11.6411502140726],[2.15447350424992,11.9401500513133],[2.49016360841793,12.2330520695437],[2.84864301922667,12.2356358911583],[3.61118045412556,11.660167141156],[3.57221642417747,11.3279393579515],[3.79711225751171,10.7347455916731],[3.6000700211828,10.3321861841194],[3.70543826662592,10.0632103540402],[3.2203515967021,9.4441525333997],[2.91230838381026,9.13760793704432],[2.72379275880951,8.50684540448971],[2.74906253420022,7.87073436119289],[2.69170169435625,6.25881724692863]]]}},{"type":"Feature","properties":{"admin":"Burkina Faso","name":"Burkina Faso","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-2.82749630371271,9.64246084231978],[-3.51189897298627,9.90032623945622],[-3.98044918457668,9.8623440617217],[-4.33024695476038,9.61083486575714],[-4.77988359213197,9.82198476810174],[-4.9546532861431,10.1527139347697],[-5.40434159994697,10.3707368026091],[-5.470564947929,10.951269842976],[-5.19784257650865,11.3751457788501],[-5.22094194174312,11.7138589543072],[-4.4271661035238,12.5426455754043],[-4.28040503581488,13.2284435083497],[-4.00639075358723,13.4724854598481],[-3.52280270019986,13.3376616479986],[-3.10370683431276,13.5412667912286],[-2.96769446452058,13.7981503361515],[-2.19182451009038,14.2464175480674],[-2.00103512206877,14.5590082870009],[-1.06636349120566,14.9738150090078],[-0.515854458000348,15.1161577417557],[-0.26625729003058,14.9243089868721],[0.374892205414682,14.9289081893461],[0.295646396495101,14.4442349308807],[0.429927605805517,13.9887330184439],[0.993045688490071,13.3357496200038],[1.02410322429748,12.8518256698066],[2.17710778159378,12.6250178084775],[2.15447350424992,11.9401500513133],[1.93598554851988,11.6411502140726],[1.44717817547107,11.5477192244889],[1.24346967937649,11.1105107690835],[0.899563022474069,10.9973393823643],[0.023802524423701,11.0186817489008],[-0.438701544588582,11.0983409692787],[-0.761575893548183,10.9369296330151],[-1.20335771321143,11.0098192407627],[-2.94040930827046,10.9626903345126],[-2.96389624674711,10.3953347843801],[-2.82749630371271,9.64246084231978]]]}},{"type":"Feature","properties":{"admin":"Bangladesh","name":"Bangladesh","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[92.6727209818256,22.0412389185412],[92.652257114638,21.3240475529785],[92.3032344909387,21.4754853378098],[92.3685535013556,20.6708832870253],[92.0828861836461,21.1921951359858],[92.0252152852084,21.7015697290868],[91.8348909850774,22.1829356958856],[91.4170870299977,22.7650190292212],[90.4960063008273,22.8050165878151],[90.586956821661,22.3927936874229],[90.2729708190555,21.8363677027201],[89.8474670755643,22.0391460230334],[89.7020495950949,21.8571157902853],[89.4188627461355,21.9661789006373],[89.0319612975662,22.055708319583],[88.8763118835031,22.8791464299378],[88.5297697285538,23.6311418726492],[88.6999402200909,24.2337149113886],[88.0844222350624,24.5016572128219],[88.306372511756,24.8660794133442],[88.9315539896231,25.2386923283848],[88.2097892598025,25.7680657007827],[88.5630493509497,26.4465255803427],[89.3550940286873,26.0144072535181],[89.8324809101996,25.9650820988955],[89.9206925801218,25.2697498641922],[90.8722107279121,25.1326006128895],[91.7995959818221,25.1474317489573],[92.3762016133348,24.976692816665],[91.9150928079944,24.1304137232371],[91.4677299336437,24.0726394719348],[91.1589632506997,23.5035269231044],[91.7064750508321,22.9852639836492],[91.8699276061713,23.6243464218028],[92.1460347839068,23.6274986841726],[92.6727209818256,22.0412389185412]]]}},{"type":"Feature","properties":{"admin":"Bulgaria","name":"Bulgaria","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[22.657149692483,44.2349230006613],[22.9448323910518,43.8237853053471],[23.3323022803763,43.8970108099047],[24.1006791521242,43.7410513372478],[25.5692716814269,43.6884447291747],[26.0651587256997,43.9434937607513],[27.2423995297409,44.1759860296324],[27.9701070492751,43.8124681666752],[28.558081495892,43.7074616562581],[28.0390950863847,43.2931716985742],[27.673897739378,42.5778923610062],[27.9967204119054,42.0073587102878],[27.1357393734905,42.1414848903013],[26.1170418637208,41.8269046087246],[26.1061381365072,41.3288988307278],[25.1972013689254,41.2344859889305],[24.492644891058,41.583896185872],[23.6920736019923,41.3090809189438],[22.9523771501664,41.3379938828111],[22.8813737321974,41.9992971868502],[22.3805257504246,42.3202595078151],[22.5450118344096,42.461362006188],[22.4365946794613,42.5803211533239],[22.6048014665713,42.8985187851611],[22.9860185075885,43.211161200527],[22.5001566911803,43.642814439461],[22.4104464047216,44.0080634629],[22.657149692483,44.2349230006613]]]}},{"type":"Feature","properties":{"admin":"The Bahamas","name":"Bahamas","continent":"North America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-77.53466,23.75975],[-77.78,23.71],[-78.03405,24.28615],[-78.40848,24.57564],[-78.19087,25.2103],[-77.89,25.17],[-77.54,24.34],[-77.53466,23.75975]]],[[[-77.82,26.58],[-78.91,26.42],[-78.98,26.79],[-78.51,26.87],[-77.85,26.84],[-77.82,26.58]]],[[[-77,26.59],[-77.17255,25.87918],[-77.35641,26.00735],[-77.34,26.53],[-77.78802,26.92516],[-77.79,27.04],[-77,26.59]]]]}},{"type":"Feature","properties":{"admin":"Bosnia and Herzegovina","name":"Bosnia and Herz.","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[19.0054862810101,44.8602336696091],[19.36803,44.863],[19.11761,44.42307],[19.59976,44.03847],[19.454,43.5681000000001],[19.21852,43.52384],[19.03165,43.43253],[18.70648,43.20011],[18.56,42.65],[17.674921502359,43.0285625270236],[17.2973734880345,43.4463406438874],[16.9161564470173,43.6677224798257],[16.4564429053489,44.0412397324313],[16.2396602718845,44.3511432968857],[15.750026075919,44.8187116562626],[15.9593673031334,45.2337767604309],[16.3181567725359,45.0041266953259],[16.5349394060002,45.2116075709777],[17.002146030351,45.2337767604309],[17.8617834815264,45.0677403834771],[18.5532141455916,45.0815896673315],[19.0054862810101,44.8602336696091]]]}},{"type":"Feature","properties":{"admin":"Belarus","name":"Belarus","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[23.4841276384498,53.9124976670411],[24.450683628037,53.9057022161948],[25.536353794057,54.2824234076025],[25.7684326514798,54.8469625921751],[26.5882792497904,55.1671756048717],[26.4943314958838,55.6151069199776],[27.1024597510945,55.7833137070877],[28.176709425578,56.1691299505788],[29.2295133806603,55.9183442246664],[29.3715718930307,55.6700906439362],[29.8962943865224,55.7894632025304],[30.87390913262,55.5509764675034],[30.9718359718131,55.081547756564],[30.7575338070987,54.8117709417843],[31.3844722836637,54.1570563828624],[31.7914241879622,53.9746385768721],[31.7312728207745,53.794029446012],[32.4055985857512,53.618045355842],[32.693643019346,53.3514208034321],[32.3045194841882,53.1327261419729],[31.4976436703829,53.1674268662569],[31.305200636528,53.0739958766732],[31.5400183448623,52.7420523138463],[31.7859981625716,52.1016779648854],[30.927549269339,52.0423534206144],[30.6194543800148,51.8228060980224],[30.5551172218115,51.3195034857156],[30.1573637224609,51.4161384141015],[29.2549381853479,51.3682343613669],[28.9928353207635,51.6020443792715],[28.6176127458922,51.4277139349348],[28.2416150245366,51.5722270778391],[27.4540661964084,51.5923033717845],[26.3379586117686,51.8322887233479],[25.327787713327,51.9106560329185],[24.5531063168395,51.8884610052492],[24.0050777523842,51.6174439560945],[23.5270707536844,51.5784540879302],[23.5080021501687,52.0236465521247],[23.1994938493862,52.4869774440537],[23.7991988461334,52.6910993516066],[23.8049349301178,53.0897313503061],[23.527535841575,53.4701215684065],[23.4841276384498,53.9124976670411]]]}},{"type":"Feature","properties":{"admin":"Belize","name":"Belize","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-89.1430804105033,17.8083189966493],[-89.1509093899955,17.9554676376004],[-89.0298573473518,18.0015113387725],[-88.8483438789266,17.8831981470402],[-88.4901228502793,18.4868305526416],[-88.3000310940937,18.4999822046599],[-88.2963362291848,18.3532728133833],[-88.1068129137544,18.3486736109093],[-88.1234785631685,18.076674709541],[-88.2853549873228,17.644142971258],[-88.1978667874526,17.4894754094085],[-88.3026407539244,17.1316936304357],[-88.2395179918799,17.0360663924796],[-88.3554282295106,16.5307742375296],[-88.5518245104358,16.2654674341431],[-88.7324336412959,16.2336347518514],[-88.9306127591352,15.8872734644151],[-89.2291216702693,15.8869375676052],[-89.1508060371309,17.0155766870758],[-89.1430804105033,17.8083189966493]]]}},{"type":"Feature","properties":{"admin":"Bolivia","name":"Bolivia","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-62.8464684719215,-22.0349854468694],[-63.9868381415225,-21.9936443010359],[-64.3770210435422,-22.7980913225235],[-64.9648921372946,-22.0758615048123],[-66.2733394029248,-21.8323104794207],[-67.1066735500636,-22.7359245744764],[-67.8281798977227,-22.8729187964822],[-68.2199130927113,-21.4943466122319],[-68.7571671210337,-20.3726579729045],[-68.4422251044309,-19.4050684546714],[-68.9668184068419,-18.9816834449041],[-69.1002469550195,-18.2601254208127],[-69.590423753524,-17.5800118954193],[-68.9596353827533,-16.5006979305713],[-69.3897641669347,-15.6601290829117],[-69.1603466457749,-15.323973890853],[-69.339534674747,-14.9531954891588],[-68.9488866848366,-14.4536394181933],[-68.9292238023495,-13.602683607643],[-68.88007951524,-12.8997290991767],[-68.6650797186896,-12.5613001440972],[-69.5296781073649,-10.9517343075022],[-68.7861575995495,-11.0363803035963],[-68.2712536281933,-11.0145211727368],[-68.0481923082054,-10.7120590145325],[-67.1738012356107,-10.3068124324996],[-66.6469083319628,-9.93133147546686],[-65.3384352281164,-9.76198780684639],[-65.4448370022054,-10.5114511043754],[-65.321898769783,-10.8958720841947],[-65.402281460213,-11.5662704403172],[-64.3163529120316,-12.4619780412322],[-63.1964987860506,-12.6270325659724],[-62.8030602687964,-13.0006531714427],[-62.1270808579864,-13.1987806128497],[-61.7132043117608,-13.48920216233],[-61.0841212632556,-13.4793836401946],[-60.5033040025111,-13.7759546851177],[-60.45919816755,-14.3540072567346],[-60.2643263413774,-14.6459790991836],[-60.2511488511429,-15.0772189266593],[-60.5429656642951,-15.0939104142896],[-60.158389655179,-16.2582837866901],[-58.2412198553667,-16.2995732560913],[-58.388058437724,-16.8771090633853],[-58.2808040025022,-17.271710300366],[-57.734558274961,-17.5524683570078],[-57.498371141171,-18.1741875139113],[-57.6760088771743,-18.961839694904],[-57.9499973211858,-19.4000041643068],[-57.8538016424745,-19.9699952124862],[-58.166392381408,-20.1767009416537],[-58.1834714422805,-19.8683993466004],[-59.1150424872061,-19.3569060197754],[-60.0435646226265,-19.3427466773274],[-61.7863264634538,-19.633736667563],[-62.2659612697708,-20.5137346330613],[-62.2911793687292,-21.0516346167874],[-62.6850571356579,-22.2490292294224],[-62.8464684719215,-22.0349854468694]]]}},{"type":"Feature","properties":{"admin":"Brazil","name":"Brazil","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-57.6251334295829,-30.2162948544543],[-56.2908996242391,-28.8527605120009],[-55.1622863429846,-27.8819153785335],[-54.4907252671355,-27.4747567685058],[-53.6487353175879,-26.9234725888161],[-53.6283489650487,-26.1248650041775],[-54.1300496079544,-25.5476392554772],[-54.6252906968236,-25.7392554664155],[-54.4289460923306,-25.1621847470122],[-54.2934763250774,-24.570799655864],[-54.2929595607545,-24.0210140927107],[-54.6528342352351,-23.839578138934],[-55.0279017808095,-24.0012736955752],[-55.4007472397954,-23.9569353166688],[-55.5176393296396,-23.5719975725266],[-55.6106827459811,-22.6556193986948],[-55.7979581366069,-22.3569296200478],[-56.4733174302294,-22.0863001441353],[-56.8815095689029,-22.2821538225215],[-57.9371557277613,-22.0901758765572],[-57.8706739976178,-20.7326876766819],[-58.166392381408,-20.1767009416537],[-57.8538016424745,-19.9699952124862],[-57.9499973211858,-19.4000041643068],[-57.6760088771743,-18.961839694904],[-57.498371141171,-18.1741875139113],[-57.734558274961,-17.5524683570078],[-58.2808040025022,-17.271710300366],[-58.388058437724,-16.8771090633853],[-58.2412198553667,-16.2995732560913],[-60.158389655179,-16.2582837866901],[-60.5429656642951,-15.0939104142896],[-60.2511488511429,-15.0772189266593],[-60.2643263413774,-14.6459790991836],[-60.45919816755,-14.3540072567346],[-60.5033040025111,-13.7759546851177],[-61.0841212632556,-13.4793836401946],[-61.7132043117608,-13.48920216233],[-62.1270808579864,-13.1987806128497],[-62.8030602687964,-13.0006531714427],[-63.1964987860506,-12.6270325659724],[-64.3163529120316,-12.4619780412322],[-65.402281460213,-11.5662704403172],[-65.321898769783,-10.8958720841947],[-65.4448370022054,-10.5114511043754],[-65.3384352281164,-9.76198780684639],[-66.6469083319628,-9.93133147546686],[-67.1738012356107,-10.3068124324996],[-68.0481923082054,-10.7120590145325],[-68.2712536281933,-11.0145211727368],[-68.7861575995495,-11.0363803035963],[-69.5296781073649,-10.9517343075022],[-70.0937522040469,-11.123971856331],[-70.5486856757284,-11.0091468237785],[-70.4818938869912,-9.49011809655884],[-71.3024122789215,-10.0794361304154],[-72.1848907131698,-10.0535979142694],[-72.5630330064656,-9.52019378015272],[-73.2267134263902,-9.46221282312123],[-73.0153826565325,-9.03283334720806],[-73.5710593329671,-8.42444670983583],[-73.9872354804297,-7.52382984785306],[-73.7234014553635,-7.34099863040441],[-73.7244866604416,-6.91859547285064],[-73.1200274319236,-6.62993092206824],[-73.2197112698146,-6.08918873456608],[-72.9645072089412,-5.74125131594489],[-72.8919276597872,-5.27456145591698],[-71.7484057278165,-4.59398284263301],[-70.9288433498836,-4.40159148521037],[-70.7947688463023,-4.2512647436733],[-69.8936352199966,-4.29818694419433],[-69.4441019354896,-1.55628712321982],[-69.4204858059322,-1.12261850342641],[-69.5770653957766,-0.549991957200163],[-70.02065589057,-0.185156345219539],[-70.0155657619893,0.541414292804205],[-69.4523960028725,0.706158758950693],[-69.252434048119,0.602650865070075],[-69.2186376614002,0.985676581217433],[-69.8045967271577,1.08908112223347],[-69.8169732326916,1.71480520263962],[-67.8685650295588,1.69245514567339],[-67.5378100246747,2.03716278727633],[-67.2599975246736,1.71999868408496],[-67.0650481838525,1.13011220947323],[-66.8763258531226,1.25336050048934],[-66.3257651434849,0.724452215982012],[-65.5482673814376,0.78925446207603],[-65.3547133042884,1.0952822941085],[-64.6110119289599,1.32873057698704],[-64.1993057928905,1.49285492594602],[-64.0830854966661,1.91636912679408],[-63.3687880113116,2.20089956299313],[-63.4228673977051,2.41106761312417],[-64.2699991522658,2.49700552002557],[-64.4088278876179,3.12678620036662],[-64.3684944322141,3.79721039470525],[-64.816064012294,4.05644521729742],[-64.6286594305875,4.14848094320925],[-63.8883428615741,4.02053009685457],[-63.0931975978991,3.77057119385878],[-62.8045330471167,4.00696503337795],[-62.0854296535591,4.16212352133431],[-60.9668932766015,4.53646759685664],[-60.6011791652719,4.91809804933213],[-60.7335741848037,5.2002772078619],[-60.2136834377313,5.2444863956876],[-59.9809586249049,5.01406118409814],[-60.1110023667674,4.57496653891408],[-59.7674057684587,4.42350291586661],[-59.5380399237312,3.95880259848194],[-59.8154131740579,3.60649852133209],[-59.9745249090845,2.75523265218806],[-59.7185457017267,2.24963043864436],[-59.6460436672212,1.78689382568679],[-59.0308615790026,1.31769765869272],[-58.5400129868783,1.26808828369252],[-58.429477098206,1.46394196207872],[-58.113449876525,1.50719513590703],[-57.6609710353774,1.68258494710564],[-57.3358229233969,1.94853770589576],[-56.7827042303608,1.86371084228865],[-56.5393857489145,1.89952260986692],[-55.9956980047717,1.8176671411166],[-55.9056001450709,2.02199575439866],[-56.0733418442903,2.2207949894255],[-55.9733221095894,2.51036387777302],[-55.569755011606,2.42150625244713],[-55.0975874497551,2.52374807373661],[-54.5247541977997,2.31184886312379],[-54.0880625067172,2.10555654541463],[-53.7785206772889,2.37670278565008],[-53.5548392401135,2.33489655192595],[-53.4184651352953,2.05338918701598],[-52.939657151895,2.12485769287564],[-52.5564247300184,2.50470530843705],[-52.2493375311239,3.24109446859624],[-51.6577974106789,4.15623240805303],[-51.3171463690108,4.20349050538395],[-51.0697712876297,3.65039765056403],[-50.5088752915336,1.90156382894246],[-49.974075893745,1.73648346598607],[-49.9471007960887,1.04618968343122],[-50.6992512680969,0.222984117021681],[-50.3882108221321,-0.078444512536819],[-48.6205667791563,-0.235489190271821],[-48.5844966294166,-1.237805271005],[-47.8249564275906,-0.5816179337628],[-46.5665836248512,-0.941027520352776],[-44.9057030909904,-1.55173959717813],[-44.4176191879937,-2.13775033936798],[-44.5815885076558,-2.69130828207852],[-43.4187912664402,-2.38311003988979],[-41.4726568263282,-2.91201832439712],[-39.978665330554,-2.87305429444904],[-38.5003834701966,-3.70065235760339],[-37.2232521225352,-4.82094573325892],[-36.4529373845764,-5.10940357831215],[-35.5977957830105,-5.14950448977065],[-35.2353889633476,-5.46493743248025],[-34.8960298324868,-6.73819304771971],[-34.729993455533,-7.34322071699297],[-35.1282120427742,-8.99640146244228],[-35.6369665186877,-9.64928150801781],[-37.046518724097,-11.0407211239088],[-37.6836116196074,-12.1711947567258],[-38.4238765121884,-13.0381185848543],[-38.6738870916165,-13.0576522762606],[-38.9532757228025,-13.7933696428],[-38.8822981430496,-15.6670537248388],[-39.1610924952643,-17.2084066708085],[-39.2673392400564,-17.8677462704205],[-39.5835214910342,-18.2622958309689],[-39.7608233302276,-19.5991134579274],[-40.7747407700103,-20.9045118140524],[-40.9447562322506,-21.9373169898378],[-41.7541641912382,-22.3706755510375],[-41.9882842677365,-22.9700704891909],[-43.0747037420247,-22.9676933733055],[-44.6478118556378,-23.3519593238278],[-45.3521357895599,-23.7968417294286],[-46.4720932684055,-24.0889686011745],[-47.6489723374206,-24.8851990699277],[-48.4954581365777,-25.8770248349056],[-48.6410048081277,-26.6236976050909],[-48.4747358872287,-27.1759119605619],[-48.6615203517476,-28.1861345354357],[-48.8884574041574,-28.6741150855679],[-49.5873294744727,-29.2244690894763],[-50.6968741522115,-30.984465020473],[-51.5762261623062,-31.7776982561532],[-52.256081305538,-32.2453699683947],[-52.7120999822977,-33.1965780575912],[-53.3736616684982,-33.7683777809008],[-53.6505439927181,-33.2020040829818],[-53.2095889959715,-32.7276661109747],[-53.7879516261822,-32.0472425269876],[-54.5724515448051,-31.4945114071937],[-55.6015101792493,-30.8538786760714],[-55.9732445949409,-30.8830758603163],[-56.9760257635647,-30.1096863746361],[-57.6251334295829,-30.2162948544543]]]}},{"type":"Feature","properties":{"admin":"Brunei","name":"Brunei","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[114.204016554828,4.52587392823681],[114.599961379049,4.90001129802997],[115.45071048387,5.44772980389153],[115.405700311344,4.95522756593384],[115.347460972151,4.31663605388701],[114.869557326315,4.34831370688192],[114.659595981914,4.00763682699775],[114.204016554828,4.52587392823681]]]}},{"type":"Feature","properties":{"admin":"Bhutan","name":"Bhutan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[91.6966565286967,27.7717418482517],[92.1037117858597,27.4526140406332],[92.0334835143751,26.8383104517636],[91.2175126484864,26.808648179628],[90.3732747741341,26.8757241887429],[89.7445276224388,26.71940298106],[88.8356425312894,27.0989663762438],[88.8142484883205,27.2993159042394],[89.4758101745211,28.0427588974064],[90.0158288919712,28.2964385035272],[90.7305139505678,28.0649539250758],[91.2588537943199,28.0406143254663],[91.6966565286967,27.7717418482517]]]}},{"type":"Feature","properties":{"admin":"Botswana","name":"Botswana","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[25.6491634457502,-18.536025892819],[25.8503914730947,-18.7144129370905],[26.1647908871585,-19.2930856258949],[27.2965047543505,-20.391519870691],[27.7247473487532,-20.4990585262904],[27.7272278175033,-20.8518018531147],[28.0213700701086,-21.4859750302006],[28.7946562029242,-21.6394540341074],[29.432188348109,-22.0913127580676],[28.0172359555252,-22.8277535946591],[27.1194096208862,-23.5743230119798],[26.7864066911974,-24.2406906063835],[26.4857532081233,-24.6163265927131],[25.9416520525222,-24.6963733863332],[25.7658488298652,-25.1748454729237],[25.6646663754377,-25.4868160946697],[25.0251705258258,-25.7196700985769],[24.2112667172288,-25.6702157528736],[23.7335697771227,-25.3901294898516],[23.3120967953502,-25.2686898739657],[22.8242712745149,-25.5004586727948],[22.5795316911806,-25.9794475237081],[22.1059688656579,-26.2802560360791],[21.6058960303694,-26.7265337053518],[20.8896090023717,-26.8285429826959],[20.6664701677354,-26.4774533017049],[20.7586092465118,-25.8681364885514],[20.1657255388272,-24.9179619280008],[19.8957678565344,-24.7677902157606],[19.8954577979407,-21.8491569963479],[20.8811340674759,-21.8143270809831],[20.9106413103145,-18.252218926672],[21.655040317479,-18.2191460100052],[23.1968583513393,-17.8690381812278],[23.5790055681377,-18.2812610816201],[24.2173645362392,-17.8893470191185],[24.5207051937925,-17.8871249325299],[25.0844433936646,-17.6618156877374],[25.264225701608,-17.7365398088314],[25.6491634457502,-18.536025892819]]]}},{"type":"Feature","properties":{"admin":"Central African Republic","name":"Central African Rep.","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[15.2794604834691,7.42192454673797],[16.1062317237068,7.4970879175065],[16.2905615576919,7.7543073592393],[16.4561845231873,7.73477366783297],[16.7059883968863,7.50832754152998],[17.9649296403809,7.89091400800287],[18.3895548845232,8.28130361575182],[18.9110217627805,8.63089468020635],[18.8120097185093,8.9829145369786],[19.094008009526,9.07484691002584],[20.0596854997643,9.01270600019485],[21.0008683610962,9.47598521569151],[21.7238216488595,10.567055568886],[22.2311291846688,10.9718887394605],[22.8641654802442,11.1423951278075],[22.9775435726926,10.7144625919985],[23.5543042335022,10.0892552759153],[23.5572497901428,9.68121816653868],[23.3947790870172,9.26506785729222],[23.459012892356,8.95428579348889],[23.8058134294667,8.66631887454243],[24.5673690121521,8.22918793378547],[25.1149324887168,7.82510407147917],[25.1241308936647,7.50008515057944],[25.7966479835112,6.97931590415807],[26.2134184099451,6.54660329836207],[26.4659094581232,5.94671743410187],[27.2134090512252,5.55095347739456],[27.3742261085175,5.23394440350006],[27.0440653826047,5.12785268800484],[26.4027608578625,5.15087453859087],[25.6504553565575,5.25608775473712],[25.2787984555143,5.17040822999719],[25.1288334490033,4.92724477784779],[24.8050289242624,4.89724660890235],[24.4105310401463,5.10878408448913],[23.2972139828501,4.60969310141422],[22.8414795264681,4.71012624757348],[22.7041235694363,4.63305084881016],[22.4051237321955,4.02916006104732],[21.65912275563,4.22434194581372],[20.9275911801063,4.32278554932974],[20.2906791521089,4.69167776124529],[19.4677836442931,5.03152781821278],[18.9323124528848,4.70950613038597],[18.5429822119978,4.20178518311832],[18.4530652198099,3.50438589112335],[17.8099003435053,3.56019643799857],[17.1330424333463,3.72819651937945],[16.5370581397241,3.19825470622628],[16.0128524105554,2.26763967529808],[15.9073808122476,2.55738943115861],[15.8627323747475,3.01353729899898],[15.4053959489644,3.33530060466434],[15.0362195166712,3.85136729574712],[14.9509534033897,4.21038930909492],[14.4783724300805,4.73260549562045],[14.5589359880235,5.03059764243153],[14.4594071794293,5.4517605656103],[14.5365600928411,6.22695872642069],[14.7765454444046,6.40849803306204],[15.2794604834691,7.42192454673797]]]}},{"type":"Feature","properties":{"admin":"Canada","name":"Canada","continent":"North America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-63.6645,46.55001],[-62.9393,46.41587],[-62.01208,46.44314],[-62.50391,46.03339],[-62.87433,45.96818],[-64.1428,46.39265],[-64.39261,46.72747],[-64.01486,47.03601],[-63.6645,46.55001]]],[[[-61.806305,49.10506],[-62.29318,49.08717],[-63.58926,49.40069],[-64.51912,49.87304],[-64.17322,49.95718],[-62.85829,49.70641],[-61.835585,49.28855],[-61.806305,49.10506]]],[[[-123.510001587551,48.5100108913034],[-124.012890788399,48.3708462591414],[-125.655012777338,48.8250045843385],[-125.954994466793,49.1799958359676],[-126.850004435872,49.5300003118804],[-127.029993449544,49.8149958359701],[-128.059336304366,49.9949590114266],[-128.444584107102,50.5391376816761],[-128.358413656255,50.7706480983437],[-127.30858109603,50.552573554072],[-126.695000977212,50.4009032252954],[-125.755006673823,50.2950182155294],[-125.415001587559,49.9500005153326],[-124.920768189119,49.4752749700834],[-123.922508708321,49.0624836289358],[-123.510001587551,48.5100108913034]]],[[[-56.1340358140171,50.6870097926793],[-56.7958817205953,49.8123086614909],[-56.1431050278843,50.1501174993828],[-55.4714922756029,49.9358153346685],[-55.8224010890809,49.5871286077791],[-54.9351425848457,49.3130109726868],[-54.4737753973438,49.5566911891592],[-53.4765494451913,49.2491389023741],[-53.7860137599712,48.5167805039336],[-53.0861339992263,48.6878036566035],[-52.9586482407622,48.1571642116145],[-52.6480987209042,47.5355484075755],[-53.0691582912183,46.6554987656449],[-53.521456264853,46.6182917343948],[-54.1789355129025,46.807065741557],[-53.9618686590605,47.6252070176019],[-54.2404821437621,47.7522793646076],[-55.4007730780115,46.8849938014531],[-55.9974808416858,46.9197203639533],[-55.2912190415528,47.389562486351],[-56.2507987127805,47.6325450709874],[-57.3252292547771,47.572807115258],[-59.2660151841468,47.6033478867425],[-59.4194941880537,47.8994538437749],[-58.7965864732074,48.2515253769795],[-59.2316245184565,48.5231883815378],[-58.3918049790652,49.1255805527642],[-57.358689744686,50.7182740342158],[-56.738650071832,51.2874382594785],[-55.8709769354353,51.6320942246492],[-55.4069742498866,51.5882726100657],[-55.6002182684421,51.3170746933979],[-56.1340358140171,50.6870097926793]]],[[[-133.180004041712,54.1699754909353],[-132.710007884431,54.0400093154235],[-131.749989584003,54.1200043809092],[-132.049480347351,52.9846214870245],[-131.179042521827,52.1804328476983],[-131.577829549823,52.1823707139092],[-132.180428426779,52.6397071396924],[-132.549992432314,53.1000149603321],[-133.054611178756,53.4114688177554],[-133.239664482793,53.8510802272624],[-133.180004041712,54.1699754909353]]],[[[-79.26582,62.158675],[-79.65752,61.63308],[-80.09956,61.7181],[-80.36215,62.01649],[-80.315395,62.085565],[-79.92939,62.3856],[-79.52002,62.36371],[-79.26582,62.158675]]],[[[-81.89825,62.7108],[-83.06857,62.15922],[-83.77462,62.18231],[-83.99367,62.4528],[-83.25048,62.91409],[-81.87699,62.90458],[-81.89825,62.7108]]],[[[-85.1613079495499,65.6572846543928],[-84.9757637194059,65.217518215589],[-84.4640120104195,65.3717723659802],[-83.8826263089197,65.1096178249635],[-82.7875768704388,64.7666930202747],[-81.6420137193925,64.4551358099869],[-81.5534403144443,63.9796092800371],[-80.8173612128789,64.057485663501],[-80.1034513007666,63.7259813503486],[-80.9910198635957,63.411246039475],[-82.547178107417,63.6517223171452],[-83.108797573565,64.1018757188397],[-84.1004166328139,63.569711819098],[-85.523404710619,63.0523790554241],[-85.8667687649823,63.6372529161035],[-87.2219832018367,63.5412381049052],[-86.3527597724713,64.0358332383707],[-86.2248864407651,64.8229169786083],[-85.8838478258549,65.738778388117],[-85.1613079495499,65.6572846543928]]],[[[-75.86588,67.14886],[-76.98687,67.09873],[-77.2364,67.58809],[-76.81166,68.14856],[-75.89521,68.28721],[-75.1145,68.01036],[-75.10333,67.58202],[-75.21597,67.44425],[-75.86588,67.14886]]],[[[-95.6476812038005,69.1076903583218],[-96.2695212038006,68.7570403583217],[-97.6174012038005,69.0600303583218],[-98.4318012038005,68.9507003583218],[-99.7974012038005,69.4000303583218],[-98.9174012038005,69.7100303583218],[-98.2182612038005,70.1435403583217],[-97.1574012038005,69.8600303583218],[-96.5574012038005,69.6800303583218],[-96.2574012038005,69.4900303583218],[-95.6476812038005,69.1076903583218]]],[[[-90.5471,69.49766],[-90.55151,68.47499],[-89.21515,69.25873],[-88.01966,68.61508],[-88.31749,67.87338],[-87.35017,67.19872],[-86.30607,67.92146],[-85.57664,68.78456],[-85.52197,69.88211],[-84.10081,69.80539],[-82.62258,69.65826],[-81.28043,69.16202],[-81.2202,68.66567],[-81.96436,68.13253],[-81.25928,67.59716],[-81.38653,67.11078],[-83.34456,66.41154],[-84.73542,66.2573],[-85.76943,66.55833],[-86.0676,66.05625],[-87.03143,65.21297],[-87.32324,64.77563],[-88.48296,64.09897],[-89.91444,64.03273],[-90.70398,63.61017],[-90.77004,62.96021],[-91.93342,62.83508],[-93.15698,62.02469],[-94.24153,60.89865],[-94.62931,60.11021],[-94.6846,58.94882],[-93.21502,58.78212],[-92.76462,57.84571],[-92.2970299999999,57.08709],[-90.89769,57.28468],[-89.03953,56.85172],[-88.03978,56.47162],[-87.32421,55.99914],[-86.07121,55.72383],[-85.01181,55.3026],[-83.36055,55.24489],[-82.27285,55.14832],[-82.4362,54.28227],[-82.12502,53.27703],[-81.40075,52.15788],[-79.91289,51.20842],[-79.14301,51.53393],[-78.60191,52.56208],[-79.12421,54.14145],[-79.82958,54.66772],[-78.22874,55.13645],[-77.0956,55.83741],[-76.54137,56.53423],[-76.62319,57.20263],[-77.30226,58.05209],[-78.51688,58.80458],[-77.33676,59.85261],[-77.77272,60.75788],[-78.10687,62.31964],[-77.41067,62.55053],[-75.69621,62.2784],[-74.6682,62.18111],[-73.83988,62.4438],[-72.90853,62.10507],[-71.67708,61.52535],[-71.37369,61.13717],[-69.59042,61.06141],[-69.62033,60.22125],[-69.2879,58.95736],[-68.37455,58.80106],[-67.64976,58.21206],[-66.20178,58.76731],[-65.24517,59.87071],[-64.58352,60.33558],[-63.80475,59.4426],[-62.50236,58.16708],[-61.39655,56.96745],[-61.79866,56.33945],[-60.46853,55.77548],[-59.56962,55.20407],[-57.97508,54.94549],[-57.3332,54.6265],[-56.93689,53.78032],[-56.15811,53.64749],[-55.75632,53.27036],[-55.68338,52.14664],[-56.40916,51.7707],[-57.12691,51.41972],[-58.77482,51.0643],[-60.03309,50.24277],[-61.72366,50.08046],[-63.86251,50.29099],[-65.36331,50.2982],[-66.39905,50.22897],[-67.23631,49.51156],[-68.51114,49.06836],[-69.95362,47.74488],[-71.10458,46.82171],[-70.25522,46.98606],[-68.65,48.3],[-66.55243,49.1331],[-65.05626,49.23278],[-64.17099,48.74248],[-65.11545,48.07085],[-64.79854,46.99297],[-64.47219,46.23849],[-63.17329,45.73902],[-61.52072,45.88377],[-60.51815,47.00793],[-60.4486,46.28264],[-59.80287,45.9204],[-61.03988,45.26525],[-63.25471,44.67014],[-64.24656,44.26553],[-65.36406,43.54523],[-66.1234,43.61867],[-66.16173,44.46512],[-64.42549,45.29204],[-66.02605,45.25931],[-67.13741,45.13753],[-67.79134,45.70281],[-67.79046,47.06636],[-68.23444,47.35486],[-68.905,47.185],[-69.237216,47.447781],[-69.99997,46.69307],[-70.305,45.915],[-70.66,45.46],[-71.08482,45.30524],[-71.405,45.255],[-71.50506,45.0082],[-73.34783,45.00738],[-74.867,45.00048],[-75.31821,44.81645],[-76.375,44.09631],[-76.5,44.0184588937587],[-76.8200341458056,43.6287842880938],[-77.7378850979577,43.6290555893633],[-78.7202799140424,43.6250894231849],[-79.1716735501119,43.4663394231842],[-79.01,43.27],[-78.92,42.965],[-78.9393621487437,42.863611355148],[-80.2474476793479,42.3661998561226],[-81.2777465481671,42.2090259873068],[-82.4392777167916,41.6751050888672],[-82.6900892809202,41.6751050888672],[-83.0298101468069,41.8327957220058],[-83.1419996813126,41.9756810572928],[-83.12,42.08],[-82.9,42.43],[-82.43,42.98],[-82.1376423815039,43.5710875514399],[-82.3377631254311,44.44],[-82.5509246487582,45.3475165879054],[-83.5928507148431,45.8168936224124],[-83.4695507473946,45.9946863877126],[-83.6161309475906,46.1169269882991],[-83.8907653470057,46.1169269882991],[-84.0918512641615,46.2754186061382],[-84.1421195136734,46.5122258571157],[-84.3367,46.40877],[-84.6049,46.4396],[-84.5437487454459,46.5386841904491],[-84.7792382473999,46.637101955749],[-84.8760798815149,46.9000833196824],[-85.6523632474034,47.2202188177305],[-86.4619908312283,47.553338019392],[-87.4397926233002,47.94],[-88.3781141832867,48.3029175888937],[-89.2729174466367,48.0198082545827],[-89.6,48.01],[-90.83,48.27],[-91.64,48.14],[-92.61,48.45],[-93.63087,48.60926],[-94.32914,48.67074],[-94.64,48.84],[-94.81758,49.38905],[-95.15609,49.38425],[-95.159069509172,49],[-97.2287200000048,49.0007],[-100.65,49],[-104.04826,48.99986],[-107.05,49],[-110.05,49],[-113,49],[-116.04818,49],[-117.03121,49],[-120,49],[-122.84,49],[-122.97421,49.0025377777778],[-124.91024,49.98456],[-125.62461,50.41656],[-127.43561,50.83061],[-127.99276,51.71583],[-127.85032,52.32961],[-129.12979,52.75538],[-129.30523,53.56159],[-130.51497,54.28757],[-130.53611,54.80278],[-129.98,55.285],[-130.00778,55.91583],[-131.70781,56.55212],[-132.73042,57.69289],[-133.35556,58.41028],[-134.27111,58.86111],[-134.945,59.27056],[-135.47583,59.78778],[-136.47972,59.46389],[-137.4525,58.905],[-138.34089,59.56211],[-139.039,60],[-140.013,60.27682],[-140.99778,60.30639],[-140.9925,66.00003],[-140.986,69.712],[-139.12052,69.47102],[-137.54636,68.99002],[-136.50358,68.89804],[-135.62576,69.31512],[-134.41464,69.62743],[-132.92925,69.50534],[-131.43136,69.94451],[-129.79471,70.19369],[-129.10773,69.77927],[-128.36156,70.01286],[-128.13817,70.48384],[-127.44712,70.37721],[-125.75632,69.48058],[-124.42483,70.1584],[-124.28968,69.39969],[-123.06108,69.56372],[-122.6835,69.85553],[-121.47226,69.79778],[-119.94288,69.37786],[-117.60268,69.01128],[-116.22643,68.84151],[-115.2469,68.90591],[-113.89794,68.3989],[-115.30489,67.90261],[-113.49727,67.68815],[-110.798,67.80612],[-109.94619,67.98104],[-108.8802,67.38144],[-107.79239,67.88736],[-108.81299,68.31164],[-108.16721,68.65392],[-106.95,68.7],[-106.15,68.8],[-105.34282,68.56122],[-104.33791,68.018],[-103.22115,68.09775],[-101.45433,67.64689],[-99.90195,67.80566],[-98.4432,67.78165],[-98.5586,68.40394],[-97.66948,68.57864],[-96.11991,68.23939],[-96.12588,67.29338],[-95.48943,68.0907],[-94.685,68.06383],[-94.23282,69.06903],[-95.30408,69.68571],[-96.47131,70.08976],[-96.39115,71.19482],[-95.2088,71.92053],[-93.88997,71.76015],[-92.87818,71.31869],[-91.51964,70.19129],[-92.40692,69.69997],[-90.5471,69.49766]]],[[[-114.16717,73.12145],[-114.66634,72.65277],[-112.44102,72.9554],[-111.05039,72.4504],[-109.92035,72.96113],[-109.00654,72.63335],[-108.18835,71.65089],[-107.68599,72.06548],[-108.39639,73.08953],[-107.51645,73.23598],[-106.52259,73.07601],[-105.40246,72.67259],[-104.77484,71.6984],[-104.46476,70.99297],[-102.78537,70.49776],[-100.98078,70.02432],[-101.08929,69.5844700000001],[-102.73116,69.50402],[-102.09329,69.11962],[-102.43024,68.75282],[-104.24,68.91],[-105.96,69.1800000000001],[-107.12254,69.11922],[-109,68.78],[-111.5341488752,68.6300591568179],[-113.3132,68.53554],[-113.85496,69.0074400000001],[-115.22,69.28],[-116.10794,69.16821],[-117.34,69.9600000000001],[-116.67473,70.06655],[-115.13112,70.2373],[-113.72141,70.19237],[-112.4161,70.36638],[-114.35,70.6],[-116.48684,70.52045],[-117.9048,70.5405600000001],[-118.43238,70.9092],[-116.11311,71.30918],[-117.65568,71.2952],[-119.40199,71.55859],[-118.56267,72.30785],[-117.86642,72.70594],[-115.18909,73.3145900000001],[-114.16717,73.12145]]],[[[-104.5,73.42],[-105.38,72.76],[-106.94,73.46],[-106.6,73.6],[-105.26,73.64],[-104.5,73.42]]],[[[-76.34,73.102684989953],[-76.2514038085937,72.8263854980469],[-77.3144378662109,72.8555450439453],[-78.3916702270508,72.8766555786133],[-79.4862518310546,72.7422027587891],[-79.7758331298828,72.8029022216797],[-80.8760986328125,73.3331832885742],[-80.8338851928711,73.6931838989258],[-80.3530578613281,73.7597198486328],[-78.0644378662109,73.6519317626953],[-76.34,73.102684989953]]],[[[-86.5621785143341,73.1574470079384],[-85.7743713040445,72.5341258816338],[-84.8501124742882,73.3402782253871],[-82.315590176101,73.7509508328106],[-80.6000876533076,72.7165436876242],[-80.7489416165244,72.0619066433508],[-78.7706385973108,72.3521731635342],[-77.8246239895596,72.749616604291],[-75.6058446926757,72.2436784939374],[-74.228616095665,71.7671442735579],[-74.0991407945577,71.3308401557176],[-72.2422257147976,71.5569245469945],[-71.2000154283352,70.9200125189972],[-68.7860542466849,70.5250237087742],[-67.9149704657569,70.1219475368976],[-66.9690333726542,69.1860873480919],[-68.8051228502005,68.7201984727644],[-66.4498660956339,68.067163397892],[-64.8623144191952,67.8475385606516],[-63.4249344549967,66.9284732123407],[-61.8519813706806,66.8621206732778],[-62.1631768459423,66.1602513698896],[-63.9184443833842,64.9986685248328],[-65.1488602362536,65.4260326198867],[-66.7212190415985,66.3880410834322],[-68.015016038674,66.2627257351244],[-68.1412874009792,65.6897891303044],[-67.0896461656234,65.108455105237],[-65.7320804510998,64.6484056667586],[-65.3201676093013,64.3827371283461],[-64.6694062974497,63.3929267442275],[-65.0138038804589,62.674185085696],[-66.2750447251905,62.9450987819861],[-68.7831862046927,63.7456700710518],[-67.369680752213,62.8839655625849],[-66.3282972886672,62.280074774822],[-66.1655682033802,61.9308971218259],[-68.8773665025446,62.3301492377128],[-71.0234370591938,62.9107081162958],[-72.235378587519,63.3978360052952],[-71.8862784491713,63.6799893256088],[-73.3783062405184,64.1939631211838],[-74.8344189114226,64.6790756293238],[-74.8185025702767,64.389093329518],[-77.70997982452,64.2295423448168],[-78.5559488593542,64.5729063991801],[-77.8972810533619,65.3091922064748],[-76.0182742987972,65.3269688991831],[-73.9597952948827,65.4547647162409],[-74.2938834296496,65.8117713487294],[-73.9449124823826,66.3105781114267],[-72.6511671617394,67.2845755072639],[-72.9260599433161,67.7269257676824],[-73.3116178046457,68.0694371609129],[-74.8433072577768,68.5546271837013],[-76.8691009182667,68.8947356228303],[-76.2286490546573,69.1477692735474],[-77.2873699612371,69.7695401068833],[-78.1686339993266,69.8264875352689],[-78.9572421943167,70.1668801947754],[-79.4924550035637,69.8718077663889],[-81.3054709540917,69.7431851264143],[-84.9447061835985,69.9666340196444],[-87.0600034248179,70.2600011257654],[-88.6817132230015,70.4107412787608],[-89.513419562523,70.762037665481],[-88.4677211168808,71.2181855333213],[-89.8881512112875,71.2225521918499],[-90.205160285182,72.2350743679608],[-89.4365767077049,73.1294642198524],[-88.4082415433128,73.5378889024712],[-85.8261510892009,73.8038158230452],[-86.5621785143341,73.1574470079384]]],[[[-100.35642,73.84389],[-99.16387,73.63339],[-97.38,73.76],[-97.12,73.47],[-98.05359,72.99052],[-96.54,72.56],[-96.72,71.66],[-98.35966,71.27285],[-99.32286,71.35639],[-100.01482,71.73827],[-102.5,72.51],[-102.48,72.83],[-100.43836,72.70588],[-101.54,73.36],[-100.35642,73.84389]]],[[[-93.1962955391002,72.7719924994733],[-94.2690465970473,72.024596259236],[-95.4098555163226,72.0618808051346],[-96.0337450833824,72.9402768012318],[-96.018267991911,73.4374299180958],[-95.495793423224,73.8624168972642],[-94.5036575996523,74.1349067247392],[-92.4200121732118,74.1000251329422],[-90.5097928535426,73.856732489712],[-92.0039652168299,72.9662442084585],[-93.1962955391002,72.7719924994733]]],[[[-120.46,71.3836017930876],[-123.09219,70.90164],[-123.62,71.34],[-125.928948737473,71.8686884630114],[-125.5,72.292260811795],[-124.80729,73.02256],[-123.94,73.6800000000001],[-124.91775,74.2927500000001],[-121.53788,74.44893],[-120.10978,74.24135],[-117.55564,74.18577],[-116.58442,73.89607],[-115.51081,73.47519],[-116.76794,73.22292],[-119.22,72.52],[-120.46,71.82],[-120.46,71.3836017930876]]],[[[-93.6127559069405,74.9799972602244],[-94.1569087389738,74.5923465033869],[-95.6086805895656,74.6668639187518],[-96.8209321764846,74.9276231960966],[-96.2885874092298,75.3778282742233],[-94.8508198717891,75.6472175157609],[-93.9777465482179,75.296489569796],[-93.6127559069405,74.9799972602244]]],[[[-98.5,76.72],[-97.735585,76.25656],[-97.704415,75.74344],[-98.16,75],[-99.80874,74.89744],[-100.88366,75.05736],[-100.86292,75.64075],[-102.50209,75.5638],[-102.56552,76.3366],[-101.48973,76.30537],[-99.98349,76.64634],[-98.57699,76.58859],[-98.5,76.72]]],[[[-108.21141,76.20168],[-107.81943,75.84552],[-106.92893,76.01282],[-105.881,75.9694],[-105.70498,75.47951],[-106.31347,75.00527],[-109.7,74.85],[-112.22307,74.41696],[-113.74381,74.39427],[-113.87135,74.72029],[-111.79421,75.1625],[-116.31221,75.04343],[-117.7104,75.2222],[-116.34602,76.19903],[-115.40487,76.47887],[-112.59056,76.14134],[-110.81422,75.54919],[-109.0671,75.47321],[-110.49726,76.42982],[-109.5811,76.79417],[-108.54859,76.67832],[-108.21141,76.20168]]],[[[-94.6840858629994,77.0978783230584],[-93.5739210680731,76.7762958849061],[-91.6050231595366,76.7785179714946],[-90.7418458727492,76.4495974799568],[-90.969661424508,76.0740131700594],[-89.8222379218992,75.8477737494856],[-89.1870828925998,75.6101655138076],[-87.8382763333496,75.5661888699272],[-86.3791922675887,75.4824213731822],[-84.7896252102906,75.6992040066465],[-82.7534445869101,75.7843150906312],[-81.1285308499244,75.713983466282],[-80.0575109524591,75.3368488634159],[-79.8339328681483,74.9231273464872],[-80.4577707587758,74.6573037787778],[-81.9488425361255,74.4424590115243],[-83.2288936022114,74.5640278184909],[-86.0974523587333,74.4100320502611],[-88.1503503079602,74.392307033985],[-89.7647220527584,74.5155553250011],[-92.4224409655294,74.837757880341],[-92.7682854886428,75.3868199734421],[-92.8899059720417,75.8826553412826],[-93.893824022176,76.3192436795005],[-95.9624574450358,76.4413809272224],[-97.1213789538295,76.7510777859476],[-96.7451228503123,77.1613886583451],[-94.6840858629994,77.0978783230584]]],[[[-116.198586595507,77.6452867703262],[-116.335813361458,76.8769615750106],[-117.106050584769,76.5300318468191],[-118.040412157038,76.4811717800871],[-119.899317586886,76.053213406062],[-121.499995077126,75.9000186225328],[-122.854924486159,76.1165428738357],[-122.854925293603,76.1165428738357],[-121.157535360328,76.8645075548283],[-119.103938971821,77.5122199571746],[-117.570130784966,77.4983189968881],[-116.198586595507,77.6452867703262]]],[[[-93.840003017944,77.5199972602345],[-94.2956082832452,77.4913426785287],[-96.1696541003101,77.5551113959769],[-96.4363044909361,77.8346292182436],[-94.4225772773864,77.820004787905],[-93.7206562975659,77.6343313666803],[-93.840003017944,77.5199972602345]]],[[[-110.186938035913,77.6970148790503],[-112.051191169058,77.4092288276168],[-113.534278937619,77.7322065294411],[-112.724586758254,78.0510501166819],[-111.264443325631,78.1529560411615],[-109.854451870547,77.9963247748848],[-110.186938035913,77.6970148790503]]],[[[-109.663145718203,78.6019725613457],[-110.881314256619,78.40691986766],[-112.542091437615,78.4079017198735],[-112.525890876092,78.5505545112152],[-111.500010342233,78.8499935981305],[-110.963660651476,78.8044408230652],[-109.663145718203,78.6019725613457]]],[[[-95.8302949694493,78.0569412299632],[-97.309842902398,77.8505972358218],[-98.124289313534,78.0828569607576],[-98.5528678047466,78.4581053738451],[-98.6319844225855,78.8719302436384],[-97.3372314115126,78.8319843614768],[-96.7543987699088,78.765812689927],[-95.5592779202946,78.4183145209803],[-95.8302949694493,78.0569412299632]]],[[[-100.060191820052,78.3247543403159],[-99.6709390938136,77.9075446642074],[-101.303940192453,78.0189848904448],[-102.949808722733,78.3432286648602],[-105.176132778732,78.3803323432457],[-104.210429450277,78.6774201524918],[-105.419580451259,78.9183356798364],[-105.492289191493,79.3015939399292],[-103.529282396238,79.1653490261916],[-100.825158047269,78.8004617377787],[-100.060191820052,78.3247543403159]]],[[[-87.02,79.66],[-85.81435,79.3369],[-87.18756,79.0393],[-89.03535,78.28723],[-90.80436,78.21533],[-92.87669,78.34333],[-93.95116,78.75099],[-93.93574,79.11373],[-93.14524,79.3801],[-94.974,79.37248],[-96.07614,79.70502],[-96.70972,80.15777],[-96.01644,80.60233],[-95.32345,80.90729],[-94.29843,80.97727],[-94.73542,81.20646],[-92.40984,81.25739],[-91.13289,80.72345],[-89.45,80.5093220338983],[-87.81,80.32],[-87.02,79.66]]],[[[-68.5,83.1063215167657],[-65.82735,83.02801],[-63.68,82.9],[-61.85,82.6286],[-61.89388,82.36165],[-64.334,81.92775],[-66.75342,81.72527],[-67.65755,81.50141],[-65.48031,81.50657],[-67.84,80.9],[-69.4697,80.61683],[-71.18,79.8],[-73.2428,79.63415],[-73.88,79.4301622048021],[-76.90773,79.32309],[-75.52924,79.19766],[-76.22046,79.01907],[-75.39345,78.52581],[-76.34354,78.18296],[-77.88851,77.89991],[-78.36269,77.50859],[-79.75951,77.20968],[-79.61965,76.98336],[-77.91089,77.022045],[-77.88911,76.777955],[-80.56125,76.17812],[-83.17439,76.45403],[-86.11184,76.29901],[-87.6,76.42],[-89.49068,76.47239],[-89.6161,76.95213],[-87.76739,77.17833],[-88.26,77.9],[-87.65,77.9702222222222],[-84.97634,77.53873],[-86.34,78.18],[-87.96192,78.37181],[-87.15198,78.75867],[-85.37868,78.9969],[-85.09495,79.34543],[-86.50734,79.73624],[-86.93179,80.25145],[-84.19844,80.20836],[-83.4086956521738,80.1],[-81.84823,80.46442],[-84.1,80.58],[-87.59895,80.51627],[-89.36663,80.85569],[-90.2,81.26],[-91.36786,81.5531],[-91.58702,81.89429],[-90.1,82.085],[-88.93227,82.11751],[-86.97024,82.27961],[-85.5,82.652273458057],[-84.260005,82.6],[-83.18,82.32],[-82.42,82.86],[-81.1,83.02],[-79.30664,83.13056],[-76.25,83.1720588235294],[-75.71878,83.06404],[-72.83153,83.23324],[-70.665765,83.1697807583828],[-68.5,83.1063215167657]]]]}},{"type":"Feature","properties":{"admin":"Switzerland","name":"Switzerland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[9.59422610844635,47.5250580918203],[9.63293175623297,47.34760122333],[9.47996951664902,47.1028099635634],[9.93244835779666,46.920728054383],[10.4427014502466,46.8935462509974],[10.3633781266786,46.4835712754099],[9.92283654139038,46.3148994004092],[9.18288170740305,46.440214748717],[8.9663057796678,46.0369318711112],[8.48995242680132,46.0051508652517],[8.31662967289438,46.1636424830909],[7.75599205895983,45.8244900579593],[7.27385094567666,45.7769477402508],[6.8435929704145,45.9911465521006],[6.50009972497042,46.4296727565294],[6.02260949059354,46.2729898138205],[6.037388950229,46.7257787135619],[6.76871382002361,47.2877082383037],[6.73657107913806,47.5418012558828],[7.19220218265551,47.449765529971],[7.46675906742223,47.6205819769118],[8.31730146651415,47.6135798203363],[8.52261193200977,47.8308275416913],[9.59422610844635,47.5250580918203]]]}},{"type":"Feature","properties":{"admin":"Chile","name":"Chile","continent":"South America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-68.6340102275832,-52.6363704588744],[-68.6333499999999,-54.8695],[-67.56244,-54.87001],[-66.95992,-54.89681],[-67.2910299999999,-55.30124],[-68.1486299999998,-55.61183],[-68.6399908108118,-55.5800179990869],[-69.2321,-55.49906],[-69.95809,-55.19843],[-71.00568,-55.05383],[-72.2639,-54.49514],[-73.2852,-53.9575199999999],[-74.66253,-52.83749],[-73.8381,-53.04743],[-72.43418,-53.7154],[-71.10773,-54.07433],[-70.5917799999998,-53.61583],[-70.26748,-52.93123],[-69.3456499999999,-52.5183],[-68.6340102275832,-52.6363704588744]]],[[[-68.2199130927112,-21.4943466122318],[-67.8281798977226,-22.8729187964822],[-67.1066735500636,-22.7359245744764],[-66.9852339341776,-22.9863485653628],[-67.3284429592441,-24.0253032365909],[-68.4176529608761,-24.5185547828169],[-68.3860011460973,-26.1850163713652],[-68.5947997707727,-26.5069088681113],[-68.2955415513704,-26.8993396949358],[-69.0012349107483,-27.5212138811361],[-69.6561303371831,-28.4591411272337],[-70.0135503811299,-29.3679228655185],[-69.9190083482519,-30.3363392066683],[-70.5350689358194,-31.3650102678703],[-70.0743993801536,-33.091209812148],[-69.8147769843192,-33.2738860002998],[-69.8173091295015,-34.1935714657983],[-70.3880494859491,-35.1696875953594],[-70.3647692532017,-36.0050887997899],[-71.1218806627098,-36.6581238746623],[-71.1186250474754,-37.5768274879472],[-70.8146642727347,-38.5529952939407],[-71.413516608349,-38.9160222307911],[-71.6807612779464,-39.8081641578781],[-71.9157340155775,-40.8323393694707],[-71.7468037584155,-42.051386407236],[-72.1488980780785,-42.2548881976014],[-71.9154239569839,-43.4085645485174],[-71.4640561591305,-43.7876111793783],[-71.7936226060719,-44.2071721331561],[-71.3298007880362,-44.4075216611517],[-71.2227788967597,-44.7842428525594],[-71.6593155585453,-44.9736886533414],[-71.5520094468912,-45.5607329241771],[-71.9172584703302,-46.8848381487918],[-72.4473553127803,-47.7385328102535],[-72.3311608547719,-48.2442383766618],[-72.6482474433149,-48.8786182594768],[-73.41543575712,-49.318436374713],[-73.3280509101145,-50.3787850889099],[-72.9757468329646,-50.7414502907343],[-72.3099735175323,-50.6770097796663],[-72.329403856074,-51.4259563128724],[-71.9148038397963,-52.0090223058659],[-69.4983621893961,-52.1427609126372],[-68.5715453762413,-52.2994438553463],[-69.4612843492266,-52.2919507726639],[-69.9427795071061,-52.5379305903732],[-70.8451016913545,-52.8992005285257],[-71.0063321601052,-53.8332520422013],[-71.4297946845209,-53.8564547603004],[-72.5579428778849,-53.5314100011845],[-73.7027567206629,-52.8350692686073],[-73.7027567206629,-52.8350700760515],[-74.9467634752252,-52.262753588419],[-75.2600260077785,-51.6293547503732],[-74.9766324530898,-51.0433956846157],[-75.4797541978835,-50.3783716774516],[-75.6080151028319,-48.6737728818718],[-75.1827697415021,-47.7119194476232],[-74.1265809801047,-46.9392534319951],[-75.6443953111654,-46.647643324572],[-74.6921536933231,-45.763976332381],[-74.3517093573843,-44.1030441220879],[-73.2403560045152,-44.4549606259956],[-72.7178039211798,-42.383355808279],[-73.3888999091382,-42.1175322405696],[-73.7013356187748,-43.3657764625797],[-74.3319431220326,-43.2249581845844],[-74.0179571194272,-41.7948129209068],[-73.6770993720299,-39.9422128232431],[-73.2175925360907,-39.2586886533185],[-73.505559455037,-38.2828825823511],[-73.5880608791911,-37.156284681956],[-73.1667170884993,-37.1237802060444],[-72.5531369696817,-35.508840020491],[-71.8617321438326,-33.9090927060315],[-71.4384504869299,-32.4188994280308],[-71.6687206692224,-30.9206446265925],[-71.3700825670077,-30.095682061485],[-71.4898943752765,-28.8614421526259],[-70.9051238674616,-27.6403797340012],[-70.724953986276,-25.7059241675872],[-70.403965827095,-23.6289966773445],[-70.0912458970807,-21.3933191871012],[-70.164419725206,-19.7564681942562],[-70.3725723944777,-18.3479753557089],[-69.8584435696058,-18.092693780187],[-69.590423753524,-17.5800118954193],[-69.1002469550194,-18.2601254208127],[-68.9668184068418,-18.9816834449041],[-68.4422251044309,-19.4050684546714],[-68.7571671210337,-20.3726579729045],[-68.2199130927112,-21.4943466122318]]]]}},{"type":"Feature","properties":{"admin":"China","name":"China","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[110.339187860152,18.6783950871476],[109.475209588664,18.1977009139686],[108.655207961056,18.5076819930714],[108.62621748254,19.367887885002],[109.119055617308,19.8210385197694],[110.211598748823,20.1012539738721],[110.786550734502,20.0775344914501],[111.010051304165,19.6959298771907],[110.570646600387,19.2558792180093],[110.339187860152,18.6783950871476]]],[[[127.657407261262,49.7602704941729],[129.39781782442,49.4406000840154],[130.582293328982,48.7296874049761],[130.987281528854,47.7901323512614],[132.5066719911,47.7889696315349],[133.373595819228,48.1834416774349],[135.026311476787,48.4782298854439],[134.500813836811,47.5784398463778],[134.112362095273,47.2124673528867],[133.769643996313,46.1169269882991],[133.097126906466,45.1440664739722],[131.88345421766,45.3211616074364],[131.025212030156,44.9679531927216],[131.288555129116,44.1115196803483],[131.144687941615,42.9299897324269],[130.63386640841,42.9030146347705],[130.640015903852,42.3950094671253],[129.994267205933,42.9853868678438],[129.596668735879,42.4249817978546],[128.052215203972,41.994284572918],[128.208433058791,41.4667715520825],[127.343782993683,41.503151760416],[126.86908328665,41.8165693222662],[126.182045119329,41.1073361272764],[125.079941847841,40.5698237167925],[124.265624627785,39.9284933538341],[122.867570428561,39.6377875839763],[122.131387974131,39.1704517685446],[121.054554478033,38.8974710149629],[121.585994907722,39.3608535833241],[121.376757033373,39.7502613388595],[122.168595005381,40.422442531896],[121.640358514494,40.9463898789033],[120.768628778162,40.5933881699176],[119.639602085449,39.8980559352142],[119.023463983233,39.2523330755111],[118.042748651198,39.2042739934797],[117.532702264477,38.7376358098841],[118.05969852099,38.0614755315611],[118.878149855628,37.8973253443859],[118.911636183754,37.4484638534987],[119.702802362142,37.1563886581851],[120.823457472824,37.870427761378],[121.711258579598,37.4811233587072],[122.357937453298,37.4544841578607],[122.519994744966,36.9306143255018],[121.104163853033,36.6513290471804],[120.637008905115,36.1114395208111],[119.664561802246,35.6097905543377],[119.151208123859,34.9098591171605],[120.227524855634,34.3603319361686],[120.620369093917,33.3767227239251],[121.22901411345,32.4603187118772],[121.90814578663,31.6921743840747],[121.89191938689,30.9493515080951],[121.264257440273,30.6762674016487],[121.503519321785,30.1429149439643],[122.092113885589,29.8325204534032],[121.938428175953,29.0180223658348],[121.684438511238,28.2255126002067],[121.125661248866,28.1356731226672],[120.395473260582,27.0532068954494],[119.58549686084,25.7407805445326],[118.656871372555,24.5473908554002],[117.281606479971,23.6245014510997],[115.890735304835,22.7828732365781],[114.763827345846,22.6680740422417],[114.152546828266,22.2237600773962],[113.806779819801,22.5483397486214],[113.241077915502,22.0513674992705],[111.843592157032,21.5504936792815],[110.785465529424,21.3971438664553],[110.444039341272,20.3410326197064],[109.889861281374,20.2824573837034],[109.627655063925,21.0082270370267],[109.864488153118,21.3950509709475],[108.522812941524,21.7152123072118],[108.050180291783,21.5523798690601],[107.043420037873,21.8118989120299],[106.567273390735,22.2182048609247],[106.725403273548,22.7942678898984],[105.811247186305,22.9768924016179],[105.329209425887,23.352063300057],[104.476858351664,22.8191500920469],[103.504514601661,22.7037566187392],[102.7069922221,22.7087950708877],[102.170435825614,22.4647531193893],[101.652017856862,22.3181987574096],[101.803119744883,21.1743667668451],[101.27002566936,21.2016519230952],[101.180005324308,21.4365729842941],[101.150032993578,21.849984442629],[100.416537713627,21.5588394230967],[99.9834892110216,21.7429367131365],[99.2408988789872,22.1183143173046],[99.5319922220874,22.9490388046126],[98.8987492207828,23.1427220728426],[98.6602624857558,24.06328603769],[97.604719679762,23.8974046900331],[97.7246090026791,25.083637193293],[98.6718380065892,25.9187025009135],[98.7120939473446,26.7435358749402],[98.6826900573705,27.5088121607507],[98.2462309102334,27.7472213811292],[97.9119877461694,28.3359451360144],[97.32711388549,28.2615827499463],[96.2488334492878,28.4110309921345],[96.5865906107475,28.8309795191544],[96.117678664131,29.4528020289225],[95.4048022806646,29.0317166203922],[94.5659904317029,29.27743805594],[93.4133476094327,28.6406293808072],[92.5031189310436,27.8968763290464],[91.6966565286967,27.7717418482516],[91.2588537943199,28.0406143254663],[90.7305139505678,28.0649539250757],[90.0158288919712,28.2964385035272],[89.4758101745212,28.0427588974064],[88.8142484883206,27.2993159042394],[88.7303259622785,28.0868647323676],[88.1204407083699,27.8765416529396],[86.9545170430006,27.9742617864035],[85.8233199401315,28.2035759546987],[85.0116382181231,28.6427739527474],[84.2345797057502,28.8398937037247],[83.8989929544467,29.3202261418776],[83.3371151061372,29.4637315943522],[82.3275126484509,30.1152680526882],[81.5258044778748,30.4227169866087],[81.1112561380293,30.1834809433134],[79.7213668151071,30.8827147486547],[78.738894484374,31.515906073527],[78.458446486326,32.6181643743127],[79.1761287779955,32.4837798121378],[79.2088916360685,32.9943946396137],[78.8110864602857,33.5061980250324],[78.9122689147132,34.3219363469758],[77.8374507994746,35.4940095077878],[76.1928483417857,35.8984034286879],[75.8968974140502,36.6668061386519],[75.158027785141,37.1330309107892],[74.9800024758954,37.4199901393059],[74.8299857929521,37.9900070257014],[74.8648157083168,38.3788463404816],[74.2575142760227,38.6065068629435],[73.9288521666464,38.5058153346227],[73.6753792662548,39.4312368841056],[73.9600130553184,39.6600084498617],[73.8222436868283,39.8939734970631],[74.776862420556,40.3664252792916],[75.4678279967307,40.5620722519487],[76.5263680357974,40.4279460719351],[76.9044844908771,41.0664859075497],[78.187196893226,41.1853158636048],[78.5436609231753,41.5822425400387],[80.1194303730514,42.1239407415382],[80.2599902688853,42.3499992945991],[80.1801501809944,42.9200678574268],[80.8662064961012,43.180362046881],[79.9661063984414,44.9175169948046],[81.9470707539181,45.3170274928531],[82.458925815769,45.5396495631665],[83.1804838398605,47.3300312363507],[85.1642903991132,47.0009557155161],[85.7204838398707,47.4529694687731],[85.7682328633084,48.4557506373969],[86.5987764831034,48.5491816269806],[87.3599703307627,49.2149807806292],[87.7512642760767,49.2971979844055],[88.0138322285517,48.5994627956006],[88.8542977233468,48.069081732773],[90.2808256367639,47.6935490993079],[90.970809360725,46.8881460638229],[90.5857682637183,45.7197160914875],[90.9455395853343,45.2860733099102],[92.1338908223182,45.1150759954564],[93.4807336771413,44.97547211362],[94.6889286641254,44.3523318548285],[95.3068754414715,44.2413308782655],[95.7624548685567,43.3194491643946],[96.3493957865278,42.7256352809286],[97.451757440178,42.7488896754601],[99.51581749878,42.5246914739617],[100.845865513108,42.6638044296914],[101.83304039918,42.5148729518263],[103.312278273535,41.9074681666676],[104.522281935649,41.9083466660166],[104.964993931093,41.5974095729163],[106.129315627062,42.1343277044289],[107.744772576938,42.4815158147819],[109.243595819131,42.5194463160842],[110.412103306115,42.871233628911],[111.12968224492,43.4068340114002],[111.829587843881,43.7431183945395],[111.667737257943,44.0731757675877],[111.348376906379,44.4574417181101],[111.8733061056,45.1020793727351],[112.436062453259,45.0116456162243],[113.463906691544,44.8088931341271],[114.460331658996,45.3398167994939],[115.9850964702,45.727235012386],[116.717868280099,46.3882024196152],[117.421701287914,46.6727328558142],[118.874325799639,46.8054120957236],[119.663269891439,46.6926799586789],[119.772823927898,47.0480587835501],[118.866574334795,47.7470600449462],[118.064142694167,48.0667304551037],[117.295507440257,47.6977090521074],[116.308952671373,47.8534101426028],[115.742837355616,47.7265445013263],[115.485282017073,48.1353825954034],[116.191802199368,49.1345980901991],[116.678800897286,49.8885313991214],[117.879244419426,49.5109833847969],[119.288460728026,50.142882798862],[119.279365675942,50.5829076198273],[120.182049595217,51.643566392618],[120.738191359542,51.9641153021246],[120.725789015792,52.5162263047308],[120.177088657717,52.7538862168412],[121.00308475147,53.2514010687312],[122.245747918793,53.4317259792137],[123.571506789241,53.4588044297346],[125.06821129771,53.1610448268688],[125.946348911646,52.7927985703569],[126.564399041857,51.7842554795327],[126.939156528838,51.3538941514059],[127.287455682485,50.7397972682654],[127.657407261262,49.7602704941729]]]]}},{"type":"Feature","properties":{"admin":"Ivory Coast","name":"Côte d'Ivoire","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-2.8561250472024,4.99447581625951],[-3.31108435710007,4.98429555909801],[-4.00881954590494,5.17981334067431],[-4.64991736491791,5.16826365805708],[-5.83449622234453,4.99370066977514],[-6.52876909018585,4.70508779542502],[-7.51894120933043,4.33828847901731],[-7.71215938966975,4.36456594483772],[-7.63536821128403,5.18815908448946],[-7.53971513511176,5.31334524171652],[-7.57015255373169,5.7073521997259],[-7.99369259279588,6.12618968345154],[-8.31134762209402,6.19303314862108],[-8.60288021486862,6.46756419517166],[-8.38545162600057,6.91180064536874],[-8.48544552248535,7.39520783124307],[-8.4392984684487,7.68604279218174],[-8.28070349774494,7.68717967369216],[-8.2217923649322,8.12332876223557],[-8.29904863120856,8.3164435897103],[-8.20349890790088,8.45545319257545],[-7.83210038901919,8.57570425051863],[-8.07911373537435,9.37622386315203],[-8.30961646161225,9.78953196862244],[-8.22933712404682,10.1290202905639],[-8.02994361004862,10.2065349390017],[-7.89958980959237,10.2973821069708],[-7.62275916180481,10.1472362329468],[-6.85050655763506,10.1389938419962],[-6.66646094402755,10.4308106551484],[-6.49396501303727,10.4113028019583],[-6.20522294760643,10.5240607772191],[-6.05045203289227,10.0963607853554],[-5.81692623536529,10.2225546330122],[-5.40434159994697,10.3707368026091],[-4.9546532861431,10.1527139347697],[-4.77988359213197,9.82198476810174],[-4.33024695476038,9.61083486575714],[-3.98044918457668,9.8623440617217],[-3.51189897298627,9.90032623945622],[-2.82749630371271,9.64246084231978],[-2.56218950032624,8.21962779381148],[-2.98358496745033,7.37970490155551],[-3.24437008301126,6.2504715031135],[-2.81070146321784,5.38905121502411],[-2.8561250472024,4.99447581625951]]]}},{"type":"Feature","properties":{"admin":"Cameroon","name":"Cameroon","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[13.0758223812468,2.26709707275901],[12.9513338558556,2.32161570882694],[12.3593803239522,2.19281220133945],[11.7516654801998,2.32675751383999],[11.2764490088437,2.26105093018087],[9.64915815597263,2.28386607503774],[9.79519575362946,3.07340444580912],[9.404366896206,3.7345268823352],[8.94811567550107,3.90412893311714],[8.74492394372942,4.35221527751996],[8.48881554529089,4.49561737712992],[8.50028771325969,4.77198293702685],[8.75753299320863,5.47966583904791],[9.23316287602304,6.44449066815333],[9.5227059261544,6.45348236737212],[10.1182768083183,7.03876963950988],[10.4973751156114,7.05535777427556],[11.0587878760304,6.64442678469059],[11.7457743669185,6.98138296144975],[11.8393087093668,7.39704234458943],[12.0639461605396,7.7998084578723],[12.2188721045506,8.30582408287432],[12.7536715023392,8.71776276288899],[12.955467970439,9.4177717147147],[13.1675997249971,9.64062632897341],[13.3086763851539,10.1603620467489],[13.5729496598946,10.7985659855536],[14.4153788591167,11.5723688826921],[14.468192172919,11.9047516951934],[14.5771777686225,12.0853608260535],[14.1813362972668,12.4836569279431],[14.2135307145846,12.8020354272933],[14.4957873877628,12.8593962671373],[14.8933858578165,12.2190477563926],[14.9601518083376,11.5555740421972],[14.923564894275,10.8913251815175],[15.4678727556053,9.98233673750343],[14.9093538753947,9.99212942142273],[14.6272005550811,9.92091929772454],[14.171466098699,10.0213782820999],[13.954218377344,9.54949494062669],[14.5444665869818,8.96586131432227],[14.9799955583377,8.79610423424347],[15.1208655127653,8.38215017336942],[15.4360917497458,7.69281240481197],[15.2794604834691,7.42192454673797],[14.7765454444046,6.40849803306204],[14.5365600928411,6.22695872642069],[14.4594071794293,5.4517605656103],[14.5589359880235,5.03059764243153],[14.4783724300805,4.73260549562045],[14.9509534033897,4.21038930909492],[15.0362195166712,3.85136729574712],[15.4053959489644,3.33530060466434],[15.8627323747475,3.01353729899898],[15.9073808122476,2.55738943115861],[16.0128524105554,2.26763967529808],[15.9409188168051,1.7276726342803],[15.1463419938852,1.96401479736718],[14.3378125342466,2.22787466064949],[13.0758223812468,2.26709707275901]]]}},{"type":"Feature","properties":{"admin":"Democratic Republic of the Congo","name":"Dem. Rep. Congo","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[30.8338598975938,3.50916596111034],[30.77334679538,2.33988332764213],[31.1741492042358,2.20446523682126],[30.852670118948,1.84939647054381],[30.4685075212903,1.58380544677972],[30.0861535987627,1.06231273030629],[29.8757788429025,0.597379868976304],[29.8195032081366,-0.205310153813372],[29.5878377621722,-0.58740569417948],[29.5794661801409,-1.34131316488563],[29.2918868344366,-1.62005584066799],[29.2548348324833,-2.21510995850891],[29.1174788754515,-2.29221119548838],[29.0249263852168,-2.83925790773016],[29.276383904749,-3.29390715903406],[29.3399975929003,-4.49998341229409],[29.5199866065729,-5.41997893638631],[29.4199927100882,-5.93999887453943],[29.62003217949,-6.52001515058342],[30.1999967791017,-7.07998097089816],[30.7400154965518,-8.34000741947091],[30.3460860531908,-8.23825652428822],[29.0029122250605,-8.40703175215347],[28.7348665707625,-8.52655934004458],[28.4498710466728,-9.16491830814608],[28.6736816749289,-9.60592498132493],[28.4960697771418,-10.789883721564],[28.3722530453704,-11.7936467424014],[28.6424174333923,-11.9715686987823],[29.3415478858691,-12.3607439103724],[29.6160014177712,-12.1788945451373],[29.6996138852195,-13.2572266577718],[28.9342859229768,-13.2489584286051],[28.523561639121,-12.6986044246967],[28.15510867688,-12.2724805640179],[27.3887988624238,-12.1327474911007],[27.1644197934125,-11.6087484676611],[26.5530875993996,-11.9244397925321],[25.7523096046047,-11.7849651017764],[25.4181181169732,-11.33093596766],[24.7831697934029,-11.238693536019],[24.3145162289479,-11.2628264298993],[24.257155389104,-10.9519926896637],[23.9122152035557,-10.9268262671375],[23.4567908057674,-10.8678634578925],[22.8373454118847,-11.0176217586743],[22.4027982927424,-10.9930754533357],[22.1552681820643,-11.0848011206538],[22.2087532894864,-9.89479623783651],[21.8751819190423,-9.52370777754856],[21.8018013851879,-8.90870655684298],[21.949130893652,-8.30590097415828],[21.7464559262033,-7.92008473066715],[21.7281107927397,-7.2908724910813],[20.5147481625265,-7.29960580813863],[20.6018229509383,-6.93931772219968],[20.0916215349206,-6.94309010175699],[20.0377230160402,-7.11636117923164],[19.4175024756732,-7.1554285620443],[19.1666133968961,-7.73818368899975],[19.0167517432497,-7.98824594486013],[18.4641756527527,-7.84701425540644],[18.134221632569,-7.98767750410492],[17.4729700049622,-8.0685511206417],[17.0899959652472,-7.54568897871253],[16.8601908708452,-7.22229786542998],[16.5731799658961,-6.62264454511509],[16.326528354567,-5.87747039146627],[13.3755973649719,-5.86424122479955],[13.024869419007,-5.98438892987816],[12.7351713395787,-5.9656820613885],[12.3224316748635,-6.10009246177966],[12.1823368669202,-5.78993051516384],[12.4366882666609,-5.68430388755925],[12.4680041846297,-5.248361504745],[12.6316117692658,-4.99127125409294],[12.9955172054652,-4.78110320396188],[13.258240187237,-4.88295745200917],[13.6002348161447,-4.50013844159097],[14.1449560889333,-4.51000864015872],[14.2090348649752,-4.7930921362536],[14.5826037940132,-4.97023894615014],[15.1709916520884,-4.3435071753143],[15.7535400733147,-3.8551648901561],[16.0062895036543,-3.53513274497253],[15.9728031755292,-2.71239226645361],[16.4070919125101,-1.74092701579868],[16.8653068376421,-1.22581633871329],[17.5237162614729,-0.743830254726987],[17.63864464689,-0.424831638189246],[17.6635526872547,-0.058083998213817],[17.8265401547032,0.288923244626105],[17.7741919287916,0.855658677571085],[17.8988354834796,1.74183197672828],[18.0942757504074,2.36572154378806],[18.3937923519711,2.90044342692822],[18.4530652198099,3.50438589112335],[18.5429822119978,4.20178518311832],[18.9323124528848,4.70950613038597],[19.4677836442931,5.03152781821278],[20.2906791521089,4.69167776124529],[20.9275911801063,4.32278554932974],[21.65912275563,4.22434194581372],[22.4051237321955,4.02916006104732],[22.7041235694363,4.63305084881016],[22.8414795264681,4.71012624757348],[23.2972139828501,4.60969310141422],[24.4105310401463,5.10878408448913],[24.8050289242624,4.89724660890235],[25.1288334490033,4.92724477784779],[25.2787984555143,5.17040822999719],[25.6504553565575,5.25608775473712],[26.4027608578625,5.15087453859087],[27.0440653826047,5.12785268800484],[27.3742261085175,5.23394440350006],[27.9799772478428,4.40841339763737],[28.4289937680269,4.28715464926449],[28.6966776872988,4.45507721599694],[29.1590784034465,4.38926727947323],[29.715995314256,4.60080475506002],[29.9535001970695,4.17369904216768],[30.8338598975938,3.50916596111034]]]}},{"type":"Feature","properties":{"admin":"Republic of Congo","name":"Congo","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[12.9955172054652,-4.78110320396188],[12.6207597184845,-4.43802336997614],[12.3186076188739,-4.60623015708619],[11.9149630062421,-5.03798674888479],[11.0937728206919,-3.97882659263055],[11.8551216976481,-3.42687061932105],[11.4780387712143,-2.76561899171424],[11.8209635759032,-2.51416147218198],[12.4957027523382,-2.39168832765024],[12.5752844580676,-1.94851124431513],[13.1096187679656,-2.42874032960351],[13.9924072608077,-2.4708049454891],[14.2992102393246,-1.99827564861221],[14.4254557634136,-1.33340667074497],[14.3164184912777,-0.552627455247048],[13.8433207536457,0.038757635901149],[14.276265903387,1.19692983642662],[14.0266687354172,1.39567739502115],[13.2826314632788,1.31418366129688],[13.0031136410121,1.83089630778332],[13.0758223812468,2.26709707275901],[14.3378125342466,2.22787466064949],[15.1463419938852,1.96401479736718],[15.9409188168051,1.7276726342803],[16.0128524105554,2.26763967529808],[16.5370581397241,3.19825470622628],[17.1330424333463,3.72819651937945],[17.8099003435053,3.56019643799857],[18.4530652198099,3.50438589112335],[18.3937923519711,2.90044342692822],[18.0942757504074,2.36572154378806],[17.8988354834796,1.74183197672828],[17.7741919287916,0.855658677571085],[17.8265401547032,0.288923244626105],[17.6635526872547,-0.058083998213817],[17.63864464689,-0.424831638189246],[17.5237162614729,-0.743830254726987],[16.8653068376421,-1.22581633871329],[16.4070919125101,-1.74092701579868],[15.9728031755292,-2.71239226645361],[16.0062895036543,-3.53513274497253],[15.7535400733147,-3.8551648901561],[15.1709916520884,-4.3435071753143],[14.5826037940132,-4.97023894615014],[14.2090348649752,-4.7930921362536],[14.1449560889333,-4.51000864015872],[13.6002348161447,-4.50013844159097],[13.258240187237,-4.88295745200917],[12.9955172054652,-4.78110320396188]]]}},{"type":"Feature","properties":{"admin":"Colombia","name":"Colombia","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-75.3732232327138,-0.15203175212045],[-75.8014658271166,0.084801337073202],[-76.2923144192409,0.416047268064119],[-76.5763797675494,0.256935533037435],[-77.4249843004304,0.395686753741117],[-77.6686128404704,0.825893052570961],[-77.8550614081795,0.809925034992773],[-78.8552587551887,1.38092377360182],[-78.990935228171,1.69136994059525],[-78.6178313870237,1.76640412028306],[-78.6621180894978,2.26735545492048],[-78.4276104397573,2.62955556885422],[-77.9315425279715,2.69660573975293],[-77.510431281225,3.32501699463825],[-77.1276897854553,3.84963613526536],[-77.496271938777,4.08760610596943],[-77.3076012844794,4.66798411703945],[-77.5332205878657,5.5828119979025],[-77.3188150702867,5.84535411216136],[-77.4766607327223,6.6911164412663],[-77.8815714179452,7.22377126711478],[-77.7534138658614,7.70983978925214],[-77.431107957657,7.63806122479873],[-77.2425664944401,7.93527822512544],[-77.4747228665113,8.52428620038822],[-77.3533607652739,8.67050466555807],[-76.8366739570035,8.63874949791472],[-76.0863838365578,9.33682058352949],[-75.67460018584,9.4432481958346],[-75.6647041490562,9.77400320071874],[-75.4804259915033,10.6189903833393],[-74.906895107712,11.0830447453203],[-74.2767526923449,11.1020358341876],[-74.1972226630477,11.3104727238369],[-73.4147639635003,11.2270152856855],[-72.6278352525596,11.7319715438255],[-72.2381949530789,11.9555496281363],[-71.7540901353686,12.4373031681773],[-71.3998223537917,12.3760407576953],[-71.1374611070459,12.1129818791135],[-71.3315836249503,11.7762840845158],[-71.9739216783383,11.6086715763771],[-72.2275754462429,11.1087020939532],[-72.6146577623252,10.8219754093818],[-72.9052860175347,10.4503443465548],[-73.0276041327696,9.73677033125244],[-73.30495154488,9.1519998234376],[-72.7887298245004,9.08502716718733],[-72.6604947577681,8.62528778730268],[-72.4398622300979,8.40527537682003],[-72.360900641556,8.00263845461789],[-72.4796789211788,7.63250600832735],[-72.4444872707881,7.42378489830048],[-72.1983524237819,7.34043081301368],[-71.9601757473486,6.99161489504354],[-70.6742335679815,7.08778473553872],[-70.0933129543724,6.96037649172311],[-69.3894799465571,6.09986054119884],[-68.9853185696023,6.20680491782686],[-68.2650524563182,6.15326813397247],[-67.695087246355,6.26731802004065],[-67.3414395819656,6.09546804445402],[-67.5215319485027,5.55687042889197],[-67.7446966213552,5.22112864829167],[-67.8230122544935,4.5039372827289],[-67.6218359035813,3.83948171631999],[-67.3375638495437,3.54234223064172],[-67.3031731838534,3.31845408773718],[-67.8099381171237,2.82065501546957],[-67.4470920477863,2.60028086996087],[-67.181294318293,2.25063812907406],[-66.8763258531226,1.25336050048934],[-67.0650481838525,1.13011220947323],[-67.2599975246736,1.71999868408496],[-67.5378100246747,2.03716278727633],[-67.8685650295588,1.69245514567339],[-69.8169732326916,1.71480520263962],[-69.8045967271577,1.08908112223347],[-69.2186376614002,0.985676581217433],[-69.252434048119,0.602650865070075],[-69.4523960028725,0.706158758950693],[-70.0155657619893,0.541414292804205],[-70.02065589057,-0.185156345219539],[-69.5770653957766,-0.549991957200163],[-69.4204858059322,-1.12261850342641],[-69.4441019354896,-1.55628712321982],[-69.8936352199966,-4.29818694419433],[-70.394043952095,-3.76659148520783],[-70.6926820543097,-3.74287200278586],[-70.0477085028748,-2.7251563452297],[-70.813475714792,-2.25686451580074],[-71.4136457994298,-2.34280242270213],[-71.7747607082854,-2.16978972738894],[-72.3257865058136,-2.43421803142645],[-73.0703922187072,-2.30895435955095],[-73.6595035468346,-1.26049122478113],[-74.1223951890891,-1.00283253337385],[-74.441600511356,-0.530820000819887],[-75.1066245185201,-0.05720549886486],[-75.3732232327138,-0.15203175212045]]]}},{"type":"Feature","properties":{"admin":"Costa Rica","name":"Costa Rica","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-82.9657830471974,8.22502798098598],[-83.5084372626943,8.44692658124728],[-83.7114739651691,8.65683624921686],[-83.5963130358066,8.83044322350142],[-83.6326415677078,9.05138580976532],[-83.9098856269537,9.29080272057358],[-84.3034016588563,9.48735403079571],[-84.6476442125687,9.61553742109571],[-84.7133507962277,9.90805186608385],[-84.9756603665413,10.086723130733],[-84.9113748847702,9.79599152265892],[-85.1109234280653,9.55703969974131],[-85.3394882880923,9.83454214114866],[-85.660786505867,9.93334747969072],[-85.7974448310628,10.134885565629],[-85.7917087470784,10.4393372664766],[-85.6593137275467,10.7543309595117],[-85.9417254300218,10.8952784285878],[-85.7125404528073,11.0884449324948],[-85.5618519762442,11.2171192489016],[-84.9030033027389,10.9523033716219],[-84.6730690172562,11.0826571720781],[-84.355930752281,10.9992255721429],[-84.1901785957048,10.7934500187567],[-83.8950544908859,10.7268390975324],[-83.6556117418616,10.9387641463614],[-83.4023197089829,10.3954381372447],[-83.0156766425752,9.99298208255555],[-82.5461962552035,9.56613475182467],[-82.9328909980436,9.47681203860817],[-82.9271549140591,9.07433014570291],[-82.7191831123005,8.92570872643149],[-82.8686571927048,8.80726634361852],[-82.8297706774052,8.62629547773237],[-82.9131764391242,8.42351715741907],[-82.9657830471974,8.22502798098598]]]}},{"type":"Feature","properties":{"admin":"Cuba","name":"Cuba","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-82.268151211257,23.1886107447177],[-81.4044571601468,23.1172714299388],[-80.6187686835812,23.105980129483],[-79.6795236884602,22.7653032495988],[-79.2814859687321,22.3992015650271],[-78.3474344550565,22.5121662460171],[-77.9932958645603,22.2771935083859],[-77.146422492161,21.6578514673678],[-76.5238248359085,21.2068195663244],[-76.1946201239932,21.220565497314],[-75.5982224189127,21.0166244572741],[-75.671060350228,20.735091254148],[-74.9338960435845,20.6939051376114],[-74.1780248684513,20.2846277938597],[-74.2966481187772,20.0503785262807],[-74.9615946112929,19.9234353703557],[-75.6346801418946,19.8737743189232],[-76.323656175426,19.9528909367621],[-77.755480923153,19.8554808618919],[-77.0851084052467,20.4133537866988],[-77.4926545885166,20.6731053736139],[-78.1372922431416,20.7399488387834],[-78.4828267076612,21.0286133895658],[-78.719866502584,21.5981135116384],[-79.2849999661279,21.5591753199065],[-80.2174753486186,21.827324327069],[-80.5175345527214,22.0370789657418],[-81.8209433662032,22.1920565861851],[-82.1699918281186,22.3871092798707],[-81.7950017971926,22.636964830002],[-82.7758979967408,22.6881503361871],[-83.4944587877593,22.1685179712761],[-83.9088004218756,22.1545653345573],[-84.0521508450533,21.9105750594913],[-84.5470301988964,21.8012277287616],[-84.9749110582731,21.8960281438011],[-84.4470621406278,22.2049498560419],[-84.2303570218118,22.5657547063038],[-83.7782399156902,22.7881183944557],[-83.2675475735657,22.9830418970606],[-82.5104361640575,23.0787466496652],[-82.268151211257,23.1886107447177]]]}},{"type":"Feature","properties":{"admin":"Northern Cyprus","name":"N. Cyprus","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[32.7317802263774,35.1400259465884],[32.8024735857527,35.1455036484114],[32.9469608904408,35.3867033961337],[33.6672270037249,35.3732158473055],[34.5764738299005,35.6715955673588],[33.9008044776842,35.2457559270576],[33.9736165707835,35.058506374648],[33.8664396502101,35.0935946721742],[33.6753918800271,35.0178628606504],[33.5256852556775,35.0386884628641],[33.4758174985158,35.0003445501035],[33.4559220720835,35.1014236516664],[33.3838334490363,35.1627119003646],[33.190977003723,35.1731247014714],[32.9195723813261,35.0878327499736],[32.7317802263774,35.1400259465884]]]}},{"type":"Feature","properties":{"admin":"Cyprus","name":"Cyprus","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[33.9736165707835,35.058506374648],[34.00488081232,34.9780978460019],[32.9798271013784,34.5718694117554],[32.4902962582775,34.7016547714565],[32.256667107886,35.1032323267966],[32.7317802263774,35.1400259465884],[32.9195723813261,35.0878327499736],[33.190977003723,35.1731247014714],[33.3838334490363,35.1627119003646],[33.4559220720835,35.1014236516664],[33.4758174985158,35.0003445501035],[33.5256852556775,35.0386884628641],[33.6753918800271,35.0178628606504],[33.8664396502101,35.0935946721742],[33.9736165707835,35.058506374648]]]}},{"type":"Feature","properties":{"admin":"Czech Republic","name":"Czech Rep.","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[16.9602881201946,48.5969823268506],[16.4992826677188,48.7858080104451],[16.0296472510502,48.7338990342079],[15.253415561594,49.0390742051076],[14.9014473812541,48.9644017604458],[14.3388977393247,48.5553052842072],[13.5959456722644,48.8771719427371],[13.0313289730434,49.3070681829732],[12.5210242041612,49.5474152695627],[12.4151908708274,49.9691207952806],[12.2401111182226,50.2663377956073],[12.9668367855432,50.4840764430691],[13.3381319515603,50.7332343613643],[14.0562276546882,50.9269176295943],[14.3070133806006,51.1172677679414],[14.5707182145861,51.0023393825243],[15.0169958838587,51.1066740993216],[15.4909721208397,50.7847299261432],[16.2386267432386,50.6977326523798],[16.1762532894623,50.4226073268579],[16.7194759457144,50.2157465683935],[16.8687691586057,50.473973700556],[17.5545670915511,50.3621459010764],[17.649445021239,50.0490383978199],[18.3929138526222,49.9886286484707],[18.8531441586136,49.4962297633776],[18.5549711442895,49.4950153672188],[18.3999935238462,49.31500051533],[18.170498488038,49.2715147975564],[18.1049727718919,49.0439834661753],[17.9135115902505,48.9964928248991],[17.8864848161618,48.9034752467737],[17.5450069515771,48.8000190293254],[17.1019848975389,48.8169688991171],[16.9602881201946,48.5969823268506]]]}},{"type":"Feature","properties":{"admin":"Germany","name":"Germany","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[9.92190636560923,54.983104153048],[9.9395797054529,54.5966419541532],[10.9501123389205,54.3636070827332],[10.9394669938684,54.0086933457526],[11.9562524756433,54.1964855007011],[12.5184403825467,54.470370591848],[13.6474670752595,54.0755109727059],[14.1196863135426,53.757029120491],[14.3533154639342,53.2481712917131],[14.0745211117194,52.9812625189253],[14.4375997250022,52.6248501654083],[14.6850264828157,52.0899474147552],[14.6070984229196,51.74518809672],[15.0169958838588,51.1066740993217],[14.5707182145861,51.0023393825244],[14.3070133806007,51.1172677679414],[14.0562276546883,50.9269176295944],[13.3381319515604,50.7332343613643],[12.9668367855432,50.4840764430692],[12.2401111182227,50.2663377956072],[12.4151908708275,49.9691207952806],[12.5210242041613,49.5474152695627],[13.0313289730435,49.3070681829732],[13.5959456722646,48.8771719427372],[13.2433573747371,48.416114813829],[12.8841028174439,48.2891458196878],[13.0258512712205,47.6375835231359],[12.9326269873661,47.467645575544],[12.6207597184845,47.6723876002844],[12.1413574561129,47.7030834010658],[11.4264140153548,47.523766181013],[10.5445040218616,47.5663992376538],[10.4020837744653,47.3024876979392],[9.89606814946319,47.5801968450757],[9.59422610844638,47.5250580918202],[8.52261193200979,47.8308275416913],[8.31730146651409,47.6135798203363],[7.46675906742229,47.6205819769119],[7.59367638513106,48.3330191107037],[8.09927859867486,49.0177835150034],[6.65822960778371,49.2019583196916],[6.18632042809418,49.4638028021145],[6.24275109215699,49.9022256536787],[6.04307335778111,50.1280516627942],[6.15665815595878,50.8037210150106],[5.98865807457781,51.851615709025],[6.58939659997083,51.8520291204834],[6.84286950036238,52.2284402532975],[7.0920532568739,53.1440432806449],[6.90513960127413,53.4821621771306],[7.10042483890527,53.6939321966627],[7.93623945479396,53.7482958034338],[8.12170617028948,53.5277924668443],[8.80073449060467,54.0207856309089],[8.57211795414537,54.395646470754],[8.52622928227021,54.9627436387251],[9.28204878097114,54.8308653835163],[9.92190636560923,54.983104153048]]]}},{"type":"Feature","properties":{"admin":"Djibouti","name":"Djibouti","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[43.0812260272002,12.6996385767071],[43.3178524106647,12.390148423711],[43.2863814633989,11.9749282902459],[42.7158736508965,11.7356405705183],[43.1453048032421,11.4620396997489],[42.776851841001,10.9268785669344],[42.5549300000001,11.1051100000002],[42.3141400000001,11.0342],[41.7555700000002,11.05091],[41.7395900000002,11.3551100000001],[41.6617600000001,11.6312],[42.0000000000001,12.1000000000001],[42.3515600000001,12.5422300000001],[42.7796423683447,12.4554157576957],[43.0812260272002,12.6996385767071]]]}},{"type":"Feature","properties":{"admin":"Denmark","name":"Denmark","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[12.6900061377556,55.6099909531808],[12.0899910824147,54.8000145534379],[11.0435433285042,55.3648637966042],[10.9039136084516,55.7799547389887],[12.3709041683533,56.1114073757088],[12.6900061377556,55.6099909531808]]],[[[10.9121818376184,56.4586213242779],[10.66780398931,56.0813833685472],[10.369992710012,56.1900072292247],[9.64998497888931,55.469999498102],[9.92190636560917,54.983104153048],[9.28204878097114,54.8308653835162],[8.52622928227024,54.962743638725],[8.12031090661759,55.5177226833236],[8.08997684086225,56.5400117051376],[8.25658165857126,56.8099693874303],[8.54343753422339,57.1100027533169],[9.42446902836761,57.1720661484995],[9.77555870935856,57.4479407822897],[10.5800057308462,57.7300165879548],[10.5461059912627,57.2157327337861],[10.2500000342302,56.8900161810505],[10.369992710012,56.6099815944608],[10.9121818376184,56.4586213242779]]]]}},{"type":"Feature","properties":{"admin":"Dominican Republic","name":"Dominican Rep.","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-71.712361416293,19.7144558781674],[-71.5873044501466,19.8849105900821],[-70.8067061021617,19.880285549392],[-70.2143649970161,19.6228852401462],[-69.9508151923276,19.64799998624],[-69.7692500474701,19.2932671167724],[-69.2221258205799,19.3132142196371],[-69.2543460761138,19.0151962346099],[-68.8094119940808,18.9790744084378],[-68.317943284769,18.6121975773817],[-68.6893159654345,18.2051423202186],[-69.1649458482489,18.4226484237351],[-69.6239875962976,18.3807129989302],[-69.9529339260515,18.4283069930711],[-70.1332329983179,18.2459150252969],[-70.5171372138142,18.1842908797888],[-70.6692984686976,18.426885891183],[-70.9999501207172,18.2833287622762],[-71.4002099270339,17.5985643579766],[-71.657661912712,17.7575727401387],[-71.708304816358,18.0449970565461],[-71.6877375963059,18.3166600611045],[-71.9451120673355,18.6169001327203],[-71.7013026597825,18.7854169784241],[-71.6248732164228,19.1698379582433],[-71.712361416293,19.7144558781674]]]}},{"type":"Feature","properties":{"admin":"Algeria","name":"Algeria","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[11.9995056494716,23.4716684025964],[8.57289310062978,21.5656607121591],[5.67756595218068,19.6012069767997],[4.26741946780004,19.155265204337],[3.1581331722227,19.05736420336],[3.1466610042539,19.6935785995214],[2.68358849448643,19.8562301701601],[2.06099083823392,20.1422333846795],[1.82322757325903,20.610809434486],[-1.55005489745761,22.7926659204974],[-4.92333736817423,24.974574082941],[-8.68439978680905,27.395744126896],[-8.66512447756419,27.5894790715582],[-8.66558956545481,27.6564258895924],[-8.67411617678297,28.8412889673966],[-7.05922766766193,29.5792284205245],[-6.06063229005377,29.7316997340017],[-5.24212927898279,30.0004430201356],[-4.85964616537447,30.5011876490438],[-3.6904410465547,30.8969516057512],[-3.64749793132015,31.6372940129807],[-3.06898027181265,31.7244979924732],[-2.61660478352957,32.0943462183861],[-1.30789913573787,32.2628889023061],[-1.12455115396631,32.6515215113571],[-1.38804928222257,32.8640150009413],[-1.73345455566147,33.919712836232],[-1.79298580566169,34.5279186060912],[-2.16991370279862,35.1683963079167],[-1.20860287108906,35.7148487411871],[-0.127454392894606,35.8886624212008],[0.503876580415209,36.3012728948353],[1.46691857260655,36.6056470810344],[3.16169884605082,36.7839049342252],[4.81575809084913,36.8650369329235],[5.32012007001779,36.7165188665166],[6.26181969567261,37.1106550156067],[7.33038496260397,37.1183806422344],[7.737078484741,36.8857075058402],[8.42096438969167,36.9464273137832],[8.21782433435231,36.4331769882603],[8.37636762862377,35.4798760035559],[8.1409814795343,34.6551459823938],[7.52448164229224,34.0973764104515],[7.61264163578218,33.344114895149],[8.43047285323337,32.7483373072559],[8.43910281742612,32.5062848984008],[9.05560265466815,32.1026919622013],[9.48213992680527,30.3075560572462],[9.80563439295241,29.4246383733234],[9.85999799972344,28.959989732371],[9.68388471847277,28.1441738957792],[9.75612837081678,27.6882585718841],[9.62905602381107,27.1409534774809],[9.71628584151975,26.5122063257857],[9.31941084151816,26.0943248560574],[9.91069257980177,25.3654546167967],[9.94826134607797,24.9369536402325],[10.3038468766784,24.3793132593709],[10.7713635596229,24.5625320500617],[11.560669386449,24.0979092473255],[11.9995056494716,23.4716684025964]]]}},{"type":"Feature","properties":{"admin":"Ecuador","name":"Ecuador","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-80.3025605943872,-3.40485645916471],[-79.7702933417809,-2.65751189535964],[-79.9865592109224,-2.22079436606101],[-80.3687839423692,-2.68515878663579],[-80.9677654690643,-2.2469426408007],[-80.764806281238,-1.96504770264853],[-80.9336590237517,-1.05745452230636],[-80.5833703274612,-0.906662692878683],[-80.3993247138537,-0.283703301600141],[-80.0208982001804,0.360340074053468],[-80.0906097073421,0.768428859862396],[-79.5427620103998,0.982937730305963],[-78.8552587551887,1.38092377360182],[-77.8550614081795,0.809925034992773],[-77.6686128404704,0.825893052570961],[-77.4249843004304,0.395686753741117],[-76.5763797675494,0.256935533037435],[-76.2923144192409,0.416047268064119],[-75.8014658271166,0.084801337073202],[-75.3732232327138,-0.15203175212045],[-75.2337227037419,-0.911416924649529],[-75.544995693652,-1.56160979574588],[-76.6353942532267,-2.60867766684382],[-77.8379048326586,-3.0030205216631],[-78.4506839667756,-3.87309661216138],[-78.6398972236123,-4.54778411216407],[-79.2052890693177,-4.95912851320739],[-79.6249792141762,-4.45419809328349],[-80.0289080471856,-4.34609099692889],[-80.4422419908721,-4.42572437909067],[-80.4692946031769,-4.059286797709],[-80.1840148587097,-3.82116179770804],[-80.3025605943872,-3.40485645916471]]]}},{"type":"Feature","properties":{"admin":"Egypt","name":"Egypt","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[34.9226,29.50133],[34.64174,29.09942],[34.42655,28.34399],[34.15451,27.8233],[33.92136,27.6487],[33.58811,27.97136],[33.13676,28.41765],[32.42323,29.85108],[32.32046,29.76043],[32.73482,28.70523],[33.34876,27.69989],[34.10455,26.14227],[34.47387,25.59856],[34.79507,25.03375],[35.69241,23.92671],[35.49372,23.75237],[35.52598,23.10244],[36.69069,22.20485],[36.86623,22],[32.9,22],[29.02,22],[25,22],[25,25.682499996361],[25,29.2386545295335],[24.70007,30.04419],[24.95762,30.6616],[24.80287,31.08929],[25.16482,31.56915],[26.49533,31.58568],[27.45762,31.32126],[28.45048,31.02577],[28.91353,30.87005],[29.68342,31.18686],[30.09503,31.4734],[30.97693,31.55586],[31.68796,31.4296],[31.96041,30.9336],[32.19247,31.26034],[32.99392,31.02407],[33.7734,30.96746],[34.26544,31.21936],[34.9226,29.50133]]]}},{"type":"Feature","properties":{"admin":"Eritrea","name":"Eritrea","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[42.3515600000001,12.5422300000001],[42.00975,12.86582],[41.59856,13.4520900000001],[41.1551937192498,13.7733198104352],[40.8966,14.1186400000001],[40.0262187029692,14.5195791691623],[39.34061,14.53155],[39.0994,14.74064],[38.51295,14.50547],[37.90607,14.9594300000002],[37.59377,14.2131],[36.42951,14.42211],[36.3231889177981,14.8224805770411],[36.7538603045186,16.2918740910443],[36.8525300000001,16.95655],[37.16747,17.2631400000001],[37.9040000000001,17.42754],[38.4100899594732,17.9983073999703],[38.99062299984,16.8406261255517],[39.266110060388,15.9227234969672],[39.8142936541402,15.4356472844003],[41.1792749366976,14.4910796167532],[41.7349516131323,13.9210368921416],[42.2768306821449,13.3439920109544],[42.5895764503753,13.0004212508619],[43.0812260272002,12.6996385767071],[42.7796423683447,12.4554157576957],[42.3515600000001,12.5422300000001]]]}},{"type":"Feature","properties":{"admin":"Spain","name":"Spain","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[-9.03481767418024,41.8805705836597],[-8.98443315269567,42.5927751735063],[-9.39288367353064,43.0266246608127],[-7.97818966310831,43.748337714201],[-6.75449174643675,43.5679094508539],[-5.4118863590616,43.5742398138097],[-4.34784277995578,43.403449205085],[-3.51753170410609,43.4559007838613],[-1.90135128417776,43.4228020289783],[-1.50277096191053,43.0340143906304],[0.338046909190581,42.5795460068395],[0.701590610363894,42.7957343613326],[1.82679324708715,42.3433847112657],[2.98599897625846,42.4730150416699],[3.03948408368055,41.8921202662769],[2.09184166831218,41.2260885686831],[0.810524529635188,41.0147319606093],[0.721331007499401,40.6783183863892],[0.106691521819869,40.123933620762],[-0.278711310212941,39.3099781357327],[0.111290724293838,38.738514309233],[-0.467123582349103,38.2923658310411],[-0.683389451490598,37.6423538274578],[-1.43838212727485,37.4430636663242],[-2.14645260253812,36.6741441920373],[-3.41578080892339,36.6588996445112],[-4.36890092611472,36.6778390569461],[-4.99521928549221,36.3247081568796],[-5.37715979656146,35.9468500839615],[-5.8664322575009,36.0298165960061],[-6.23669389487217,36.3676771103303],[-6.5201908024254,36.9429133163873],[-7.45372555177809,37.0977875839661],[-7.53710547528102,37.4289043238762],[-7.16650794109986,37.8038943548022],[-7.02928117514879,38.0757640650898],[-7.37409216961632,38.3730585800649],[-7.09803666831313,39.0300727402238],[-7.49863237143972,39.6295710312418],[-7.06659155926353,39.7118915878828],[-7.02641313315659,40.1845242376242],[-6.86401994467938,40.3308718938748],[-6.85112667482255,41.1110826686175],[-6.38908769370091,41.3818154973946],[-6.66860551596766,41.8833869492196],[-7.25130896649082,41.918346055665],[-7.42251298667379,41.7920746933598],[-8.01317460776991,41.7908861354171],[-8.26385698081779,42.2804686549503],[-8.67194576662672,42.134689439455],[-9.03481767418024,41.8805705836597]]]}},{"type":"Feature","properties":{"admin":"Estonia","name":"Estonia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[24.3128625831146,57.793423570377],[24.4289278500422,58.3834133978533],[24.0611983578532,58.2573745794934],[23.4265600928767,58.6127534043646],[23.3397953630586,59.1872403021534],[24.6042143083762,59.465853786855],[25.8641890805166,59.6110903998113],[26.9491357764845,59.4458033311258],[27.9811141293532,59.4753880886129],[28.1316992530517,59.3008251003309],[27.4201664568249,58.7245812038442],[27.7166858253157,57.7918991156244],[27.2881848487515,57.4745283067038],[26.4635323422378,57.4763886582663],[25.6028096859844,57.8475287949866],[25.1645935401493,57.9701569688152],[24.3128625831146,57.793423570377]]]}},{"type":"Feature","properties":{"admin":"Ethiopia","name":"Ethiopia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[37.90607,14.9594300000002],[38.51295,14.50547],[39.0994,14.74064],[39.34061,14.53155],[40.0262500000001,14.51959],[40.8966,14.1186400000001],[41.1552,13.77333],[41.59856,13.4520900000001],[42.00975,12.86582],[42.3515600000001,12.5422300000001],[42.0000000000001,12.1000000000001],[41.6617600000001,11.6312],[41.7395900000002,11.3551100000001],[41.7555700000002,11.05091],[42.3141400000001,11.0342],[42.5549300000001,11.1051100000002],[42.776851841001,10.9268785669344],[42.55876,10.5725800000001],[42.92812,10.0219400000001],[43.29699,9.54048000000017],[43.67875,9.18358000000012],[46.94834,7.99688],[47.78942,8.003],[44.9636,5.00162000000012],[43.66087,4.95755],[42.7696700000001,4.25259000000022],[42.12861,4.23413000000016],[41.8550830926441,3.91891192048376],[41.1718000000001,3.91909],[40.7684800000001,4.25702000000012],[39.8549400000001,3.83879000000013],[39.5593842587659,3.42206000000022],[38.89251,3.50074],[38.67114,3.61607],[38.4369700000001,3.58851],[38.1209150000001,3.598605],[36.8550932380082,4.44786412767286],[36.1590786328556,4.44786412767286],[35.8174476623536,4.77696566346202],[35.8174476623536,5.33823208279085],[35.2980071182331,5.506],[34.70702,6.59422000000012],[34.25032,6.82607],[34.0751000000002,7.22595],[33.56829,7.71334],[32.9541800000002,7.7849700000001],[33.2948000000001,8.35458],[33.8255000000001,8.37916],[33.97498,8.68456000000015],[33.96162,9.58358],[34.25745,10.63009],[34.7311500000001,10.9101700000001],[34.8316300000001,11.3189600000001],[35.26049,12.08286],[35.8636300000002,12.57828],[36.27022,13.5633300000001],[36.42951,14.42211],[37.59377,14.2131],[37.90607,14.9594300000002]]]}},{"type":"Feature","properties":{"admin":"Finland","name":"Finland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[28.5919295590432,69.0647769232866],[28.4459436378187,68.364612942164],[29.9774263852206,67.6982970241926],[29.0545886573523,66.9442862006219],[30.21765,65.80598],[29.544429559047,64.9486715765905],[30.4446846860037,64.2044534369391],[30.0358724301427,63.5528136257385],[31.5160921567111,62.8676874864129],[31.1399910824909,62.3576927761244],[30.2111072120444,61.7800277777497],[28.0699975928953,60.5035165472758],[26.255172967237,60.4239606797625],[24.4966239763445,60.0573163926516],[22.8696948584995,59.8463731960362],[22.2907637875336,60.3919212917415],[21.3222440935193,60.7201699896595],[21.5448661638327,61.7053294948718],[21.0592110531537,62.6073932969587],[21.5360294939108,63.1897350124559],[22.442744174904,63.8178103705313],[24.7305115088975,64.9023436550408],[25.3980676612439,65.1114265000937],[25.2940430030404,65.5343464219704],[23.9033785336338,66.0069273952796],[23.5658797543356,66.3960509304374],[23.5394730974344,67.9360086127352],[21.9785347836261,68.6168456081807],[20.6455928890895,69.1062472602009],[21.2449361508107,69.3704430202931],[22.3562378272474,68.8417414415149],[23.6620495948308,68.8912474636505],[24.7356791521267,68.6495567898215],[25.6892126807764,69.092113755969],[26.1796220232262,69.8252989773261],[27.7322921078679,70.1641930202962],[29.015572950972,69.766491197378],[28.5919295590432,69.0647769232866]]]}},{"type":"Feature","properties":{"admin":"Fiji","name":"Fiji","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[178.3736,-17.33992],[178.71806,-17.62846],[178.55271,-18.15059],[177.93266,-18.28799],[177.38146,-18.16432],[177.28504,-17.72465],[177.67087,-17.38114],[178.12557,-17.50481],[178.3736,-17.33992]]],[[[179.364142661964,-16.8013540769468],[178.725059362997,-17.012041674368],[178.596838595117,-16.63915],[179.096609362997,-16.4339842775474],[179.413509362997,-16.3790542775474],[180,-16.0671326636424],[180,-16.5552165666392],[179.364142661964,-16.8013540769468]]],[[[-179.917369384765,-16.5017831356494],[-180,-16.5552165666392],[-180,-16.0671326636424],[-179.793320109049,-16.0208822567412],[-179.917369384765,-16.5017831356494]]]]}},{"type":"Feature","properties":{"admin":"Falkland Islands","name":"Falkland Is.","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-61.2,-51.85],[-60,-51.25],[-59.15,-51.5],[-58.55,-51.1],[-57.75,-51.55],[-58.05,-51.9],[-59.4,-52.2],[-59.85,-51.85],[-60.7,-52.3],[-61.2,-51.85]]]}},{"type":"Feature","properties":{"admin":"France","name":"France","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-52.5564247300184,2.50470530843705],[-52.939657151895,2.12485769287562],[-53.4184651352953,2.05338918701604],[-53.5548392401135,2.33489655192596],[-53.7785206772889,2.37670278565005],[-54.0880625067173,2.10555654541463],[-54.5247541977997,2.31184886312379],[-54.2712296209758,2.73874787028694],[-54.1842840236447,3.19417226807523],[-54.0115038722768,3.62256989177486],[-54.3995422023565,4.21261139568348],[-54.4786329819792,4.89675568279564],[-53.9580446030709,5.75654816326781],[-53.6184529282648,5.6465290389184],[-52.8821412827541,5.4098509790216],[-51.8233428615259,4.56576813396614],[-51.6577974106789,4.15623240805303],[-52.249337531124,3.24109446859629],[-52.5564247300184,2.50470530843705]]],[[[9.56001631026913,42.1524919703796],[9.22975223149177,41.3800068222644],[8.77572309737536,41.5836119654944],[8.54421268070783,42.2565166285831],[8.74600914880759,42.6281218531939],[9.3900008480289,43.0099848496147],[9.56001631026913,42.1524919703796]]],[[[3.58818444175571,50.3789924180036],[4.28602298342514,49.9074966497725],[4.79922163251575,49.9853730332363],[5.67405195478489,49.5294835475574],[5.89775923017638,49.4426671413072],[6.1863204280942,49.4638028021144],[6.65822960778354,49.2019583196916],[8.09927859867477,49.0177835150034],[7.59367638513106,48.3330191107037],[7.46675906742223,47.6205819769119],[7.19220218265553,47.449765529971],[6.73657107913809,47.5418012558829],[6.76871382002363,47.2877082383037],[6.03738895022897,46.7257787135619],[6.02260949059357,46.2729898138205],[6.50009972497045,46.4296727565294],[6.84359297041456,45.9911465521007],[6.80235517744566,45.7085798203287],[7.09665245934784,45.3330988632959],[6.74995527510171,45.0285179713676],[7.00756229007666,44.2547667506614],[7.54959638838616,44.1279011093848],[7.43518476729184,43.6938449163492],[6.52924523278307,43.1288923203184],[4.5569625179314,43.3996509873116],[3.10041059735272,43.0752005071671],[2.98599897625849,42.4730150416699],[1.82679324708718,42.3433847112657],[0.701590610363922,42.7957343613326],[0.338046909190581,42.5795460068396],[-1.50277096191047,43.0340143906305],[-1.90135128417774,43.4228020289783],[-1.38422522623296,44.0226103785902],[-1.19379757323736,46.0149177109549],[-2.22572424967379,47.0643626979382],[-2.96327612955957,47.570326646508],[-4.49155493815948,47.9549543320564],[-4.59234981934475,48.6841604681269],[-3.29581397135775,48.9016924098596],[-1.61651078938493,48.6444212916946],[-1.93349402506325,49.7763418646158],[-0.98946895995536,49.3473758001609],[1.33876102052275,50.1271731634453],[1.6390010921385,50.9466063502975],[2.51357303224617,51.1485061712619],[2.65842207196033,50.7968480495156],[3.12325158042572,50.7803632676145],[3.58818444175571,50.3789924180036]]]]}},{"type":"Feature","properties":{"admin":"Gabon","name":"Gabon","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[11.0937728206919,-3.97882659263055],[10.0661352881357,-2.96948251710568],[9.40524539555497,-2.14431324626904],[8.79799563969317,-1.1113013647545],[8.83008670414642,-0.779073581550037],[9.04841963057959,-0.459351494960217],[9.29135053878369,0.268666083167687],[9.49288862472198,1.01011953369149],[9.83028405115564,1.0678937849938],[11.2850789730365,1.05766185140001],[11.2764490088437,2.26105093018087],[11.7516654801998,2.32675751383999],[12.3593803239522,2.19281220133945],[12.9513338558556,2.32161570882694],[13.0758223812468,2.26709707275901],[13.0031136410121,1.83089630778332],[13.2826314632788,1.31418366129688],[14.0266687354172,1.39567739502115],[14.276265903387,1.19692983642662],[13.8433207536457,0.038757635901149],[14.3164184912777,-0.552627455247048],[14.4254557634136,-1.33340667074497],[14.2992102393246,-1.99827564861221],[13.9924072608077,-2.4708049454891],[13.1096187679656,-2.42874032960351],[12.5752844580676,-1.94851124431513],[12.4957027523382,-2.39168832765024],[11.8209635759032,-2.51416147218198],[11.4780387712143,-2.76561899171424],[11.8551216976481,-3.42687061932105],[11.0937728206919,-3.97882659263055]]]}},{"type":"Feature","properties":{"admin":"United Kingdom","name":"United Kingdom","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-5.6619486149219,54.5546031764838],[-6.19788489422098,53.8675650091633],[-6.95373023113799,54.0737022975756],[-7.57216793459108,54.059956366586],[-7.36603064617879,54.5958409694527],[-7.57216793459108,55.1316222194549],[-6.73384701173614,55.1728600124238],[-5.6619486149219,54.5546031764838]]],[[[-3.00500484863528,58.6350001084663],[-4.07382849772802,57.5530248073553],[-3.05500179687766,57.6900190293609],[-1.95928056477692,57.6847997096995],[-2.2199881656893,56.8700174017535],[-3.11900305827112,55.9737930365155],[-2.08500932454302,55.9099984808513],[-2.00567567967386,55.8049028503502],[-1.11499101399221,54.6249864772654],[-0.4304849918542,54.4643761257021],[0.184981316742039,53.325014146531],[0.469976840831777,52.929999498092],[1.68153079591474,52.739520168664],[1.55998782716438,52.099998480836],[1.05056155763091,51.8067605657957],[1.4498653499503,51.289427802122],[0.550333693045502,50.7657388372759],[-0.787517462558639,50.7749889186562],[-2.48999752441438,50.5000186224312],[-2.95627397298404,50.696879991247],[-3.61744808594233,50.2283556178727],[-4.54250790039924,50.3418370631857],[-5.24502315919113,49.9599999049811],[-5.7765669417453,50.1596776393568],[-4.30998979330184,51.2100011256891],[-3.41485063314212,51.4260086126692],[-3.42271946710832,51.4268481674061],[-4.98436723471087,51.593466091511],[-5.26729570150889,51.9914004583746],[-4.22234656413485,52.3013556992614],[-4.77001339356411,52.8400049912556],[-4.57999915202691,53.4950037705552],[-3.09383067378866,53.4045474006697],[-3.09207963704711,53.4044408229635],[-2.94500851074434,53.9849997015467],[-3.61470082543303,54.6009367732926],[-3.63000545898933,54.615012925833],[-4.844169073903,54.7909711777868],[-5.08252661784922,55.0616006536994],[-4.71911210775664,55.5084726019435],[-5.04798092286211,55.7839855007075],[-5.58639767091114,55.3111461452368],[-5.64499874513018,56.2750149603448],[-6.14998084148635,56.7850096706335],[-5.78682471355529,57.8188483750646],[-5.00999874512757,58.63001333275],[-4.21149451335356,58.5508450384792],[-3.00500484863528,58.6350001084663]]]]}},{"type":"Feature","properties":{"admin":"Georgia","name":"Georgia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[41.5540841001107,41.5356562363276],[41.7031706072727,41.9629428167329],[41.4534700864384,42.6451233994179],[40.8754691912538,43.0136280380913],[40.3213944842203,43.1286339381568],[39.9550085792709,43.4349976669992],[40.0769649594798,43.5531041530023],[40.9221846860456,43.3821585149808],[42.3943945656088,43.2203079290426],[43.7560168800674,42.7408281520225],[43.9311999855368,42.5549738632848],[44.537622918482,42.7119927028036],[45.4702791684857,42.50278066667],[45.7764103533828,42.0924439560564],[46.4049507993488,41.8606751572273],[46.145431756379,41.7228024358726],[46.6379081561206,41.1816726751282],[46.5016374041669,41.0644446884741],[45.9626005389304,41.1238725856098],[45.2174263852816,41.411451931314],[44.9724800962181,41.2481285670556],[43.5827458025927,41.0921432561826],[42.6195487811045,41.5831727158199],[41.5540841001107,41.5356562363276]]]}},{"type":"Feature","properties":{"admin":"Ghana","name":"Ghana","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[1.06012169760493,5.92883738852888],[-0.507637905265938,5.34347260174268],[-1.06362464029419,5.00054779705381],[-1.96470659016759,4.71046214438337],[-2.8561250472024,4.99447581625951],[-2.81070146321784,5.38905121502411],[-3.24437008301126,6.2504715031135],[-2.98358496745033,7.37970490155551],[-2.56218950032624,8.21962779381148],[-2.82749630371271,9.64246084231978],[-2.96389624674711,10.3953347843801],[-2.94040930827046,10.9626903345126],[-1.20335771321143,11.0098192407627],[-0.761575893548183,10.9369296330151],[-0.438701544588582,11.0983409692787],[0.023802524423701,11.0186817489008],[-0.049784715159944,10.7069178328839],[0.367579990245389,10.1912128768272],[0.365900506195885,9.46500397382948],[0.461191847342121,8.67722260175601],[0.712029249686878,8.31246450442383],[0.490957472342245,7.41174428957647],[0.570384148774849,6.91435862876719],[0.836931186536333,6.27997874595215],[1.06012169760493,5.92883738852888]]]}},{"type":"Feature","properties":{"admin":"Guinea","name":"Guinea","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-8.4392984684487,7.68604279218174],[-8.72212358238212,7.71167430259851],[-8.926064622422,7.30903738039638],[-9.20878638349084,7.31392080324795],[-9.40334815106975,7.52690521893891],[-9.33727983238458,7.92853445071135],[-9.75534216962583,8.54105520266692],[-10.0165665348613,8.42850393313523],[-10.2300935530913,8.40620555260129],[-10.5054772607747,8.3488963891896],[-10.4943151513996,8.71554067630043],[-10.6547704736659,8.97717845299419],[-10.622395188835,9.26791006106828],[-10.8391519840833,9.68824616133037],[-11.1174812484073,10.0458729110063],[-11.9172773909887,10.0469839543006],[-12.150338100625,9.85857168216438],[-12.4259285140376,9.83583405195595],[-12.5967191227622,9.62018830000197],[-12.7119575667731,9.34271169681077],[-13.2465502588325,8.90304861087151],[-13.6851539779098,9.49474376061346],[-14.0740449691223,9.88616689700825],[-14.3300758529124,10.015719712764],[-14.5796988590983,10.2144672713585],[-14.6932319808435,10.656300767454],[-14.8395537988779,10.8765715600981],[-15.1303112451682,11.0404116886795],[-14.6856872217289,11.5278237980565],[-14.3821915348787,11.5092719588637],[-14.1214064193178,11.6771170109477],[-13.9007997298638,11.6787189803487],[-13.7431607731574,11.8112690291774],[-13.8282718571421,12.142644151249],[-13.7187436588995,12.2471855737755],[-13.7004760400843,12.5861829696102],[-13.2178181624782,12.575873521368],[-12.4990506657306,12.3320899520311],[-12.2785990055734,12.3544400089973],[-12.2035648258856,12.4656476912894],[-11.6583009505579,12.3865827498828],[-11.5139428369506,12.4429875757294],[-11.4561685856483,12.0768342147253],[-11.2975736149445,12.0779710962358],[-11.0365559554383,12.2112446151165],[-10.8708296370782,12.1778874780721],[-10.5932238428063,11.923975328006],[-10.1652137923488,11.8440835636827],[-9.89099280439201,12.060478623905],[-9.56791174970321,12.1942430688925],[-9.32761633954601,12.3342862004035],[-9.12747351727958,12.3080604110153],[-8.90526485842453,12.0883580591264],[-8.78609900555946,11.8125609399847],[-8.37630489748491,11.3936459416106],[-8.58130530438677,11.1362456323648],[-8.62032101076713,10.8108908146552],[-8.40731075686003,10.9092569035228],[-8.28235714357828,10.7925973576238],[-8.33537716310974,10.4948119165419],[-8.02994361004862,10.2065349390017],[-8.22933712404682,10.1290202905639],[-8.30961646161225,9.78953196862244],[-8.07911373537435,9.37622386315203],[-7.83210038901919,8.57570425051863],[-8.20349890790088,8.45545319257545],[-8.29904863120856,8.3164435897103],[-8.2217923649322,8.12332876223557],[-8.28070349774494,7.68717967369216],[-8.4392984684487,7.68604279218174]]]}},{"type":"Feature","properties":{"admin":"Gambia","name":"Gambia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-16.8415246240813,13.1513939478026],[-16.7137288070235,13.5949586043799],[-15.6245963200399,13.6235873478696],[-15.3987703109245,13.8603687606309],[-15.0817353988138,13.876491807506],[-14.6870308089685,13.6303569604998],[-14.3767138330558,13.6256802433774],[-14.0469923568175,13.7940678980004],[-13.8449633447724,13.505041612192],[-14.2777017887846,13.2805850285322],[-14.7121972314946,13.2982066919438],[-15.1411632959495,13.5095116235852],[-15.5118125065629,13.2785696476729],[-15.691000535535,13.2703530949385],[-15.9312959456922,13.1302841252113],[-16.8415246240813,13.1513939478026]]]}},{"type":"Feature","properties":{"admin":"Guinea Bissau","name":"Guinea-Bissau","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-15.1303112451682,11.0404116886795],[-15.6641804671755,11.4584740259208],[-16.0852141992736,11.5245940210382],[-16.3147867497302,11.8065147974065],[-16.3089473128812,11.9587018905061],[-16.6138382634033,12.1709111597127],[-16.6774519515546,12.3848515894011],[-16.1477168441306,12.5477615422012],[-15.8165742660043,12.5155671248833],[-15.548476935274,12.6281700708473],[-13.7004760400843,12.5861829696102],[-13.7187436588995,12.2471855737755],[-13.8282718571421,12.142644151249],[-13.7431607731574,11.8112690291774],[-13.9007997298638,11.6787189803487],[-14.1214064193178,11.6771170109477],[-14.3821915348787,11.5092719588637],[-14.6856872217289,11.5278237980565],[-15.1303112451682,11.0404116886795]]]}},{"type":"Feature","properties":{"admin":"Equatorial Guinea","name":"Eq. Guinea","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[9.49288862472198,1.01011953369149],[9.30561323409626,1.16091136311918],[9.64915815597263,2.28386607503774],[11.2764490088437,2.26105093018087],[11.2850789730365,1.05766185140001],[9.83028405115564,1.0678937849938],[9.49288862472198,1.01011953369149]]]}},{"type":"Feature","properties":{"admin":"Greece","name":"Greece","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[23.699980096133,35.7050043808355],[24.2466650733487,35.3680223658602],[25.0250154965289,35.424995632462],[25.7692077979642,35.3540180527091],[25.7450232276516,35.1799976669662],[26.2900028826017,35.2999903427479],[26.1649975928877,35.0049954290098],[24.7249821306423,34.9199876978896],[24.7350073585069,35.0849905461976],[23.5149784685281,35.279991563451],[23.699980096133,35.7050043808355]]],[[[26.6041955909363,41.5621145696611],[26.2946020850758,40.9362612981742],[26.0569421729655,40.8241234401008],[25.4476770362442,40.8525454778615],[24.9258484229609,40.9470616725232],[23.7148112322008,40.6871292180951],[24.4079988949641,40.1249929876241],[23.8999678891026,39.9620055201756],[23.3429993018608,39.9609978297458],[22.813987664489,40.4760051539666],[22.6262988624048,40.2565611842392],[22.8497477556348,39.6593108180258],[23.3500272966526,39.1900112981673],[22.9730993995155,38.9709032252497],[23.530016310325,38.5100011256385],[24.0250248552489,38.2199929876164],[24.0400110206136,37.6550145533694],[23.1150028825891,37.9200112981622],[23.4099719581111,37.4099907496574],[22.7749719581086,37.3050100774566],[23.1542252946986,36.422505804992],[22.4900281104511,36.4100001083774],[21.6700264828437,36.8449864771942],[21.2950106137016,37.6449893255047],[21.1200342139613,38.3103233912627],[20.7300321794546,38.7699852564988],[20.2177120297129,39.3402346868396],[20.1500159034105,39.624997666984],[20.6150004411728,40.1100068222594],[20.6749967790636,40.4349999049431],[20.9999898617473,40.580003973954],[21.0200403174764,40.8427269557259],[21.674160597427,40.931274522458],[22.0553776384443,41.1498658310527],[22.597308383889,41.1304871689432],[22.76177,41.3048],[22.9523771501666,41.3379938828112],[23.6920736019925,41.3090809189439],[24.492644891058,41.583896185872],[25.1972013689255,41.2344859889307],[26.1061381365072,41.3288988307278],[26.1170418637209,41.8269046087247],[26.6041955909363,41.5621145696611]]]]}},{"type":"Feature","properties":{"admin":"Greenland","name":"Greenland","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-46.76379,82.62796],[-43.40644,83.22516],[-39.89753,83.18018],[-38.62214,83.54905],[-35.08787,83.64513],[-27.10046,83.51966],[-20.84539,82.72669],[-22.69182,82.34165],[-26.51753,82.29765],[-31.9,82.2],[-31.39646,82.02154],[-27.85666,82.13178],[-24.84448,81.78697],[-22.90328,82.09317],[-22.07175,81.73449],[-23.16961,81.15271],[-20.62363,81.52462],[-15.76818,81.91245],[-12.77018,81.71885],[-12.20855,81.29154],[-16.28533,80.58004],[-16.85,80.35],[-20.04624,80.17708],[-17.73035,80.12912],[-18.9,79.4],[-19.70499,78.75128],[-19.67353,77.63859],[-18.47285,76.98565],[-20.03503,76.94434],[-21.67944,76.62795],[-19.83407,76.09808],[-19.59896,75.24838],[-20.66818,75.15585],[-19.37281,74.29561],[-21.59422,74.22382],[-20.43454,73.81713],[-20.76234,73.46436],[-22.17221,73.30955],[-23.56593,73.30663],[-22.31311,72.62928],[-22.29954,72.18409],[-24.27834,72.59788],[-24.79296,72.3302],[-23.44296,72.08016],[-22.13281,71.46898],[-21.75356,70.66369],[-23.53603,70.471],[-24.30702,70.85649],[-25.54341,71.43094],[-25.20135,70.75226],[-26.36276,70.22646],[-23.72742,70.18401],[-22.34902,70.12946],[-25.02927,69.2588],[-27.74737,68.47046],[-30.67371,68.12503],[-31.77665,68.12078],[-32.81105,67.73547],[-34.20196,66.67974],[-36.35284,65.9789],[-37.04378,65.93768],[-38.37505,65.69213],[-39.81222,65.45848],[-40.66899,64.83997],[-40.68281,64.13902],[-41.1887,63.48246],[-42.81938,62.68233],[-42.41666,61.90093],[-42.86619,61.07404],[-43.3784,60.09772],[-44.7875,60.03676],[-46.26364,60.85328],[-48.26294,60.85843],[-49.23308,61.40681],[-49.90039,62.38336],[-51.63325,63.62691],[-52.14014,64.27842],[-52.27659,65.1767],[-53.66166,66.09957],[-53.30161,66.8365],[-53.96911,67.18899],[-52.9804,68.35759],[-51.47536,68.72958],[-51.08041,69.14781],[-50.87122,69.9291],[-52.013585,69.574925],[-52.55792,69.42616],[-53.45629,69.283625],[-54.68336,69.61003],[-54.75001,70.28932],[-54.35884,70.821315],[-53.431315,70.835755],[-51.39014,70.56978],[-53.10937,71.20485],[-54.00422,71.54719],[-55,71.4065369672726],[-55.83468,71.65444],[-54.71819,72.58625],[-55.32634,72.95861],[-56.12003,73.64977],[-57.32363,74.71026],[-58.59679,75.09861],[-58.58516,75.51727],[-61.26861,76.10238],[-63.39165,76.1752],[-66.06427,76.13486],[-68.50438,76.06141],[-69.66485,76.37975],[-71.40257,77.00857],[-68.77671,77.32312],[-66.76397,77.37595],[-71.04293,77.63595],[-73.297,78.04419],[-73.15938,78.43271],[-69.37345,78.91388],[-65.7107,79.39436],[-65.3239,79.75814],[-68.02298,80.11721],[-67.15129,80.51582],[-63.68925,81.21396],[-62.23444,81.3211],[-62.65116,81.77042],[-60.28249,82.03363],[-57.20744,82.19074],[-54.13442,82.19962],[-53.04328,81.88833],[-50.39061,82.43883],[-48.00386,82.06481],[-46.59984,81.985945],[-44.523,81.6607],[-46.9007,82.19979],[-46.76379,82.62796]]]}},{"type":"Feature","properties":{"admin":"Guatemala","name":"Guatemala","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-90.095554572291,13.7353376327007],[-90.6086240303008,13.9097714299019],[-91.232410244496,13.927832342988],[-91.6897466702791,14.1262181665565],[-92.2277500068698,14.5388286401909],[-92.2032295397473,14.8301028508041],[-92.087215949252,15.0645846623284],[-92.2292486234063,15.2514466414959],[-91.7479601712559,16.0665648462517],[-90.4644726224227,16.0695620793247],[-90.438866950222,16.4101097681281],[-90.6008467272409,16.4707778996388],[-90.7118218655877,16.6874830184547],[-91.0816700915006,16.9184766707994],[-91.4539212715151,17.2521772323242],[-91.0022692532842,17.2546577010742],[-91.0015199450159,17.8175949162457],[-90.067933519231,17.8193260767275],[-89.1430804105033,17.8083189966493],[-89.1508060371309,17.0155766870758],[-89.2291216702693,15.8869375676052],[-88.9306127591352,15.8872734644151],[-88.6045861478058,15.7063801131774],[-88.5183640205269,15.855389105691],[-88.225022752622,15.7277224797139],[-88.6806796943556,15.3462470565353],[-89.1548109606335,15.0664191756748],[-89.2252200996312,14.8742862004136],[-89.1455350410372,14.6780191105691],[-89.3533259752828,14.4241327987191],[-89.5873426989165,14.3625861678595],[-89.5342193265205,14.2448155786663],[-89.7219339668207,14.1342280135617],[-90.0646779039966,13.8819695093289],[-90.095554572291,13.7353376327007]]]}},{"type":"Feature","properties":{"admin":"Guyana","name":"Guyana","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-59.7582848781592,8.36703481692405],[-59.1016841294586,7.99920197187049],[-58.482962205628,7.3476913517507],[-58.4548760646774,6.83278738039446],[-58.0781031968374,6.80909373618864],[-57.5422185939706,6.32126821535336],[-57.1474364894769,5.97314992921916],[-57.3072458563395,5.07356659588223],[-57.9142889064721,4.81262645102441],[-57.8602095200787,4.57680105226045],[-58.0446943833607,4.06086355225838],[-57.6015689764579,3.33465464926068],[-57.2814334784097,3.33349192953412],[-57.1500978257399,2.76892690674541],[-56.5393857489145,1.89952260986692],[-56.7827042303608,1.86371084228865],[-57.3358229233969,1.94853770589576],[-57.6609710353774,1.68258494710564],[-58.113449876525,1.50719513590703],[-58.429477098206,1.46394196207872],[-58.5400129868783,1.26808828369252],[-59.0308615790026,1.31769765869272],[-59.6460436672212,1.78689382568679],[-59.7185457017267,2.24963043864436],[-59.9745249090845,2.75523265218806],[-59.8154131740579,3.60649852133209],[-59.5380399237312,3.95880259848194],[-59.7674057684587,4.42350291586661],[-60.1110023667674,4.57496653891408],[-59.9809586249049,5.01406118409814],[-60.2136834377313,5.2444863956876],[-60.7335741848037,5.2002772078619],[-61.4103029038819,5.95906810141962],[-61.1394150458079,6.23429677980614],[-61.1593363104565,6.69607737876632],[-60.543999192941,6.85658437746488],[-60.2956680975624,7.04391144452292],[-60.6379727850638,7.41499990481085],[-60.5505879380582,7.77960297284618],[-59.7582848781592,8.36703481692405]]]}},{"type":"Feature","properties":{"admin":"Honduras","name":"Honduras","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-87.3166544257955,12.984685777229],[-87.4894087389471,13.2975348983239],[-87.7931111315265,13.3844804956552],[-87.7235029772293,13.7850503605656],[-87.8595153470216,13.8933124862171],[-88.0653425768401,13.9646259627798],[-88.5039979723496,13.8454859481309],[-88.5412308418159,13.9801547306835],[-88.8430728828327,14.1405067000852],[-89.0585119290576,14.3400294051642],[-89.3533259752828,14.4241327987191],[-89.1455350410372,14.6780191105692],[-89.2252200996312,14.8742862004137],[-89.1548109606335,15.0664191756749],[-88.6806796943556,15.3462470565354],[-88.2250227526219,15.727722479714],[-88.1211531237154,15.6886550969014],[-87.9018125068524,15.8644583195582],[-87.6156801012523,15.8787985295192],[-87.5229209052884,15.7972789575788],[-87.3677624173321,15.8469400090113],[-86.9031912910282,15.7567129582296],[-86.4409456041774,15.7828353947532],[-86.1192339749443,15.893448798074],[-86.0019543118578,16.0054057886344],[-85.6833174303463,15.9536518416939],[-85.4440038724026,15.8857490096624],[-85.1824436103572,15.9091584334906],[-84.9837218899788,15.9959231633087],[-84.5269797431671,15.8572236190374],[-84.3682555813826,15.8351577824487],[-84.0630545722668,15.6482441268491],[-83.7739766100261,15.4240717635669],[-83.4103812324204,15.2709028182538],[-83.1472190009741,14.9958291691642],[-83.489988776366,15.0162671981357],[-83.6285849677729,14.8800739608304],[-83.9757214016936,14.7494359399965],[-84.2283416409524,14.7487641463766],[-84.4493359036486,14.6216142847225],[-84.6495820787796,14.6668053247619],[-84.8200367906943,14.8195866968326],[-84.9245006985723,14.7904928654523],[-85.0527874417369,14.5515410425347],[-85.1487505765029,14.5601968449436],[-85.1653645494848,14.354369615125],[-85.5144130114003,14.0790117456579],[-85.6986653307369,13.960078436738],[-85.8012947252685,13.8360549992376],[-86.0962638007906,14.0381873641472],[-86.3121420966898,13.7713561060082],[-86.5207081774199,13.7784874536645],[-86.7550866360796,13.7548454858909],[-86.7338217841915,13.2630925562014],[-86.8805570136844,13.2542042098472],[-87.0057690091274,13.0257943791173],[-87.3166544257955,12.984685777229]]]}},{"type":"Feature","properties":{"admin":"Croatia","name":"Croatia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[18.82983808765,45.9088776718918],[19.0727689958542,45.5215111354321],[19.3904757015846,45.2365156113424],[19.0054862810101,44.8602336696091],[18.5532141455916,45.0815896673315],[17.8617834815264,45.0677403834771],[17.002146030351,45.2337767604309],[16.5349394060002,45.2116075709777],[16.3181567725359,45.0041266953259],[15.9593673031334,45.2337767604309],[15.750026075919,44.8187116562626],[16.2396602718845,44.3511432968857],[16.4564429053489,44.0412397324313],[16.9161564470173,43.6677224798257],[17.2973734880345,43.4463406438874],[17.674921502359,43.0285625270236],[18.56,42.65],[18.4500163103048,42.4799913600293],[17.5099703304833,42.8499946152391],[16.9300057308716,43.2099984808004],[16.0153845557377,43.5072154811272],[15.1744539730521,44.2431912298279],[15.3762504411518,44.3179153509221],[14.9203092790405,44.7384839951295],[14.9016024105509,45.0760602890761],[14.25874759284,45.2337767604309],[13.952254672917,44.8021235214969],[13.6569755388012,45.136935126316],[13.6794031104158,45.484149074885],[13.7150598486972,45.5003237981924],[14.4119682145855,45.4661656764474],[14.5951094906279,45.6349409043128],[14.935243767973,45.4716950547028],[15.3276745947974,45.4523163925933],[15.3239538916724,45.7317825384277],[15.6715295752676,45.8341535507979],[15.7687329444086,46.2381082220235],[16.5648083838649,46.5037509222198],[16.8825150895954,46.3806318222844],[17.6300663591296,45.9517691106941],[18.4560624528829,45.7594811061361],[18.82983808765,45.9088776718918]]]}},{"type":"Feature","properties":{"admin":"Haiti","name":"Haiti","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-73.1897906155176,19.9156839055119],[-72.5796728176636,19.8715005559024],[-71.712361416293,19.7144558781674],[-71.6248732164228,19.1698379582433],[-71.7013026597825,18.7854169784241],[-71.9451120673355,18.6169001327203],[-71.6877375963059,18.3166600611045],[-71.708304816358,18.0449970565461],[-72.3724761623893,18.2149608423541],[-72.8444111802949,18.1456110702184],[-73.454554816365,18.2179063989947],[-73.9224332343356,18.030992743395],[-74.4580336168248,18.3425499536827],[-74.3699252997671,18.6649075383194],[-73.4495422024327,18.5260529647511],[-72.6949370998906,18.4457994654019],[-72.334881557897,18.6684215357153],[-72.7916495429249,19.101625067618],[-72.7841047838103,19.4835914169034],[-73.4150223456617,19.6395508895603],[-73.1897906155176,19.9156839055119]]]}},{"type":"Feature","properties":{"admin":"Hungary","name":"Hungary","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[16.2022982113374,46.852385972677],[16.5342676123804,47.4961709661691],[16.3405843441504,47.7129019232012],[16.9037541032673,47.7148656276283],[16.979666782304,48.1234970159763],[17.4884729346498,47.8674661321862],[17.85713260262,47.7584288600504],[18.6965128923369,47.8809536810144],[18.7770247738477,48.0817682969006],[19.1743648617399,48.1113788926039],[19.6613635596585,48.2666148952087],[19.7694706560131,48.2026911484636],[20.2390543962493,48.3275672470969],[20.4735620459899,48.5628500433218],[20.8012939795849,48.6238540716424],[21.8722363624017,48.31997081155],[22.0856083513348,48.4222643092718],[22.6408199398787,48.1502395696874],[22.7105314470405,47.8821939153894],[22.0997676937828,47.6724392767167],[21.6265149268539,46.9942377793182],[21.0219523454712,46.3160879583519],[20.2201924984628,46.1274689804866],[19.5960445492416,46.1717298447445],[18.82983808765,45.9088776718919],[18.4560624528829,45.7594811061361],[17.6300663591296,45.9517691106942],[16.8825150895953,46.3806318222844],[16.5648083838649,46.5037509222198],[16.3705049984474,46.8413272161665],[16.2022982113374,46.852385972677]]]}},{"type":"Feature","properties":{"admin":"Indonesia","name":"Indonesia","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[120.71560875863,-10.2395813940879],[120.295014276207,-10.2586499976035],[118.967808465655,-9.55796925215803],[119.900309686362,-9.36134042728751],[120.425755649905,-9.6659213192158],[120.775501743657,-9.96967538822746],[120.71560875863,-10.2395813940879]]],[[[124.435950148619,-10.1400009090614],[123.579981724137,-10.359987481328],[123.459989048355,-10.2399948055462],[123.550009393407,-9.90001555749798],[123.980008986508,-9.29002695072469],[124.968682489116,-8.89279021569705],[125.070019972841,-9.08998748132284],[125.088520135601,-9.39317310957932],[124.435950148619,-10.1400009090614]]],[[[117.900018345208,-8.09568124759492],[118.26061648974,-8.36238331465333],[118.878459914222,-8.28068287519983],[119.126506789223,-8.70582488366507],[117.970401645989,-8.90663949955126],[117.277730747549,-9.04089487064556],[116.740140822417,-9.03293670007264],[117.083737420725,-8.45715789147654],[117.632024367342,-8.44930307376819],[117.900018345208,-8.09568124759492]]],[[[122.903537225436,-8.09423430749074],[122.756982863456,-8.64980763106064],[121.25449059457,-8.93366627363994],[119.92439090381,-8.81041798262387],[119.920928582846,-8.44485890059107],[120.715091994308,-8.23696461348086],[121.341668735847,-8.53673959720602],[122.00736453663,-8.46062021244016],[122.903537225436,-8.09423430749074]]],[[[108.623478631629,-6.77767384199068],[110.539227329553,-6.87735767988168],[110.759575636846,-6.46518645592175],[112.614811232556,-6.94603565839759],[112.978768345188,-7.59421314863458],[114.478935174621,-7.77652760176028],[115.705526971501,-8.37080657311686],[114.564511346496,-8.75181690840483],[113.464733514461,-8.34894744225742],[112.559672479301,-8.37618092207516],[111.522061395312,-8.30212859460096],[110.586149530074,-8.12260466881902],[109.427667270955,-7.74066415774976],[108.693655226681,-7.64160043704622],[108.277763299596,-7.76665740319258],[106.454102004016,-7.35489959069095],[106.280624220812,-6.9248999975902],[105.365486281356,-6.85141611087117],[106.051645949327,-5.8959188777945],[107.26500857954,-5.95498503990406],[108.072091099075,-6.34576222089524],[108.486846144649,-6.42198495852577],[108.623478631629,-6.77767384199068]]],[[[134.724624465067,-6.21440073000929],[134.210133905169,-6.8952377254547],[134.112775506731,-6.14246713625901],[134.290335728086,-5.78305754966904],[134.499625278868,-5.4450420060479],[134.727001580952,-5.73758228925216],[134.724624465067,-6.21440073000929]]],[[[127.249215122589,-3.45906503663889],[126.874922723499,-3.79098276124958],[126.183802118027,-3.60737639731656],[125.989033644719,-3.17727345135133],[127.000651483265,-3.12931772218441],[127.249215122589,-3.45906503663889]]],[[[130.471344028852,-3.09376433676762],[130.834836053593,-3.85847218182276],[129.990546502808,-3.44630095786282],[129.155248651242,-3.36263681398225],[128.590683628454,-3.42867929445126],[127.898891229362,-3.39343596762819],[128.135879347853,-2.84365040447491],[129.370997756061,-2.80215422934455],[130.471344028852,-3.09376433676762]]],[[[134.143367954648,-1.15186736410359],[134.422627394753,-2.76918466554238],[135.457602980695,-3.36775278077911],[136.293314243719,-2.30704233155609],[137.440737746328,-1.70351327881937],[138.329727411045,-1.70268645590265],[139.184920689043,-2.05129566814364],[139.92668419816,-2.40905160890028],[141.000210402592,-2.60015105551562],[141.017056919519,-5.85902190513802],[141.033851760014,-9.11789275476042],[140.143415155193,-8.29716765710096],[139.127766554928,-8.09604298262094],[138.881476678625,-8.38093515384609],[137.614473911693,-8.41168263105976],[138.039099155835,-7.59788217532735],[138.668621454015,-7.32022470462307],[138.407913853102,-6.23284921633748],[137.927839797111,-5.393365573756],[135.989250116113,-4.54654387778905],[135.1645976096,-4.46293141034077],[133.662880487198,-3.53885344809753],[133.367704705947,-4.02481861737031],[132.983955519747,-4.11297861086028],[132.756940952689,-3.74628264731713],[132.753788690319,-3.31178720460707],[131.989804315316,-2.82055103924046],[133.066844517143,-2.46041798259844],[133.780030959204,-2.47984832114021],[133.696211786026,-2.21454151775369],[132.232373488494,-2.21252613689433],[131.836221958545,-1.6171619604596],[130.942839797083,-1.4325220678808],[130.51955814018,-0.937720228686075],[131.867537876514,-0.695461114101818],[132.380116408417,-0.369537855636977],[133.985548130428,-0.780210463060442],[134.143367954648,-1.15186736410359]]],[[[125.240500522972,1.41983612711761],[124.437035353697,0.427881171058971],[123.685504998877,0.235593166500877],[122.723083123873,0.431136786293337],[121.056724888189,0.381217352699451],[120.183083123863,0.23724681233422],[120.040869582195,-0.519657891444851],[120.935905389491,-1.40890593832337],[121.475820754076,-0.955962009285116],[123.340564813328,-0.615672702643081],[123.258399285984,-1.07621306722834],[122.822715285332,-0.930950616055881],[122.388529901215,-1.51685800538112],[121.508273553555,-1.90448292400242],[122.454572381684,-3.18605844484088],[122.271896193533,-3.5295000138527],[123.170962762547,-4.68369312909171],[123.162332798354,-5.34060393638596],[122.628515252779,-5.63459115969449],[122.236394484548,-5.28293303794828],[122.719569126477,-4.46417164471579],[121.738233677254,-4.8513314754465],[121.489463332201,-4.57455250409122],[121.619171177254,-4.18847787843867],[120.898181593918,-3.60210540122283],[120.972388950689,-2.62764291749491],[120.30545291553,-2.93160369223573],[120.390047235192,-4.09757903403722],[120.430716587405,-5.52824106203778],[119.796543410319,-5.67340016034565],[119.366905552245,-5.3798780249278],[119.6536063986,-4.45941741294496],[119.498835483886,-3.49441171632651],[119.078344354327,-3.48702198650876],[118.767768996253,-2.80199920004769],[119.180973748859,-2.1471037736128],[119.323393996255,-1.35314706788047],[119.825998976726,0.154254462073496],[120.035701938966,0.566477362465804],[120.885779250168,1.30922272379684],[121.666816847827,1.01394358968108],[122.927566766452,0.875192368977465],[124.077522414243,0.917101955566139],[125.065989211122,1.64325918213156],[125.240500522972,1.41983612711761]]],[[[128.688248732621,1.13238597249411],[128.635952183141,0.258485826006179],[128.120169712436,0.356412665199286],[127.968034295769,-0.252077325037533],[128.379998814,-0.780003757331286],[128.100015903842,-0.899996433112974],[127.696474644075,-0.266598402511505],[127.399490187694,1.01172150309257],[127.600511509309,1.81069082275718],[127.932377557487,2.17459625895656],[128.004156121941,1.62853139892833],[128.594559360875,1.54081065511286],[128.688248732621,1.13238597249411]]],[[[117.875627069166,1.82764069254891],[118.996747267738,0.902219143066048],[117.811858351718,0.784241848143722],[117.478338657706,0.102474676917026],[117.521643507967,-0.803723239753211],[116.56004845588,-1.48766082113623],[116.533796828275,-2.4835173478329],[116.148083937649,-4.01272633221401],[116.000857782049,-3.65703744874901],[114.864803094545,-4.10698414471442],[114.468651564595,-3.49570362713382],[113.755671828264,-3.43916961020652],[113.256994256648,-3.11877572999685],[112.068126255341,-3.47839202231607],[111.70329064336,-2.99444223390263],[111.048240187628,-3.04942595786119],[110.223846063276,-2.93403248455348],[110.070935500124,-1.59287403728241],[109.571947869914,-1.31490650798449],[109.091873813923,-0.459506524257051],[108.952657505328,0.415375474444346],[109.069136183714,1.34193390543764],[109.663260125774,2.00646698649498],[109.830226678509,1.33813568766419],[110.514060907027,0.773131415200993],[111.159137811327,0.976478176269509],[111.79754845586,0.904441229654651],[112.380251906384,1.41012095784676],[112.859809198052,1.49779002522995],[113.80584964402,1.21754873291104],[114.621355422017,1.43068817789889],[115.134037306785,2.82148183838622],[115.519078403792,3.1692383894944],[115.865517205877,4.30655914959016],[117.015214471506,4.30609406169947],[117.88203494677,4.13755137777949],[117.313232456534,3.23442820883058],[118.048329705885,2.28769013102736],[117.875627069166,1.82764069254891]]],[[[105.817655063909,-5.85235564537241],[104.710384149192,-5.87328460045064],[103.868213332131,-5.03731495526497],[102.584260695407,-4.2202588842982],[102.156173130301,-3.61414600994677],[101.399113397225,-2.79977711345917],[100.9025028829,-2.05026213949786],[100.141980828861,-0.650347588710957],[99.2637398620602,0.183141587724663],[98.9700110209133,1.04288239176454],[98.6013513529431,1.82350657796562],[97.6995976094499,2.45318390544212],[97.1769421732499,3.30879059489861],[96.4240165547573,3.86885976807791],[95.3808760925135,4.97078217205367],[95.2930261576173,5.47982086834482],[95.9368628275417,5.43951325115711],[97.4848820332771,5.24632090903401],[98.3691691426557,4.26837026612637],[99.1425586283358,3.59034963624092],[99.6939978373224,3.17432851807516],[100.641433546962,2.0993812117558],[101.658012323007,2.08369741455519],[102.498271112073,1.39870046631022],[103.076840448013,0.561361395668854],[103.838396030698,0.104541734208666],[103.437645298275,-0.711945896002845],[104.010788608824,-1.05921152100423],[104.369991489685,-1.08484303142102],[104.539490187602,-1.78237151449672],[104.887892694114,-2.34042530681666],[105.622111444117,-2.42884368246807],[106.108593377713,-3.06177662517895],[105.857445916774,-4.30552499757972],[105.817655063909,-5.85235564537241]]]]}},{"type":"Feature","properties":{"admin":"India","name":"India","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[77.8374507994746,35.4940095077878],[78.9122689147132,34.3219363469758],[78.8110864602857,33.5061980250324],[79.2088916360686,32.9943946396137],[79.1761287779955,32.4837798121377],[78.458446486326,32.6181643743127],[78.738894484374,31.5159060735271],[79.7213668151071,30.8827147486547],[81.1112561380293,30.1834809433134],[80.4767212259174,29.7298652206553],[80.0884245136763,28.7944701197401],[81.057202589852,28.416095282499],[81.999987420585,27.92547923432],[83.3042488951995,27.3645057235756],[84.6750179381738,27.2349012313875],[85.2517785989834,26.7261984319063],[86.0243929381792,26.6309846054086],[87.2274719583663,26.3978980575561],[88.0602376647498,26.4146153834025],[88.1748043151409,26.8104051783259],[88.0431327656612,27.4458185897868],[88.1204407083698,27.8765416529396],[88.7303259622785,28.0868647323675],[88.8142484883205,27.2993159042394],[88.8356425312894,27.0989663762438],[89.7445276224388,26.71940298106],[90.3732747741341,26.8757241887429],[91.2175126484864,26.808648179628],[92.0334835143751,26.8383104517636],[92.1037117858597,27.4526140406332],[91.6966565286967,27.7717418482517],[92.5031189310436,27.8968763290464],[93.4133476094327,28.6406293808072],[94.5659904317029,29.27743805594],[95.4048022806646,29.0317166203921],[96.117678664131,29.4528020289225],[96.5865906107475,28.8309795191543],[96.2488334492878,28.4110309921344],[97.32711388549,28.2615827499463],[97.4025614766361,27.8825361190854],[97.0519885599681,27.6990589462331],[97.1339990580153,27.08377350515],[96.4193656758509,27.2645893417392],[95.1247676940749,26.5735720891323],[95.1551534362626,26.0013072779321],[94.6032491393854,25.1624954289704],[94.5526579121716,24.6752383488903],[94.1067419779251,23.8507408716735],[93.3251876159428,24.0785564234322],[93.2863269388593,23.043658352139],[93.0602942240146,22.7031106633356],[93.1661275573484,22.2784595809771],[92.6727209818256,22.0412389185412],[92.1460347839068,23.6274986841726],[91.8699276061713,23.6243464218028],[91.7064750508321,22.9852639836492],[91.1589632506997,23.5035269231044],[91.4677299336437,24.0726394719348],[91.9150928079944,24.1304137232371],[92.3762016133348,24.976692816665],[91.7995959818221,25.1474317489573],[90.8722107279121,25.1326006128895],[89.9206925801218,25.2697498641922],[89.8324809101996,25.9650820988955],[89.3550940286873,26.0144072535181],[88.5630493509497,26.4465255803427],[88.2097892598025,25.7680657007827],[88.9315539896231,25.2386923283848],[88.306372511756,24.8660794133442],[88.0844222350624,24.5016572128219],[88.6999402200909,24.2337149113886],[88.5297697285538,23.6311418726492],[88.8763118835031,22.8791464299378],[89.0319612975662,22.055708319583],[88.8887659036854,21.6905884872247],[88.2084973489952,21.7031716984878],[86.9757043802403,21.4955616317552],[87.0331685729489,20.7433078068824],[86.4993510273738,20.1516384953566],[85.0602657409097,19.4785788029711],[83.9410058939,18.3020097925497],[83.1892171569178,17.671221421779],[82.1927921894659,17.0166360539378],[82.1912418964972,16.5566641301078],[81.6927193541775,16.3102192245079],[80.7919991393301,15.9519723576445],[80.3248958678439,15.8991848820583],[80.0250692076864,15.1364149032141],[80.2332735533904,13.83577077886],[80.2862935729219,13.0062606877108],[79.8625468281285,12.0562153182409],[79.8579993020868,10.3572750919971],[79.340511509116,10.3088542749396],[78.8853454934892,9.54613597252772],[79.1897196796883,9.21654368737015],[78.2779407083305,8.93304677981693],[77.9411653990843,8.25295909263974],[77.5398979023379,7.96553477623233],[76.5929789570217,8.89927623131419],[76.1300614765511,10.2996300317755],[75.7464673196485,11.3082506372483],[75.3961011087096,11.7812450220158],[74.8648157083168,12.7419357365379],[74.6167171568835,13.9925829126497],[74.4438594908672,14.6172217879777],[73.5341992532334,15.990652167215],[73.1199092955494,17.9285700545925],[72.8209094583086,19.2082335474362],[72.8244751321368,20.4195032821415],[72.6305334817454,21.356009426351],[71.1752734719739,20.7574413111142],[70.4704586119451,20.8773306340314],[69.1641300800388,22.0892980005727],[69.6449276060824,22.4507746444543],[69.3495967955343,22.8431796330627],[68.1766451353734,23.6919650334567],[68.8425993183188,24.3591336125609],[71.0432401874682,24.3565239527302],[70.8446993346028,25.2151020370435],[70.2828731627256,25.7222287053398],[70.168926629522,26.4918716496788],[69.5143929381131,26.9409656845114],[70.6164962096019,27.9891962753359],[71.7776656432003,27.9131802434345],[72.8237516620847,28.961591701772],[73.4506384622174,29.9764134791199],[74.4213802428203,30.9798147649312],[74.405928989565,31.6926394719653],[75.2586417988132,32.2711054550405],[74.4515592792787,32.7648996038055],[74.1042936542773,33.4414732935868],[73.749948358052,34.3176988795278],[74.240202671205,34.7488870305713],[75.7570609882683,34.5049225937213],[76.871721632804,34.6535440129927],[77.8374507994746,35.4940095077878]]]}},{"type":"Feature","properties":{"admin":"Ireland","name":"Ireland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[-6.19788489422099,53.8675650091634],[-6.03298539877761,53.1531641709443],[-6.78885657391085,52.2601179062923],[-8.56161658368356,51.6693012558994],[-9.97708574059027,51.8204548203531],[-9.16628251793078,52.8646288112427],[-9.68852454267245,53.8813626165853],[-8.32798743329201,54.6645189479686],[-7.57216793459106,55.1316222194549],[-7.36603064617879,54.5958409694527],[-7.57216793459106,54.059956366586],[-6.95373023113807,54.0737022975756],[-6.19788489422099,53.8675650091634]]]}},{"type":"Feature","properties":{"admin":"Iran","name":"Iran","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[53.9215979347955,37.1989183619613],[54.8003039894866,37.3924207626782],[55.5115784035519,37.9641171331232],[56.1803747902733,37.9351266546074],[56.6193660825928,38.1213943548035],[57.330433790929,38.0292294378109],[58.4361544126782,37.5223094752438],[59.2347619973168,37.4129879827303],[60.3776379738839,36.5273831243284],[61.1230705096941,36.4915971949662],[61.2108170917257,35.6500723333092],[60.8031933938074,34.4041018743199],[60.5284298033116,33.676446031218],[60.963700392506,33.5288323023763],[60.5360779152908,32.9812688258116],[60.863654819589,32.1829196233344],[60.9419446145111,31.5480746526287],[61.6993144061808,31.3795061304927],[61.7812215513634,30.7358503280812],[60.8742484882088,29.8292389999526],[61.3693087095649,29.3032762720859],[61.7718681171186,28.6993338078908],[62.727830438086,28.2596448837354],[62.7554256529299,27.378923448185],[63.2338977395203,27.2170470240307],[63.3166317076196,26.7565324976617],[61.8741874530565,26.2399748804721],[61.4973629087842,25.0782370061185],[59.6161340676308,25.3801565617838],[58.5257613462723,25.6099616561857],[57.3972514178824,25.7399020451836],[56.9707658221775,26.9661062688214],[56.4921387062902,27.1433047551502],[55.7237101581101,26.964633490501],[54.7150895526373,26.4806578638715],[53.4930969582313,26.812368882753],[52.4835978534096,27.5808491073655],[51.5207625669474,27.8656896021583],[50.8529480324395,28.8145205754694],[50.1150085793116,30.1477725285997],[49.576850213424,29.9857152369324],[48.9413334490985,30.317090359004],[48.5679712257898,29.9267782659035],[48.0145683123761,30.4524567733926],[48.0046981138083,30.9851374374572],[47.6852860858123,30.9848532170796],[47.8492037290421,31.7091759302987],[47.3346614927119,32.4691553817991],[46.1093616066393,33.017287299119],[45.416690708199,33.9677977564796],[45.6484595070281,34.748137722303],[46.1517879575509,35.0932587753643],[46.0763403664048,35.6773833277755],[45.4206181170532,35.9775458847428],[44.77267,37.17045],[44.2257556496005,37.9715843775893],[44.4214026222575,38.2812812363145],[44.1092252947823,39.4281362981681],[44.7939896990819,39.713002631177],[44.9526880226503,39.3357646754464],[45.4577217954388,38.8741391057831],[46.1436230812488,38.7412014837122],[46.505719842318,38.7706053736863],[47.6850793800831,39.5083639593012],[48.0600952492252,39.5822354192625],[48.3555294126379,39.2887649602769],[48.0107442563865,38.7940147975145],[48.6343754412848,38.270377509101],[48.8832491392025,38.3202452662626],[49.1996122576933,37.5828742538899],[50.1477714373846,37.3745665553213],[50.8423543638197,36.8728142359834],[52.2640246926014,36.7004216578577],[53.8257898293264,36.9650308294082],[53.9215979347955,37.1989183619613]]]}},{"type":"Feature","properties":{"admin":"Iraq","name":"Iraq","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[45.4206181170532,35.9775458847428],[46.0763403664048,35.6773833277755],[46.1517879575509,35.0932587753643],[45.6484595070281,34.748137722303],[45.416690708199,33.9677977564796],[46.1093616066393,33.017287299119],[47.3346614927119,32.4691553817991],[47.8492037290421,31.7091759302987],[47.6852860858123,30.9848532170796],[48.0046981138083,30.9851374374572],[48.0145683123761,30.4524567733926],[48.5679712257898,29.9267782659035],[47.9745190773499,29.9758192001485],[47.302622104691,30.0590699325707],[46.5687134132817,29.0990251734523],[44.7094987322847,29.1788910995594],[41.8899809100078,31.1900086532784],[40.3999943377362,31.8899917668879],[39.195468377445,32.1610088160427],[38.7923405291361,33.3786864283522],[41.0061588885199,34.4193722600621],[41.3839652850058,35.6283165553144],[41.2897074725055,36.3588146021923],[41.837064243341,36.6058537867636],[42.3495910988118,37.2298725449041],[42.7791256040218,37.3852635768057],[43.9422587420473,37.2562275253729],[44.2934517759029,37.0015143906063],[44.7726990089777,37.1704446477684],[45.4206181170532,35.9775458847428]]]}},{"type":"Feature","properties":{"admin":"Iceland","name":"Iceland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[-14.5086954411292,66.4558922390314],[-14.7396374170416,65.8087482774403],[-13.6097322249798,65.1266710476199],[-14.9098337467949,64.3640819362887],[-17.7944380355434,63.6787490912338],[-18.656245896875,63.4963829616758],[-19.9727546859428,63.6436349554915],[-22.7629719711102,63.9601789414954],[-21.7784842595177,64.4021157904555],[-23.9550439112191,64.8911298692335],[-22.1844026351704,65.0849681667603],[-22.2274232650533,65.3785936550427],[-24.3261840479393,65.6111892767885],[-23.6505146957231,66.2625190293952],[-22.1349224512509,66.4104686550469],[-20.5762837386795,65.7321121283514],[-19.0568416000016,66.2766008571948],[-17.798623826559,65.9938532579098],[-16.1678189762921,66.5267923041359],[-14.5086954411292,66.4558922390314]]]}},{"type":"Feature","properties":{"admin":"Israel","name":"Israel","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[35.7199182472227,32.7091924097949],[35.5456653175345,32.3939920110306],[35.1839302914914,32.5325106877889],[34.9746407407093,31.8665823430597],[35.2258915545124,31.7543411321218],[34.970506626126,31.6167784693608],[34.9274084815946,31.3534353704014],[35.397560662586,31.4890860051676],[35.420918409982,31.1000658228744],[34.9226025733914,29.5013261988445],[34.2654333839357,31.2193608668201],[34.5563716977389,31.548823960897],[34.4881071306814,31.6055388453373],[34.7525871111512,32.0729263372012],[34.9554171078968,32.8273764104464],[35.0984574724807,33.0805392522443],[35.1260526873245,33.0909003769188],[35.4607092628467,33.0890400253563],[35.5527966651908,33.264274807258],[35.8211007016502,33.2774264592763],[35.8363969256086,32.8681232773085],[35.7007979672747,32.7160136988574],[35.7199182472227,32.7091924097949]]]}},{"type":"Feature","properties":{"admin":"Italy","name":"Italy","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[15.5203760108138,38.2311550969915],[15.1602429541717,37.4440455185378],[15.309897902089,37.1342194687318],[15.0999882341194,36.6199872909954],[14.335228712632,36.9966309677548],[13.8267326188799,37.1045313583802],[12.4310038591088,37.6129499374838],[12.5709436377551,38.1263811305197],[13.7411564470046,38.0349655217954],[14.7612492204462,38.1438736028505],[15.5203760108138,38.2311550969915]]],[[[9.21001183435626,41.2099913600242],[9.80997521326497,40.5000088567661],[9.66951867029567,39.1773764104718],[9.21481774255949,39.2404733343001],[8.80693566247973,38.9066177434785],[8.42830244307711,39.1718470322166],[8.38825320805094,40.3783108587188],[8.15999840661766,40.9500072291638],[8.70999067550011,40.8999844427052],[9.21001183435626,41.2099913600242]]],[[[12.3764852230408,46.7675591090699],[13.8064754574216,46.5093061386912],[13.6981099789055,46.0167780625174],[13.9376302425783,45.5910159368647],[13.1416064795543,45.7366917994954],[12.3285811703063,45.3817780625148],[12.3838749528586,44.8853742539191],[12.2614534847592,44.600482082694],[12.5892370947865,44.0913658717545],[13.5269059587225,43.5877273626379],[14.029820997787,42.7610077988325],[15.142569614328,41.9551396754569],[15.9261910336019,41.9613150091157],[16.1698970882904,41.7402949082034],[15.8893457373778,41.5410822617182],[16.7850016618606,41.1796056178366],[17.5191687354312,40.8771434596322],[18.3766874528826,40.3556249049427],[18.4802470231954,40.1688662786398],[18.2933850440281,39.8107744410732],[17.7383801612133,40.2776710068303],[16.8695959815223,40.4422346054638],[16.4487431169373,39.7954007024665],[17.1714896989715,39.4246998154207],[17.0528406104293,38.9028712021373],[16.6350883317818,38.8435724960824],[16.1009607276131,37.9858987493342],[15.6840869483145,37.908849188787],[15.6879626807363,38.2145928004419],[15.8919812354247,38.7509424911992],[16.1093323096443,38.9645470240777],[15.7188135108146,39.5440723740149],[15.4136125016988,40.0483568385352],[14.9984957210982,40.1729487167909],[14.7032682634148,40.6045502792926],[14.0606718278653,40.7863479680954],[13.6279850602854,41.1882872584617],[12.8880819027304,41.2530895045556],[12.1066825700449,41.7045348170574],[11.1919063656142,42.3554253199897],[10.5119478695178,42.9314625107472],[10.200028924204,43.9200068222746],[9.70248823409781,44.0362787949313],[8.88894616052687,44.3663361679795],[8.42856082523858,44.2312281357524],[7.8507666357832,43.7671479355552],[7.43518476729184,43.6938449163492],[7.54959638838616,44.1279011093848],[7.00756229007666,44.2547667506614],[6.74995527510171,45.0285179713676],[7.09665245934784,45.3330988632959],[6.80235517744566,45.7085798203287],[6.84359297041456,45.9911465521007],[7.27385094567668,45.7769477402508],[7.75599205895983,45.8244900579593],[8.31662967289438,46.1636424830908],[8.48995242680129,46.0051508652517],[8.96630577966783,46.0369318711112],[9.18288170740311,46.440214748717],[9.92283654139035,46.3148994004092],[10.3633781266787,46.4835712754098],[10.4427014502466,46.8935462509974],[11.0485559424365,46.7513585475464],[11.1648279150933,46.9415794948127],[12.1530880062431,47.1153931748264],[12.3764852230408,46.7675591090699]]]]}},{"type":"Feature","properties":{"admin":"Jamaica","name":"Jamaica","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-77.5696007961992,18.4905254175505],[-76.8966186184621,18.4008668075241],[-76.3653590562855,18.1607005884476],[-76.1996585761416,17.886867173733],[-76.9025614081757,17.8682378198917],[-77.2063413154035,17.7011162378598],[-77.7660229153406,17.8615973983422],[-78.3377192857856,18.2259679224322],[-78.2177266100039,18.4545327824592],[-77.7973646715256,18.5242184514048],[-77.5696007961992,18.4905254175505]]]}},{"type":"Feature","properties":{"admin":"Jordan","name":"Jordan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[35.5456653175345,32.3939920110306],[35.7199182472227,32.7091924097949],[36.8340621274355,32.3129375269808],[38.7923405291361,33.3786864283522],[39.195468377445,32.1610088160427],[39.0048856951525,32.010216986615],[37.002165561681,31.5084129908447],[37.9988489112944,30.5084998642131],[37.6681197446264,30.3386652694859],[37.503581984209,30.0037761500184],[36.7405277849872,29.8652833114762],[36.5012142270436,29.5052536076987],[36.0689408709221,29.1974946151845],[34.9560372250843,29.3565546737788],[34.9226025733914,29.5013261988445],[35.420918409982,31.1000658228744],[35.397560662586,31.4890860051676],[35.5452519060762,31.7825047877208],[35.5456653175345,32.3939920110306]]]}},{"type":"Feature","properties":{"admin":"Japan","name":"Japan","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[134.638428176004,34.1492337102564],[134.766379022358,33.8063347437837],[134.203415968971,33.2011778834296],[133.792950067276,33.5219851750976],[133.280268182509,33.2895704208649],[133.014858026258,32.7045673691048],[132.363114862193,32.9893820256814],[132.37117638563,33.4636424830401],[132.924372593315,34.060298570282],[133.492968377822,33.9446208765967],[133.904106073136,34.3649311386426],[134.638428176004,34.1492337102564]]],[[[140.976387567305,37.1420742864402],[140.599769728762,36.3439834661245],[140.774074334883,35.8428771021902],[140.253279250245,35.1381139185937],[138.975527785396,34.6676000025761],[137.217598911691,34.6062859156618],[135.792983026269,33.4648052027666],[135.120982700745,33.8490711532891],[135.079434849183,34.5965449081748],[133.340316196832,34.3759382187208],[132.156770868051,33.9049333765965],[130.986144647343,33.8857614202163],[132.00003624891,33.1499923772446],[131.332790155157,31.4503545191648],[130.686317987186,31.0295791692282],[130.202419875205,31.4182376164954],[130.447676222862,32.3194745956657],[129.814691603719,32.6103095566044],[129.408463169473,33.2960558131176],[130.353935174685,33.6041507024417],[130.878450962447,34.23274282484],[131.884229364144,34.7497138534879],[132.617672967663,35.4333930527094],[134.608300815978,35.7316177434658],[135.677537876529,35.5271341008868],[136.723830601142,37.3049842392404],[137.390611607004,36.8273906519988],[138.857602166906,37.8274846461435],[139.426404657143,38.2159622258976],[140.054790073812,39.4388074814364],[139.8833793479,40.5633124863237],[140.305782505454,41.1950051946596],[141.368973423427,41.3785598821603],[141.91426313697,39.9916161158787],[141.884600864835,39.1808645696515],[140.959489373946,38.1740009628766],[140.976387567305,37.1420742864402]]],[[[143.910161981379,44.1740998398537],[144.61342654844,43.9608828802175],[145.320825230083,44.3847329778754],[145.543137241803,43.2620883245506],[144.0596619,42.9883582627006],[143.183849725517,41.9952147486992],[141.611490920172,42.6787905950561],[141.067286411707,41.584593817708],[139.955106235921,41.569555975911],[139.81754357316,42.5637588567744],[140.312087030193,43.3332726100326],[141.38054894426,43.3888247747465],[141.671952345954,44.7721253525515],[141.967644891528,45.5514834661613],[143.14287031471,44.510358384777],[143.910161981379,44.1740998398537]]]]}},{"type":"Feature","properties":{"admin":"Kazakhstan","name":"Kazakhstan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[70.9623148944993,42.2661542832055],[70.3889648782208,42.0813076848975],[69.0700272968352,41.3842442897123],[68.63248294462,40.6686807317669],[68.2598958677956,40.6623245305949],[67.9858557473518,41.1359907089822],[66.7140470722166,41.1684435084616],[66.5106486347157,41.9876441513686],[66.0233915546356,41.994646307944],[66.0980123228652,42.9976600205131],[64.9008244159593,43.7280805527427],[63.1857869810566,43.650074978198],[62.0133004087863,43.5044766302157],[61.0583199400325,44.4058169622506],[60.2399719582585,44.7840367701947],[58.6899890480958,45.5000137395987],[58.5031270689284,45.586804307633],[55.9289172707412,44.9958584661592],[55.968191359283,41.3086416692694],[55.4552510923538,41.2598591171858],[54.7553454933927,42.0439714625666],[54.079417759015,42.3241094020208],[52.9442932472917,42.1160342473976],[52.5024597511963,41.7833155380865],[52.4463391457272,42.0271507838556],[52.6921122577073,42.4438953720734],[52.5014262225503,42.7922978785852],[51.3424271991082,43.1329747584693],[50.8912919452002,44.0310336370538],[50.3391292661614,44.2840156113385],[50.3056429380363,44.6098355169389],[51.2785034523632,44.5148542343865],[51.316899041556,45.2459982366679],[52.1673897642157,45.4083914251451],[53.0408764992452,45.2590465358218],[53.2208655129177,46.2346459010599],[53.0427368508078,46.8530060898645],[52.0420227394756,46.8046369492392],[51.1919454282743,47.0487047389539],[50.0340832863425,46.6089899765822],[49.10116,46.3993300000001],[48.5932410011805,46.5610342474155],[48.6947335142017,47.0756281601779],[48.0572530454493,47.7437527532795],[47.3152311541702,47.715847479842],[46.4664457537763,48.3941523301049],[47.0436715024765,49.1520388860976],[46.7515963071627,49.3560057643538],[47.5494804217493,50.4546983913111],[48.5778414243575,49.8747596299157],[48.702381626181,50.6051284857128],[50.7666483905121,51.6927623561599],[52.328723585831,51.7186522487381],[54.5328784523762,51.0262397324593],[55.7169405454798,50.6217166204785],[56.7779610532966,51.043551337277],[58.3632906431467,51.0636534694386],[59.6422823423706,50.5454422064157],[59.9328072447155,50.8421941188519],[61.3374243508409,50.7990701361043],[61.5880033710242,51.2726587998432],[59.9675338072155,51.9604204372157],[60.9272685077403,52.447548326215],[60.7399931171146,52.7199864772577],[61.6999861998006,52.9799964463343],[60.9780664406832,53.6649933945791],[61.4365914244091,54.0062645534348],[65.1785335630959,54.3542278102721],[65.666875848254,54.6012669948435],[68.1691003762588,54.9703917507043],[69.0681669452729,55.3852501491435],[70.8652665546551,55.1697335882701],[71.1801310566094,54.1332852240083],[72.2241500182022,54.3766553818867],[73.5085160663844,54.0356167669766],[73.4256787454204,53.4898102891097],[74.38484500519,53.5468610703601],[76.8911002949134,54.4905244004419],[76.5251794778547,54.1770034857271],[77.8009155618442,53.4044149847476],[80.0355595234417,50.8647508815472],[80.5684468932355,51.3883364935285],[81.9459855488399,50.8121959499064],[83.3830037780124,51.0691828476939],[83.9351147806188,50.8892455104536],[84.4163773945531,50.3113996445658],[85.115559523462,50.1173029648776],[85.5412699726825,49.6928585882482],[86.8293567239896,49.8266747096682],[87.3599703307627,49.2149807806292],[86.5987764831034,48.5491816269806],[85.7682328633083,48.455750637397],[85.7204838398707,47.4529694687731],[85.1642903991134,47.0009557155161],[83.1804838398604,47.3300312363509],[82.4589258157691,45.5396495631665],[81.9470707539181,45.3170274928532],[79.9661063984414,44.9175169948046],[80.8662064961014,43.180362046881],[80.1801501809943,42.9200678574269],[80.2599902688853,42.3499992945991],[79.6436454609401,42.4966828476597],[79.1421773619798,42.8560924342496],[77.6583919615832,42.9606855332083],[76.0003536314986,42.9880223658906],[75.6369649596221,42.8778998886768],[74.2128658385226,43.2983393418035],[73.6453035826609,43.0912718776099],[73.4897575214623,42.5008944768913],[71.8446382994506,42.8453954127652],[71.1862805520523,42.7042929143922],[70.9623148944993,42.2661542832055]]]}},{"type":"Feature","properties":{"admin":"Kenya","name":"Kenya","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[40.993,-0.85829],[41.58513,-1.68325],[40.88477,-2.08255],[40.63785,-2.49979],[40.26304,-2.57309],[40.12119,-3.27768],[39.80006,-3.68116],[39.60489,-4.34653],[39.20222,-4.67677],[37.7669,-3.67712],[37.69869,-3.09699],[34.07262,-1.05982],[33.9037111971045,-0.95],[33.8935689696669,0.109813537861896],[34.18,0.515],[34.6721,1.17694],[35.03599,1.90584],[34.59607,3.05374],[34.47913,3.5556],[34.005,4.24988494736205],[34.6201962678539,4.84712274208199],[35.298007118233,5.506],[35.8174476623535,5.3382320827908],[35.8174476623535,4.77696566346189],[36.1590786328556,4.44786412767277],[36.8550932380081,4.44786412767277],[38.120915,3.598605],[38.43697,3.58851],[38.67114,3.61607],[38.89251,3.50074],[39.5593842587658,3.42206],[39.85494,3.83879],[40.76848,4.25702],[41.1718,3.91909],[41.855083092644,3.91891192048373],[40.98105,2.78452],[40.993,-0.85829]]]}},{"type":"Feature","properties":{"admin":"Kyrgyzstan","name":"Kyrgyzstan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[70.9623148944991,42.2661542832055],[71.1862805520521,42.7042929143921],[71.8446382994506,42.8453954127651],[73.4897575214623,42.5008944768913],[73.6453035826609,43.0912718776098],[74.2128658385226,43.2983393418034],[75.636964959622,42.8778998886767],[76.0003536314984,42.9880223658907],[77.6583919615832,42.9606855332083],[79.1421773619798,42.8560924342495],[79.6436454609401,42.4966828476595],[80.2599902688853,42.349999294599],[80.1194303730514,42.1239407415382],[78.5436609231753,41.5822425400387],[78.187196893226,41.1853158636048],[76.9044844908771,41.0664859075496],[76.5263680357974,40.4279460719351],[75.4678279967307,40.5620722519487],[74.776862420556,40.3664252792916],[73.8222436868283,39.8939734970632],[73.9600130553184,39.6600084498617],[73.6753792662548,39.4312368841056],[71.784693637992,39.2794632024644],[70.5491618183256,39.6041979029865],[69.4648869159775,39.5266832545487],[69.5596098163685,40.103211371413],[70.6480188333,39.9357538925712],[71.0141980325202,40.2443655462182],[71.7748751158566,40.1458444280538],[73.0554171080492,40.8660330266895],[71.8701147805705,41.3929000921213],[71.1578585142916,41.1435871445291],[70.4200224140282,41.5199982773431],[71.2592476744482,42.1677106796895],[70.9623148944991,42.2661542832055]]]}},{"type":"Feature","properties":{"admin":"Cambodia","name":"Cambodia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[103.49727990114,10.6325554468159],[103.090689731867,11.1536605900472],[102.584932489027,12.1865949569133],[102.348099399833,13.3942473413582],[102.988422072362,14.2257211369345],[104.281418084737,14.4167430689014],[105.218776890079,14.2732117782107],[106.043946160916,13.88109100998],[106.496373325631,14.5705838078343],[107.382727492301,14.202440904187],[107.614547967562,13.5355307072442],[107.491403029411,12.3372059188279],[105.810523716253,11.5676146509212],[106.249670037869,10.9618118351636],[105.199914992292,10.8893098006581],[104.334334751403,10.4865436873752],[103.49727990114,10.6325554468159]]]}},{"type":"Feature","properties":{"admin":"South Korea","name":"Korea","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[128.349716424677,38.6122429469278],[129.21291954968,37.4323924830559],[129.460449660358,36.7841891546028],[129.468304478066,35.6321406113039],[129.09137658093,35.0824842392314],[128.185850457879,34.8903771021864],[127.386519403188,34.4756737330441],[126.485747511909,34.3900458847365],[126.373919712429,34.9345604517959],[126.559231398628,35.6845405136479],[126.117397902532,36.7254847275193],[126.860143263863,36.8939240585746],[126.174758742376,37.749685777328],[126.237338901882,37.8403779160003],[126.683719924019,37.8047728541512],[127.073308547067,38.2561148137884],[127.780035435091,38.3045356308459],[128.205745884311,38.3703972438019],[128.349716424677,38.6122429469278]]]}},{"type":"Feature","properties":{"admin":"Kosovo","name":"Kosovo","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[20.76216,42.05186],[20.7173100000001,41.84711],[20.59023,41.85541],[20.52295,42.21787],[20.28374,42.32025],[20.0707,42.58863],[20.25758,42.81275],[20.49679,42.88469],[20.63508,43.21671],[20.81448,43.27205],[20.95651,43.13094],[21.143395,43.0686850000001],[21.27421,42.90959],[21.43866,42.86255],[21.63302,42.67717],[21.77505,42.6827],[21.66292,42.43922],[21.54332,42.32025],[21.5766359894021,42.2452243970619],[21.3527000000001,42.2068],[20.76216,42.05186]]]}},{"type":"Feature","properties":{"admin":"Kuwait","name":"Kuwait","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[47.9745190773499,29.9758192001485],[48.1831885109445,29.5344766301598],[48.0939433123764,29.306299343375],[48.4160941912839,28.5520042994267],[47.7088505389374,28.5260627304161],[47.4598218117228,29.0025194361472],[46.5687134132817,29.0990251734523],[47.302622104691,30.0590699325707],[47.9745190773499,29.9758192001485]]]}},{"type":"Feature","properties":{"admin":"Laos","name":"Lao PDR","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[105.218776890079,14.2732117782107],[105.544338413518,14.7239336206604],[105.58903852745,15.5703160669529],[104.779320509869,16.4418649357714],[104.716947056092,17.4288589543301],[103.956476678485,18.2409540877969],[103.200192091894,18.3096320663128],[102.998705682388,17.9616946476916],[102.413004998792,17.9327816838243],[102.113591750092,18.1091016708042],[101.059547560635,17.5124972599945],[101.035931431078,18.4089283309616],[101.282014601652,19.4625849471768],[100.606293573003,19.5083444279712],[100.548881056727,20.1092379826611],[100.115987583418,20.4178496363082],[100.32910119019,20.7861217310362],[101.180005324308,21.436572984294],[101.27002566936,21.2016519230952],[101.803119744883,21.1743667668451],[101.652017856861,22.3181987574095],[102.170435825614,22.4647531193893],[102.754896274835,21.6751372339695],[103.203861118586,20.7665622014137],[104.435000441508,20.7587332219215],[104.822573683697,19.8866417505639],[104.183387892679,19.6246680770602],[103.896532017027,19.2651809758218],[105.094598423282,18.6669745956111],[105.925762160264,17.485315456609],[106.556007928496,16.6042839624648],[107.312705926546,15.9085383163032],[107.564525181104,15.2021731633056],[107.382727492301,14.202440904187],[106.496373325631,14.5705838078343],[106.043946160916,13.88109100998],[105.218776890079,14.2732117782107]]]}},{"type":"Feature","properties":{"admin":"Lebanon","name":"Lebanon","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[35.8211007016502,33.2774264592763],[35.5527966651908,33.264274807258],[35.4607092628467,33.0890400253563],[35.1260526873245,33.0909003769188],[35.4822066586801,33.9054501409194],[35.9795923194894,34.6100582952191],[35.9984025408436,34.6449140488],[36.4481942075121,34.5939352483441],[36.6117501157159,34.2017886418972],[36.0664604021721,33.8249124211925],[35.8211007016502,33.2774264592763]]]}},{"type":"Feature","properties":{"admin":"Liberia","name":"Liberia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-7.71215938966975,4.36456594483772],[-7.97410722495725,4.35575511313196],[-9.00479366701867,4.8324185245922],[-9.91342037600668,5.59356069581921],[-10.7653838769866,6.14071076092556],[-11.4387794661821,6.78591685630575],[-11.1998018050483,7.10584564862474],[-11.1467042708684,7.39670644777953],[-10.6955948551765,7.93946401614109],[-10.2300935530913,8.40620555260129],[-10.0165665348613,8.42850393313523],[-9.75534216962583,8.54105520266692],[-9.33727983238458,7.92853445071135],[-9.40334815106975,7.52690521893891],[-9.20878638349084,7.31392080324795],[-8.926064622422,7.30903738039638],[-8.72212358238212,7.71167430259851],[-8.4392984684487,7.68604279218174],[-8.48544552248535,7.39520783124307],[-8.38545162600057,6.91180064536874],[-8.60288021486862,6.46756419517166],[-8.31134762209402,6.19303314862108],[-7.99369259279588,6.12618968345154],[-7.57015255373169,5.7073521997259],[-7.53971513511176,5.31334524171652],[-7.63536821128403,5.18815908448946],[-7.71215938966975,4.36456594483772]]]}},{"type":"Feature","properties":{"admin":"Libya","name":"Libya","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[14.8513,22.8629500000001],[14.1438708838552,22.4912889673711],[13.5814245947905,23.0405060897693],[11.9995056494717,23.4716684025964],[11.560669386449,24.0979092473256],[10.771363559623,24.5625320500617],[10.3038468766784,24.379313259371],[9.94826134607802,24.9369536402326],[9.91069257980177,25.3654546167968],[9.31941084151822,26.0943248560575],[9.71628584151966,26.5122063257857],[9.62905602381107,27.140953477481],[9.75612837081678,27.6882585718842],[9.68388471847288,28.1441738957793],[9.85999799972347,28.9599897323711],[9.80563439295235,29.4246383733234],[9.48213992680542,30.3075560572462],[9.97001712407297,30.5393248560754],[10.0565751481617,30.9618313664935],[9.95022505050519,31.3760696477453],[10.6369014827995,31.7614208033457],[10.9447896663945,32.0818146835554],[11.4322534522038,32.3689031031528],[11.488787469131,33.1369957545232],[12.66331,32.79278],[13.08326,32.87882],[13.91868,32.71196],[15.24563,32.26508],[15.71394,31.37626],[16.61162,31.18218],[18.02109,30.76357],[19.08641,30.26639],[19.57404,30.52582],[20.05335,30.98576],[19.82033,31.7517900000001],[20.13397,32.2382],[20.85452,32.7068],[21.54298,32.8432],[22.89576,32.63858],[23.2368,32.19149],[23.6091300000001,32.18726],[23.9275,32.01667],[24.92114,31.89936],[25.16482,31.56915],[24.80287,31.08929],[24.95762,30.6616],[24.70007,30.04419],[25.0000000000001,29.2386545295336],[25.0000000000001,25.682499996361],[25.0000000000001,22],[25.0000000000001,20.00304],[23.8500000000001,20],[23.8376600000001,19.5804700000001],[19.84926,21.49509],[15.86085,23.40972],[14.8513,22.8629500000001]]]}},{"type":"Feature","properties":{"admin":"Sri Lanka","name":"Sri Lanka","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[81.7879590188914,7.52305532473316],[81.6373222187606,6.48177521405192],[81.2180196471443,6.19714142498829],[80.3483569681044,5.96836985923215],[79.8724687031285,6.76346344647493],[79.6951668639351,8.20084341067338],[80.1478007343796,9.82407766360955],[80.8388179869865,9.26842682539119],[81.3043192890718,8.56420624433369],[81.7879590188914,7.52305532473316]]]}},{"type":"Feature","properties":{"admin":"Lesotho","name":"Lesotho","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[28.9782625668572,-28.9555966122617],[29.3251664568326,-29.2573869768462],[29.018415154748,-29.7437655575774],[28.8483996925077,-30.0700505510682],[28.2910693702399,-30.2262167294543],[28.1072046241454,-30.5457321103149],[27.7493970069565,-30.6451058896122],[26.9992619158076,-29.87595387138],[27.5325110206275,-29.2427108700754],[28.0743384132078,-28.8514686011936],[28.5417000668555,-28.6475017229376],[28.9782625668572,-28.9555966122617]]]}},{"type":"Feature","properties":{"admin":"Lithuania","name":"Lithuania","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[22.7310986670927,54.3275369329933],[22.6510518734725,54.5827409938667],[22.7577637061553,54.8565744085814],[22.3157235043306,55.0152985703659],[21.2684489275035,55.1904816758353],[21.0558004086224,56.0310763617111],[22.2011568539395,56.3378018255795],[23.87826378754,56.2736713731053],[24.8606844418408,56.3725283880796],[25.0009342790809,56.1645307481048],[25.5330465023903,56.100296942766],[26.4943314958838,55.6151069199776],[26.5882792497904,55.1671756048717],[25.7684326514798,54.8469625921751],[25.536353794057,54.2824234076025],[24.450683628037,53.9057022161948],[23.4841276384498,53.9124976670411],[23.2439872575895,54.2205667181491],[22.7310986670927,54.3275369329933]]]}},{"type":"Feature","properties":{"admin":"Luxembourg","name":"Luxembourg","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[6.04307335778111,50.1280516627942],[6.24275109215699,49.9022256536787],[6.18632042809418,49.4638028021145],[5.8977592301764,49.442667141307],[5.67405195478483,49.5294835475575],[5.78241743330091,50.0903278672212],[6.04307335778111,50.1280516627942]]]}},{"type":"Feature","properties":{"admin":"Latvia","name":"Latvia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[21.0558004086224,56.0310763617111],[21.090423618258,56.7838727891229],[21.5818664893537,57.4118706325499],[22.5243412614929,57.7533743353508],[23.3184529965221,57.0062364772749],[24.1207296078534,57.0256926540328],[24.3128625831146,57.793423570377],[25.1645935401493,57.9701569688152],[25.6028096859844,57.8475287949866],[26.4635323422378,57.4763886582663],[27.2881848487515,57.4745283067038],[27.7700159034409,57.2442581244112],[27.8552820167225,56.7593264837843],[28.176709425578,56.1691299505788],[27.1024597510945,55.7833137070877],[26.4943314958838,55.6151069199776],[25.5330465023903,56.100296942766],[25.0009342790809,56.1645307481048],[24.8606844418408,56.3725283880796],[23.87826378754,56.2736713731053],[22.2011568539395,56.3378018255795],[21.0558004086224,56.0310763617111]]]}},{"type":"Feature","properties":{"admin":"Morocco","name":"Morocco","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-5.19386349122203,35.7551821965908],[-4.59100623210514,35.3307119817456],[-3.64005652507001,35.399855048152],[-2.60430579264411,35.1790933294011],[-2.16991370279862,35.1683963079167],[-1.79298580566166,34.5279186060913],[-1.73345455566141,33.9197128362321],[-1.3880492822226,32.8640150009414],[-1.1245511539662,32.6515215113572],[-1.30789913573787,32.262888902306],[-2.61660478352957,32.0943462183862],[-3.06898027181265,31.7244979924733],[-3.64749793132015,31.6372940129808],[-3.69044104655467,30.8969516057512],[-4.85964616537444,30.5011876490439],[-5.24212927898279,30.0004430201356],[-6.06063229005375,29.7316997340018],[-7.0592276676619,29.5792284205247],[-8.67411617678283,28.8412889673966],[-8.66558956545484,27.6564258895925],[-8.81780900794052,27.6564258895925],[-8.81782833498664,27.6564258895925],[-8.79488399904903,27.1206963160226],[-9.41303748212451,27.0884760604885],[-9.73534339032875,26.8609447291074],[-10.1894242008775,26.8609447291074],[-10.5512625797853,26.9908076034569],[-11.3925548974969,26.8834239771544],[-11.7182197738003,26.1040917017608],[-12.0307588363017,26.0308661972031],[-12.5009626937254,24.7701162785781],[-13.891110398809,23.6910090194594],[-14.2211677718572,22.3101630721883],[-14.6308326888509,21.8609398462749],[-14.7509545557134,21.5006000839038],[-17.0029617985611,21.4207341577967],[-17.0204284326758,21.4223102889816],[-16.9732478499932,21.885744533775],[-16.5891369287676,22.1582343612501],[-16.2619217594957,22.6793395044813],[-16.3264139469959,23.0177684595609],[-15.9826106429581,23.7233584660741],[-15.4260037907422,24.359133612561],[-15.0893318343607,24.520260728447],[-14.8246451481617,25.1035326197253],[-14.8009256657397,25.6362649602223],[-14.4399399479648,26.2544184432976],[-13.7738048975065,26.6188923202523],[-13.1399417790143,27.6401478134205],[-13.1216133699147,27.6541476717198],[-12.6188366357831,28.0381855331487],[-11.6889192366908,28.1486439071726],[-10.9009569971044,28.8321422388809],[-10.3995922510086,29.0985859237778],[-9.56481116376562,29.9335737167499],[-9.81471839032917,31.1777355006091],[-9.43479326011936,32.0380964218365],[-9.30069291832183,32.5646792668906],[-8.65747636558504,33.2402452662424],[-7.65417843263822,33.6970649277025],[-6.91254411460136,34.1104763860374],[-6.24434200685141,35.1458653834375],[-5.92999426921983,35.759988104794],[-5.19386349122203,35.7551821965908]]]}},{"type":"Feature","properties":{"admin":"Moldova","name":"Moldova","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[26.6193367855978,48.2207262233335],[26.8578235206248,48.3682107610945],[27.5225374691952,48.4671194525011],[28.2595467465418,48.1555622422134],[28.6708911475852,48.1181485052341],[29.122698195113,47.8490951605065],[29.0508679542273,47.5102269557525],[29.4151351254527,47.3466452093326],[29.5596741065731,46.9285828720913],[29.9088517595693,46.6743606634315],[29.8382100766263,46.5253258327017],[30.0246586443354,46.423936672545],[29.7599719581364,46.3499876979354],[29.1706539242799,46.3792623968287],[29.0721069678993,46.5176777207225],[28.8629724464141,46.4378893092638],[28.9337174822216,46.2588304713725],[28.6599874203716,45.9399868841316],[28.4852694027928,45.5969070501459],[28.233553501099,45.4882831894684],[28.0544429867754,45.9445860866056],[28.1600179379477,46.3715626084172],[28.128030226359,46.8104763860882],[27.5511662126848,47.4051170924708],[27.2338729184127,47.8267709417564],[26.9241760596876,48.123264472031],[26.6193367855978,48.2207262233335]]]}},{"type":"Feature","properties":{"admin":"Madagascar","name":"Madagascar","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[49.5435189145957,-12.4698328589406],[49.8089807472791,-12.8952849259996],[50.0565108579572,-13.555761407122],[50.2174312681141,-14.7587887508768],[50.4765368996255,-15.2265121395505],[50.3771114438959,-15.7060694312191],[50.2002746925932,-16.0002633602568],[49.8606055031387,-15.4142526180669],[49.6726066424609,-15.7102035458025],[49.8633443540501,-16.4510368791388],[49.7745642433727,-16.8750420060936],[49.4986120949341,-17.1060356584383],[49.4356185239703,-17.9530640601344],[49.0417924334739,-19.1187810197744],[48.548540887248,-20.4968881161341],[47.9307491391987,-22.3915011532511],[47.5477234230513,-23.7819589169285],[47.0957613462266,-24.9416297339904],[46.2824776548171,-25.1784628231841],[45.4095076841104,-25.6014344214931],[44.8335738462176,-25.3461011695389],[44.0397204933498,-24.9883452287823],[43.7637683449112,-24.46067717865],[43.6977775408744,-23.5741163062506],[43.3456543312376,-22.7769039852839],[43.254187046081,-22.0574130184841],[43.4332975604046,-21.3364751115802],[43.8936828956929,-21.1633073869701],[43.8963700701721,-20.8304594865782],[44.3743253924396,-20.0723662248564],[44.4643974139244,-19.435454196859],[44.2324219093662,-18.9619947242009],[44.0429761085842,-18.3313872209432],[43.9630843442609,-17.4099447567468],[44.3124687029863,-16.850495700755],[44.4465173683514,-16.2162191708045],[44.9449365578065,-16.1793738745804],[45.502731967965,-15.9743734676785],[45.8729936053363,-15.7934542782247],[46.3122432798172,-15.7800184058288],[46.8821826515643,-15.2101823869463],[47.7051298358124,-14.5943026668918],[48.0052148781312,-14.0912325985304],[47.8690474790422,-13.6638685034766],[48.2938277524814,-13.7840678849875],[48.8450602557388,-13.0891748999587],[48.863508742067,-12.4878679338104],[49.1946513201933,-12.040556735892],[49.5435189145957,-12.4698328589406]]]}},{"type":"Feature","properties":{"admin":"Mexico","name":"Mexico","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-97.1400083076707,25.8699974634784],[-97.5280724759665,24.9921440699203],[-97.7029455228422,24.2723430445267],[-97.776041836319,22.9325798609277],[-97.8723667061111,22.4442117375534],[-97.6990439522042,21.8986894800643],[-97.3889595202367,21.4110189885258],[-97.1893334622933,20.6354332544731],[-96.5255755277203,19.8909308944441],[-96.2921272448417,19.3203714055095],[-95.9008849759599,18.8280241968487],[-94.8390634834427,18.5627173934622],[-94.4257295397562,18.1443708358433],[-93.5486512926824,18.4238369816779],[-92.7861138577835,18.5248385685923],[-92.0373481920904,18.7045692001034],[-91.4079034085592,18.8760832788802],[-90.7718698799109,19.2841203882568],[-90.533589850613,19.8674181177513],[-90.4514759997012,20.7075218775204],[-90.2786183336849,20.9998554549955],[-89.6013211738515,21.2617257756345],[-88.5438663398628,21.4936754419766],[-87.6584165107577,21.458845526612],[-87.0518902249481,21.5435431991383],[-86.8119823880329,21.3315147974447],[-86.8459079658326,20.8498646102683],[-87.3832911852359,20.2554047713987],[-87.6210544502107,19.6465530461359],[-87.4367504544418,19.4724034693123],[-87.5865604316559,19.0401301131907],[-87.8371911282715,18.2598159855834],[-88.0906640286632,18.516647854074],[-88.3000310940936,18.49998220466],[-88.4901228502793,18.4868305526417],[-88.8483438789266,17.8831981470403],[-89.0298573473517,18.0015113387726],[-89.1509093899955,17.9554676376004],[-89.1430804105033,17.8083189966494],[-90.0679335192309,17.8193260767275],[-91.0015199450159,17.8175949162457],[-91.0022692532842,17.2546577010743],[-91.4539212715151,17.2521772323242],[-91.0816700915006,16.9184766707995],[-90.7118218655876,16.6874830184548],[-90.6008467272409,16.4707778996388],[-90.438866950222,16.4101097681281],[-90.4644726224226,16.0695620793247],[-91.7479601712559,16.0665648462518],[-92.2292486234063,15.2514466414959],[-92.087215949252,15.0645846623285],[-92.2032295397473,14.8301028508041],[-92.2277500068698,14.538828640191],[-93.3594638740618,15.6154295923437],[-93.8751688301185,15.9401642928659],[-94.6916564603301,16.2009752466429],[-95.250227016973,16.1283181828406],[-96.0533821276533,15.7520879175396],[-96.5574340482283,15.6535151229428],[-97.2635924954966,15.9170649276313],[-98.0130299548096,16.1073117131139],[-98.9476757474565,16.5660434025688],[-99.697397427147,16.7061640487282],[-100.829498867581,17.171071071842],[-101.666088629954,17.6490263941096],[-101.9185280017,17.916090196194],[-102.478132086989,17.9757506372751],[-103.500989549558,18.2922946232788],[-103.917527432047,18.7485716822],[-104.992009650475,19.3161339380617],[-105.493038499761,19.9467672795354],[-105.731396043708,20.4341018742641],[-105.397772996831,20.5317186548634],[-105.500660773524,20.8168950464661],[-105.270752326258,21.0762848983551],[-105.265817226974,21.4221035832523],[-105.603160976975,21.8711459416526],[-105.693413865973,22.2690803085162],[-106.028716396899,22.7737523462786],[-106.909980434988,23.7677743596289],[-107.915448778091,24.5489153101529],[-108.401904873471,25.1723139511059],[-109.260198737407,25.5806094426441],[-109.444089321717,25.8248839380877],[-109.291643846456,26.4429340682984],[-109.801457689232,26.6761756454479],[-110.391731737086,27.1621149765045],[-110.641018846462,27.8598760035255],[-111.178918830188,27.9412405461691],[-111.759606899852,28.4679525823039],[-112.22823462609,28.9544086776835],[-112.271823696729,29.2668443873201],[-112.809594489374,30.0211135930523],[-113.163810594519,30.7868808049694],[-113.148669399857,31.1709658879789],[-113.871881069782,31.5676083440352],[-114.205736660604,31.5240451116131],[-114.776451178835,31.7995321721611],[-114.936699795372,31.3934846054276],[-114.771231859173,30.9136172551653],[-114.673899298952,30.162681179316],[-114.330974494263,29.7504324407074],[-113.588875088335,29.061611436473],[-113.424053107541,28.8261736109512],[-113.271969367306,28.7547826197399],[-113.140039435664,28.411289374296],[-112.962298346796,28.4251903345825],[-112.761587083775,27.7802167831475],[-112.457910529412,27.5258137069748],[-112.244951951937,27.1717267929108],[-111.616489020619,26.6628172877005],[-111.284674648873,25.7325898300144],[-110.987819383572,25.2946062281246],[-110.710006883571,24.8260043401019],[-110.655048997829,24.2985946721311],[-110.172856208113,24.2655475936804],[-109.771847093529,23.8111825627542],[-109.409104377056,23.3646723495362],[-109.433392300233,23.1855876734287],[-109.854219326602,22.8182715926981],[-110.031391974714,22.8230775009012],[-110.295070970484,23.4309732121667],[-110.949501309028,24.000964260346],[-111.670568407013,24.4844231226525],[-112.182035895621,24.7384127873672],[-112.148988817171,25.470125230404],[-112.30071082238,26.0120042994166],[-112.777296719192,26.3219595403032],[-113.464670783322,26.7681855331434],[-113.596729906044,26.6394595403045],[-113.848936733844,26.9000637883524],[-114.46574662968,27.1420903589914],[-115.055142178185,27.7227267522229],[-114.982252570437,27.7982001815851],[-114.570365566855,27.7414852971449],[-114.199328782999,28.1150025497506],[-114.162018398885,28.5661119654423],[-114.931842210737,29.2794792750155],[-115.518653937627,29.5563615992354],[-115.88736528203,30.1807937688342],[-116.258350389453,30.8364643417536],[-116.721526252085,31.635743720012],[-117.12776,32.53534],[-115.99135,32.6123900000001],[-114.72139,32.72083],[-114.815,32.52528],[-113.30498,32.03914],[-111.02361,31.33472],[-109.035,31.3419400000001],[-108.24194,31.34222],[-108.24,31.7548537181664],[-106.50759,31.75452],[-106.1429,31.39995],[-105.63159,31.08383],[-105.03737,30.64402],[-104.70575,30.12173],[-104.45697,29.57196],[-103.94,29.27],[-103.11,28.97],[-102.48,29.76],[-101.6624,29.7793],[-100.9576,29.3807100000001],[-100.45584,28.6961200000001],[-100.11,28.1100000000001],[-99.52,27.54],[-99.3,26.84],[-99.0199999999999,26.37],[-98.24,26.06],[-97.5299999999999,25.84],[-97.1400083076707,25.8699974634784]]]}},{"type":"Feature","properties":{"admin":"Macedonia","name":"Macedonia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[20.59023,41.85541],[20.7173100000001,41.84711],[20.76216,42.05186],[21.3527000000001,42.2068],[21.5766359894021,42.2452243970619],[21.9170800000001,42.30364],[22.3805257504247,42.3202595078151],[22.8813737321973,41.9992971868504],[22.9523771501665,41.3379938828112],[22.76177,41.3048],[22.597308383889,41.1304871689432],[22.0553776384443,41.1498658310527],[21.674160597427,40.9312745224579],[21.0200403174764,40.8427269557259],[20.60518,41.08622],[20.46315,41.51509],[20.59023,41.85541]]]}},{"type":"Feature","properties":{"admin":"Mali","name":"Mali","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-12.1707502913803,14.6168342147355],[-11.8342075260795,14.7990969914289],[-11.6660782536179,15.3882083195563],[-11.3490950179395,15.4112560083585],[-10.6507913883794,15.1327458765214],[-10.0868464827782,15.3304857446863],[-9.7002550928027,15.2641073674074],[-9.55023840985939,15.4864968937754],[-5.53774430990845,15.5016897648693],[-5.31527726889193,16.2018537459918],[-5.48852250815044,16.325102037008],[-5.97112870932425,20.6408334416476],[-6.45378658693033,24.9565906845034],[-4.92333736817423,24.974574082941],[-1.55005489745761,22.7926659204974],[1.82322757325903,20.610809434486],[2.06099083823392,20.1422333846795],[2.68358849448643,19.8562301701601],[3.1466610042539,19.6935785995214],[3.1581331722227,19.05736420336],[4.26741946780004,19.155265204337],[4.2702099951438,16.8522274846012],[3.72342166506348,16.1842837590126],[3.63825890464648,15.5681198185805],[2.74999270998148,15.4095248478767],[1.38552819174686,15.3235611027592],[1.01578331869851,14.9681822778879],[0.374892205414682,14.9289081893461],[-0.26625729003058,14.9243089868721],[-0.515854458000348,15.1161577417557],[-1.06636349120566,14.9738150090078],[-2.00103512206877,14.5590082870009],[-2.19182451009038,14.2464175480674],[-2.96769446452058,13.7981503361515],[-3.10370683431276,13.5412667912286],[-3.52280270019986,13.3376616479986],[-4.00639075358723,13.4724854598481],[-4.28040503581488,13.2284435083497],[-4.4271661035238,12.5426455754043],[-5.22094194174312,11.7138589543072],[-5.19784257650865,11.3751457788501],[-5.470564947929,10.951269842976],[-5.40434159994697,10.3707368026091],[-5.81692623536529,10.2225546330122],[-6.05045203289227,10.0963607853554],[-6.20522294760643,10.5240607772191],[-6.49396501303727,10.4113028019583],[-6.66646094402755,10.4308106551484],[-6.85050655763506,10.1389938419962],[-7.62275916180481,10.1472362329468],[-7.89958980959237,10.2973821069708],[-8.02994361004862,10.2065349390017],[-8.33537716310974,10.4948119165419],[-8.28235714357828,10.7925973576238],[-8.40731075686003,10.9092569035228],[-8.62032101076713,10.8108908146552],[-8.58130530438677,11.1362456323648],[-8.37630489748491,11.3936459416106],[-8.78609900555946,11.8125609399847],[-8.90526485842453,12.0883580591264],[-9.12747351727958,12.3080604110153],[-9.32761633954601,12.3342862004035],[-9.56791174970321,12.1942430688925],[-9.89099280439201,12.060478623905],[-10.1652137923488,11.8440835636827],[-10.5932238428063,11.923975328006],[-10.8708296370782,12.1778874780721],[-11.0365559554383,12.2112446151165],[-11.2975736149445,12.0779710962358],[-11.4561685856483,12.0768342147253],[-11.5139428369506,12.4429875757294],[-11.4678991357785,12.754518947801],[-11.5533977930054,13.1412136906411],[-11.9277160303116,13.4220751001474],[-12.1248874577213,13.9947274845898],[-12.1707502913803,14.6168342147355]]]}},{"type":"Feature","properties":{"admin":"Myanmar","name":"Myanmar","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[99.5433093607593,20.1865976018021],[98.9596757344549,19.7529806584409],[98.2537239929156,19.70820302986],[97.7977828308044,18.6270803898818],[97.3758964375735,18.4454377303758],[97.8591227559349,17.5679460718437],[98.4937610209113,16.8378355982079],[98.9033484232567,16.1778242049761],[98.5373759297657,15.3084974227461],[98.1920740091914,15.1237025008704],[98.4308191263799,14.6220276961808],[99.0977551615387,13.8275025496933],[99.2120117533361,13.2692937280765],[99.1963537943516,12.8047484399887],[99.5872860046397,11.8927627629017],[99.038120558674,10.9605457625724],[98.553550653073,9.93295990644854],[98.4571741068487,10.6752660181051],[98.7645455261208,11.4412916121837],[98.4283386576298,12.0329867619257],[98.5095740091927,13.1223776310707],[98.1036039571077,13.6404597030129],[97.7777323750752,14.8372858748926],[97.5970715677828,16.1005679386998],[97.1645398294998,16.9287344426093],[96.505768670643,16.4272405054328],[95.3693522481124,15.7143899601826],[94.8084045755841,15.8034542912376],[94.1888041524045,16.037936102762],[94.5334859557913,17.2772403019857],[94.3248165221967,18.2135139022499],[93.5409883971936,19.36649262133],[93.6632548359962,19.726961574782],[93.0782776224522,19.855144965082],[92.3685535013556,20.6708832870253],[92.3032344909387,21.4754853378098],[92.652257114638,21.3240475529785],[92.6727209818256,22.0412389185412],[93.1661275573484,22.2784595809771],[93.0602942240146,22.7031106633356],[93.2863269388593,23.043658352139],[93.3251876159428,24.0785564234322],[94.1067419779251,23.8507408716735],[94.5526579121716,24.6752383488903],[94.6032491393854,25.1624954289704],[95.1551534362626,26.0013072779321],[95.1247676940749,26.5735720891323],[96.4193656758509,27.2645893417392],[97.1339990580153,27.08377350515],[97.0519885599681,27.6990589462331],[97.4025614766361,27.8825361190854],[97.32711388549,28.2615827499463],[97.9119877461694,28.3359451360143],[98.2462309102333,27.7472213811292],[98.6826900573705,27.5088121607506],[98.7120939473445,26.7435358749403],[98.6718380065891,25.9187025009135],[97.7246090026791,25.083637193293],[97.604719679762,23.897404690033],[98.6602624857557,24.06328603769],[98.8987492207828,23.1427220728425],[99.5319922220874,22.9490388046126],[99.2408988789872,22.1183143173046],[99.9834892110215,21.7429367131364],[100.416537713627,21.5588394230966],[101.150032993578,21.849984442629],[101.180005324308,21.436572984294],[100.32910119019,20.7861217310362],[100.115987583418,20.4178496363082],[99.5433093607593,20.1865976018021]]]}},{"type":"Feature","properties":{"admin":"Montenegro","name":"Montenegro","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[19.8016133968987,42.5000934921908],[19.7380513851796,42.6882473821656],[19.30449,42.19574],[19.3717700000001,41.87755],[19.16246,41.95502],[18.88214,42.28151],[18.45,42.48],[18.56,42.65],[18.70648,43.20011],[19.03165,43.43253],[19.21852,43.52384],[19.48389,43.35229],[19.63,43.2137799702705],[19.95857,43.10604],[20.3398,42.89852],[20.25758,42.81275],[20.0707,42.58863],[19.8016133968987,42.5000934921908]]]}},{"type":"Feature","properties":{"admin":"Mongolia","name":"Mongolia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[87.7512642760767,49.2971979844055],[88.8055668476955,49.4705207383124],[90.7136674336407,50.3318118353211],[92.2347115417197,50.8021707220417],[93.1042191914627,50.4952902288764],[94.1475663594356,50.4805366074571],[94.8159493346987,50.0134333359708],[95.814027947984,49.9774665390957],[97.2597278177814,49.7260606959957],[98.2317615091915,50.4224006211287],[97.8257397806743,51.0109951849332],[98.8614905131003,52.0473660345467],[99.9817322123235,51.634006252644],[100.889480421963,51.5168557806383],[102.065222609467,51.2599205592831],[102.255908644624,50.5105606146187],[103.67654544476,50.0899661321951],[104.621552362082,50.2753294948261],[105.886591424587,50.4060191920922],[106.888804152455,50.2742959661802],[107.868175897251,49.7937051458658],[108.475167270951,49.2825477158507],[109.402449171997,49.2929605169575],[110.662010532679,49.1301280788059],[111.581230910287,49.3779682480777],[112.897739699354,49.543565375357],[114.362456496235,50.2483027207374],[114.96210981655,50.1402473008151],[115.485695428531,49.8051773138346],[116.678800897286,49.8885313991214],[116.191802199368,49.1345980901991],[115.485282017073,48.1353825954034],[115.742837355616,47.7265445013263],[116.308952671373,47.8534101426028],[117.295507440257,47.6977090521074],[118.064142694167,48.0667304551037],[118.866574334795,47.7470600449462],[119.772823927897,47.0480587835501],[119.663269891439,46.6926799586789],[118.874325799639,46.8054120957236],[117.421701287914,46.6727328558143],[116.717868280099,46.3882024196152],[115.9850964702,45.727235012386],[114.460331658996,45.3398167994938],[113.463906691544,44.8088931341271],[112.436062453259,45.0116456162243],[111.8733061056,45.1020793727351],[111.348376906379,44.4574417181101],[111.667737257943,44.0731757675877],[111.829587843881,43.7431183945395],[111.12968224492,43.4068340114001],[110.412103306115,42.871233628911],[109.243595819131,42.5194463160841],[107.744772576938,42.4815158147819],[106.129315627062,42.1343277044289],[104.964993931093,41.5974095729163],[104.522281935649,41.9083466660165],[103.312278273535,41.9074681666676],[101.83304039918,42.5148729518263],[100.845865513108,42.6638044296914],[99.51581749878,42.5246914739617],[97.451757440178,42.74888967546],[96.3493957865278,42.7256352809287],[95.7624548685567,43.3194491643946],[95.3068754414715,44.2413308782655],[94.6889286641253,44.3523318548284],[93.4807336771413,44.97547211362],[92.1338908223182,45.1150759954564],[90.9455395853343,45.2860733099103],[90.5857682637183,45.7197160914875],[90.970809360725,46.8881460638229],[90.2808256367639,47.6935490993079],[88.8542977233467,48.069081732773],[88.0138322285517,48.5994627956006],[87.7512642760767,49.2971979844055]]]}},{"type":"Feature","properties":{"admin":"Mozambique","name":"Mozambique","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[34.5599890479993,-11.5200200334159],[35.312397902169,-11.4391464168791],[36.5140816586843,-11.7209380021667],[36.7751509946228,-11.5945374487808],[37.4712842140266,-11.5687509090672],[37.8276448911114,-11.2687692196128],[38.4275565935877,-11.2852023250817],[39.5210299008838,-10.8968539364082],[40.3165885760172,-10.3170960425257],[40.478387485523,-10.76544076909],[40.4372530454187,-11.761710707245],[40.5608113950286,-12.639176527561],[40.5996203956797,-14.2019751929319],[40.775475294769,-14.6917644181942],[40.4772506040126,-15.406294447494],[40.0892639503652,-16.1007740210645],[39.452558628097,-16.7208912085669],[38.5383508644215,-17.101023044506],[37.4111328468389,-17.5863680965912],[36.2812793312094,-18.6596875952934],[35.8964966163641,-18.8422604305806],[35.1983996925331,-19.5528113745939],[34.78638349787,-19.7840117326677],[34.7018925310728,-20.497043145431],[35.1761271502154,-21.2543612606684],[35.3734277687057,-21.8408370907489],[35.3858482537054,-22.14],[35.5625455363691,-22.09],[35.5339347674043,-23.0707878557278],[35.3717741228724,-23.5353589820317],[35.6074703305556,-23.7065630022147],[35.4587455584196,-24.1226099585965],[35.0407348976107,-24.4783505184938],[34.2158240089355,-24.8163143856827],[33.013210076639,-25.3575733375077],[32.5746321957779,-25.7273182105561],[32.6603633969501,-26.1485844865994],[32.9159550310657,-26.2158672014435],[32.8301204770289,-26.7421916643362],[32.0716654802811,-26.7338200823049],[31.985779249812,-26.2917798804802],[31.8377779477281,-25.8433318010513],[31.7524084815819,-25.4842839494874],[31.9305888201242,-24.3694165992225],[31.6703979835346,-23.6589690080739],[31.1914091326213,-22.2515096981724],[32.244988234188,-21.1164885393137],[32.5086930681734,-20.3952922502483],[32.6597432797626,-20.3042900529823],[32.7727079607526,-19.7155921363133],[32.6119942563249,-19.4193828264163],[32.6548856951271,-18.6720899390435],[32.8498608741644,-17.9790573055772],[32.8476387875758,-16.7133981258846],[32.3282389666102,-16.3920740698938],[31.8520406430406,-16.3194170060914],[31.6364982439512,-16.0719902482779],[31.1730639991577,-15.8609436987979],[30.3389547055345,-15.8808391252302],[30.2742558123051,-15.5077869605152],[30.1794812354818,-14.7960991349915],[33.2140246925252,-13.9718600399362],[33.7897001482567,-14.4518307430631],[34.0648254737786,-14.3599500464481],[34.4596334164885,-14.6130095353814],[34.5176660499523,-15.0137085913726],[34.3072912940921,-15.4786414527026],[34.381291945134,-16.183559665596],[35.0338102556835,-16.8012997372131],[35.3390629412316,-16.1074402808301],[35.7719047381084,-15.8968588192407],[35.6868453305559,-14.6110458309543],[35.267956170398,-13.8878341610296],[34.9071513201362,-13.5654248999606],[34.5599890479993,-13.5799976538669],[34.280006137842,-12.2800253231325],[34.5599890479993,-11.5200200334159]]]}},{"type":"Feature","properties":{"admin":"Mauritania","name":"Mauritania","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-12.1707502913803,14.6168342147355],[-12.8306583317475,15.3036915145429],[-13.4357376774531,16.0393830428662],[-14.0995214502422,16.3043022730105],[-14.577347581429,16.5982636581028],[-15.1357372705588,16.5872824162408],[-15.6236661442587,16.3693370630498],[-16.1206900700419,16.4556625431934],[-16.4630981104079,16.1350361190385],[-16.5497078109291,16.673892116762],[-16.2705517236884,17.1669627954749],[-16.1463474186748,18.1084815536167],[-16.2568833073472,19.0967158065503],[-16.3776511296133,19.593817246982],[-16.2778381006415,20.0925206568147],[-16.5363236149655,20.5678663192515],[-17.0634232243426,20.9997521021308],[-16.845193650774,21.3333234725749],[-12.9291019352635,21.3270706242676],[-13.1187544417747,22.7712202010963],[-12.8742215641696,23.2848322616452],[-11.9372244938533,23.3745942245362],[-11.9694189111712,25.9333527694683],[-8.6872936670174,25.8810562199889],[-8.68439978680905,27.395744126896],[-4.92333736817423,24.974574082941],[-6.45378658693033,24.9565906845034],[-5.97112870932425,20.6408334416476],[-5.48852250815044,16.325102037008],[-5.31527726889193,16.2018537459918],[-5.53774430990845,15.5016897648693],[-9.55023840985939,15.4864968937754],[-9.7002550928027,15.2641073674074],[-10.0868464827782,15.3304857446863],[-10.6507913883794,15.1327458765214],[-11.3490950179395,15.4112560083585],[-11.6660782536179,15.3882083195563],[-11.8342075260795,14.7990969914289],[-12.1707502913803,14.6168342147355]]]}},{"type":"Feature","properties":{"admin":"Malawi","name":"Malawi","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[34.5599890479993,-11.5200200334159],[34.280006137842,-12.2800253231325],[34.5599890479993,-13.5799976538669],[34.9071513201362,-13.5654248999606],[35.267956170398,-13.8878341610296],[35.6868453305559,-14.6110458309543],[35.7719047381084,-15.8968588192407],[35.3390629412316,-16.1074402808301],[35.0338102556835,-16.8012997372131],[34.381291945134,-16.183559665596],[34.3072912940921,-15.4786414527026],[34.5176660499523,-15.0137085913726],[34.4596334164885,-14.6130095353814],[34.0648254737786,-14.3599500464481],[33.7897001482567,-14.4518307430631],[33.2140246925252,-13.9718600399362],[32.6881653175231,-13.7128577612893],[32.9917643572379,-12.7838705379783],[33.3064221534631,-12.4357780900602],[33.1142891782019,-11.6071981746923],[33.3153104998173,-10.7965499813297],[33.4856876970836,-10.5255587703911],[33.2313879737753,-9.6767216935648],[32.7593754412213,-9.23059905358906],[33.7397290382304,-9.41715097416272],[33.9408377240965,-9.69367384198029],[34.280006137842,-10.1599996883584],[34.5599890479993,-11.5200200334159]]]}},{"type":"Feature","properties":{"admin":"Malaysia","name":"Malaysia","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[101.075515578213,6.20486705161589],[101.154218784594,5.69138418214771],[101.814281854258,5.81080841717423],[102.141186964936,6.22163605389466],[102.371147088635,6.12820506431096],[102.961705356867,5.52449514406108],[103.381214634212,4.85500112550375],[103.438575474056,4.18160553630838],[103.332122023535,3.72669790284297],[103.429428745541,3.38286876058902],[103.502447544369,2.7910185815502],[103.85467410687,2.51545400635376],[104.247931756611,1.63114105875906],[104.228811476664,1.29304800048953],[103.519707472754,1.22633372640068],[102.573615350355,1.96711538330474],[101.390638462329,2.76081370687562],[101.273539666756,3.27029165284118],[100.695435418707,3.93913971599487],[100.557407668055,4.76728038168828],[100.196706170658,5.31249258058368],[100.306260207117,6.04056183514388],[100.085756870527,6.46448944745029],[100.259596388757,6.64282481528957],[101.075515578213,6.20486705161589]]],[[[118.618320754065,4.47820241944754],[117.88203494677,4.13755137777949],[117.015214471506,4.30609406169947],[115.865517205877,4.30655914959016],[115.519078403792,3.1692383894944],[115.134037306785,2.82148183838622],[114.621355422017,1.43068817789889],[113.80584964402,1.21754873291104],[112.859809198052,1.49779002522995],[112.380251906384,1.41012095784676],[111.79754845586,0.904441229654651],[111.159137811327,0.976478176269509],[110.514060907027,0.773131415200993],[109.830226678509,1.33813568766419],[109.663260125774,2.00646698649498],[110.396135288537,1.6637747257514],[111.168852980597,1.85063670491878],[111.370081007942,2.69730337158887],[111.796928338673,2.88589651123807],[112.995614862115,3.10239492432487],[113.712935418759,3.89350942628113],[114.204016554828,4.52587392823682],[114.659595981914,4.00763682699781],[114.869557326315,4.34831370688195],[115.347460972151,4.31663605388701],[115.405700311344,4.95522756593382],[115.45071048387,5.44772980389156],[116.220741001451,6.14319122967562],[116.72510298062,6.924771429874],[117.1296260926,6.92805288332457],[117.643393182446,6.42216644940331],[117.689075148592,5.98749013918018],[118.347691278152,5.70869578696546],[119.18190392464,5.40783559816225],[119.110693800942,5.01612824138986],[118.439727004064,4.96651886638962],[118.618320754065,4.47820241944754]]]]}},{"type":"Feature","properties":{"admin":"Namibia","name":"Namibia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[16.3449768408952,-28.5767050106977],[15.6018180681058,-27.8212472470228],[15.2104724463595,-27.090955905874],[14.9897107276085,-26.1173719214952],[14.7432141455763,-25.3929200171954],[14.4081441585958,-23.8530140113298],[14.3857165869811,-22.6566529273407],[14.2577140641942,-22.1112081845],[13.8686422054687,-21.69903696054],[13.3524979997374,-20.8728341610575],[12.8268453304645,-19.6731657854017],[12.6085640804636,-19.0453488094877],[11.7949186540281,-18.0691293270619],[11.7341988460851,-17.3018893368245],[12.2154614600194,-17.1116683895581],[12.8140812516884,-16.9413428687241],[13.46236209479,-16.9712118465888],[14.058501417709,-17.4233806291427],[14.209706658595,-17.3531006812257],[18.2633093604342,-17.309950860262],[18.9561869646036,-17.7890947404723],[21.3771761410456,-17.9306364885197],[23.2150484555061,-17.523116143466],[24.0338615251708,-17.2958431942463],[24.6823490740015,-17.3534107398195],[25.0769503109823,-17.5788233374766],[25.0844433936646,-17.6618156877374],[24.5207051937925,-17.8871249325299],[24.2173645362392,-17.8893470191185],[23.5790055681377,-18.2812610816201],[23.1968583513393,-17.8690381812278],[21.655040317479,-18.2191460100052],[20.9106413103145,-18.252218926672],[20.8811340674759,-21.8143270809831],[19.8954577979407,-21.8491569963479],[19.8957678565344,-24.7677902157606],[19.8947343278886,-28.4611048316608],[19.0021273129111,-28.9724431291889],[18.4648991228047,-29.0454619280173],[17.8361519711095,-28.8563778622613],[17.3874971859515,-28.7835140927298],[17.2189286638154,-28.3559432919468],[16.8240173682409,-28.0821615536645],[16.3449768408952,-28.5767050106977]]]}},{"type":"Feature","properties":{"admin":"New Caledonia","name":"New Caledonia","continent":"Australia"},"geometry":{"type":"Polygon","coordinates":[[[165.779989862326,-21.0800049781156],[166.599991489934,-21.7000188127535],[167.120011428087,-22.1599907365835],[166.740034621445,-22.3999760881469],[166.189732293969,-22.1297083472604],[165.474375441752,-21.6796066219982],[164.829815301776,-21.1498198381419],[164.167995233414,-20.4447465959516],[164.029605747736,-20.1056458472523],[164.459967075863,-20.1200118954295],[165.020036249042,-20.4599911434777],[165.460009393575,-20.8000220679583],[165.779989862326,-21.0800049781156]]]}},{"type":"Feature","properties":{"admin":"Niger","name":"Niger","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[2.15447350424995,11.9401500513134],[2.17710778159392,12.6250178084775],[1.02410322429762,12.8518256698066],[0.993045688490156,13.3357496200039],[0.429927605805517,13.9887330184439],[0.295646396495215,14.4442349308807],[0.374892205414767,14.9289081893461],[1.01578331869848,14.968182277888],[1.38552819174697,15.3235611027592],[2.74999270998154,15.4095248478768],[3.63825890464659,15.5681198185804],[3.7234216650636,16.1842837590127],[4.27020999514389,16.8522274846013],[4.2674194678001,19.1552652043371],[5.67756595218071,19.6012069767998],[8.57289310062987,21.5656607121592],[11.9995056494717,23.4716684025964],[13.5814245947905,23.0405060897693],[14.1438708838552,22.4912889673711],[14.8513,22.8629500000001],[15.0968876481818,21.3085187850749],[15.4710766944073,21.048457139566],[15.4871480648501,20.7304145370256],[15.9032466976643,20.3876189234175],[15.6857405941478,19.9571800806424],[15.3004411149797,17.927949937405],[15.2477311540418,16.6273058130508],[13.9722017757817,15.6843659530211],[13.5403935075508,14.3671336939012],[13.9566988460941,13.9966911890169],[13.9544767595056,13.3534487980638],[14.5957812842476,13.3304269474779],[14.4957873877629,12.8593962671374],[14.2135307145847,12.8020354272933],[14.1813362972669,12.4836569279432],[13.9953528174483,12.4615652531383],[13.3187016130186,13.556356309458],[13.0839872575488,13.5961471623225],[12.3020711605405,13.0371890324375],[11.5278031755115,13.3289800073736],[10.9895931331915,13.3873226994312],[10.7010319352738,13.246917832894],[10.1148144873547,13.2772518986495],[9.52492801274309,12.8511021997546],[9.01493330245444,12.8266592472804],[7.80467125817887,13.3435269230637],[7.33074669763005,13.0980380314612],[6.82044192874781,13.1150912541176],[6.44542605960572,13.4927684595227],[5.44305830244014,13.8659239771022],[4.36834354006601,13.7474815942894],[4.10794599774738,13.5312157251479],[3.96728274904893,12.9561087101716],[3.68063357912592,12.5529033472142],[3.61118045412559,11.660167141156],[2.84864301922659,12.2356358911582],[2.49016360841802,12.2330520695436],[2.15447350424995,11.9401500513134]]]}},{"type":"Feature","properties":{"admin":"Nigeria","name":"Nigeria","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[8.50028771325969,4.77198293702685],[7.46210818851594,4.41210826254624],[7.08259646976444,4.46468903240323],[6.6980721370806,4.24059418376952],[5.89817264163469,4.26245331462898],[5.36280480309088,4.88797068930596],[5.03357425295937,5.61180247641823],[4.32560713056068,6.27065114992347],[3.57418012860455,6.25830048260572],[2.69170169435625,6.25881724692863],[2.74906253420022,7.87073436119289],[2.72379275880951,8.50684540448971],[2.91230838381026,9.13760793704432],[3.2203515967021,9.4441525333997],[3.70543826662592,10.0632103540402],[3.6000700211828,10.3321861841194],[3.79711225751171,10.7347455916731],[3.57221642417747,11.3279393579515],[3.61118045412556,11.660167141156],[3.68063357912581,12.5529033472142],[3.96728274904885,12.9561087101716],[4.10794599774732,13.5312157251478],[4.36834354006606,13.7474815942893],[5.44305830244016,13.8659239771023],[6.44542605960564,13.4927684595227],[6.82044192874775,13.1150912541175],[7.33074669763002,13.0980380314612],[7.80467125817878,13.3435269230637],[9.01493330245446,12.8266592472804],[9.52492801274295,12.8511021997545],[10.1148144873547,13.2772518986494],[10.7010319352737,13.2469178328941],[10.9895931331915,13.3873226994311],[11.5278031755114,13.3289800073736],[12.3020711605405,13.0371890324375],[13.0839872575489,13.5961471623226],[13.3187016130186,13.5563563094578],[13.9953528174483,12.4615652531383],[14.1813362972668,12.4836569279431],[14.5771777686225,12.0853608260535],[14.468192172919,11.9047516951934],[14.4153788591167,11.5723688826921],[13.5729496598946,10.7985659855536],[13.3086763851539,10.1603620467489],[13.1675997249971,9.64062632897341],[12.955467970439,9.4177717147147],[12.7536715023392,8.71776276288899],[12.2188721045506,8.30582408287432],[12.0639461605396,7.7998084578723],[11.8393087093668,7.39704234458943],[11.7457743669185,6.98138296144975],[11.0587878760304,6.64442678469059],[10.4973751156114,7.05535777427556],[10.1182768083183,7.03876963950988],[9.5227059261544,6.45348236737212],[9.23316287602304,6.44449066815333],[8.75753299320863,5.47966583904791],[8.50028771325969,4.77198293702685]]]}},{"type":"Feature","properties":{"admin":"Nicaragua","name":"Nicaragua","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-85.7125404528073,11.0884449324948],[-86.0584883287852,11.4034386255299],[-86.5258499824329,11.8068765324326],[-86.7459915839963,12.1439619002725],[-87.1675162422011,12.4582579614717],[-87.6684934150547,12.9099099797026],[-87.5574666002756,13.0645517033361],[-87.3923862373192,12.9140182560698],[-87.3166544257955,12.984685777229],[-87.0057690091276,13.0257943791172],[-86.8805570136843,13.2542042098472],[-86.7338217841916,13.2630925562014],[-86.7550866360797,13.7548454858909],[-86.5207081774199,13.7784874536644],[-86.3121420966899,13.7713561060082],[-86.0962638007906,14.0381873641472],[-85.8012947252686,13.8360549992376],[-85.6986653307369,13.9600784367381],[-85.5144130114002,14.0790117456578],[-85.1653645494848,14.3543696151251],[-85.148750576503,14.5601968449436],[-85.0527874417369,14.5515410425347],[-84.9245006985724,14.7904928654523],[-84.8200367906944,14.8195866968327],[-84.6495820787796,14.6668053247618],[-84.4493359036486,14.6216142847225],[-84.2283416409524,14.7487641463767],[-83.9757214016936,14.7494359399965],[-83.6285849677729,14.8800739608303],[-83.4899887763661,15.0162671981355],[-83.1472190009741,14.9958291691641],[-83.2332344225239,14.8998660343981],[-83.2841615465476,14.6766238468972],[-83.1821264309873,14.3107030298384],[-83.4124999661444,13.9700778263866],[-83.5198319160147,13.5676992863459],[-83.5522072008455,13.1270543481931],[-83.4985153876943,12.8692923039212],[-83.473323126952,12.4190872257944],[-83.6261044990229,12.3208503280076],[-83.719613003255,11.8931244979277],[-83.6508575100907,11.6290320907001],[-83.8554703437504,11.3733112655038],[-83.8089357164715,11.1030435246173],[-83.6556117418616,10.9387641463614],[-83.8950544908859,10.7268390975324],[-84.1901785957048,10.7934500187567],[-84.355930752281,10.9992255721429],[-84.6730690172562,11.0826571720781],[-84.9030033027389,10.9523033716219],[-85.5618519762442,11.2171192489016],[-85.7125404528073,11.0884449324948]]]}},{"type":"Feature","properties":{"admin":"Netherlands","name":"Netherlands","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[6.07418257002092,53.5104033473781],[6.90513960127413,53.4821621771306],[7.0920532568739,53.1440432806449],[6.84286950036238,52.2284402532975],[6.58939659997083,51.8520291204834],[5.98865807457781,51.851615709025],[6.15665815595878,50.8037210150106],[5.60697594567,51.0372984889698],[4.97399132652691,51.4750237086981],[4.04707116050753,51.2672586126686],[3.31497114422854,51.3457551133199],[3.83028852704314,51.6205445420319],[4.70599734866118,53.0917984075978],[6.07418257002092,53.5104033473781]]]}},{"type":"Feature","properties":{"admin":"Norway","name":"Norway","continent":"Europe"},"geometry":{"type":"MultiPolygon","coordinates":[[[[28.1655473162029,71.1854743516805],[31.2934184099655,70.4537877468599],[30.0054350115228,70.1862588568849],[31.1010787289751,69.5580801459449],[29.3995805193329,69.1569160020631],[28.5919295590432,69.0647769232867],[29.015572950972,69.766491197378],[27.7322921078679,70.1641930202963],[26.1796220232263,69.8252989773261],[25.6892126807764,69.092113755969],[24.7356791521267,68.6495567898214],[23.6620495948308,68.8912474636505],[22.3562378272474,68.8417414415149],[21.2449361508107,69.3704430202931],[20.6455928890896,69.1062472602009],[20.0252689958579,69.0651386583127],[19.8785596045813,68.4071943223726],[17.9938684424644,68.5673912624773],[17.7291817562653,68.0105518663162],[16.7688786149855,68.0139366726314],[16.1087121924568,67.3024555528369],[15.1084114925831,66.1938668890954],[13.5556897315091,64.7870276963815],[13.9199052263022,64.4454206407161],[13.5719161312488,64.0491140814697],[12.5799353369739,64.0662189805583],[11.9305692887942,63.128317572677],[11.9920642432215,61.8003624538566],[12.6311466813752,61.2935716823701],[12.3003658382749,60.11793284773],[11.4682719255112,59.432393296946],[11.0273686051969,58.8561494004594],[10.3565568376161,59.4698070339254],[8.38200035974364,58.3132884792333],[7.0487484066133,58.0788841823573],[5.66583540205042,58.5881554225937],[5.30823449059073,59.6632319199938],[4.99207807782901,61.9709980332843],[5.91290042483789,62.6144729681827],[8.55341108565577,63.4540082871965],[10.5277091813668,64.4860383164975],[12.3583467953064,65.8797258571932],[14.7611458675816,67.8106415879951],[16.435927361729,68.5632054714617],[19.1840283545785,69.8174441596178],[21.3784163754206,70.255169379346],[23.0237423031616,70.2020718451663],[24.5465434099385,71.0304967312372],[26.3700496762218,70.9862617051954],[28.1655473162029,71.1854743516805]]],[[[24.72412,77.85385],[22.49032,77.44493],[20.72601,77.67704],[21.41611,77.93504],[20.8119,78.25463],[22.88426,78.45494],[23.28134,78.07954],[24.72412,77.85385]]],[[[18.25183,79.70175],[21.54383,78.95611],[19.02737,78.5626],[18.47172,77.82669],[17.59441,77.63796],[17.1182,76.80941],[15.91315,76.77045],[13.76259,77.38035],[14.66956,77.73565],[13.1706,78.02493],[11.22231,78.8693],[10.44453,79.65239],[13.17077,80.01046],[13.71852,79.66039],[15.14282,79.67431],[15.52255,80.01608],[16.99085,80.05086],[18.25183,79.70175]]],[[[25.4476253598119,80.4073403998945],[27.4075057309135,80.0564057482005],[25.9246505062982,79.5178339708545],[23.0244657732136,79.4000117052291],[20.0751884294519,79.5668232286672],[19.8972664730709,79.8423619656475],[18.4622636247579,79.8598802761944],[17.3680151709775,80.318896186027],[20.4559920590107,80.5981556261322],[21.9079447771154,80.3576793484621],[22.9192525570674,80.6571442735935],[25.4476253598119,80.4073403998945]]]]}},{"type":"Feature","properties":{"admin":"Nepal","name":"Nepal","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[88.1204407083698,27.8765416529396],[88.0431327656612,27.4458185897868],[88.1748043151409,26.8104051783259],[88.0602376647498,26.4146153834025],[87.2274719583663,26.3978980575561],[86.0243929381792,26.6309846054086],[85.2517785989834,26.7261984319063],[84.6750179381738,27.2349012313875],[83.3042488951995,27.3645057235756],[81.999987420585,27.92547923432],[81.057202589852,28.416095282499],[80.0884245136763,28.7944701197401],[80.4767212259174,29.7298652206553],[81.1112561380293,30.1834809433134],[81.5258044778747,30.4227169866086],[82.3275126484509,30.1152680526881],[83.3371151061372,29.4637315943522],[83.8989929544467,29.3202261418777],[84.2345797057501,28.8398937037247],[85.011638218123,28.6427739527473],[85.8233199401315,28.2035759546987],[86.9545170430006,27.9742617864035],[88.1204407083698,27.8765416529396]]]}},{"type":"Feature","properties":{"admin":"New Zealand","name":"New Zealand","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[173.020374790741,-40.9190524228564],[173.247234328502,-41.3319987933008],[173.958405389703,-40.9267005348356],[174.247586704808,-41.3491553688217],[174.248516880589,-41.7700082334068],[173.876446568088,-42.2331840960388],[173.222739699596,-42.9700383440886],[172.711246372771,-43.3722876930485],[173.08011274647,-43.8533436012536],[172.308583612352,-43.8656942685713],[171.452925246464,-44.2425188128437],[171.185137974327,-44.8971041806849],[170.616697219117,-45.9089287249597],[169.831422154009,-46.3557748349876],[169.332331170934,-46.6412354469679],[168.411353794629,-46.6199447568636],[167.763744745147,-46.2901974424092],[166.676886021184,-46.2199174944922],[166.509144321965,-45.8527047666262],[167.046424188503,-45.1109412575087],[168.303763462597,-44.1239730771661],[168.949408807652,-43.9358191871914],[169.667814569373,-43.5553256162263],[170.524919875366,-43.0316883278128],[171.125089960004,-42.5127535947378],[171.569713983443,-41.7674244117921],[171.948708937872,-41.5144165992911],[172.097227004279,-40.9561044248097],[172.798579543344,-40.4939620908235],[173.020374790741,-40.9190524228564]]],[[[174.612008905331,-36.1563973935405],[175.336615838927,-37.2090979957583],[175.357596470438,-36.5261939430211],[175.808886753642,-36.7989421526577],[175.958490025127,-37.5553817685461],[176.763195428777,-37.8812533505787],[177.438813104561,-37.9612484677665],[178.010354445709,-37.5798247210201],[178.517093540763,-37.6953732236248],[178.274731073314,-38.5828125953731],[177.970460239979,-39.166342868813],[177.206992629299,-39.1457756487608],[176.939980503647,-39.4497364235016],[177.03294640534,-39.8799427223315],[176.885823602605,-40.0659778785822],[176.508017206119,-40.6048080380896],[176.01244022044,-41.2896241188215],[175.239567499083,-41.6883077939532],[175.067898391009,-41.4258948707751],[174.650972935278,-41.2818209775454],[175.227630243224,-40.4592355283234],[174.90015669179,-39.9089332008472],[173.824046665744,-39.5088542620435],[173.852261997775,-39.1466024716775],[174.57480187408,-38.7976832008428],[174.743473749081,-38.0278077125584],[174.697016636451,-37.381128838858],[174.292028436579,-36.7110922177614],[174.319003534236,-36.5348239072139],[173.840996535536,-36.1219808896341],[173.05417117746,-35.2371253395003],[172.636005487354,-34.5291065406694],[173.007042271209,-34.4506617164503],[173.551298456107,-35.006183363588],[174.329390497126,-35.2654957008286],[174.612008905331,-36.1563973935405]]]]}},{"type":"Feature","properties":{"admin":"Oman","name":"Oman","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[58.8611413918466,21.1140345321443],[58.487985874267,20.4289859074671],[58.0343184751766,20.4814374862433],[57.8263725116341,20.2430024276486],[57.6657621600709,19.7360049504331],[57.7887003924934,19.0675702987376],[57.6943909035607,18.9447095809638],[57.2342639504338,18.9479910344143],[56.609650913322,18.5742670760795],[56.5121891620195,18.0871133488639],[56.283520949128,17.8760667993839],[55.6614917336307,17.8841283228215],[55.2699394061552,17.6323090682632],[55.2749003436551,17.2283543970377],[54.7910022316741,16.9506969263334],[54.2392529640938,17.04498057705],[53.5705082538046,16.7076626652647],[53.1085726255475,16.651051133689],[52.7821842791921,17.3497423364912],[52.0000098000222,19.0000033635161],[54.9999817238624,19.9999940047961],[55.6666593768599,22.0000011255723],[55.2083410988632,22.708329982997],[55.2344893736029,23.1109927434154],[55.5258410988645,23.5248692896409],[55.5286316262083,23.9336040308535],[55.9812138202205,24.1305429143179],[55.8041186867562,24.2696041936153],[55.8862325376681,24.9208305933575],[56.396847365144,24.9247321639955],[56.8451404152761,24.2416730819615],[57.4034525897574,23.8785944686788],[58.1369478697083,23.7479306096288],[58.7292114602054,23.5656678329354],[59.1805017434103,22.9923953313055],[59.450097690677,22.6602709009656],[59.8080603371629,22.5336119654182],[59.8061483091681,22.3105248072142],[59.4421911965364,21.7145405135921],[59.2824076678899,21.4338858098149],[58.8611413918466,21.1140345321443]]],[[[56.3914213397534,25.8959907089213],[56.2610417010809,25.7146064315767],[56.0708207538145,26.0554641789739],[56.3620174497793,26.3959343531289],[56.4856791522538,26.3091179468787],[56.3914213397534,25.8959907089213]]]]}},{"type":"Feature","properties":{"admin":"Pakistan","name":"Pakistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[75.1580277851409,37.1330309107891],[75.8968974140501,36.6668061386518],[76.1928483417857,35.8984034286878],[77.8374507994746,35.4940095077878],[76.871721632804,34.6535440129927],[75.7570609882683,34.5049225937213],[74.240202671205,34.7488870305713],[73.749948358052,34.3176988795278],[74.1042936542773,33.4414732935868],[74.4515592792787,32.7648996038055],[75.2586417988132,32.2711054550405],[74.405928989565,31.6926394719653],[74.4213802428203,30.9798147649312],[73.4506384622174,29.9764134791199],[72.8237516620847,28.961591701772],[71.7776656432003,27.9131802434345],[70.6164962096019,27.9891962753359],[69.5143929381131,26.9409656845114],[70.168926629522,26.4918716496788],[70.2828731627256,25.7222287053398],[70.8446993346028,25.2151020370435],[71.0432401874682,24.3565239527302],[68.8425993183188,24.3591336125609],[68.1766451353734,23.6919650334567],[67.4436666197455,23.944843654877],[67.1454419289891,24.6636111516246],[66.3728275897933,25.4251408960938],[64.5304077492911,25.2370386825514],[62.9057007180346,25.2184093287102],[61.4973629087842,25.0782370061185],[61.8741874530565,26.2399748804721],[63.3166317076196,26.7565324976617],[63.2338977395203,27.2170470240307],[62.7554256529299,27.378923448185],[62.727830438086,28.2596448837354],[61.7718681171186,28.6993338078908],[61.3693087095649,29.3032762720859],[60.8742484882088,29.8292389999526],[62.5498568052728,29.3185724960443],[63.5502608580112,29.4683307968262],[64.1480021503312,29.340819200146],[64.3504187356185,29.5600306259281],[65.0468620136161,29.4721806910319],[66.3464726093244,29.8879434270362],[66.381457553986,30.7388992375865],[66.9388912291185,31.3049112004793],[67.6833935891475,31.3031542017814],[67.7926892434448,31.5829304062096],[68.5569320006093,31.713310044882],[68.9266768736577,31.6201891138921],[69.3177641132426,31.9014122584244],[69.2625220071225,32.5019440780883],[69.6871472512649,33.1054989690412],[70.3235941913716,33.3585326197584],[69.9305432473596,34.0201201441751],[70.8818030129884,33.9888559026385],[71.1567733092135,34.3489114446321],[71.1150187519216,34.7331257187222],[71.6130762063507,35.1532034368229],[71.4987679381211,35.650563259416],[71.2623482603857,36.0743875188578],[71.8462919452839,36.5099423284299],[72.9200248554445,36.7200070256963],[74.0675517109178,36.8361756454884],[74.575892775373,37.0208413762835],[75.1580277851409,37.1330309107891]]]}},{"type":"Feature","properties":{"admin":"Panama","name":"Panama","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-77.8815714179452,7.22377126711478],[-78.2149360826601,7.51225495038416],[-78.4291607327261,8.05204112388893],[-78.1820957099386,8.31918244062177],[-78.4354652574657,8.38770538984079],[-78.6221205309039,8.71812449791503],[-79.1203071764137,8.99609202721302],[-79.5578773668452,8.93237498619715],[-79.76057817251,8.5845150822244],[-80.1644811673033,8.33331594485359],[-80.3826590644396,8.29840851484043],[-80.4806892564973,8.09030752200107],[-80.0036899482272,7.54752411542337],[-80.276670701809,7.41975413658171],[-80.4211580064971,7.27157196698476],[-80.8864009264208,7.22054149009654],[-81.0595428128147,7.8179210473906],[-81.1897157457579,7.64790558515034],[-81.5195147366447,7.70661001223391],[-81.7213112047445,8.10896271405843],[-82.1314412096289,8.17539276776964],[-82.3909344143825,8.29236237226229],[-82.8200813463504,8.29086375572582],[-82.8509580146448,8.07382274009995],[-82.9657830471974,8.22502798098598],[-82.9131764391242,8.42351715741907],[-82.8297706774052,8.62629547773237],[-82.8686571927048,8.80726634361852],[-82.7191831123005,8.92570872643149],[-82.9271549140591,9.07433014570291],[-82.9328909980436,9.47681203860817],[-82.5461962552035,9.56613475182467],[-82.1871225654234,9.20744863528678],[-82.207586432611,8.9955752628901],[-81.8085668606693,8.95061676679617],[-81.714154018872,9.03195547122358],[-81.4392870755115,8.78623403567572],[-80.9473016018768,8.85850352623591],[-80.5219012112501,9.11107208906243],[-79.914599778956,9.31276520429762],[-79.5733027818843,9.61161001224153],[-79.0211917792779,9.5529314233741],[-79.0584504869604,9.45456533450652],[-78.5008876207472,9.42045888919388],[-78.055927700498,9.2477304142583],[-77.7295135159264,8.94684438723887],[-77.3533607652739,8.67050466555807],[-77.4747228665113,8.52428620038822],[-77.2425664944401,7.93527822512544],[-77.431107957657,7.63806122479873],[-77.7534138658614,7.70983978925214],[-77.8815714179452,7.22377126711478]]]}},{"type":"Feature","properties":{"admin":"Peru","name":"Peru","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-69.590423753524,-17.5800118954193],[-69.8584435696058,-18.092693780187],[-70.3725723944777,-18.3479753557089],[-71.3752502102369,-17.7737985165139],[-71.4620407782711,-17.3634876441164],[-73.4445295885004,-16.359362888253],[-75.2378826565414,-15.2656828752278],[-76.0092050849299,-14.6492863908503],[-76.4234692043977,-13.8231869442324],[-76.2592415025742,-13.5350391577729],[-77.1061923896218,-12.2227161597208],[-78.0921528795346,-10.3777124976041],[-79.0369530911269,-8.38656788496589],[-79.4459203762848,-7.93083342858386],[-79.76057817251,-7.19434091556008],[-80.5374816555861,-6.54166757571372],[-81.2499963040264,-6.13683440513918],[-80.9263468085824,-5.69055673586656],[-81.4109425523994,-4.73676482505546],[-81.0996695624894,-4.0363941382037],[-80.3025605943872,-3.40485645916471],[-80.1840148587097,-3.82116179770804],[-80.4692946031769,-4.059286797709],[-80.4422419908721,-4.42572437909067],[-80.0289080471856,-4.34609099692889],[-79.6249792141762,-4.45419809328349],[-79.2052890693177,-4.95912851320739],[-78.6398972236123,-4.54778411216407],[-78.4506839667756,-3.87309661216138],[-77.8379048326586,-3.0030205216631],[-76.6353942532267,-2.60867766684382],[-75.544995693652,-1.56160979574588],[-75.2337227037419,-0.911416924649529],[-75.3732232327138,-0.15203175212045],[-75.1066245185201,-0.05720549886486],[-74.441600511356,-0.530820000819887],[-74.1223951890891,-1.00283253337385],[-73.6595035468346,-1.26049122478113],[-73.0703922187072,-2.30895435955095],[-72.3257865058136,-2.43421803142645],[-71.7747607082854,-2.16978972738894],[-71.4136457994298,-2.34280242270213],[-70.813475714792,-2.25686451580074],[-70.0477085028748,-2.7251563452297],[-70.6926820543097,-3.74287200278586],[-70.394043952095,-3.76659148520783],[-69.8936352199966,-4.29818694419433],[-70.7947688463023,-4.2512647436733],[-70.9288433498836,-4.40159148521037],[-71.7484057278165,-4.59398284263301],[-72.8919276597872,-5.27456145591698],[-72.9645072089412,-5.74125131594489],[-73.2197112698146,-6.08918873456608],[-73.1200274319236,-6.62993092206824],[-73.7244866604416,-6.91859547285064],[-73.7234014553635,-7.34099863040441],[-73.9872354804297,-7.52382984785306],[-73.5710593329671,-8.42444670983583],[-73.0153826565325,-9.03283334720806],[-73.2267134263902,-9.46221282312123],[-72.5630330064656,-9.52019378015272],[-72.1848907131698,-10.0535979142694],[-71.3024122789215,-10.0794361304154],[-70.4818938869912,-9.49011809655884],[-70.5486856757284,-11.0091468237785],[-70.0937522040469,-11.123971856331],[-69.5296781073649,-10.9517343075022],[-68.6650797186896,-12.5613001440972],[-68.88007951524,-12.8997290991767],[-68.9292238023495,-13.602683607643],[-68.9488866848366,-14.4536394181933],[-69.339534674747,-14.9531954891588],[-69.1603466457749,-15.323973890853],[-69.3897641669347,-15.6601290829117],[-68.9596353827533,-16.5006979305713],[-69.590423753524,-17.5800118954193]]]}},{"type":"Feature","properties":{"admin":"Philippines","name":"Philippines","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[126.376813592637,8.41470632571335],[126.478512811388,7.75035411216898],[126.537423944201,7.18938060142457],[126.196772902533,6.27429433840004],[125.831420526229,7.29371531822186],[125.363852166852,6.78648529706099],[125.683160841984,6.04965688722726],[125.396511672061,5.58100332277229],[124.219787632342,6.16135549562618],[123.938719517107,6.88513560630612],[124.243662144061,7.36061045982366],[123.610212437028,7.83352732994275],[123.296071405125,7.41887563723279],[122.825505812675,7.45737457929022],[122.085499302256,6.89942413983485],[121.919928013193,7.19211945233607],[122.312358840017,8.03496206301651],[122.94239790252,8.31623688398117],[123.487687616064,8.69300975182119],[123.84115441294,8.24032420494438],[124.60146976125,8.51415761965902],[124.764612257996,8.96040945071546],[125.471390822452,8.98699697512964],[125.412117954613,9.76033478437755],[126.222714471543,9.28607432701885],[126.306636997585,8.78248749433457],[126.376813592637,8.41470632571335]]],[[[123.982437778826,10.2787785913458],[123.623183221533,9.9500906437533],[123.309920688979,9.31826874433668],[122.995883009942,9.0221886255204],[122.380054966319,9.7133609074242],[122.586088901867,9.9810448266961],[122.837081333509,10.2611569279342],[122.947410516452,10.881868394408],[123.498849725438,10.9406244979239],[123.337774285985,10.2673839380254],[124.077935825701,11.2327255314537],[123.982437778826,10.2787785913458]]],[[[118.50458092659,9.31638255455809],[117.174274530101,8.36749990481466],[117.664477166821,9.06688873945293],[118.386913690262,9.68449961998922],[118.987342157061,10.3762920190805],[119.511496209798,11.3696680770272],[119.68967654834,10.5542914901099],[119.029458449379,10.0036532658239],[118.50458092659,9.31638255455809]]],[[[121.883547804859,11.891755072472],[122.483821242361,11.5821874048275],[123.120216506036,11.5836601831479],[123.100837843926,11.1659337427165],[122.637713657727,10.7413084985742],[122.00261030486,10.4410167505261],[121.967366978037,10.9056912296946],[122.038370396006,11.41584096928],[121.883547804859,11.891755072472]]],[[[125.502551711123,12.1626946069783],[125.783464797062,11.0461219344478],[125.011883986512,11.3114545760504],[125.032761265158,10.9758161483147],[125.27744917206,10.3587220321013],[124.801819289246,10.1346788598999],[124.760168084818,10.8379951033923],[124.459101190286,10.8899299178456],[124.302521600442,11.4953709985772],[124.891012811382,11.4155825871186],[124.877990350444,11.794189968305],[124.266761509296,12.5577609318497],[125.227116327008,12.5357209334772],[125.502551711123,12.1626946069783]]],[[[121.527393833503,13.0695901554845],[121.262190382982,12.2055602075644],[120.833896112147,12.7044961613424],[120.323436313967,13.4664134790539],[121.180128208502,13.4296973739104],[121.527393833503,13.0695901554845]]],[[[121.321308221524,18.504064642811],[121.937601353036,18.2185523543984],[122.246006300954,18.4789498967171],[122.336956821788,18.2248827173542],[122.174279412933,17.8102827010764],[122.515653924653,17.093504746972],[122.252310825694,16.2624443628541],[121.662786086108,15.9310175643501],[121.505069614753,15.1248135441646],[121.728828566577,14.3283763696822],[122.258925409027,14.218202216036],[122.701275669446,14.3365412459844],[123.95029503794,13.7821306421411],[123.855107049659,13.2377711043785],[124.181288690285,12.9975273706535],[124.077419061378,12.5366769474746],[123.298035109552,13.027525539599],[122.92865197153,13.5529198267104],[122.671355015149,13.1858362899251],[122.034649692881,13.7844819198103],[121.126384718919,13.6366873234556],[120.628637323083,13.8576557479356],[120.679383579594,14.2710155298383],[120.991819289231,14.5253927677951],[120.693336216313,14.7566706405173],[120.564145135583,14.3962792017138],[120.070428501466,14.9708694523671],[119.920928582846,15.4063467472907],[119.883773228028,16.36370433193],[120.286487664879,16.0346288110953],[120.390047235192,17.5990811222995],[120.715867140792,18.5052273625375],[121.321308221524,18.504064642811]]]]}},{"type":"Feature","properties":{"admin":"Papua New Guinea","name":"Papua New Guinea","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[155.880025669578,-6.81999684003776],[155.599991082989,-6.91999073652249],[155.166994256815,-6.5359314917293],[154.729191522438,-5.90082813886221],[154.51411421124,-5.13911752688001],[154.652503696917,-5.04243092206184],[154.759990676084,-5.33998381919849],[155.062917922179,-5.56679168052749],[155.547746209942,-6.20065479901966],[156.019965448225,-6.54001392988039],[155.880025669578,-6.81999684003776]]],[[[151.982795851854,-5.47806324628234],[151.459106887009,-5.56028045005874],[151.301390415654,-5.8407284481067],[150.754447056277,-6.08376270917539],[150.241196730754,-6.31775359459298],[149.709963006793,-6.31651336021805],[148.89006473205,-6.02604013430543],[148.318936802361,-5.74714242922613],[148.401825799757,-5.43775562909472],[149.298411900021,-5.58374155031922],[149.845561965127,-5.50550343182934],[149.99625044169,-5.02610116945767],[150.139755894165,-5.00134815838979],[150.236907586873,-5.53222014732428],[150.807467075808,-5.45584238039689],[151.089672072554,-5.11369272219237],[151.647880894171,-4.75707366294617],[151.537861769822,-4.16780730552189],[152.136791620084,-4.14879037843852],[152.338743117481,-4.31296640382976],[152.318692661752,-4.86766122805075],[151.982795851854,-5.47806324628234]]],[[[147.191873814075,-7.38802418378998],[148.084635858349,-8.04410816816761],[148.734105259394,-9.10466358809376],[149.306835158484,-9.07143564213007],[149.266630894161,-9.51440601973603],[150.038728469034,-9.6843181291117],[149.738798456012,-9.872937106977],[150.801627638959,-10.2936866186974],[150.690574985964,-10.5827129045059],[150.028393182576,-10.6524760880999],[149.782310012002,-10.3932671037239],[148.923137648717,-10.2809225399214],[147.913018426708,-10.1304407690875],[147.135443150012,-9.49244353601202],[146.567880894151,-8.94255461999415],[146.048481073185,-8.06741423913131],[144.744167922138,-7.63012826907747],[143.89708784401,-7.91533049889628],[143.286375767184,-8.24549122480906],[143.413913202081,-8.98306894291095],[142.628431431244,-9.3268205705165],[142.0682589052,-9.15959563562003],[141.033851760014,-9.11789275476042],[141.017056919519,-5.85902190513802],[141.000210402592,-2.60015105551562],[142.735246616791,-3.28915292726322],[144.583970982033,-3.8614177384634],[145.27317955951,-4.37373788820503],[145.829786411726,-4.87649789797268],[145.981921828393,-5.46560922610001],[147.648073358348,-6.0836593563108],[147.891107619416,-6.61401458092232],[146.970905389595,-6.72165658938626],[147.191873814075,-7.38802418378998]]],[[[153.140037876599,-4.49998341229411],[152.827292108368,-4.766427097191],[152.638673130503,-4.17612721112093],[152.406025832325,-3.78974252687456],[151.953236932584,-3.46206226971182],[151.38427941305,-3.03542164471011],[150.662049595339,-2.74148609783396],[150.939965448205,-2.50000212973403],[151.479984165655,-2.77998503989139],[151.820015090135,-2.99997161215791],[152.239989455371,-3.24000864015366],[152.640016717743,-3.65998300538965],[153.019993524385,-3.98001515057329],[153.140037876599,-4.49998341229411]]]]}},{"type":"Feature","properties":{"admin":"Poland","name":"Poland","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[15.0169958838587,51.1066740993216],[14.6070984229195,51.74518809672],[14.6850264828157,52.0899474147552],[14.4375997250022,52.6248501654084],[14.0745211117195,52.9812625189254],[14.3533154639341,53.248171291713],[14.1196863135426,53.757029120491],[14.8029004248735,54.0507062852057],[16.3634770036557,54.5131586777857],[17.6228316586087,54.8515359564329],[18.6208585954616,54.6826056992708],[18.6962545101755,54.4387187770693],[19.6606400896064,54.4260838893739],[20.8922445004186,54.3125249294125],[22.7310986670927,54.3275369329933],[23.2439872575895,54.2205667181491],[23.4841276384498,53.9124976670411],[23.527535841575,53.4701215684065],[23.8049349301178,53.0897313503061],[23.7991988461334,52.6910993516066],[23.1994938493862,52.4869774440537],[23.5080021501687,52.0236465521247],[23.5270707536844,51.5784540879302],[24.0299857927489,50.7054066025752],[23.9227571957433,50.4248810898787],[23.4265084164444,50.3085057643575],[22.5184501482116,49.4767735866197],[22.7764188982126,49.0273953314096],[22.5581376482118,49.0857380234671],[21.6078080583642,49.4701073268541],[20.8879553565384,49.3287722845358],[20.4158394711199,49.4314533554998],[19.8250228207269,49.2171253525692],[19.3207125179905,49.5715740016592],[18.9095748226763,49.4358458522446],[18.8531441586136,49.4962297633776],[18.3929138526222,49.9886286484707],[17.649445021239,50.0490383978199],[17.5545670915511,50.3621459010764],[16.8687691586057,50.473973700556],[16.7194759457144,50.2157465683935],[16.1762532894623,50.4226073268579],[16.2386267432386,50.6977326523798],[15.4909721208397,50.7847299261432],[15.0169958838587,51.1066740993216]]]}},{"type":"Feature","properties":{"admin":"Puerto Rico","name":"Puerto Rico","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-66.2824344550082,18.5147616642954],[-65.7713028632093,18.4266791854539],[-65.5910037909429,18.2280349797239],[-65.8471638658138,17.9759056665719],[-66.5999344550095,17.9818226180693],[-67.1841623602853,17.9465534530301],[-67.2424275376943,18.3744601506229],[-67.1006790839177,18.5206011011443],[-66.2824344550082,18.5147616642954]]]}},{"type":"Feature","properties":{"admin":"North Korea","name":"Dem. Rep. Korea","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[130.640015903852,42.3950094671253],[130.780007358931,42.2200072291688],[130.400030552289,42.2800035670597],[129.965948521037,41.9413679062511],[129.667362095255,41.6011044378252],[129.705189243692,40.8828278671843],[129.18811486218,40.661807766272],[129.010399611528,40.4854361028598],[128.633368361527,40.1898469101503],[127.967414178581,40.0254125025976],[127.533435500194,39.7568500839767],[127.502119582225,39.3239307724515],[127.38543419811,39.2134723984277],[127.783342726758,39.0508983424374],[128.349716424677,38.6122429469278],[128.205745884311,38.3703972438019],[127.780035435091,38.3045356308459],[127.073308547067,38.2561148137884],[126.683719924019,37.8047728541512],[126.237338901882,37.8403779160003],[126.174758742376,37.749685777328],[125.689103631697,37.940010077459],[125.568439162296,37.7520887314296],[125.275330438336,37.6690705429527],[125.240087111513,37.8572244329274],[124.981033156434,37.9488209091648],[124.712160679219,38.1083460556498],[124.985994093934,38.5484742294797],[125.221948683779,38.6658572454307],[125.132858514507,38.8485592717986],[125.386589797061,39.3879578720612],[125.321115757347,39.5513845891842],[124.737482131042,39.6603443466716],[124.265624627785,39.9284933538342],[125.079941847841,40.5698237167924],[126.182045119329,41.1073361272764],[126.86908328665,41.8165693222662],[127.343782993683,41.503151760416],[128.208433058791,41.4667715520825],[128.052215203972,41.9942845729179],[129.59666873588,42.4249817978545],[129.994267205933,42.9853868678438],[130.640015903852,42.3950094671253]]]}},{"type":"Feature","properties":{"admin":"Portugal","name":"Portugal","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[-9.03481767418024,41.8805705836597],[-8.67194576662672,42.134689439455],[-8.26385698081779,42.2804686549503],[-8.01317460776991,41.7908861354171],[-7.42251298667379,41.7920746933598],[-7.25130896649082,41.918346055665],[-6.66860551596766,41.8833869492196],[-6.38908769370091,41.3818154973946],[-6.85112667482255,41.1110826686175],[-6.86401994467938,40.3308718938748],[-7.02641313315659,40.1845242376242],[-7.06659155926353,39.7118915878828],[-7.49863237143972,39.6295710312418],[-7.09803666831313,39.0300727402238],[-7.37409216961632,38.3730585800649],[-7.02928117514879,38.0757640650898],[-7.16650794109986,37.8038943548022],[-7.53710547528102,37.4289043238762],[-7.45372555177809,37.0977875839661],[-7.85561316571199,36.8382685409963],[-8.38281612795369,36.9788801132625],[-8.89885698082033,36.8688093124808],[-8.74610144696555,37.6513455266766],[-8.83999752443988,38.2662433945176],[-9.28746375165522,38.3584858261586],[-9.52657060386971,38.7374291041549],[-9.44698889814023,39.3920661484284],[-9.04830522300843,39.7550930852788],[-8.97735348147168,40.1593061386658],[-8.7686840478771,40.7606389430302],[-8.79085323733031,41.1843340113913],[-8.99078935386757,41.5434593776036],[-9.03481767418024,41.8805705836597]]]}},{"type":"Feature","properties":{"admin":"Paraguay","name":"Paraguay","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-62.6850571356579,-22.2490292294224],[-62.2911793687292,-21.0516346167874],[-62.2659612697708,-20.5137346330613],[-61.7863264634538,-19.633736667563],[-60.0435646226265,-19.3427466773274],[-59.1150424872061,-19.3569060197754],[-58.1834714422805,-19.8683993466004],[-58.166392381408,-20.1767009416537],[-57.8706739976178,-20.7326876766819],[-57.9371557277613,-22.0901758765572],[-56.8815095689029,-22.2821538225215],[-56.4733174302294,-22.0863001441353],[-55.7979581366069,-22.3569296200478],[-55.6106827459811,-22.6556193986948],[-55.5176393296396,-23.5719975725266],[-55.4007472397954,-23.9569353166688],[-55.0279017808095,-24.0012736955752],[-54.6528342352351,-23.839578138934],[-54.2929595607545,-24.0210140927107],[-54.2934763250774,-24.570799655864],[-54.4289460923306,-25.1621847470122],[-54.6252906968236,-25.7392554664155],[-54.788794928595,-26.6217855770961],[-55.6958455063981,-27.3878370093909],[-56.486701626193,-27.5484990373863],[-57.6097596909761,-27.3958985328284],[-58.6181735907197,-27.1237187639471],[-57.6336600409111,-25.6036565080816],[-57.7772171698179,-25.162339776309],[-58.807128465395,-24.7714592424533],[-60.028966030504,-24.0327963192733],[-60.8465647040099,-23.8807125790383],[-62.6850571356579,-22.2490292294224]]]}},{"type":"Feature","properties":{"admin":"Palestine","name":"Palestine","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[35.5456653175345,32.3939920110306],[35.5452519060762,31.7825047877208],[35.397560662586,31.4890860051676],[34.9274084815946,31.3534353704014],[34.970506626126,31.6167784693608],[35.2258915545124,31.7543411321218],[34.9746407407093,31.8665823430597],[35.1839302914914,32.5325106877889],[35.5456653175345,32.3939920110306]]]}},{"type":"Feature","properties":{"admin":"Qatar","name":"Qatar","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[50.8101082700696,24.7547425399714],[50.7439107603037,25.4824242212894],[51.0133516782735,26.0069916854842],[51.286461622936,26.1145820175159],[51.5890788104372,25.8011127792334],[51.6067004738488,25.2156704777987],[51.3896077817906,24.6273859725881],[51.112415398977,24.5563308781867],[50.8101082700696,24.7547425399714]]]}},{"type":"Feature","properties":{"admin":"Romania","name":"Romania","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[22.7105314470405,47.8821939153894],[23.1422363624068,48.0963410508069],[23.7609582862374,47.9855984564055],[24.4020561052504,47.9818777532804],[24.8663171729606,47.7375257431883],[25.207743361113,47.8910564235275],[25.9459411964024,47.9871487493742],[26.1974503923669,48.2208812526303],[26.6193367855978,48.2207262233335],[26.9241760596876,48.123264472031],[27.2338729184127,47.8267709417564],[27.5511662126848,47.4051170924708],[28.128030226359,46.8104763860882],[28.1600179379477,46.3715626084172],[28.0544429867754,45.9445860866056],[28.233553501099,45.4882831894684],[28.6797794939394,45.3040308701317],[29.1497249692016,45.4649254420724],[29.6032890154274,45.2933080104311],[29.6265434099588,45.0353909368624],[29.1416117693318,44.820210272799],[28.8378577003202,44.913873806328],[28.558081495892,43.7074616562581],[27.9701070492751,43.8124681666752],[27.2423995297409,44.1759860296324],[26.0651587256997,43.9434937607513],[25.5692716814269,43.6884447291747],[24.1006791521242,43.7410513372478],[23.3323022803763,43.8970108099047],[22.9448323910518,43.8237853053471],[22.657149692483,44.2349230006613],[22.4740084164406,44.4092276067818],[22.7057255388374,44.578002834647],[22.4590222510759,44.7025171982543],[22.1450879249028,44.4784223496206],[21.5620227393536,44.7689472519655],[21.4835262387022,45.1811701523578],[20.8743127784134,45.4163754339342],[20.76217492034,45.7345730657714],[20.2201924984628,46.1274689804866],[21.0219523454712,46.3160879583519],[21.6265149268539,46.9942377793182],[22.0997676937828,47.6724392767167],[22.7105314470405,47.8821939153894]]]}},{"type":"Feature","properties":{"admin":"Russia","name":"Russia","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[143.648007440363,50.7476004095415],[144.654147577086,48.9763906927376],[143.173927850517,49.3065514186504],[142.55866824765,47.8615750189049],[143.533492466404,46.8367280136925],[143.505277134373,46.1379076198095],[142.747700636974,46.7407648789266],[142.092030064054,45.9667552760588],[141.906925083585,46.8059288600465],[142.018442824471,47.7801329616129],[141.904444614835,48.8591885442996],[142.135800002206,49.6151630722975],[142.179983351815,50.9523424342819],[141.59407596249,51.9354348822025],[141.682546014574,53.3019664577288],[142.606934035411,53.7621450872879],[142.209748976815,54.2254759792169],[142.654786411713,54.3658808457539],[142.914615513277,53.7045775417147],[143.260847609632,52.740760403039],[143.235267775648,51.7566602646887],[143.648007440363,50.7476004095415]]],[[[22.7310986670927,54.3275369329933],[20.8922445004187,54.3125249294126],[19.6606400896064,54.426083889374],[19.8884814795813,54.8661603867715],[21.2684489275035,55.1904816758353],[22.3157235043306,55.0152985703659],[22.7577637061553,54.8565744085814],[22.6510518734726,54.5827409938667],[22.7310986670927,54.3275369329933]]],[[[180,70.8321992085467],[178.903425,70.78114],[178.7253,71.0988],[180,71.5157143364283],[180,70.8321992085467]]],[[[143.60385,73.21244],[142.08763,73.20544],[140.038155,73.31692],[139.86312,73.36983],[140.81171,73.76506],[142.06207,73.85758],[143.48283,73.47525],[143.60385,73.21244]]],[[[150.73167,75.08406],[149.575925,74.68892],[147.977465,74.778355],[146.11919,75.17298],[146.358485,75.49682],[148.22223,75.345845],[150.73167,75.08406]]],[[[145.086285,75.562625],[144.3,74.82],[140.61381,74.84768],[138.95544,74.61148],[136.97439,75.26167],[137.51176,75.94917],[138.831075,76.13676],[141.471615,76.09289],[145.086285,75.562625]]],[[[57.5356925799924,70.7204639757022],[56.9449792824639,70.6327432318867],[53.6773751157842,70.7626577826685],[53.4120166359654,71.2066616889202],[51.6018945656457,71.4747590196505],[51.4557536151242,72.0148810899651],[52.4782751808836,72.229441636841],[52.4441687355708,72.7747313503848],[54.4276135597977,73.6275475124976],[53.5082898293251,73.7498139513001],[55.9024589374076,74.6274864773453],[55.6319328143597,75.0814122585972],[57.8686438332488,75.6093903673232],[61.1700443866475,76.2518834500081],[64.4983683612702,76.4390554877693],[66.2109770038551,76.8097822130312],[68.1570597675348,76.9396967638129],[68.8522111347251,76.5448113064546],[68.1805725442276,76.2336416694091],[64.637326287703,75.7377546251362],[61.5835075214148,75.2608845079468],[58.4770821470534,74.3090563015628],[56.986785516188,73.3330435248662],[55.4193359719109,72.371267605266],[55.6228377622763,71.5405947943903],[57.5356925799924,70.7204639757022]]],[[[106.97013,76.97419],[107.24,76.48],[108.1538,76.7233500000001],[111.07726,76.71],[113.33151,76.22224],[114.13417,75.84764],[113.88539,75.3277900000001],[112.77918,75.03186],[110.15125,74.47673],[109.4,74.18],[110.64,74.04],[112.11919,73.7877400000001],[113.01954,73.9769300000001],[113.52958,73.33505],[113.96881,73.59488],[115.56782,73.75285],[118.77633,73.58772],[119.02,73.12],[123.20066,72.97122],[123.25777,73.73503],[125.38,73.56],[126.97644,73.56549],[128.59126,73.03871],[129.05157,72.39872],[128.46,71.98],[129.71599,71.19304],[131.28858,70.7869900000001],[132.2535,71.8363],[133.85766,71.3864200000001],[135.56193,71.6552500000001],[137.49755,71.34763],[138.23409,71.62803],[139.86983,71.4878300000001],[139.14791,72.4161900000001],[140.46817,72.8494100000001],[149.5,72.2],[150.35118,71.60643],[152.9689,70.84222],[157.00688,71.03141],[158.99779,70.86672],[159.83031,70.45324],[159.70866,69.72198],[160.94053,69.43728],[162.27907,69.64204],[164.05248,69.66823],[165.94037,69.47199],[167.83567,69.58269],[169.57763,68.6938],[170.81688,69.01363],[170.0082,69.65276],[170.45345,70.09703],[173.64391,69.81743],[175.72403,69.8772500000002],[178.6,69.4],[180,68.9636363636366],[180,64.9797087021985],[179.99281,64.97433],[178.7072,64.53493],[177.41128,64.60821],[178.313,64.07593],[178.90825,63.2519700000001],[179.37034,62.98262],[179.48636,62.56894],[179.22825,62.3041000000001],[177.3643,62.5219],[174.56929,61.76915],[173.68013,61.65261],[172.15,60.95],[170.6985,60.33618],[170.33085,59.88177],[168.90046,60.57355],[166.29498,59.7885500000002],[165.84,60.16],[164.87674,59.7316],[163.53929,59.86871],[163.21711,59.21101],[162.01733,58.24328],[162.05297,57.83912],[163.19191,57.61503],[163.05794,56.1592400000001],[162.12958,56.12219],[161.70146,55.2856800000002],[162.11749,54.85514],[160.36877,54.34433],[160.02173,53.20257],[158.53094,52.9586800000002],[158.23118,51.94269],[156.78979,51.01105],[156.42,51.7],[155.99182,53.15895],[155.43366,55.3810300000001],[155.91442,56.7679200000001],[156.75815,57.3647],[156.81035,57.83204],[158.36433,58.05575],[160.15064,59.3147700000001],[161.87204,60.3430000000001],[163.66969,61.1409],[164.47355,62.55061],[163.25842,62.46627],[162.65791,61.6425],[160.12148,60.54423],[159.30232,61.77396],[156.72068,61.43442],[154.21806,59.7581800000001],[155.04375,59.14495],[152.81185,58.88385],[151.26573,58.78089],[151.33815,59.50396],[149.78371,59.6557300000001],[148.54481,59.16448],[145.48722,59.33637],[142.19782,59.03998],[138.95848,57.08805],[135.12619,54.72959],[136.70171,54.6035500000001],[137.19342,53.97732],[138.1647,53.7550100000003],[138.80463,54.25455],[139.90151,54.1896800000002],[141.34531,53.0895700000001],[141.37923,52.23877],[140.59742,51.23967],[140.51308,50.0455300000001],[140.06193,48.4467100000002],[138.55472,46.99965],[138.21971,46.30795],[136.86232,45.1435000000002],[135.51535,43.989],[134.86939,43.39821],[133.53687,42.81147],[132.90627,42.79849],[132.27807,43.2845600000001],[130.93587,42.55274],[130.78,42.2200000000002],[130.64,42.395],[130.63386640841,42.9030146347705],[131.144687941615,42.9299897324269],[131.288555129116,44.1115196803483],[131.02519,44.96796],[131.88345421766,45.3211616074365],[133.09712,45.14409],[133.769643996313,46.1169269882992],[134.11235,47.2124800000001],[134.50081,47.5784500000001],[135.026311476787,48.4782298854439],[133.373595819228,48.1834416774348],[132.50669,47.78896],[130.98726,47.79013],[130.582293328983,48.7296874049762],[129.39781782442,49.4406000840156],[127.6574,49.76027],[127.287455682485,50.7397972682654],[126.939156528838,51.3538941514059],[126.564399041857,51.7842554795327],[125.946348911646,52.7927985703569],[125.06821129771,53.1610448268689],[123.57147,53.4588],[122.245747918793,53.4317259792137],[121.00308475147,53.2514010687312],[120.177088657717,52.7538862168412],[120.725789015792,52.5162263047309],[120.7382,51.96411],[120.18208,51.64355],[119.27939,50.58292],[119.288460728026,50.142882798862],[117.879244419426,49.510983384797],[116.678800897286,49.8885313991214],[115.485695428531,49.8051773138347],[114.96210981655,50.1402473008151],[114.362456496235,50.2483027207375],[112.897739699354,49.543565375357],[111.581230910287,49.3779682480777],[110.662010532679,49.1301280788058],[109.402449171997,49.2929605169577],[108.475167270951,49.2825477158507],[107.868175897251,49.7937051458659],[106.888804152455,50.2742959661803],[105.886591424587,50.4060191920922],[104.62158,50.2753200000002],[103.67654544476,50.0899661321951],[102.25589,50.5105600000001],[102.06521,51.25991],[100.889480421963,51.5168557806384],[99.9817322123236,51.634006252644],[98.8614905131005,52.0473660345467],[97.8257397806745,51.0109951849332],[98.2317615091917,50.4224006211287],[97.2597600000002,49.72605],[95.8140200000002,49.9774600000001],[94.8159493346988,50.0134333359709],[94.1475663594356,50.4805366074572],[93.10421,50.49529],[92.2347115417197,50.8021707220417],[90.7136674336408,50.3318118353211],[88.8055668476956,49.4705207383125],[87.7512642760768,49.2971979844055],[87.3599703307627,49.2149807806292],[86.8293567239897,49.8266747096681],[85.5412699726825,49.6928585882482],[85.1155595234621,50.1173029648776],[84.416377394553,50.3113996445658],[83.9351147806189,50.8892455104536],[83.3830037780125,51.0691828476939],[81.9459855488399,50.8121959499063],[80.5684468932355,51.3883364935284],[80.0355595234417,50.8647508815472],[77.8009155618443,53.4044149847475],[76.5251794778548,54.1770034857271],[76.8911002949134,54.4905244004419],[74.3848200000001,53.5468500000001],[73.4256787454205,53.4898102891097],[73.5085160663844,54.0356167669766],[72.2241500182022,54.3766553818868],[71.1801310566095,54.1332852240083],[70.8652665546552,55.1697335882701],[69.0681669452729,55.3852501491435],[68.1691003762589,54.9703917507044],[65.66687,54.6012500000002],[65.1785335630959,54.3542278102721],[61.4366000000001,54.00625],[60.9780664406832,53.6649933945791],[61.6999861998006,52.9799964463343],[60.7399931171145,52.7199864772577],[60.9272685077402,52.447548326215],[59.9675338072156,51.9604204372157],[61.5880033710241,51.2726587998432],[61.337424350841,50.7990701361043],[59.9328072447156,50.8421941188518],[59.6422823423706,50.5454422064157],[58.3633200000001,51.06364],[56.77798,51.04355],[55.71694,50.6217100000001],[54.5328784523762,51.0262397324594],[52.328723585831,51.7186522487381],[50.7666483905122,51.6927623561599],[48.702381626181,50.6051284857128],[48.5778414243576,49.8747596299156],[47.5494804217494,50.4546983913111],[46.7515963071628,49.3560057643537],[47.0436715024766,49.1520388860976],[46.4664457537763,48.3941523301049],[47.3152400000002,47.71585],[48.05725,47.74377],[48.6947335142019,47.0756281601779],[48.5932500000001,46.56104],[49.1011600000001,46.39933],[48.6454100000001,45.80629],[47.67591,45.6414900000001],[46.68201,44.6092],[47.59094,43.6601600000001],[47.49252,42.98658],[48.5843700000002,41.80888],[47.987283156126,41.4058192001944],[47.8156657244847,41.1514161240213],[47.3733154640664,41.2197323675111],[46.6860705910167,41.8271371526699],[46.4049507993489,41.8606751572274],[45.7764,42.0924400000002],[45.4702791684859,42.50278066667],[44.5376229184821,42.7119927028037],[43.93121,42.5549600000001],[43.7559900000002,42.74083],[42.3944000000002,43.2203],[40.9221900000001,43.3821500000001],[40.0769649594798,43.5531041530025],[39.9550085792711,43.4349976669993],[38.68,44.28],[37.5391200000001,44.65721],[36.6754600000001,45.24469],[37.40317,45.40451],[38.23295,46.24087],[37.67372,46.63657],[39.14767,47.0447500000001],[39.1212000000001,47.26336],[38.2235380388995,47.102189846376],[38.2551123390298,47.546400458357],[38.77057,47.8256200000002],[39.738277622239,47.8989370794521],[39.8956200000001,48.23241],[39.67465,48.7838200000001],[40.0807890154695,49.3074299179994],[40.0690400000001,49.60105],[38.5949882342136,49.9264619004237],[38.0106311378571,49.9156615260747],[37.3934595069952,50.3839533555037],[36.6261678403254,50.2255909287451],[35.3561161638881,50.5771973740591],[35.37791,50.77394],[35.0221830584179,51.2075723333715],[34.2248157081544,51.2559931504289],[34.1419783871906,51.5664134792062],[34.3917305844572,51.7688817409259],[33.7526998227359,52.3350745713316],[32.7157605323672,52.2384654811622],[32.4120581397878,52.2886949733498],[32.1594400000002,52.0612500000001],[31.78597,52.10168],[31.5400183448623,52.7420523138464],[31.305200636528,53.0739958766733],[31.49764,53.1674300000001],[32.3045194841884,53.1327261419728],[32.6936430193461,53.3514208034321],[32.4055985857512,53.618045355842],[31.7312728207746,53.794029446012],[31.7914241879624,53.9746385768722],[31.3844722836638,54.1570563828624],[30.7575338070988,54.8117709417844],[30.9718359718132,55.0815477565641],[30.8739091326201,55.5509764675035],[29.8962943865224,55.7894632025305],[29.3715718930308,55.6700906439363],[29.2295133806604,55.9183442246664],[28.1767094255779,56.1691299505788],[27.8552820167225,56.7593264837844],[27.770015903441,57.2442581244112],[27.2881848487516,57.4745283067039],[27.7166858253158,57.7918991156244],[27.4201500000002,58.7245700000001],[28.1316992530519,59.300825100331],[27.98112,59.47537],[29.1177,60.0280500000001],[28.07,60.5035200000001],[30.2111072120446,61.7800277777497],[31.139991082491,62.3576927761244],[31.5160921567113,62.8676874864129],[30.0358724301428,63.5528136257386],[30.4446846860037,64.2044534369391],[29.544429559047,64.9486715765905],[30.21765,65.80598],[29.0545886573524,66.944286200622],[29.9774263852207,67.6982970241927],[28.4459436378188,68.364612942164],[28.5919295590434,69.0647769232867],[29.39955,69.1569200000002],[31.1010800000001,69.55811],[32.1327200000003,69.9059500000002],[33.77547,69.3014200000001],[36.51396,69.06342],[40.2923400000002,67.9324],[41.0598700000001,67.4571300000001],[41.1259500000002,66.7915800000001],[40.01583,66.2661800000001],[38.38295,65.99953],[33.9187100000002,66.75961],[33.18444,66.63253],[34.81477,65.9001500000001],[34.8785742530788,65.4362128770482],[34.9439100000002,64.4143700000002],[36.23129,64.10945],[37.0127300000001,63.84983],[37.1419700000001,64.33471],[36.5395790350898,64.76446],[37.1760400000001,65.1432200000001],[39.59345,64.5207900000002],[40.4356,64.76446],[39.7626000000002,65.49682],[42.09309,66.47623],[43.0160400000001,66.41858],[43.9497500000001,66.06908],[44.53226,66.7563400000001],[43.69839,67.35245],[44.1879500000001,67.95051],[43.45282,68.57079],[46.2500000000001,68.25],[46.8213400000002,67.68997],[45.55517,67.56652],[45.56202,67.0100500000002],[46.3491500000001,66.66767],[47.8941600000003,66.8845500000002],[48.13876,67.52238],[50.2276600000001,67.9986700000001],[53.7174300000002,68.85738],[54.47171,68.80815],[53.4858200000001,68.20131],[54.72628,68.09702],[55.4426800000001,68.43866],[57.3170200000002,68.46628],[58.8020000000002,68.88082],[59.9414200000002,68.27844],[61.0778400000002,68.94069],[60.03,69.52],[60.55,69.85],[63.5040000000002,69.54739],[64.888115,69.2348350000001],[68.5121600000001,68.0923300000002],[69.18068,68.6156300000001],[68.16444,69.14436],[68.13522,69.35649],[66.9300800000001,69.4546100000001],[67.25976,69.92873],[66.7249200000001,70.7088900000001],[66.69466,71.0289700000002],[68.5400600000001,71.9345000000002],[69.19636,72.8433600000002],[69.94,73.0400000000001],[72.58754,72.77629],[72.79603,72.22006],[71.84811,71.40898],[72.47011,71.09019],[72.79188,70.39114],[72.5647000000002,69.02085],[73.66787,68.4079],[73.2387,67.7404],[71.2800000000001,66.3200000000002],[72.4230100000002,66.1726700000002],[72.82077,66.53267],[73.9209900000001,66.7894600000001],[74.1865100000002,67.28429],[75.052,67.7604700000002],[74.4692600000002,68.32899],[74.93584,68.98918],[73.84236,69.07146],[73.6018700000002,69.62763],[74.3998,70.63175],[73.1011,71.4471700000002],[74.8908200000002,72.12119],[74.65926,72.83227],[75.1580100000002,72.8549700000001],[75.68351,72.3005600000001],[75.2889800000001,71.33556],[76.35911,71.1528700000001],[75.9031300000002,71.87401],[77.5766500000001,72.26717],[79.6520200000001,72.32011],[81.5,71.75],[80.61071,72.5828500000001],[80.51109,73.6482],[82.25,73.85],[84.65526,73.8059100000002],[86.8223000000002,73.93688],[86.00956,74.4596700000001],[87.1668200000001,75.11643],[88.31571,75.14393],[90.26,75.64],[92.90058,75.77333],[93.2342100000001,76.0472],[95.8600000000001,76.14],[96.67821,75.91548],[98.9225400000002,76.44689],[100.75967,76.43028],[101.03532,76.86189],[101.99084,77.2875400000002],[104.3516,77.69792],[106.06664,77.37389],[104.705,77.1274],[106.97013,76.97419]]],[[[105.07547,78.30689],[99.43814,77.921],[101.2649,79.23399],[102.08635,79.34641],[102.837815,79.28129],[105.37243,78.71334],[105.07547,78.30689]]],[[[51.1361865578313,80.5472801785409],[49.7936845233207,80.4154277615482],[48.8944112485775,80.3395667589437],[48.7549365578218,80.1754682482008],[47.5861190122442,80.0101811795153],[46.5028259621097,80.2472468126543],[47.0724552752629,80.5594241401295],[44.8469580421811,80.5898098823172],[46.7991386248712,80.7719176297136],[48.3184774106847,80.7840099148699],[48.5228060239667,80.5145689969001],[49.0971895688909,80.7539859077084],[50.0397676938946,80.9188854031518],[51.5229329771037,80.6997256538019],[51.1361865578313,80.5472801785409]]],[[[99.93976,78.88094],[97.75794,78.7562],[94.97259,79.044745],[93.31288,79.4265],[92.5454,80.14379],[91.18107,80.34146],[93.77766,81.0246],[95.940895,81.2504],[97.88385,80.746975],[100.186655,79.780135],[99.93976,78.88094]]]]}},{"type":"Feature","properties":{"admin":"Rwanda","name":"Rwanda","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[30.4191048520192,-1.13465911215042],[30.8161348813177,-1.69891407634539],[30.7583089535831,-2.28725025798837],[30.469696079233,-2.41385751710346],[29.9383590024079,-2.34848683025424],[29.6321761410786,-2.9178577612461],[29.0249263852168,-2.83925790773016],[29.1174788754515,-2.29221119548838],[29.2548348324833,-2.21510995850891],[29.2918868344366,-1.62005584066799],[29.5794661801409,-1.34131316488563],[29.821518588996,-1.44332244222979],[30.4191048520192,-1.13465911215042]]]}},{"type":"Feature","properties":{"admin":"Western Sahara","name":"W. Sahara","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-8.79488399904908,27.1206963160225],[-8.81782833498667,27.6564258895924],[-8.66558956545481,27.6564258895924],[-8.66512447756419,27.5894790715582],[-8.68439978680905,27.395744126896],[-8.6872936670174,25.8810562199889],[-11.9694189111712,25.9333527694683],[-11.9372244938533,23.3745942245362],[-12.8742215641696,23.2848322616452],[-13.1187544417747,22.7712202010963],[-12.9291019352635,21.3270706242676],[-16.845193650774,21.3333234725749],[-17.0634232243426,20.9997521021308],[-17.0204284326757,21.4223102889815],[-17.0029617985611,21.4207341577966],[-14.7509545557135,21.5006000839037],[-14.6308326888511,21.8609398462749],[-14.2211677718573,22.3101630721882],[-13.891110398809,23.6910090194593],[-12.5009626937254,24.7701162785782],[-12.0307588363016,26.030866197203],[-11.7182197738004,26.1040917017606],[-11.392554897497,26.8834239771544],[-10.5512625797853,26.9908076034569],[-10.1894242008776,26.8609447291074],[-9.73534339032888,26.8609447291074],[-9.41303748212446,27.0884760604885],[-8.79488399904908,27.1206963160225]]]}},{"type":"Feature","properties":{"admin":"Saudi Arabia","name":"Saudi Arabia","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[42.779332309751,16.3478913436487],[42.6495727882661,16.774635321515],[42.3479891294107,17.075805568912],[42.2708878924312,17.4747217879891],[41.754381951674,17.833046169501],[41.2213912290156,18.6715996363012],[40.9393412615665,19.4864852971118],[40.2476522153398,20.1746345077265],[39.8016846046609,20.3388622095501],[39.1393994484083,21.2919048120929],[39.0236959165068,21.9868753117702],[39.0663289731476,22.5796556665903],[38.4927722511401,23.6884510360609],[38.0238603045236,24.0786856145129],[37.4836348813444,24.285494696545],[37.1548177426712,24.8584829777973],[37.209491408036,25.0845415308581],[36.9316272316026,25.6029594996102],[36.6396037127212,25.8262275253272],[36.2491365903238,26.5701356063849],[35.6401815121964,27.3765204940834],[35.1301868019079,28.0633519556747],[34.632336053208,28.0585460474716],[34.7877787615419,28.6074272730597],[34.8322204933129,28.9574834254048],[34.9560372250843,29.3565546737788],[36.0689408709221,29.1974946151845],[36.5012142270436,29.5052536076987],[36.7405277849872,29.8652833114762],[37.503581984209,30.0037761500184],[37.6681197446264,30.3386652694859],[37.9988489112944,30.5084998642131],[37.002165561681,31.5084129908447],[39.0048856951525,32.010216986615],[39.195468377445,32.1610088160427],[40.3999943377362,31.8899917668879],[41.8899809100078,31.1900086532784],[44.7094987322847,29.1788910995594],[46.5687134132817,29.0990251734523],[47.4598218117228,29.0025194361472],[47.7088505389374,28.5260627304161],[48.4160941912839,28.5520042994267],[48.8075948423272,27.6896279973399],[49.2995544777458,27.4612181666098],[49.4709135272257,27.1099992945381],[50.1524223162909,26.689663194276],[50.2129354185047,26.2770268824254],[50.1133032570459,25.9439722763042],[50.2398588397287,25.6080496281909],[50.5273865090007,25.3278083358721],[50.6605566750169,24.999895534764],[50.8101082700696,24.7547425399714],[51.112415398977,24.5563308781867],[51.3896077817906,24.6273859725881],[51.5795186704633,24.2454971379511],[51.617707553927,24.0142192652288],[52.0007332700743,23.0011544865789],[55.0068030129249,22.4969475367071],[55.2083410988632,22.708329982997],[55.6666593768598,22.0000011255723],[54.9999817238624,19.9999940047961],[52.0000098000222,19.0000033635161],[49.1166715838649,18.6166675887749],[48.1833435402413,18.1666692163773],[47.4666947772176,17.1166816268549],[47.0000049171898,16.9499992944974],[46.7499943377616,17.2833381209962],[46.3666585630205,17.2333153345376],[45.3999992205688,17.3333350692386],[45.2166512387972,17.4333289657233],[44.0626131528551,17.4103587915696],[43.7915185890519,17.3199767114911],[43.3807943051961,17.5799866805677],[43.1157975604034,17.0884404566074],[43.2183752785027,16.6668899601864],[42.779332309751,16.3478913436487]]]}},{"type":"Feature","properties":{"admin":"Sudan","name":"Sudan","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[33.9633927949712,9.46428522942062],[33.8249634809075,9.48406084571536],[33.8421308530281,9.98191463721599],[33.7219592481831,10.3252620796302],[33.2069380845618,10.7201116384066],[33.0867664797167,11.4411412674765],[33.2069380845618,12.1793382686671],[32.7434190373025,12.24800775715],[32.6747495488196,12.0248319195807],[32.0738915245948,11.9733298032185],[32.3142347342847,11.6814844771665],[32.4000715948883,11.0806264529415],[31.8507156870255,10.5312705450788],[31.3528618955249,9.81024091600869],[30.8378407319034,9.70723668328452],[29.9966394979885,10.2909273353887],[29.6189573113328,10.0849188699402],[29.5159530786086,9.79307354388805],[29.0009319149872,9.60423245056029],[28.9665971707458,9.39822398511165],[27.9708895877443,9.39822398511165],[27.8335506107788,9.60423245056029],[27.1125209817089,9.63856719480162],[26.7520061671738,9.46689347359449],[26.4773282132425,9.55273033419809],[25.962307049621,10.1364209863024],[25.7906333284139,10.4110989402337],[25.069603699344,10.273759963268],[24.7949257454127,9.81024091600869],[24.537415163602,8.91753756573172],[24.1940677211876,8.7286964724039],[23.8869795808607,8.61972971293306],[23.8058134294667,8.66631887454252],[23.459012892356,8.95428579348902],[23.3947790870173,9.26506785729225],[23.5572497901429,9.68121816653877],[23.5543042335022,10.0892552759153],[22.9775435726928,10.7144625919985],[22.8641654802442,11.1423951278076],[22.87622,11.3846100000001],[22.50869,11.67936],[22.49762,12.26024],[22.28801,12.64605],[21.93681,12.5881800000001],[22.03759,12.95546],[22.29658,13.37232],[22.18329,13.78648],[22.51202,14.09318],[22.30351,14.32682],[22.5679500000001,14.9442900000001],[23.02459,15.68072],[23.8868900000001,15.61084],[23.8376600000001,19.5804700000001],[23.8500000000001,20],[25.0000000000001,20.00304],[25.0000000000001,22],[29.02,22],[32.9,22],[36.86623,22],[37.18872,21.01885],[36.96941,20.8374400000001],[37.1147000000001,19.80796],[37.48179,18.61409],[37.86276,18.36786],[38.4100899594732,17.9983073999703],[37.9040000000001,17.42754],[37.16747,17.2631400000001],[36.8525300000001,16.95655],[36.75389,16.29186],[36.32322,14.82249],[36.42951,14.42211],[36.27022,13.5633300000001],[35.86363,12.57828],[35.26049,12.08286],[34.8316300000001,11.3189600000001],[34.7311500000001,10.9101700000001],[34.25745,10.63009],[33.96162,9.58358],[33.9633927949712,9.46428522942062]]]}},{"type":"Feature","properties":{"admin":"South Sudan","name":"S. Sudan","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[33.9633927949712,9.46428522942062],[33.97498,8.68456],[33.8255000000001,8.37916],[33.2948000000001,8.35458],[32.95418,7.7849700000001],[33.56829,7.71334],[34.0751,7.22595],[34.25032,6.82607],[34.70702,6.59422000000012],[35.2980071182331,5.506],[34.6201962678539,4.84712274208203],[34.005,4.24988494736215],[33.39,3.79],[32.68642,3.79232],[31.8814500000001,3.55827],[31.24556,3.7819],[30.83385,3.50917],[29.95349,4.1737],[29.715995314256,4.60080475506015],[29.1590784034466,4.38926727947324],[28.6966776872988,4.45507721599699],[28.428993768027,4.28715464926461],[27.9799772478429,4.40841339763739],[27.3742261085176,5.23394440350017],[27.2134090512253,5.55095347739461],[26.4659094581233,5.94671743410186],[26.2134184099451,6.54660329836213],[25.7966479835113,6.97931590415817],[25.1241308936648,7.50008515057942],[25.1149324887169,7.82510407147924],[24.5673690121522,8.22918793378545],[23.8869795808607,8.61972971293306],[24.1940677211876,8.7286964724039],[24.537415163602,8.91753756573172],[24.7949257454127,9.81024091600869],[25.069603699344,10.273759963268],[25.7906333284139,10.4110989402337],[25.962307049621,10.1364209863024],[26.4773282132425,9.55273033419809],[26.7520061671738,9.46689347359449],[27.1125209817089,9.63856719480162],[27.8335506107788,9.60423245056029],[27.9708895877443,9.39822398511165],[28.9665971707458,9.39822398511165],[29.0009319149872,9.60423245056029],[29.5159530786086,9.79307354388805],[29.6189573113328,10.0849188699402],[29.9966394979885,10.2909273353887],[30.8378407319034,9.70723668328452],[31.3528618955249,9.81024091600869],[31.8507156870255,10.5312705450788],[32.4000715948883,11.0806264529415],[32.3142347342847,11.6814844771665],[32.0738915245948,11.9733298032185],[32.6747495488196,12.0248319195807],[32.7434190373025,12.24800775715],[33.2069380845618,12.1793382686671],[33.0867664797167,11.4411412674765],[33.2069380845618,10.7201116384066],[33.7219592481831,10.3252620796302],[33.8421308530281,9.98191463721599],[33.8249634809075,9.48406084571536],[33.9633927949712,9.46428522942062]]]}},{"type":"Feature","properties":{"admin":"Senegal","name":"Senegal","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-16.7137288070235,13.5949586043799],[-17.1261067367126,14.3735157332892],[-17.6250426904907,14.7295405135641],[-17.1851728988222,14.9194772404529],[-16.7007063460859,15.6215274113541],[-16.4630981104079,16.1350361190385],[-16.1206900700419,16.4556625431934],[-15.6236661442587,16.3693370630498],[-15.1357372705588,16.5872824162408],[-14.577347581429,16.5982636581028],[-14.0995214502422,16.3043022730105],[-13.4357376774531,16.0393830428662],[-12.8306583317475,15.3036915145429],[-12.1707502913803,14.6168342147355],[-12.1248874577213,13.9947274845898],[-11.9277160303116,13.4220751001474],[-11.5533977930054,13.1412136906411],[-11.4678991357785,12.754518947801],[-11.5139428369506,12.4429875757294],[-11.6583009505579,12.3865827498828],[-12.2035648258856,12.4656476912894],[-12.2785990055734,12.3544400089973],[-12.4990506657306,12.3320899520311],[-13.2178181624782,12.575873521368],[-13.7004760400843,12.5861829696102],[-15.548476935274,12.6281700708473],[-15.8165742660043,12.5155671248833],[-16.1477168441306,12.5477615422012],[-16.6774519515546,12.3848515894011],[-16.8415246240813,13.1513939478026],[-15.9312959456922,13.1302841252113],[-15.691000535535,13.2703530949385],[-15.5118125065629,13.2785696476729],[-15.1411632959495,13.5095116235852],[-14.7121972314946,13.2982066919438],[-14.2777017887846,13.2805850285322],[-13.8449633447724,13.505041612192],[-14.0469923568175,13.7940678980004],[-14.3767138330558,13.6256802433774],[-14.6870308089685,13.6303569604998],[-15.0817353988138,13.876491807506],[-15.3987703109245,13.8603687606309],[-15.6245963200399,13.6235873478696],[-16.7137288070235,13.5949586043799]]]}},{"type":"Feature","properties":{"admin":"Solomon Islands","name":"Solomon Is.","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[162.119024693041,-10.4827190080211],[162.398645868172,-10.8263672827621],[161.700032180018,-10.8200110815902],[161.319796991215,-10.2047514787231],[161.917383254238,-10.4467005347137],[162.119024693041,-10.4827190080211]]],[[[160.852228631838,-9.872937106977],[160.462588332357,-9.89520964929484],[159.849447463214,-9.79402719486737],[159.640002883135,-9.63997975020527],[159.702944777667,-9.24294972090678],[160.362956170898,-9.40030445723553],[160.688517694337,-9.61016244877281],[160.852228631838,-9.872937106977]]],[[[161.679981724289,-9.59998219161137],[161.529396600591,-9.78431202559643],[160.788253208661,-8.91754322676492],[160.579997186524,-8.32000864017397],[160.920028111005,-8.32000864017397],[161.28000613835,-9.12001148848445],[161.679981724289,-9.59998219161137]]],[[[159.875027297199,-8.33732024499171],[159.917401971678,-8.53828989017486],[159.133677199539,-8.1141814103554],[158.586113722975,-7.75482350019771],[158.211149530265,-7.42187224694115],[158.359977655265,-7.32001799889392],[158.820001255528,-7.56000335045739],[159.640002883135,-8.02002695071957],[159.875027297199,-8.33732024499171]]],[[[157.538425734689,-7.34781991946693],[157.339419793933,-7.40476734785255],[156.902030471015,-7.17687428144539],[156.491357863591,-6.76594329186039],[156.542827590154,-6.59933847415148],[157.140000441719,-7.02163827884065],[157.538425734689,-7.34781991946693]]]]}},{"type":"Feature","properties":{"admin":"Sierra Leone","name":"Sierra Leone","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[-11.4387794661821,6.78591685630575],[-11.7081945459357,6.86009837486072],[-12.4280989241938,7.26294200279203],[-12.9490490381282,7.79864573814574],[-13.1240254378685,8.16394643801698],[-13.2465502588325,8.90304861087151],[-12.7119575667731,9.34271169681077],[-12.5967191227622,9.62018830000197],[-12.4259285140376,9.83583405195595],[-12.150338100625,9.85857168216438],[-11.9172773909887,10.0469839543006],[-11.1174812484073,10.0458729110063],[-10.8391519840833,9.68824616133037],[-10.622395188835,9.26791006106828],[-10.6547704736659,8.97717845299419],[-10.4943151513996,8.71554067630043],[-10.5054772607747,8.3488963891896],[-10.2300935530913,8.40620555260129],[-10.6955948551765,7.93946401614109],[-11.1467042708684,7.39670644777953],[-11.1998018050483,7.10584564862474],[-11.4387794661821,6.78591685630575]]]}},{"type":"Feature","properties":{"admin":"El Salvador","name":"El Salvador","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-87.7931111315266,13.3844804956551],[-87.9041121080895,13.1490168319171],[-88.4833015612168,13.1639513208495],[-88.8432279121297,13.2597335881025],[-89.2567427233293,13.4585328231293],[-89.8123935615476,13.520622056528],[-90.095554572291,13.7353376327007],[-90.0646779039966,13.8819695093289],[-89.7219339668207,14.1342280135617],[-89.5342193265205,14.2448155786663],[-89.5873426989165,14.3625861678595],[-89.3533259752828,14.4241327987191],[-89.0585119290576,14.3400294051641],[-88.8430728828328,14.1405067000852],[-88.541230841816,13.9801547306835],[-88.5039979723497,13.8454859481309],[-88.0653425768401,13.9646259627798],[-87.8595153470216,13.893312486217],[-87.7235029772294,13.7850503605655],[-87.7931111315266,13.3844804956551]]]}},{"type":"Feature","properties":{"admin":"Somaliland","name":"Somaliland","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[48.9381295102965,9.45174896894667],[48.486735874227,8.83762624758998],[47.78942,8.003],[46.9483284848979,7.99687653241739],[43.67875,9.18358000000012],[43.2969751320187,9.54047740319174],[42.92812,10.0219400000001],[42.55876,10.5725800000001],[42.776851841001,10.9268785669344],[43.1453048032421,11.4620396997489],[43.4706596209517,11.2777098657639],[43.6666683286348,10.8641692163482],[44.1178035825428,10.4455384383516],[44.6142590675709,10.4422053084689],[45.5569405454391,10.6980294865298],[46.645401238803,10.8165493839912],[47.5256575864628,11.12722809493],[48.0215963071678,11.1930638696697],[48.3787838071693,11.3754816756601],[48.9482064145935,11.4106216496185],[48.9420052427184,11.3942660587982],[48.9384912453226,10.9823273787835],[48.9382328631611,9.97350006758148],[48.9381295102965,9.45174896894667]]]}},{"type":"Feature","properties":{"admin":"Somalia","name":"Somalia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[49.72862,11.5789],[50.25878,11.67957],[50.73202,12.0219],[51.1112,12.02464],[51.13387,11.74815],[51.04153,11.16651],[51.04531,10.6409],[50.83418,10.27972],[50.55239,9.19874],[50.07092,8.08173],[49.4527,6.80466],[48.59455,5.33911],[47.74079,4.2194],[46.56476,2.85529],[45.56399,2.04576],[44.06815,1.05283],[43.13597,0.2922],[42.04157,-0.91916],[41.81095,-1.44647],[41.58513,-1.68325],[40.993,-0.85829],[40.98105,2.78452],[41.855083092644,3.91891192048373],[42.12861,4.23413],[42.76967,4.25259],[43.66087,4.95755],[44.9636,5.00162],[47.78942,8.003],[48.4867358742269,8.83762624758999],[48.9381295102964,9.45174896894662],[48.938232863161,9.97350006758151],[48.9384912453225,10.9823273787835],[48.9420052427183,11.3942660587981],[48.9482047585097,11.410617281698],[49.26776,11.43033],[49.72862,11.5789]]]}},{"type":"Feature","properties":{"admin":"Republic of Serbia","name":"Serbia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[20.8743127784134,45.4163754339343],[21.4835262387022,45.1811701523579],[21.5620227393537,44.7689472519656],[22.1450879249029,44.4784223496206],[22.459022251076,44.7025171982544],[22.7057255388374,44.578002834647],[22.4740084164407,44.4092276067818],[22.6571496924831,44.2349230006614],[22.4104464047216,44.0080634629001],[22.5001566911802,43.642814439461],[22.9860185075885,43.2111612005271],[22.6048014665714,42.8985187851611],[22.4365946794614,42.5803211533239],[22.5450118344096,42.461362006188],[22.3805257504247,42.3202595078151],[21.9170800000001,42.30364],[21.5766359894021,42.2452243970619],[21.54332,42.32025],[21.66292,42.43922],[21.77505,42.6827],[21.63302,42.67717],[21.43866,42.86255],[21.27421,42.90959],[21.143395,43.0686850000001],[20.95651,43.13094],[20.81448,43.27205],[20.63508,43.21671],[20.49679,42.88469],[20.25758,42.81275],[20.3398,42.89852],[19.95857,43.10604],[19.63,43.2137799702705],[19.48389,43.35229],[19.21852,43.52384],[19.454,43.5681000000001],[19.59976,44.03847],[19.11761,44.42307],[19.36803,44.863],[19.00548,44.86023],[19.3904757015846,45.2365156113424],[19.0727689958542,45.5215111354321],[18.82982,45.90888],[19.5960445492416,46.1717298447446],[20.2201924984629,46.1274689804866],[20.76217492034,45.7345730657715],[20.8743127784134,45.4163754339343]]]}},{"type":"Feature","properties":{"admin":"Suriname","name":"Suriname","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-57.1474364894769,5.97314992921916],[-55.9493184067898,5.772877915872],[-55.8417797511904,5.95312531170606],[-55.0332502915518,6.02529144940166],[-53.9580446030709,5.75654816326776],[-54.4786329819792,4.89675568279559],[-54.3995422023565,4.21261139568347],[-54.006930508019,3.62003774659256],[-54.1817260402463,3.18977977133042],[-54.2697051662232,2.73239166911505],[-54.5247541977997,2.31184886312379],[-55.0975874497551,2.52374807373661],[-55.569755011606,2.42150625244713],[-55.9733221095894,2.51036387777302],[-56.0733418442903,2.2207949894255],[-55.9056001450709,2.02199575439866],[-55.9956980047717,1.8176671411166],[-56.5393857489145,1.89952260986692],[-57.1500978257399,2.76892690674541],[-57.2814334784097,3.33349192953412],[-57.6015689764579,3.33465464926068],[-58.0446943833607,4.06086355225838],[-57.8602095200787,4.57680105226045],[-57.9142889064721,4.81262645102441],[-57.3072458563395,5.07356659588223],[-57.1474364894769,5.97314992921916]]]}},{"type":"Feature","properties":{"admin":"Slovakia","name":"Slovakia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[18.8531441586136,49.4962297633776],[18.9095748226763,49.4358458522446],[19.3207125179905,49.5715740016592],[19.8250228207269,49.2171253525692],[20.4158394711199,49.4314533554998],[20.8879553565384,49.3287722845358],[21.6078080583642,49.4701073268541],[22.5581376482118,49.0857380234671],[22.2808419125336,48.8253921575807],[22.0856083513348,48.4222643092718],[21.8722363624017,48.31997081155],[20.8012939795849,48.6238540716424],[20.4735620459899,48.5628500433218],[20.2390543962493,48.3275672470969],[19.7694706560131,48.2026911484636],[19.6613635596585,48.2666148952087],[19.1743648617399,48.1113788926039],[18.7770247738477,48.0817682969006],[18.6965128923369,47.8809536810144],[17.85713260262,47.7584288600504],[17.4884729346498,47.8674661321862],[16.979666782304,48.1234970159763],[16.879982944413,48.4700133327095],[16.9602881201946,48.5969823268506],[17.1019848975389,48.8169688991171],[17.5450069515771,48.8000190293254],[17.8864848161618,48.9034752467737],[17.9135115902505,48.9964928248991],[18.1049727718919,49.0439834661753],[18.170498488038,49.2715147975564],[18.3999935238462,49.31500051533],[18.5549711442895,49.4950153672188],[18.8531441586136,49.4962297633776]]]}},{"type":"Feature","properties":{"admin":"Slovenia","name":"Slovenia","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[13.8064754574215,46.5093061386912],[14.6324715511748,46.4318173284695],[15.137091912505,46.658702704447],[16.0116638526127,46.6836107448117],[16.2022982113374,46.852385972677],[16.3705049984474,46.8413272161665],[16.5648083838649,46.5037509222198],[15.7687329444085,46.2381082220234],[15.6715295752676,45.8341535507979],[15.3239538916724,45.7317825384277],[15.3276745947974,45.4523163925932],[14.9352437679729,45.4716950547027],[14.5951094906278,45.6349409043127],[14.4119682145854,45.4661656764474],[13.7150598486972,45.5003237981924],[13.9376302425783,45.5910159368646],[13.6981099789055,46.0167780625173],[13.8064754574215,46.5093061386912]]]}},{"type":"Feature","properties":{"admin":"Sweden","name":"Sweden","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[22.1831734555019,65.7237405463202],[21.2135168799772,65.0260053575153],[21.369631381931,64.4135879584243],[19.7788757666902,63.609554348395],[17.8477791683752,62.7494001328968],[17.1195548845181,61.341165676511],[17.8313460629064,60.6365833604274],[18.7877217953321,60.0819143744226],[17.8692248877763,58.9537661810587],[16.8291850114701,58.7198269720734],[16.4477095882915,57.0411180690719],[15.8797855974038,56.1043018662687],[14.6666813493521,56.2008851182222],[14.1007210628915,55.4077810736226],[12.9429105973921,55.3617373724506],[12.625100538797,56.307080186582],[11.7879423356687,57.4418171250631],[11.0273686051969,58.8561494004593],[11.4682719255111,59.432393296946],[12.3003658382749,60.11793284773],[12.6311466813752,61.2935716823701],[11.9920642432216,61.8003624538565],[11.9305692887942,63.128317572677],[12.5799353369739,64.0662189805583],[13.5719161312487,64.0491140814697],[13.9199052263022,64.4454206407161],[13.5556897315091,64.7870276963815],[15.108411492583,66.1938668890955],[16.1087121924568,67.3024555528369],[16.7688786149855,68.0139366726314],[17.7291817562653,68.0105518663163],[17.9938684424643,68.5673912624773],[19.8785596045813,68.4071943223726],[20.0252689958579,69.0651386583127],[20.6455928890895,69.1062472602009],[21.9785347836261,68.6168456081807],[23.5394730974344,67.9360086127352],[23.5658797543356,66.3960509304374],[23.9033785336338,66.0069273952796],[22.1831734555019,65.7237405463202]]]}},{"type":"Feature","properties":{"admin":"Swaziland","name":"Swaziland","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[32.0716654802811,-26.7338200823049],[31.8680603370511,-27.1779273414213],[31.2827730649133,-27.285879408479],[30.6859619483745,-26.7438453101695],[30.6766085141296,-26.3980783017046],[30.9496667823599,-26.0226490211041],[31.0440796241571,-25.7314523251394],[31.3331575863979,-25.6601905250089],[31.8377779477281,-25.8433318010513],[31.985779249812,-26.2917798804802],[32.0716654802811,-26.7338200823049]]]}},{"type":"Feature","properties":{"admin":"Syria","name":"Syria","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[38.7923405291361,33.3786864283522],[36.8340621274355,32.3129375269808],[35.7199182472227,32.7091924097949],[35.7007979672747,32.7160136988574],[35.8363969256086,32.8681232773085],[35.8211007016502,33.2774264592763],[36.0664604021721,33.8249124211925],[36.6117501157159,34.2017886418972],[36.4481942075121,34.5939352483441],[35.9984025408436,34.6449140488],[35.9050232276922,35.4100094670973],[36.1497628110265,35.8215347356537],[36.417550083163,36.0406169703551],[36.6853890317318,36.2596992050565],[36.7394942563414,36.8175204534311],[37.0667611020458,36.6230362005006],[38.1677274920242,36.9012104355278],[38.6998913917659,36.7129273544723],[39.5225801938525,36.716053778626],[40.6732593116957,37.0912763534973],[41.212089471203,37.0743523219217],[42.3495910988118,37.2298725449041],[41.837064243341,36.6058537867636],[41.2897074725055,36.3588146021923],[41.3839652850058,35.6283165553144],[41.0061588885199,34.4193722600621],[38.7923405291361,33.3786864283522]]]}},{"type":"Feature","properties":{"admin":"Chad","name":"Chad","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[14.4957873877629,12.8593962671374],[14.5957812842476,13.3304269474779],[13.9544767595056,13.3534487980638],[13.9566988460941,13.9966911890169],[13.5403935075508,14.3671336939012],[13.97217,15.68437],[15.2477311540418,16.6273058130508],[15.3004411149797,17.927949937405],[15.6857405941478,19.9571800806424],[15.9032466976643,20.3876189234175],[15.4871480648501,20.7304145370256],[15.47106,21.04845],[15.0968876481818,21.3085187850749],[14.8513,22.8629500000001],[15.86085,23.40972],[19.84926,21.49509],[23.8376600000001,19.5804700000001],[23.8868900000001,15.61084],[23.02459,15.68072],[22.5679500000001,14.9442900000001],[22.30351,14.32682],[22.51202,14.09318],[22.18329,13.78648],[22.29658,13.37232],[22.03759,12.95546],[21.93681,12.5881800000001],[22.28801,12.64605],[22.49762,12.26024],[22.50869,11.67936],[22.87622,11.3846100000001],[22.8641654802442,11.1423951278076],[22.2311291846688,10.9718887394606],[21.7238216488595,10.567055568886],[21.0008683610963,9.47598521569148],[20.0596854997643,9.01270600019484],[19.0940080095261,9.07484691002577],[18.8120097185093,8.98291453697862],[18.9110217627806,8.63089468020644],[18.3895548845233,8.28130361575188],[17.9649296403809,7.89091400800299],[16.7059883968864,7.50832754152998],[16.4561845231874,7.73477366783294],[16.2905615576919,7.75430735923942],[16.1062317237067,7.49708791750646],[15.2794604834692,7.42192454673801],[15.4360917497457,7.69281240481189],[15.1208655127653,8.38215017336944],[14.9799955583377,8.79610423424344],[14.5444665869819,8.96586131432224],[13.9542183773441,9.54949494062669],[14.1714660986991,10.0213782821],[14.6272005550811,9.92091929772459],[14.9093538753948,9.99212942142276],[15.4678727556052,9.98233673750354],[14.923564894275,10.8913251815175],[14.9601518083377,11.5555740421972],[14.89336,12.21905],[14.4957873877629,12.8593962671374]]]}},{"type":"Feature","properties":{"admin":"Togo","name":"Togo","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[1.86524051271232,6.14215770102973],[1.06012169760493,5.92883738852888],[0.836931186536333,6.27997874595215],[0.570384148774849,6.91435862876719],[0.490957472342245,7.41174428957647],[0.712029249686878,8.31246450442383],[0.461191847342121,8.67722260175601],[0.365900506195885,9.46500397382948],[0.367579990245389,10.1912128768272],[-0.049784715159944,10.7069178328839],[0.023802524423701,11.0186817489008],[0.899563022474069,10.9973393823643],[0.772335646171484,10.4708082137424],[1.07779503744874,10.175606594275],[1.42506066245014,9.825395412633],[1.46304284018467,9.33462433515709],[1.66447757325838,9.12859039960938],[1.61895063640924,6.83203807212624],[1.86524051271232,6.14215770102973]]]}},{"type":"Feature","properties":{"admin":"Thailand","name":"Thailand","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[102.584932489027,12.1865949569133],[101.68715783082,12.6457400578266],[100.831809523525,12.6270848657692],[100.978467238369,13.4127216659026],[100.097797479251,13.4068563908374],[100.018732537845,12.3070010441534],[99.4789205261236,10.8463666854235],[99.1537724141431,9.96306142825855],[99.2223987162268,9.23925547936243],[99.8738318216981,9.20786204674512],[100.279646844486,8.29515289960605],[100.459274123133,7.42957265871718],[101.017327915453,6.85686859784248],[101.623079054778,6.74062246340192],[102.141186964936,6.22163605389463],[101.814281854258,5.81080841717424],[101.154218784594,5.69138418214771],[101.075515578213,6.20486705161592],[100.259596388757,6.64282481528954],[100.085756870527,6.46448944745029],[99.6906905456557,6.8482127954336],[99.5196415547696,7.34345388430276],[98.9882528015123,7.90799306887533],[98.503786248776,8.38230520266629],[98.339661899817,7.79451162356238],[98.1500093933058,8.35000743248388],[98.2591500183062,8.9739228377598],[98.553550653073,9.93295990644854],[99.038120558674,10.9605457625724],[99.5872860046397,11.8927627629017],[99.1963537943516,12.8047484399887],[99.2120117533361,13.2692937280765],[99.0977551615387,13.8275025496933],[98.4308191263799,14.6220276961808],[98.1920740091914,15.1237025008704],[98.5373759297657,15.3084974227461],[98.9033484232567,16.1778242049761],[98.4937610209113,16.8378355982079],[97.8591227559349,17.5679460718437],[97.3758964375735,18.4454377303758],[97.7977828308044,18.6270803898818],[98.2537239929156,19.70820302986],[98.9596757344549,19.7529806584409],[99.5433093607593,20.1865976018021],[100.115987583418,20.4178496363082],[100.548881056727,20.1092379826611],[100.606293573003,19.5083444279712],[101.282014601652,19.4625849471768],[101.035931431078,18.4089283309616],[101.059547560635,17.5124972599945],[102.113591750092,18.1091016708042],[102.413004998792,17.9327816838243],[102.998705682388,17.9616946476916],[103.200192091894,18.3096320663128],[103.956476678485,18.2409540877969],[104.716947056092,17.4288589543301],[104.779320509869,16.4418649357714],[105.58903852745,15.5703160669529],[105.544338413518,14.7239336206604],[105.218776890079,14.2732117782107],[104.281418084737,14.4167430689014],[102.988422072362,14.2257211369345],[102.348099399833,13.3942473413582],[102.584932489027,12.1865949569133]]]}},{"type":"Feature","properties":{"admin":"Tajikistan","name":"Tajikistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[71.0141980325202,40.2443655462182],[70.6480188333,39.9357538925712],[69.5596098163685,40.103211371413],[69.4648869159775,39.5266832545487],[70.5491618183256,39.6041979029865],[71.784693637992,39.2794632024644],[73.6753792662548,39.4312368841056],[73.9288521666464,38.5058153346227],[74.2575142760227,38.6065068629434],[74.8648157083168,38.3788463404816],[74.8299857929521,37.9900070257014],[74.9800024758954,37.4199901393059],[73.9486959166465,37.4215662704908],[73.260055779925,37.495256862939],[72.6368896829173,37.0475580917784],[72.1930408059624,36.9482876653457],[71.8446382994506,36.7381712916469],[71.4486934752302,37.0656448430805],[71.5419177590848,37.9057744410656],[71.2394039244482,37.9532650823419],[71.3481311379903,38.2589053411322],[70.8068205097329,38.4862816432164],[70.3763041523093,38.1383959010275],[70.2705741718401,37.735164699854],[70.1165784036103,37.5882227646321],[69.518785434858,37.6089966904134],[69.1962728209244,37.1511435003074],[68.8594458352459,37.3443358424306],[68.1355623717014,37.0231151393043],[67.8299996275595,37.1449940048647],[68.3920325051659,38.1570252548687],[68.1760250181859,38.9015534531139],[67.4422196796413,39.1401435410055],[67.7014286640173,39.5804784205645],[68.5364164569894,39.5334528671789],[69.0116329283455,40.0861581487567],[69.3294946633728,40.7278244085248],[70.666622348925,40.9602133245414],[70.4581596210596,40.4964948593703],[70.6014066913727,40.2185273300723],[71.0141980325202,40.2443655462182]]]}},{"type":"Feature","properties":{"admin":"Turkmenistan","name":"Turkmenistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[61.2108170917257,35.6500723333092],[61.1230705096941,36.4915971949662],[60.3776379738839,36.5273831243284],[59.2347619973168,37.4129879827303],[58.4361544126782,37.5223094752438],[57.330433790929,38.0292294378109],[56.6193660825928,38.1213943548035],[56.1803747902733,37.9351266546074],[55.5115784035519,37.9641171331232],[54.8003039894866,37.3924207626782],[53.9215979347955,37.1989183619613],[53.7355111021125,37.9061361760917],[53.8809285825818,38.9520930038954],[53.1010278664329,39.2905736354071],[53.3578080584912,39.9752863632744],[52.6939726092698,40.033629055332],[52.9152510923436,40.8765233424447],[53.8581392759411,40.6310344508422],[54.7368453306321,40.9510149195935],[54.0083109881813,41.5512108424474],[53.7217134946906,42.12319143327],[52.9167497088801,41.8681165634773],[52.8146887551036,41.1353705917947],[52.5024597511961,41.7833155380864],[52.9442932472916,42.1160342473976],[54.0794177590149,42.3241094020208],[54.7553454933926,42.0439714625666],[55.4552510923538,41.2598591171858],[55.9681913592829,41.3086416692694],[57.0963912290791,41.3223100856106],[56.9322152036878,41.8260261093756],[57.7865299823371,42.1705528834655],[58.6290108579915,42.751551011723],[59.9764221535698,42.2230819768902],[60.0833406919817,41.4251461858714],[60.4659529966707,41.2203266464825],[61.5471789895136,41.2663703476546],[61.8827140643847,41.0848568792294],[62.374260288345,40.0538862167904],[63.518014764261,39.3632565374256],[64.1702230162168,38.8924067245982],[65.2159989765074,38.4026950139843],[66.5461503437002,37.9746849635269],[66.5186068052887,37.3627843287588],[66.2173848814593,37.3937901881339],[65.7456307310668,37.6611640488121],[65.5889477883578,37.3052167831856],[64.7461051776774,37.1118177353333],[64.5464791197339,36.3120732691843],[63.9828959491587,36.0079574651466],[63.1935384459003,35.8571656357189],[62.9846623065766,35.4040408391676],[62.2306514830059,35.2706639674223],[61.2108170917257,35.6500723333092]]]}},{"type":"Feature","properties":{"admin":"East Timor","name":"Timor-Leste","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[124.968682489116,-8.89279021569708],[125.08624637258,-8.65688730228468],[125.947072381698,-8.43209482181503],[126.644704217639,-8.39824675866385],[126.95724328014,-8.2733448218144],[127.335928175975,-8.3973165828826],[126.967991978057,-8.66825611738889],[125.925885044459,-9.10600717533335],[125.088520135601,-9.39317310957929],[125.070019972841,-9.08998748132287],[124.968682489116,-8.89279021569708]]]}},{"type":"Feature","properties":{"admin":"Trinidad and Tobago","name":"Trinidad and Tobago","continent":"North America"},"geometry":{"type":"Polygon","coordinates":[[[-61.68,10.76],[-61.105,10.89],[-60.895,10.855],[-60.935,10.11],[-61.77,10],[-61.95,10.09],[-61.66,10.365],[-61.68,10.76]]]}},{"type":"Feature","properties":{"admin":"Tunisia","name":"Tunisia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[9.48213992680527,30.3075560572462],[9.05560265466815,32.1026919622013],[8.43910281742612,32.5062848984008],[8.43047285323337,32.7483373072559],[7.61264163578218,33.344114895149],[7.52448164229224,34.0973764104515],[8.1409814795343,34.6551459823938],[8.37636762862377,35.4798760035559],[8.21782433435231,36.4331769882603],[8.42096438969167,36.9464273137832],[9.50999352381061,37.3499944117665],[10.2100024756363,37.2300017359848],[10.1806502620945,36.7240377874151],[11.0288672217333,37.092103176414],[11.1000256689993,36.8999960393689],[10.6000045101431,36.4100001083774],[10.5932865739451,35.9474443629328],[10.9395186703007,35.6989840764735],[10.807847120821,34.8335071884492],[10.1495927262871,34.3307730168977],[10.3396586442566,33.7857416855153],[10.8568363786337,33.7687401392913],[11.1085006038951,33.2933428004222],[11.488787469131,33.1369957545231],[11.4322534522037,32.3689031031529],[10.9447896663945,32.0818146835554],[10.6369014827995,31.7614208033457],[9.95022505050508,31.3760696477453],[10.0565751481618,30.9618313664936],[9.97001712407285,30.5393248560752],[9.48213992680527,30.3075560572462]]]}},{"type":"Feature","properties":{"admin":"Turkey","name":"Turkey","continent":"Asia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[36.9131270688422,41.3353583847643],[38.3476648292645,40.9485861272757],[39.5126066424202,41.1027627630186],[40.3734326515382,41.0136725937473],[41.5540841001107,41.5356562363276],[42.6195487811046,41.5831727158199],[43.5827458025927,41.0921432561826],[43.7526579119685,40.7402009140588],[43.656436395041,40.2535639511662],[44.4000085792888,40.0050003118423],[44.793989699082,39.713002631177],[44.1092252947824,39.4281362981681],[44.4214026222576,38.2812812363145],[44.2257556496005,37.9715843775893],[44.7726990089777,37.1704446477684],[44.2934517759029,37.0015143906064],[43.9422587420473,37.2562275253729],[42.7791256040219,37.3852635768058],[42.3495910988118,37.2298725449041],[41.212089471203,37.0743523219217],[40.6732593116957,37.0912763534974],[39.5225801938525,36.716053778626],[38.6998913917659,36.7129273544723],[38.1677274920242,36.9012104355278],[37.0667611020458,36.6230362005006],[36.7394942563414,36.8175204534311],[36.6853890317318,36.2596992050565],[36.4175500831631,36.0406169703551],[36.1497628110266,35.8215347356537],[35.7820849952699,36.2749954290149],[36.1608215675371,36.6506055771284],[35.5509363136283,36.5654428167113],[34.7145532569844,36.7955321314909],[34.0268949724765,36.219960028624],[32.5091581560641,36.1075637883892],[31.6995951677796,36.6442752141726],[30.6216247901711,36.6778648951623],[30.3910962257171,36.262980658507],[29.6999756202456,36.144357408181],[28.7329028663354,36.6768313665164],[27.6411865577374,36.6588221298628],[27.0487679379433,37.653360907536],[26.318218214633,38.2081332464054],[26.8047001482287,38.9857601995336],[26.1707853533044,39.4636121689365],[27.2800199724494,40.4200137395783],[28.8199776547472,40.4600112981722],[29.2400036964156,41.2199907496727],[31.1459338722044,41.0876215683571],[32.3479793637458,41.7362641464846],[33.5132829119275,42.0189600693373],[35.1677038917519,42.0402249212254],[36.9131270688422,41.3353583847643]]],[[[27.1923767432824,40.6905657008425],[26.3580090674978,40.1519939234965],[26.0433512712725,40.6177536077432],[26.0569421729653,40.8241234401007],[26.2946020850757,40.9362612981742],[26.6041955909363,41.562114569661],[26.1170418637208,41.8269046087246],[27.1357393734905,42.1414848903013],[27.9967204119054,42.0073587102878],[28.1155245297444,41.6228860540363],[28.9884428240188,41.2999341904282],[28.8064384294867,41.0549620631485],[27.6190173682841,40.9998233098931],[27.1923767432824,40.6905657008425]]]]}},{"type":"Feature","properties":{"admin":"Taiwan","name":"Taiwan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[121.77781782439,24.3942735865194],[121.175632358893,22.7908572453672],[120.747079705896,21.9705713973821],[120.220083449384,22.8148609481667],[120.106188592612,23.5562627222582],[120.694679803552,24.5384508326137],[121.495044386889,25.2954588892574],[121.951243931161,24.997595933527],[121.77781782439,24.3942735865194]]]}},{"type":"Feature","properties":{"admin":"United Republic of Tanzania","name":"Tanzania","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[33.9037111971046,-0.95],[34.07262,-1.05982],[37.69869,-3.09699],[37.7669,-3.67712],[39.20222,-4.67677],[38.74054,-5.90895],[38.79977,-6.47566],[39.44,-6.84],[39.4700000000001,-7.1],[39.19469,-7.7039],[39.25203,-8.00781],[39.18652,-8.48551],[39.53574,-9.11236999999988],[39.9496,-10.0984],[40.31659,-10.3170999999999],[39.521,-10.89688],[38.4275565935878,-11.2852023250816],[37.82764,-11.26879],[37.47129,-11.56876],[36.7751509946229,-11.5945374487808],[36.5140816586844,-11.7209380021667],[35.3123979021691,-11.4391464168792],[34.5599890479995,-11.5200200334158],[34.28,-10.16],[33.9408377240965,-9.69367384198028],[33.73972,-9.41715],[32.7593754412214,-9.230599053589],[32.1918648617919,-8.93035898197326],[31.5563480974666,-8.76204884199865],[31.1577513369501,-8.59457874731731],[30.74,-8.34],[30.2,-7.08],[29.62,-6.52],[29.4199927100883,-5.9399988745393],[29.5199866065731,-5.41997893638626],[29.3399975929004,-4.49998341229411],[29.7535124040999,-4.4523894181533],[30.11632,-4.09012],[30.50554,-3.56858],[30.75224,-3.35931],[30.74301,-3.03431],[30.52766,-2.80762],[30.46967,-2.41383],[30.7583089535831,-2.28725025798838],[30.8161348813178,-1.69891407634537],[30.4191048520193,-1.13465911215042],[30.7698600000001,-1.01455],[31.86617,-1.02736],[33.9037111971046,-0.95]]]}},{"type":"Feature","properties":{"admin":"Uganda","name":"Uganda","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[31.86617,-1.02736],[30.7698600000001,-1.01455],[30.4191048520193,-1.13465911215042],[29.8215185889961,-1.44332244222977],[29.579466180141,-1.34131316488561],[29.5878377621722,-0.587405694179381],[29.8195,-0.2053],[29.8757788429024,0.597379868976361],[30.0861535987628,1.06231273030642],[30.4685075212903,1.58380544677971],[30.8526701189481,1.84939647054375],[31.174149204236,2.20446523682131],[30.77332,2.33989000000014],[30.83385,3.50917],[31.24556,3.7819],[31.88145,3.55827],[32.68642,3.79232],[33.39,3.79],[34.005,4.24988494736215],[34.47913,3.5556],[34.59607,3.05374000000012],[35.03599,1.90584],[34.6721,1.17694],[34.18,0.515],[33.893568969667,0.109813537861839],[33.9037111971046,-0.95],[31.86617,-1.02736]]]}},{"type":"Feature","properties":{"admin":"Ukraine","name":"Ukraine","continent":"Europe"},"geometry":{"type":"Polygon","coordinates":[[[31.7859981625716,52.1016779648854],[32.1594120623127,52.0612669948332],[32.4120581397876,52.2886949733497],[32.715760532367,52.238465481162],[33.7526998227357,52.3350745713317],[34.391730584457,51.7688817409258],[34.1419783871904,51.5664134792062],[34.2248157081543,51.2559931504289],[35.0221830584179,51.2075723333714],[35.3779236183151,50.7739553900103],[35.3561161638879,50.5771973740591],[36.6261678403253,50.2255909287451],[37.3934595069951,50.3839533555036],[38.0106311378569,49.9156615260746],[38.5949882342134,49.9264619004236],[40.0690584653391,49.6010554062817],[40.0807890154693,49.3074299179993],[39.6746639340875,48.7838184678019],[39.8956323585676,48.2324050970314],[39.7382776222388,47.898937079452],[38.7705847511412,47.8256082220298],[38.2551123390297,47.5464004583568],[38.2235380388994,47.1021898463759],[37.42513715999,47.0222205674042],[36.7598547706644,46.6987002630409],[35.8236845232648,46.6459644638871],[34.9623417498239,46.2731965195496],[35.020787794746,45.6512189804847],[35.5100085792532,45.4099933945462],[36.5299979998302,45.4699897324371],[36.3347127621991,45.113215643894],[35.2399992205281,44.9399962428516],[33.8825110206529,44.3614785833441],[33.32642093276,44.5648770208449],[33.5469242693495,45.0347708196749],[32.4541744321055,45.3274661321761],[32.6308044776791,45.5191856959789],[33.5881620623184,45.8515685084802],[33.2985673357547,46.0805984563978],[31.7441402524152,46.3333478867374],[31.6753072446024,46.7062450221555],[30.7487488136091,46.583100084004],[30.3776086768889,46.0324101832857],[29.6032890154274,45.2933080104311],[29.1497249692016,45.4649254420724],[28.6797794939394,45.3040308701317],[28.233553501099,45.4882831894684],[28.4852694027928,45.5969070501459],[28.6599874203716,45.9399868841316],[28.9337174822216,46.2588304713725],[28.8629724464141,46.4378893092638],[29.0721069678993,46.5176777207225],[29.1706539242799,46.3792623968287],[29.7599719581364,46.3499876979354],[30.0246586443354,46.423936672545],[29.8382100766263,46.5253258327017],[29.9088517595693,46.6743606634315],[29.5596741065731,46.9285828720913],[29.4151351254527,47.3466452093326],[29.0508679542273,47.5102269557525],[29.122698195113,47.8490951605065],[28.6708911475852,48.1181485052341],[28.2595467465418,48.1555622422134],[27.5225374691952,48.4671194525011],[26.8578235206248,48.3682107610945],[26.6193367855978,48.2207262233335],[26.1974503923669,48.2208812526303],[25.9459411964024,47.9871487493742],[25.207743361113,47.8910564235275],[24.8663171729606,47.7375257431883],[24.4020561052504,47.9818777532804],[23.7609582862374,47.9855984564055],[23.1422363624068,48.0963410508069],[22.7105314470405,47.8821939153894],[22.6408199398787,48.1502395696874],[22.0856083513348,48.4222643092718],[22.2808419125336,48.8253921575807],[22.5581376482118,49.0857380234671],[22.7764188982126,49.0273953314096],[22.5184501482116,49.4767735866197],[23.4265084164444,50.3085057643575],[23.9227571957433,50.4248810898787],[24.0299857927489,50.7054066025752],[23.5270707536844,51.5784540879302],[24.0050777523842,51.6174439560945],[24.5531063168395,51.8884610052492],[25.327787713327,51.9106560329185],[26.3379586117686,51.8322887233479],[27.4540661964084,51.5923033717845],[28.2416150245366,51.5722270778391],[28.6176127458922,51.4277139349348],[28.9928353207635,51.6020443792715],[29.2549381853479,51.3682343613669],[30.1573637224609,51.4161384141015],[30.5551172218115,51.3195034857156],[30.6194543800148,51.8228060980224],[30.927549269339,52.0423534206144],[31.7859981625716,52.1016779648854]]]}},{"type":"Feature","properties":{"admin":"Uruguay","name":"Uruguay","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-57.6251334295829,-30.2162948544543],[-56.9760257635647,-30.1096863746361],[-55.9732445949409,-30.8830758603163],[-55.6015101792493,-30.8538786760714],[-54.5724515448051,-31.4945114071937],[-53.7879516261822,-32.0472425269876],[-53.2095889959715,-32.7276661109747],[-53.6505439927181,-33.2020040829818],[-53.3736616684982,-33.7683777809008],[-53.8064259507265,-34.3968148740022],[-54.9358660548977,-34.9526465797336],[-55.6740897284033,-34.7526587867641],[-56.2152970037961,-34.8598357073374],[-57.1396850246331,-34.4304562314242],[-57.8178606838155,-34.4625472958775],[-58.4270741441044,-33.9094544410576],[-58.3496111720989,-33.2631889788154],[-58.1326476711214,-33.040566908502],[-58.1424403550408,-32.0445036760762],[-57.8749373032819,-31.0165560849262],[-57.6251334295829,-30.2162948544543]]]}},{"type":"Feature","properties":{"admin":"United States of America","name":"United States","continent":"North America"},"geometry":{"type":"MultiPolygon","coordinates":[[[[-155.54211,19.08348],[-155.68817,18.91619],[-155.93665,19.05939],[-155.90806,19.33888],[-156.07347,19.70294],[-156.02368,19.81422],[-155.85008,19.97729],[-155.91907,20.17395],[-155.86108,20.26721],[-155.78505,20.2487],[-155.40214,20.07975],[-155.22452,19.99302],[-155.06226,19.8591],[-154.80741,19.50871],[-154.83147,19.45328],[-155.22217,19.23972],[-155.54211,19.08348]]],[[[-156.07926,20.64397],[-156.41445,20.57241],[-156.58673,20.783],[-156.70167,20.8643],[-156.71055,20.92676],[-156.61258,21.01249],[-156.25711,20.91745],[-155.99566,20.76404],[-156.07926,20.64397]]],[[[-156.75824,21.17684],[-156.78933,21.06873],[-157.32521,21.09777],[-157.25027,21.21958],[-156.75824,21.17684]]],[[[-157.65283,21.32217],[-157.70703,21.26442],[-157.7786,21.27729],[-158.12667,21.31244],[-158.2538,21.53919],[-158.29265,21.57912],[-158.0252,21.71696],[-157.94161,21.65272],[-157.65283,21.32217]]],[[[-159.34512,21.982],[-159.46372,21.88299],[-159.80051,22.06533],[-159.74877,22.1382],[-159.5962,22.23618],[-159.36569,22.21494],[-159.34512,21.982]]],[[[-94.81758,49.38905],[-94.6399999999999,48.8400000000001],[-94.32914,48.67074],[-93.63087,48.60926],[-92.61,48.45],[-91.64,48.14],[-90.8299999999999,48.27],[-89.6,48.01],[-89.2729174466367,48.0198082545828],[-88.3781141832865,48.3029175888938],[-87.4397926233002,47.94],[-86.4619908312281,47.553338019392],[-85.6523632474032,47.2202188177305],[-84.8760798815149,46.9000833196824],[-84.7792382473998,46.6371019557491],[-84.5437487454456,46.5386841904492],[-84.6049,46.4396],[-84.3367,46.4087700000001],[-84.1421195136733,46.5122258571157],[-84.0918512641615,46.2754186061383],[-83.8907653470057,46.1169269882992],[-83.6161309475905,46.1169269882992],[-83.4695507473946,45.9946863877126],[-83.5928507148431,45.8168936224125],[-82.5509246487582,45.3475165879054],[-82.3377631254311,44.44],[-82.137642381504,43.57108755144],[-82.43,42.98],[-82.8999999999999,42.4300000000001],[-83.1199999999999,42.08],[-83.1419996813126,41.975681057293],[-83.0298101468069,41.832795722006],[-82.6900892809202,41.6751050888673],[-82.4392777167916,41.6751050888673],[-81.2777465481671,42.2090259873068],[-80.2474476793478,42.3661998561227],[-78.9393621487437,42.8636113551481],[-78.92,42.965],[-79.0099999999999,43.27],[-79.1716735501119,43.4663394231843],[-78.7202799140424,43.625089423185],[-77.7378850979576,43.6290555893634],[-76.8200341458056,43.6287842880938],[-76.5,44.0184588937586],[-76.375,44.09631],[-75.31821,44.8164500000002],[-74.867,45.0004800000001],[-73.3478299999999,45.00738],[-71.5050599999999,45.0082],[-71.405,45.2550000000001],[-71.08482,45.3052400000002],[-70.6599999999998,45.46],[-70.305,45.915],[-69.99997,46.69307],[-69.237216,47.447781],[-68.905,47.185],[-68.23444,47.35486],[-67.79046,47.06636],[-67.79134,45.7028100000001],[-67.13741,45.13753],[-66.96466,44.8097000000002],[-68.03252,44.3252],[-69.0599999999999,43.98],[-70.1161699999999,43.6840500000001],[-70.645475633411,43.090238348964],[-70.81489,42.8653],[-70.825,42.335],[-70.4949999999999,41.805],[-70.08,41.78],[-70.185,42.145],[-69.88497,41.9228300000001],[-69.96503,41.6371700000002],[-70.64,41.475],[-71.12039,41.4944500000002],[-71.8599999999998,41.32],[-72.295,41.27],[-72.87643,41.22065],[-73.71,40.9311023516545],[-72.24126,41.1194800000001],[-71.9449999999998,40.93],[-73.345,40.63],[-73.982,40.628],[-73.952325,40.75075],[-74.25671,40.47351],[-73.96244,40.42763],[-74.17838,39.70926],[-74.90604,38.93954],[-74.98041,39.1964],[-75.20002,39.24845],[-75.52805,39.4985],[-75.32,38.96],[-75.0718347647898,38.7820322301793],[-75.05673,38.4041200000001],[-75.37747,38.01551],[-75.94023,37.21689],[-76.03127,37.2566],[-75.7220499999998,37.9370500000001],[-76.23287,38.319215],[-76.35,39.15],[-76.542725,38.717615],[-76.32933,38.08326],[-76.9899979316135,38.2399917669134],[-76.3016199999999,37.917945],[-76.25874,36.9664000000001],[-75.9718,36.89726],[-75.8680399999998,36.55125],[-75.72749,35.5507400000001],[-76.36318,34.8085400000001],[-77.3976349999999,34.51201],[-78.05496,33.92547],[-78.5543499999998,33.8613300000001],[-79.06067,33.49395],[-79.20357,33.15839],[-80.301325,32.509355],[-80.86498,32.0333],[-81.33629,31.44049],[-81.49042,30.7299900000001],[-81.31371,30.03552],[-80.98,29.1800000000001],[-80.5355849999999,28.47213],[-80.5299999999998,28.04],[-80.0565392849775,26.8800000000001],[-80.088015,26.205765],[-80.1315599999998,25.816775],[-80.38103,25.20616],[-80.6799999999999,25.08],[-81.17213,25.2012600000001],[-81.33,25.64],[-81.7099999999998,25.87],[-82.2399999999999,26.7300000000001],[-82.70515,27.49504],[-82.85526,27.88624],[-82.65,28.5500000000001],[-82.9299999999999,29.1000000000001],[-83.70959,29.93656],[-84.1,30.0900000000001],[-85.10882,29.63615],[-85.28784,29.6861200000001],[-85.7731,30.1526100000001],[-86.3999999999999,30.4000000000001],[-87.5303599999998,30.27433],[-88.41782,30.3849],[-89.1804899999998,30.31598],[-89.5938311784198,30.1599940048368],[-89.413735,29.89419],[-89.43,29.48864],[-89.21767,29.29108],[-89.40823,29.15961],[-89.77928,29.3071400000001],[-90.15463,29.11743],[-90.8802249999999,29.1485350000001],[-91.6267849999998,29.6770000000001],[-92.49906,29.5523],[-93.22637,29.78375],[-93.84842,29.71363],[-94.69,29.4800000000001],[-95.60026,28.73863],[-96.59404,28.30748],[-97.1399999999998,27.83],[-97.37,27.38],[-97.3799999999999,26.69],[-97.33,26.2100000000001],[-97.1399999999998,25.87],[-97.5299999999999,25.84],[-98.2399999999999,26.0600000000001],[-99.0199999999999,26.37],[-99.3,26.84],[-99.52,27.54],[-100.11,28.1100000000001],[-100.45584,28.6961200000001],[-100.9576,29.3807100000001],[-101.6624,29.7793000000001],[-102.48,29.76],[-103.11,28.97],[-103.94,29.27],[-104.45697,29.57196],[-104.70575,30.12173],[-105.03737,30.64402],[-105.63159,31.0838300000001],[-106.1429,31.39995],[-106.50759,31.75452],[-108.24,31.7548537181664],[-108.24194,31.34222],[-109.035,31.3419400000002],[-111.02361,31.33472],[-113.30498,32.03914],[-114.815,32.52528],[-114.72139,32.72083],[-115.99135,32.6123900000001],[-117.12776,32.53534],[-117.295937691274,33.0462246152039],[-117.944,33.6212364312014],[-118.410602275897,33.7409092231245],[-118.5198948228,34.0277815775757],[-119.081,34.078],[-119.438840642017,34.3484771782843],[-120.36778,34.44711],[-120.62286,34.60855],[-120.74433,35.1568600000001],[-121.71457,36.16153],[-122.54747,37.5517600000001],[-122.51201,37.7833900000001],[-122.95319,38.1137100000001],[-123.7272,38.9516600000001],[-123.86517,39.7669900000001],[-124.39807,40.3132],[-124.17886,41.1420200000001],[-124.2137,41.9996400000001],[-124.53284,42.76599],[-124.14214,43.70838],[-124.020535,44.615895],[-123.89893,45.52341],[-124.079635,46.86475],[-124.39567,47.72017],[-124.687210083008,48.1844329833985],[-124.566101074219,48.3797149658204],[-123.12,48.04],[-122.58736,47.096],[-122.34,47.36],[-122.5,48.18],[-122.84,49],[-120,49],[-117.03121,49],[-116.04818,49],[-113,49],[-110.05,49],[-107.05,49],[-104.04826,48.99986],[-100.65,49],[-97.2287200000047,49.0007],[-95.1590695091719,49],[-95.15609,49.38425],[-94.81758,49.38905]]],[[[-153.006314053337,57.1158421901659],[-154.005090298458,56.7346768255811],[-154.51640275777,56.9927489284467],[-154.670992804971,57.4611957871725],[-153.762779507441,57.8165746120438],[-153.228729417921,57.9689684108724],[-152.564790615835,57.901427313867],[-152.141147223906,57.591058661522],[-153.006314053337,57.1158421901659]]],[[[-165.579164191734,59.9099868841875],[-166.192770148767,59.754440822989],[-166.848337368822,59.9414061550209],[-167.45527706609,60.2130691595794],[-166.467792121425,60.3841698268978],[-165.674429694664,60.2936068793062],[-165.579164191734,59.9099868841875]]],[[[-171.731656867539,63.7825153672759],[-171.114433560245,63.592191067145],[-170.491112433941,63.6949754909735],[-169.682505459654,63.4311156276911],[-168.689439460301,63.2975062120006],[-168.771940884455,63.1885981309454],[-169.529439867205,62.9769314642779],[-170.290556200216,63.1944375677945],[-170.671385667991,63.375821845139],[-171.553063117539,63.3177892116751],[-171.791110602891,63.4058458523005],[-171.731656867539,63.7825153672759]]],[[[-155.067790290324,71.1477763943237],[-154.344165208941,70.6964085964702],[-153.900006273393,70.8899885118357],[-152.210006069935,70.8299921739448],[-152.270002407826,70.6000062120298],[-150.739992438745,70.4300165880057],[-149.720003018168,70.5300104844904],[-147.613361579357,70.2140349392418],[-145.689989800225,70.1200096706867],[-144.920010959076,69.9899917670405],[-143.589446180425,70.1525141465983],[-142.072510348713,69.8519381781726],[-140.985987521561,69.7119983995264],[-140.985988329005,69.7119983995264],[-140.992498752029,66.0000285915687],[-140.997769748123,60.3063967962986],[-140.012997816153,60.2768378770276],[-139.039000420316,60.00000722924],[-138.34089,59.5621100000001],[-137.4525,58.9050000000001],[-136.47972,59.46389],[-135.47583,59.78778],[-134.945,59.2705600000001],[-134.27111,58.86111],[-133.355548882207,58.4102851426452],[-132.73042,57.6928900000001],[-131.70781,56.55212],[-130.00778,55.91583],[-129.979994263358,55.2849978704972],[-130.536110189467,54.8027534043494],[-131.085818237972,55.178906155002],[-131.967211467142,55.4977755804591],[-132.250010742859,56.3699962428974],[-133.539181084356,57.1788874375621],[-134.078062920296,58.1230675319669],[-135.038211032279,58.1877147487639],[-136.628062309955,58.2122093776705],[-137.800006279686,58.4999954291038],[-139.867787041413,59.5377615423891],[-140.825273817133,59.7275174017651],[-142.574443535564,60.084446519605],[-143.95888099488,59.9991804063234],[-145.925556816828,60.4586097276143],[-147.114373949147,60.8846560736446],[-148.224306200128,60.6729894069772],[-148.018065558851,59.9783289658936],[-148.570822516861,59.9141726752033],[-149.727857835876,59.7056582709055],[-150.608243374616,59.3682111680395],[-151.716392788683,59.15582103132],[-151.859433153267,59.7449840358796],[-151.409719001247,60.7258027207794],[-150.346941494733,61.0335875515099],[-150.621110806257,61.2844249538545],[-151.895839199817,60.7271979844513],[-152.578329841096,60.0616572129643],[-154.019172126258,59.3502794460343],[-153.287511359653,58.8647276882198],[-154.232492438758,58.1463736029305],[-155.30749142151,57.7277945013663],[-156.308334723923,57.4227743597636],[-156.556097378546,56.9799848496706],[-158.117216559868,56.4636080999942],[-158.433321296197,55.9941535508385],[-159.603327399717,55.5666861029201],[-160.289719611634,55.6435806341706],[-161.223047655258,55.3647346055235],[-162.237766079741,55.0241869167201],[-163.069446581046,54.6897370469272],[-164.785569221027,54.4041730820822],[-164.94222632552,54.5722248398953],[-163.848339606766,55.0394314642461],[-162.870001390616,55.3480431178932],[-161.804174974596,55.8949864772704],[-160.563604702781,56.008054511125],[-160.070559862284,56.4180553249287],[-158.684442918919,57.0166751165979],[-158.461097378554,57.2169212917289],[-157.722770352184,57.5700005153631],[-157.550274421194,58.3283263210302],[-157.041674974577,58.9188845892617],[-158.194731208305,58.6158023138698],[-158.517217984023,58.7877814805373],[-159.058606126929,58.4241861029317],[-159.711667040017,58.9313902858763],[-159.9812888255,58.5725491400416],[-160.355271165997,59.0711233587936],[-161.355003425115,58.6708377142607],[-161.968893602526,58.6716645371774],[-162.054986538725,59.2669253607474],[-161.874170702135,59.6336213242906],[-162.518059048492,59.9897236192139],[-163.81834143782,59.7980557318434],[-164.662217577146,60.2674844427826],[-165.346387702475,60.5074956325624],[-165.350831875652,61.0738951686975],[-166.121379157556,61.5000190293762],[-165.73445187077,62.0749968532718],[-164.919178636718,62.6330764838079],[-164.562507901039,63.146378485763],[-163.753332485997,63.2194489610238],[-163.067224494458,63.059458726648],[-162.260555386382,63.5419357367412],[-161.534449836249,63.4558169623268],[-160.772506680321,63.7661081000233],[-160.958335130843,64.2227985704028],[-161.518068407212,64.4027875840753],[-160.777777676415,64.7886038275664],[-161.391926235988,64.7772350124623],[-162.453050096669,64.5594446885682],[-162.757786017894,64.3386054551688],[-163.546394212884,64.5591604681905],[-164.960829841145,64.4469450954689],[-166.425288255864,64.6866720648707],[-166.845004238939,65.0888955756145],[-168.110560065767,65.6699970567367],[-166.705271166022,66.0883177761394],[-164.474709642575,66.5766600612975],[-163.652511766596,66.5766600612975],[-163.788601651036,66.0772073431967],[-161.67777442121,66.1161196967124],[-162.48971452538,66.7355650905951],[-163.719716966791,67.1163945583701],[-164.430991380857,67.6163382025778],[-165.390286831707,68.0427721218502],[-166.764440680996,68.3588768581797],[-166.204707404627,68.8830309109162],[-164.430810513343,68.9155353868277],[-163.168613654615,69.3711148139129],[-162.930566169262,69.8580618353993],[-161.908897264636,70.3333299831876],[-160.934796515934,70.4476899278496],[-159.039175788387,70.8916421576689],[-158.119722866834,70.824721177851],[-156.580824551398,71.3577635769417],[-155.067790290324,71.1477763943237]]]]}},{"type":"Feature","properties":{"admin":"Uzbekistan","name":"Uzbekistan","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[66.5186068052887,37.3627843287588],[66.5461503437002,37.9746849635269],[65.2159989765074,38.4026950139843],[64.1702230162168,38.8924067245982],[63.518014764261,39.3632565374256],[62.374260288345,40.0538862167904],[61.8827140643847,41.0848568792294],[61.5471789895136,41.2663703476546],[60.4659529966707,41.2203266464825],[60.0833406919817,41.4251461858714],[59.9764221535698,42.2230819768902],[58.6290108579915,42.751551011723],[57.7865299823371,42.1705528834655],[56.9322152036878,41.8260261093756],[57.0963912290791,41.3223100856106],[55.9681913592829,41.3086416692694],[55.9289172707411,44.9958584661591],[58.5031270689285,45.5868043076328],[58.6899890480959,45.5000137395986],[60.2399719582583,44.7840367701947],[61.0583199400324,44.4058169622505],[62.0133004087862,43.5044766302156],[63.1857869810566,43.650074978198],[64.9008244159593,43.7280805527426],[66.0980123228651,42.9976600205131],[66.0233915546356,41.994646307944],[66.5106486347157,41.9876441513684],[66.7140470722165,41.1684435084615],[67.9858557473518,41.1359907089822],[68.2598958677956,40.6623245305949],[68.63248294462,40.6686807317668],[69.0700272968353,41.3842442897124],[70.3889648782208,42.0813076848974],[70.9623148944991,42.2661542832055],[71.2592476744482,42.1677106796895],[70.4200224140282,41.5199982773431],[71.1578585142916,41.1435871445291],[71.8701147805705,41.3929000921213],[73.0554171080492,40.8660330266895],[71.7748751158566,40.1458444280538],[71.0141980325202,40.2443655462182],[70.6014066913727,40.2185273300723],[70.4581596210596,40.4964948593703],[70.666622348925,40.9602133245414],[69.3294946633728,40.7278244085248],[69.0116329283455,40.0861581487567],[68.5364164569894,39.5334528671789],[67.7014286640173,39.5804784205645],[67.4422196796413,39.1401435410055],[68.1760250181859,38.9015534531139],[68.3920325051659,38.1570252548687],[67.8299996275595,37.1449940048647],[67.0757820982596,37.3561439072093],[66.5186068052887,37.3627843287588]]]}},{"type":"Feature","properties":{"admin":"Venezuela","name":"Venezuela","continent":"South America"},"geometry":{"type":"Polygon","coordinates":[[[-71.3315836249503,11.7762840845158],[-71.3600056627108,11.5399935978612],[-71.9470499335465,11.42328237553],[-71.6208682929202,10.9694599471428],[-71.6330639309411,10.446494452349],[-72.0741739569845,9.86565135338837],[-71.6956440904465,9.07226308841125],[-71.2645592922677,9.13719452558598],[-71.0399993557434,9.85999278405241],[-71.3500837877108,10.2119351261762],[-71.4006233384922,10.968969021036],[-70.1552988349065,11.37548167566],[-70.293843349881,11.8468224145942],[-69.9432445949968,12.1623070337361],[-69.5843000962975,11.4596109074312],[-68.8829992336644,11.4433845076916],[-68.2332714504587,10.8857441268299],[-68.1941265529976,10.5546532251359],[-67.2962485419263,10.5458682316463],[-66.227864142508,10.6486268172587],[-65.6552375962817,10.2007988550173],[-64.8904522365782,10.0772146671913],[-64.3294787258337,10.3895987003957],[-64.3180065578649,10.641417954954],[-63.0793224758287,10.7017243514386],[-61.8809460109802,10.7156253117251],[-62.7301189846164,10.4202686629609],[-62.388511928951,9.94820445397464],[-61.5887674628019,9.87306692142226],[-60.8305966864317,9.38133982994894],[-60.6712524074597,8.58017426191188],[-60.1500955877962,8.60275686282343],[-59.7582848781592,8.36703481692405],[-60.5505879380582,7.77960297284618],[-60.6379727850638,7.41499990481085],[-60.2956680975624,7.04391144452292],[-60.543999192941,6.85658437746488],[-61.1593363104565,6.69607737876632],[-61.1394150458079,6.23429677980614],[-61.4103029038819,5.95906810141962],[-60.7335741848037,5.2002772078619],[-60.6011791652719,4.91809804933213],[-60.9668932766015,4.53646759685664],[-62.0854296535591,4.16212352133431],[-62.8045330471167,4.00696503337795],[-63.0931975978991,3.77057119385878],[-63.8883428615741,4.02053009685457],[-64.6286594305875,4.14848094320925],[-64.816064012294,4.05644521729742],[-64.3684944322141,3.79721039470525],[-64.4088278876179,3.12678620036662],[-64.2699991522658,2.49700552002557],[-63.4228673977051,2.41106761312417],[-63.3687880113116,2.20089956299313],[-64.0830854966661,1.91636912679408],[-64.1993057928905,1.49285492594602],[-64.6110119289599,1.32873057698704],[-65.3547133042884,1.0952822941085],[-65.5482673814376,0.78925446207603],[-66.3257651434849,0.724452215982012],[-66.8763258531226,1.25336050048934],[-67.181294318293,2.25063812907406],[-67.4470920477863,2.60028086996087],[-67.8099381171237,2.82065501546957],[-67.3031731838534,3.31845408773718],[-67.3375638495437,3.54234223064172],[-67.6218359035813,3.83948171631999],[-67.8230122544935,4.5039372827289],[-67.7446966213552,5.22112864829167],[-67.5215319485027,5.55687042889197],[-67.3414395819656,6.09546804445402],[-67.695087246355,6.26731802004065],[-68.2650524563182,6.15326813397247],[-68.9853185696023,6.20680491782686],[-69.3894799465571,6.09986054119884],[-70.0933129543724,6.96037649172311],[-70.6742335679815,7.08778473553872],[-71.9601757473486,6.99161489504354],[-72.1983524237819,7.34043081301368],[-72.4444872707881,7.42378489830048],[-72.4796789211788,7.63250600832735],[-72.360900641556,8.00263845461789],[-72.4398622300979,8.40527537682003],[-72.6604947577681,8.62528778730268],[-72.7887298245004,9.08502716718733],[-73.30495154488,9.1519998234376],[-73.0276041327696,9.73677033125244],[-72.9052860175347,10.4503443465548],[-72.6146577623252,10.8219754093818],[-72.2275754462429,11.1087020939532],[-71.9739216783383,11.6086715763771],[-71.3315836249503,11.7762840845158]]]}},{"type":"Feature","properties":{"admin":"Vietnam","name":"Vietnam","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[108.050180291783,21.5523798690601],[106.71506798709,20.696850694252],[105.881682163519,19.7520504826597],[105.662005649846,19.0581651880606],[106.426816847766,18.0041209986032],[107.36195356652,16.6974565698871],[108.26949507043,16.0797423364861],[108.877106561317,15.2766905786704],[109.335269810017,13.4260283472177],[109.200135939574,11.6668592391378],[108.366129998815,11.0083206242263],[107.220928582795,10.3644839543018],[106.405112746203,9.53083974856932],[105.158263787865,8.59975962975049],[104.795185174582,9.2410383162765],[105.076201613386,9.91849050540681],[104.334334751403,10.4865436873752],[105.199914992292,10.8893098006581],[106.249670037869,10.9618118351636],[105.810523716253,11.5676146509212],[107.491403029411,12.3372059188279],[107.614547967562,13.5355307072442],[107.382727492301,14.202440904187],[107.564525181104,15.2021731633056],[107.312705926546,15.9085383163032],[106.556007928496,16.6042839624648],[105.925762160264,17.485315456609],[105.094598423282,18.6669745956111],[103.896532017027,19.2651809758218],[104.183387892679,19.6246680770602],[104.822573683697,19.8866417505639],[104.435000441508,20.7587332219215],[103.203861118586,20.7665622014137],[102.754896274835,21.6751372339695],[102.170435825614,22.4647531193893],[102.7069922221,22.7087950708877],[103.504514601661,22.7037566187392],[104.476858351664,22.819150092047],[105.329209425887,23.3520633000569],[105.811247186305,22.9768924016179],[106.725403273548,22.7942678898984],[106.567273390735,22.2182048609248],[107.043420037873,21.8118989120299],[108.050180291783,21.5523798690601]]]}},{"type":"Feature","properties":{"admin":"Vanuatu","name":"Vanuatu","continent":"Australia"},"geometry":{"type":"MultiPolygon","coordinates":[[[[167.844876743845,-16.4663331030972],[167.515181105823,-16.59784962328],[167.180007765978,-16.159995212471],[167.21680138577,-15.8918462053084],[167.844876743845,-16.4663331030972]]],[[[167.107712437201,-14.933920179914],[167.27002811103,-15.7400208472349],[167.001207310248,-15.6146021460625],[166.793157993841,-15.6688107235367],[166.649859247096,-15.3927035458012],[166.629136997746,-14.6264970842096],[167.107712437201,-14.933920179914]]]]}},{"type":"Feature","properties":{"admin":"Yemen","name":"Yemen","continent":"Asia"},"geometry":{"type":"Polygon","coordinates":[[[53.1085726255475,16.651051133689],[52.3852059263259,16.3824112004197],[52.1917293638251,15.938433132384],[52.1681649107,15.5974203556899],[51.1725150897325,15.1752497420815],[49.5745764504031,14.7087665877827],[48.6792305845142,14.0032024194857],[48.2389473813874,13.9480895044464],[47.9389140155008,14.0072331812044],[47.3544535662797,13.5922197534684],[46.7170764503917,13.399699204965],[45.8775928078103,13.3477643905117],[45.6250500831999,13.2909461532068],[45.4064587746052,13.0269054224114],[45.1443559100209,12.9539383000153],[44.9895333188744,12.6995869002747],[44.4945764503828,12.7216527368633],[44.1751127459545,12.5859504256649],[43.4829586118371,12.6368000350401],[43.2228711281121,13.2209504256674],[43.2514481951695,13.7675837264508],[43.0879439633981,14.0626303166213],[42.8922453143087,14.8022492537987],[42.6048726743336,15.2133352726806],[42.8050154966,15.2619627954673],[42.7024377785007,15.718885809792],[42.8236706886574,15.9117422551053],[42.779332309751,16.3478913436487],[43.2183752785027,16.6668899601864],[43.1157975604034,17.0884404566074],[43.3807943051961,17.5799866805677],[43.7915185890519,17.3199767114911],[44.0626131528551,17.4103587915696],[45.2166512387972,17.4333289657233],[45.3999992205688,17.3333350692386],[46.3666585630205,17.2333153345376],[46.7499943377616,17.2833381209962],[47.0000049171898,16.9499992944974],[47.4666947772176,17.1166816268549],[48.1833435402413,18.1666692163773],[49.1166715838649,18.6166675887749],[52.0000098000222,19.0000033635161],[52.782184279192,17.3497423364912],[53.1085726255475,16.651051133689]]]}},{"type":"Feature","properties":{"admin":"South Africa","name":"South Africa","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[31.5210014177789,-29.2573869768462],[31.325561150851,-29.4019776343989],[30.9017627296253,-29.909956963828],[30.6228133481138,-30.4237757301061],[30.0557161801428,-31.140269463833],[28.9255526059195,-32.1720411109725],[28.2197558936771,-32.7719528134489],[27.464608188596,-33.2269637997788],[26.4194523454928,-33.6149504534262],[25.9096643409335,-33.6670402971764],[25.7806282895007,-33.9446460914483],[25.172861769316,-33.7968514950936],[24.6778532243921,-33.9871757952245],[23.5940434099346,-33.7944743792082],[22.9881889177447,-33.916430759417],[22.5741573422222,-33.8640825335053],[21.542799106541,-34.2588387997829],[20.689052768647,-34.4171753883252],[20.0712610205976,-34.795136814108],[19.6164050635646,-34.8191663551237],[19.1932784359587,-34.4625989723098],[18.8553145687699,-34.4443055152785],[18.4246431820494,-33.997872816709],[18.3774109229346,-34.1365206845481],[18.2444991390799,-33.867751560198],[18.2500801937674,-33.2814307594144],[17.9251904639484,-32.6112907854534],[18.2479097836112,-32.4291313616246],[18.2217615088715,-31.6616329892257],[17.5669177588689,-30.7257211239875],[17.0644161312627,-29.8786410458592],[17.0629175147262,-29.87595387138],[16.3449768408952,-28.5767050106977],[16.8240173682409,-28.0821615536645],[17.2189286638154,-28.3559432919468],[17.3874971859515,-28.7835140927298],[17.8361519711095,-28.8563778622613],[18.4648991228047,-29.0454619280173],[19.0021273129111,-28.9724431291889],[19.8947343278886,-28.4611048316608],[19.8957678565344,-24.7677902157606],[20.1657255388272,-24.9179619280008],[20.7586092465118,-25.8681364885514],[20.6664701677354,-26.4774533017049],[20.8896090023717,-26.8285429826959],[21.6058960303694,-26.7265337053518],[22.1059688656579,-26.2802560360791],[22.5795316911806,-25.9794475237081],[22.8242712745149,-25.5004586727948],[23.3120967953502,-25.2686898739657],[23.7335697771227,-25.3901294898516],[24.2112667172288,-25.6702157528736],[25.0251705258258,-25.7196700985769],[25.6646663754377,-25.4868160946697],[25.7658488298652,-25.1748454729237],[25.9416520525222,-24.6963733863332],[26.4857532081233,-24.6163265927131],[26.7864066911974,-24.2406906063835],[27.1194096208862,-23.5743230119798],[28.0172359555252,-22.8277535946591],[29.432188348109,-22.0913127580676],[29.839036899543,-22.1022164852812],[30.3228833350918,-22.2716118303339],[30.6598653500671,-22.1515674781199],[31.1914091326213,-22.2515096981724],[31.6703979835346,-23.6589690080739],[31.9305888201242,-24.3694165992225],[31.7524084815819,-25.4842839494874],[31.8377779477281,-25.8433318010513],[31.3331575863979,-25.6601905250089],[31.0440796241571,-25.7314523251394],[30.9496667823599,-26.0226490211041],[30.6766085141296,-26.3980783017046],[30.6859619483745,-26.7438453101695],[31.2827730649133,-27.285879408479],[31.8680603370511,-27.1779273414213],[32.0716654802811,-26.7338200823049],[32.8301204770289,-26.7421916643362],[32.5802649268977,-27.4701575660318],[32.4621326026784,-28.3010112444206],[32.203388706193,-28.7524048804901],[31.5210014177789,-29.2573869768462]],[[28.9782625668572,-28.9555966122617],[28.5417000668555,-28.6475017229376],[28.0743384132078,-28.8514686011936],[27.5325110206275,-29.2427108700754],[26.9992619158076,-29.87595387138],[27.7493970069565,-30.6451058896122],[28.1072046241454,-30.5457321103149],[28.2910693702399,-30.2262167294543],[28.8483996925077,-30.0700505510682],[29.018415154748,-29.7437655575774],[29.3251664568326,-29.2573869768462],[28.9782625668572,-28.9555966122617]]]}},{"type":"Feature","properties":{"admin":"Zambia","name":"Zambia","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[32.7593754412213,-9.23059905358906],[33.2313879737753,-9.6767216935648],[33.4856876970836,-10.5255587703911],[33.3153104998173,-10.7965499813297],[33.1142891782019,-11.6071981746923],[33.3064221534631,-12.4357780900602],[32.9917643572379,-12.7838705379783],[32.6881653175231,-13.7128577612893],[33.2140246925252,-13.9718600399362],[30.1794812354818,-14.7960991349915],[30.2742558123051,-15.5077869605152],[29.5168343442031,-15.6446778296564],[28.9474634132113,-16.0430514461944],[28.8258687680285,-16.3897486304406],[28.4679061215427,-16.4684001603888],[27.5982434425028,-17.290830580314],[27.0444271176307,-17.9380262183374],[26.7067733090356,-17.9612289364365],[26.3819352556489,-17.8460421688579],[25.264225701608,-17.7365398088314],[25.0844433936646,-17.6618156877374],[25.0769503109823,-17.5788233374766],[24.6823490740015,-17.3534107398195],[24.0338615251708,-17.2958431942463],[23.2150484555061,-17.523116143466],[22.5624784685243,-16.8984514299218],[21.8878426449539,-16.0803101538769],[21.9338863461259,-12.8984371883694],[24.0161365088947,-12.9110462378486],[23.9309220720454,-12.5658476701389],[24.0799052263428,-12.1912968888874],[23.9041536801182,-11.7222815894063],[24.0178935075926,-11.2372982723471],[23.9122152035557,-10.9268262671375],[24.257155389104,-10.9519926896637],[24.3145162289479,-11.2628264298993],[24.7831697934029,-11.238693536019],[25.4181181169732,-11.33093596766],[25.7523096046047,-11.7849651017764],[26.5530875993996,-11.9244397925321],[27.1644197934125,-11.6087484676611],[27.3887988624238,-12.1327474911007],[28.15510867688,-12.2724805640179],[28.523561639121,-12.6986044246967],[28.9342859229768,-13.2489584286051],[29.6996138852195,-13.2572266577718],[29.6160014177712,-12.1788945451373],[29.3415478858691,-12.3607439103724],[28.6424174333923,-11.9715686987823],[28.3722530453704,-11.7936467424014],[28.4960697771418,-10.789883721564],[28.6736816749289,-9.60592498132493],[28.4498710466728,-9.16491830814608],[28.7348665707625,-8.52655934004458],[29.0029122250605,-8.40703175215347],[30.3460860531908,-8.23825652428822],[30.7400154965518,-8.34000741947091],[31.15775133695,-8.59457874731736],[31.5563480974665,-8.76204884199864],[32.191864861792,-8.93035898197328],[32.7593754412213,-9.23059905358906]]]}},{"type":"Feature","properties":{"admin":"Zimbabwe","name":"Zimbabwe","continent":"Africa"},"geometry":{"type":"Polygon","coordinates":[[[31.1914091326213,-22.2515096981724],[30.6598653500671,-22.1515674781199],[30.3228833350918,-22.2716118303339],[29.839036899543,-22.1022164852812],[29.432188348109,-22.0913127580676],[28.7946562029242,-21.6394540341074],[28.0213700701086,-21.4859750302006],[27.7272278175033,-20.8518018531147],[27.7247473487532,-20.4990585262904],[27.2965047543505,-20.391519870691],[26.1647908871585,-19.2930856258949],[25.8503914730947,-18.7144129370905],[25.6491634457502,-18.536025892819],[25.264225701608,-17.7365398088314],[26.3819352556489,-17.8460421688579],[26.7067733090356,-17.9612289364365],[27.0444271176307,-17.9380262183374],[27.5982434425028,-17.290830580314],[28.4679061215427,-16.4684001603888],[28.8258687680285,-16.3897486304406],[28.9474634132113,-16.0430514461944],[29.5168343442031,-15.6446778296564],[30.2742558123051,-15.5077869605152],[30.3389547055345,-15.8808391252302],[31.1730639991577,-15.8609436987979],[31.6364982439512,-16.0719902482779],[31.8520406430406,-16.3194170060914],[32.3282389666102,-16.3920740698938],[32.8476387875758,-16.7133981258846],[32.8498608741644,-17.9790573055772],[32.6548856951271,-18.6720899390435],[32.6119942563249,-19.4193828264163],[32.7727079607526,-19.7155921363133],[32.6597432797626,-20.3042900529823],[32.5086930681734,-20.3952922502483],[32.244988234188,-21.1164885393137],[31.1914091326213,-22.2515096981724]]]}}]`),wz={features:Tz};hw({ThreeGlobe:fz});function Sz({globeConfig:r,data:e}){const t=Yr.useRef(null);return Yr.useEffect(()=>{if(t.current){const n=t.current.globeMaterial();n.color=new D0(r.globeColor),n.emissive=new D0(r.emissive),n.emissiveIntensity=r.emissiveIntensity||.1,n.shininess=r.shininess||.9,t.current.hexPolygonsData(wz.features).hexPolygonResolution(3).hexPolygonMargin(.7).hexPolygonColor(()=>r.polygonColor||""),t.current.arcsData(e).arcColor(i=>i.color).arcAltitude(i=>i.arcAlt).arcDashLength(r.arcLength??.9).arcDashGap(15).arcDashAnimateTime(()=>r.arcTime??1e3)}},[r,e]),tr.jsx("threeGlobe",{ref:t})}function Ez({globeConfig:r,data:e}){const{gl:t}=T1();return Yr.useEffect(()=>{t.setPixelRatio(window.devicePixelRatio)},[t]),tr.jsxs(tr.Fragment,{children:[tr.jsx("ambientLight",{color:r.ambientLight,intensity:.6}),tr.jsx("directionalLight",{color:r.directionalLeftLight,position:new Ce(-400,100,400)}),tr.jsx("directionalLight",{color:r.directionalTopLight,position:new Ce(-200,500,200)}),tr.jsx("pointLight",{color:r.pointLight,position:new Ce(-200,500,200),intensity:.8}),tr.jsx(Sz,{globeConfig:r,data:e}),tr.jsx(bz,{enablePan:!1,enableZoom:!1,minDistance:300,maxDistance:300,autoRotateSpeed:1,autoRotate:!0,minPolarAngle:Math.PI/3.5,maxPolarAngle:Math.PI-Math.PI/3})]})}function Pz(r){return tr.jsx(cw,{children:tr.jsx(Yr.Suspense,{fallback:null,children:tr.jsx(Ez,{...r})})})}export{Ez as World,Pz as default};
